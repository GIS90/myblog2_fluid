<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Oracle删除全局Session表</title>
    <link href="/articles/65101/"/>
    <url>/articles/65101/</url>
    
    <content type="html"><![CDATA[<h4 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h4><p>基于原来的存储过程上进行修改算法之后，发现在运行存储过程的时候报错了，一查看错误日志，发现是改了Session表结构，于是一删除操作报了以下的截图错误：ORA-14452:试图创建，变更或删除正在使用的临时表中的索引。<br><img src="/articles/65101/error.PNG"></p><span id="more"></span><hr /><h4 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h4><blockquote><p>第一步：清空数据</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs SQL"><span class="hljs-keyword">truncate</span> <span class="hljs-keyword">table</span> session_tmp_dkghjcxx;<br><span class="hljs-keyword">commit</span>;<br></code></pre></td></tr></table></figure><blockquote><p>第二步：查询Session表的object_id</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs SQL"><span class="hljs-keyword">select</span> object_id <span class="hljs-keyword">from</span> dba_objects <span class="hljs-keyword">where</span> object_name <span class="hljs-operator">=</span> <span class="hljs-built_in">upper</span>(<span class="hljs-string">&#x27;session_tmp_dkghjcxx&#x27;</span>);<br></code></pre></td></tr></table></figure><blockquote><p>第三步：获取sid</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs SQL"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> v$lock <span class="hljs-keyword">where</span> id1<span class="hljs-operator">=</span><span class="hljs-number">14054154</span>;  <br></code></pre></td></tr></table></figure><blockquote><p>第四步：通过sid获取sid，serial#</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs SQL"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> v$session <span class="hljs-keyword">where</span> sid<span class="hljs-operator">=</span><span class="hljs-number">1394</span>;<br></code></pre></td></tr></table></figure><blockquote><p>第五步：杀死锁进程</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs SQL"><span class="hljs-keyword">alter</span> <span class="hljs-keyword">system</span> kill session <span class="hljs-string">&#x27;1394,12102&#x27;</span>;<br><span class="hljs-keyword">commit</span>;<br></code></pre></td></tr></table></figure><blockquote><p>第六步：删除Session表</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs SQL"><span class="hljs-keyword">drop</span> <span class="hljs-keyword">table</span> session_tmp_dkghjcxx;<br></code></pre></td></tr></table></figure><h4 id="注意要点"><a href="#注意要点" class="headerlink" title="注意要点"></a>注意要点</h4><p>在第三步获取多个sid的时候，把sid写入第四步的时候，每次写入一个，杀死进程也写入一个。</p>]]></content>
    
    
    <categories>
      
      <category>数据库</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Oracle</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Windows的winget命令教程</title>
    <link href="/articles/63286/"/>
    <url>/articles/63286/</url>
    
    <content type="html"><![CDATA[<h3 id="1、什么是-Winget？"><a href="#1、什么是-Winget？" class="headerlink" title="1、什么是 Winget？"></a>1、什么是 Winget？</h3><p>Winget 是 Windows 包管理器（Windows Package Manager）的命令行工具，由微软开发。它允许用户通过命令行轻松查找、安装、升级、配置和卸载 Windows 上的应用程序。</p><span id="more"></span><h3 id="2、系统要求"><a href="#2、系统要求" class="headerlink" title="2、系统要求"></a>2、系统要求</h3><p>Windows 10及以上版本</p><h3 id="3、安装-Winget"><a href="#3、安装-Winget" class="headerlink" title="3、安装 Winget"></a>3、安装 Winget</h3><h4 id="3-1、通过-Microsoft-Store-安装（推荐）"><a href="#3-1、通过-Microsoft-Store-安装（推荐）" class="headerlink" title="3.1、通过 Microsoft Store 安装（推荐）"></a>3.1、通过 Microsoft Store 安装（推荐）</h4><ol><li>打开 Microsoft Store</li><li>搜索 “App Installer”</li><li>点击”获取”进行安装</li></ol><h4 id="3-2、手动安装"><a href="#3-2、手动安装" class="headerlink" title="3.2、手动安装"></a>3.2、手动安装</h4><p>从 GitHub 发布页面下载最新版本的 <code>.msixbundle</code> 文件并安装：<br><a href="https://github.com/microsoft/winget-cli/releases">https://github.com/microsoft/winget-cli/releases</a></p><h3 id="4、基础命令"><a href="#4、基础命令" class="headerlink" title="4、基础命令"></a>4、基础命令</h3><h4 id="4-1、搜索软件包"><a href="#4-1、搜索软件包" class="headerlink" title="4.1、搜索软件包"></a>4.1、搜索软件包</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 基本搜索</span><br>winget search &lt;软件名称&gt;<br><br><span class="hljs-comment"># 示例：搜索 Chrome 浏览器</span><br>winget search chrome<br><br><span class="hljs-comment"># 使用通配符搜索</span><br>winget search *python*<br><br><span class="hljs-comment"># 按发布者搜索</span><br>winget search --publisher Google<br></code></pre></td></tr></table></figure><h4 id="4-2、安装软件"><a href="#4-2、安装软件" class="headerlink" title="4.2、安装软件"></a>4.2、安装软件</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 基本安装</span><br>winget install &lt;软件包ID或名称&gt;<br><br><span class="hljs-comment"># 示例：安装 Google Chrome</span><br>winget install Google.Chrome<br><br><span class="hljs-comment"># 安装特定版本</span><br>winget install Google.Chrome --version 91.0.4472.124<br><br><span class="hljs-comment"># 安装到特定位置</span><br>winget install Google.Chrome --location <span class="hljs-string">&quot;D:\Applications&quot;</span><br><br><span class="hljs-comment"># 静默安装（无交互）</span><br>winget install Google.Chrome --silent<br><br><span class="hljs-comment"># 接受所有提示（自动同意许可协议等）</span><br>winget install Google.Chrome --accept-package-agreements --accept-source-agreements<br></code></pre></td></tr></table></figure><h3 id="5、升级软件"><a href="#5、升级软件" class="headerlink" title="5、升级软件"></a>5、升级软件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 查看可升级的软件</span><br>winget upgrade<br><br><span class="hljs-comment"># 升级所有软件</span><br>winget upgrade --all<br><br><span class="hljs-comment"># 升级特定软件</span><br>winget upgrade Google.Chrome<br><br><span class="hljs-comment"># 升级时跳过特定软件</span><br>winget upgrade --all --exclude Google.Chrome<br></code></pre></td></tr></table></figure><h3 id="6、卸载软件"><a href="#6、卸载软件" class="headerlink" title="6、卸载软件"></a>6、卸载软件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 卸载软件</span><br>winget uninstall &lt;软件包ID或名称&gt;<br><br><span class="hljs-comment"># 示例：卸载 Google Chrome</span><br>winget uninstall Google.Chrome<br><br><span class="hljs-comment"># 使用精确ID卸载</span><br>winget uninstall --<span class="hljs-built_in">id</span> Google.Chrome<br></code></pre></td></tr></table></figure><h3 id="7、显示软件信息"><a href="#7、显示软件信息" class="headerlink" title="7、显示软件信息"></a>7、显示软件信息</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 查看软件详情</span><br>winget show &lt;软件包ID或名称&gt;<br><br><span class="hljs-comment"># 示例：查看 Firefox 详情</span><br>winget show Mozilla.Firefox<br></code></pre></td></tr></table></figure><h3 id="8、高级用法"><a href="#8、高级用法" class="headerlink" title="8、高级用法"></a>8、高级用法</h3><h4 id="8-1、导出和导入配置"><a href="#8-1、导出和导入配置" class="headerlink" title="8.1、导出和导入配置"></a>8.1、导出和导入配置</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 导出已安装软件列表</span><br>winget <span class="hljs-built_in">export</span> -o packages.json<br><br><span class="hljs-comment"># 从文件安装软件</span><br>winget import -i packages.json<br></code></pre></td></tr></table></figure><h4 id="8-2、列出已安装软件"><a href="#8-2、列出已安装软件" class="headerlink" title="8.2、列出已安装软件"></a>8.2、列出已安装软件</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 列出所有已安装软件</span><br>winget list<br><br><span class="hljs-comment"># 按名称过滤</span><br>winget list --query <span class="hljs-string">&quot;Python&quot;</span><br><br><span class="hljs-comment"># 按来源过滤</span><br>winget list --<span class="hljs-built_in">source</span> winget<br></code></pre></td></tr></table></figure><h4 id="8-3、源管理"><a href="#8-3、源管理" class="headerlink" title="8.3、源管理"></a>8.3、源管理</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 列出所有源</span><br>winget <span class="hljs-built_in">source</span> list<br><br><span class="hljs-comment"># 添加新源</span><br>winget <span class="hljs-built_in">source</span> add &lt;源名称&gt; &lt;源URL&gt;<br><br><span class="hljs-comment"># 重置为默认源</span><br>winget <span class="hljs-built_in">source</span> reset<br></code></pre></td></tr></table></figure><h4 id="8-4、验证软件哈希值"><a href="#8-4、验证软件哈希值" class="headerlink" title="8.4、验证软件哈希值"></a>8.4、验证软件哈希值</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">winget validate &lt;安装包路径&gt;<br></code></pre></td></tr></table></figure><h3 id="9、实用技巧和提示"><a href="#9、实用技巧和提示" class="headerlink" title="9、实用技巧和提示"></a>9、实用技巧和提示</h3><h4 id="9-1、使用交互模式"><a href="#9-1、使用交互模式" class="headerlink" title="9.1、使用交互模式"></a>9.1、使用交互模式</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 交互式安装</span><br>winget install --interactive<br></code></pre></td></tr></table></figure><h4 id="9-2、忽略依赖项"><a href="#9-2、忽略依赖项" class="headerlink" title="9.2、忽略依赖项"></a>9.2、忽略依赖项</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">winget install &lt;软件包&gt; --ignore-dependencies<br></code></pre></td></tr></table></figure><h4 id="9-3、指定架构"><a href="#9-3、指定架构" class="headerlink" title="9.3、指定架构"></a>9.3、指定架构</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">winget install &lt;软件包&gt; --architecture x64<br><span class="hljs-comment"># 或</span><br>winget install &lt;软件包&gt; --architecture x86<br></code></pre></td></tr></table></figure><h4 id="9-4、批量安装开发工具"><a href="#9-4、批量安装开发工具" class="headerlink" title="9.4、批量安装开发工具"></a>9.4、批量安装开发工具</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 创建安装脚本</span><br>winget install Microsoft.VisualStudioCode<br>winget install Git.Git<br>winget install Python.Python.3.9<br>winget install Docker.DockerDesktop<br></code></pre></td></tr></table></figure><h4 id="9-5、查看帮助信息"><a href="#9-5、查看帮助信息" class="headerlink" title="9.5、查看帮助信息"></a>9.5、查看帮助信息</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 查看全局帮助</span><br>winget --<span class="hljs-built_in">help</span><br><br><span class="hljs-comment"># 查看具体命令帮助</span><br>winget install --<span class="hljs-built_in">help</span><br></code></pre></td></tr></table></figure><h4 id="9-6、保存安装日志"><a href="#9-6、保存安装日志" class="headerlink" title="9.6、保存安装日志"></a>9.6、保存安装日志</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">winget install &lt;软件包&gt; --<span class="hljs-built_in">log</span> &lt;日志文件路径&gt;<br></code></pre></td></tr></table></figure><h3 id="10、常见问题解决"><a href="#10、常见问题解决" class="headerlink" title="10、常见问题解决"></a>10、常见问题解决</h3><h4 id="10-1、权限不足"><a href="#10-1、权限不足" class="headerlink" title="10.1、权限不足"></a>10.1、权限不足</h4><p>使用管理员权限打开 PowerShell 或命令提示符</p><h4 id="10-2、源更新失败"><a href="#10-2、源更新失败" class="headerlink" title="10.2、源更新失败"></a>10.2、源更新失败</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">winget <span class="hljs-built_in">source</span> update<br></code></pre></td></tr></table></figure><h4 id="10-3、软件包冲突"><a href="#10-3、软件包冲突" class="headerlink" title="10.3、软件包冲突"></a>10.3、软件包冲突</h4><p>使用精确的包ID而不是名称</p><h4 id="10-4、版本不兼容"><a href="#10-4、版本不兼容" class="headerlink" title="10.4、版本不兼容"></a>10.4、版本不兼容</h4><p>使用 –version 参数指定兼容版本</p><h3 id="11、资源推荐"><a href="#11、资源推荐" class="headerlink" title="11、资源推荐"></a>11、资源推荐</h3><ul><li>官方文档：<a href="https://learn.microsoft.com/zh-cn/windows/package-manager/">https://learn.microsoft.com/zh-cn/windows/package-manager/</a></li><li>软件包仓库：<a href="https://github.com/microsoft/winget-pkgs">https://github.com/microsoft/winget-pkgs</a></li><li>社区讨论：<a href="https://github.com/microsoft/winget-cli/discussions">https://github.com/microsoft/winget-cli/discussions</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>Windows</category>
      
    </categories>
    
    
    <tags>
      
      <tag>winget</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>🔧SVN 命令教程</title>
    <link href="/articles/12345/"/>
    <url>/articles/12345/</url>
    
    <content type="html"><![CDATA[<p><code>SVN</code> (Subversion) 是一个流行的集中式版本控制系统，广泛应用于软件开发、文档管理等领域。除了SVN就是git了，之前的文章介绍过git命令了，本教程将介绍SVN的基本概念和常用命令，帮助您快速掌握SVN的使用方法。</p><span id="more"></span><hr /><h2 id="1、安装-SVN"><a href="#1、安装-SVN" class="headerlink" title="1、安装 SVN"></a>1、安装 SVN</h2><h3 id="1-1、Windows"><a href="#1-1、Windows" class="headerlink" title="1.1、Windows"></a>1.1、Windows</h3><p>前往<strong>SVN</strong>官网或 <strong>TortoiseSVN</strong>官网下载安装程序并安装，下载地址：</p><ul><li>SVN：<a href="https://sliksvn.com/download/">https://sliksvn.com/download/</a></li><li>TortoiseSVN：<a href="https://tortoisesvn.net/downloads.html">https://tortoisesvn.net/downloads.html</a></li></ul><h3 id="1-2、macOS"><a href="#1-2、macOS" class="headerlink" title="1.2、macOS"></a>1.2、macOS</h3><p>使用 Homebrew 安装：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">brew install svn<br></code></pre></td></tr></table></figure><h3 id="1-3、Linux-Ubuntu-Debian"><a href="#1-3、Linux-Ubuntu-Debian" class="headerlink" title="1.3、Linux (Ubuntu&#x2F;Debian)"></a>1.3、Linux (Ubuntu&#x2F;Debian)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt-get install subversion<br></code></pre></td></tr></table></figure><p>安装完成后，可以使用以下命令检查SVN版本：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">svn --version<br></code></pre></td></tr></table></figure><h2 id="2、SVN-基本概念"><a href="#2、SVN-基本概念" class="headerlink" title="2、SVN 基本概念"></a>2、SVN 基本概念</h2><p>在开始使用SVN命令之前，先了解几个基本概念：</p><ul><li><strong>工作副本（Working Copy）</strong>：用户本地编辑的代码目录</li><li><strong>仓库（Repository）</strong>：存储所有版本历史的中央服务器</li><li><strong>提交（Commit）</strong>：将本地修改保存到仓库</li><li><strong>更新（Update）</strong>：从仓库获取最新版本</li><li><strong>冲突（Conflict）</strong>：多人同时修改同一文件导致的冲突</li><li><strong>分支（Branch）</strong>：独立的开发线</li><li><strong>合并（Merge）</strong>：将一个分支的更改应用到另一个分支</li></ul><h2 id="3、基本命令操作"><a href="#3、基本命令操作" class="headerlink" title="3、基本命令操作"></a>3、基本命令操作</h2><h3 id="3-1、检出仓库（Checkout）"><a href="#3-1、检出仓库（Checkout）" class="headerlink" title="3.1、检出仓库（Checkout）"></a>3.1、检出仓库（Checkout）</h3><p>从服务器检出一个工作副本到本地：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">svn checkout [URL] [本地目录]<br></code></pre></td></tr></table></figure><p>示例：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">svn checkout https://svn.example.com/repos/myproject ./myproject<br></code></pre></td></tr></table></figure><h3 id="3-2、更新工作副本（Update）"><a href="#3-2、更新工作副本（Update）" class="headerlink" title="3.2、更新工作副本（Update）"></a>3.2、更新工作副本（Update）</h3><p>更新本地工作副本到最新版本：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">svn update<br></code></pre></td></tr></table></figure><p>更新到指定版本：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">svn update -r [版本号]<br></code></pre></td></tr></table></figure><h3 id="3-3、查看状态（Status）"><a href="#3-3、查看状态（Status）" class="headerlink" title="3.3、查看状态（Status）"></a>3.3、查看状态（Status）</h3><p>查看工作副本中文件的状态：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">svn status<br></code></pre></td></tr></table></figure><p>输出中的状态码含义：</p><ul><li><code>A</code>：已添加</li><li><code>C</code>：存在冲突</li><li><code>D</code>：已删除</li><li><code>M</code>：已修改</li><li><code>?</code>：不在版本控制中</li></ul><h3 id="3-4、添加文件（Add）"><a href="#3-4、添加文件（Add）" class="headerlink" title="3.4、添加文件（Add）"></a>3.4、添加文件（Add）</h3><p>将新文件添加到版本控制：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">svn add [文件/目录]<br></code></pre></td></tr></table></figure><p>添加所有未跟踪文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">svn add --force .<br></code></pre></td></tr></table></figure><h3 id="3-5、提交更改（Commit）"><a href="#3-5、提交更改（Commit）" class="headerlink" title="3.5、提交更改（Commit）"></a>3.5、提交更改（Commit）</h3><p>将本地修改提交到服务器：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">svn commit -m <span class="hljs-string">&quot;提交信息&quot;</span><br></code></pre></td></tr></table></figure><h3 id="3-6、查看日志（Log）"><a href="#3-6、查看日志（Log）" class="headerlink" title="3.6、查看日志（Log）"></a>3.6、查看日志（Log）</h3><p>查看提交历史：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">svn <span class="hljs-built_in">log</span><br></code></pre></td></tr></table></figure><p>查看特定文件的历史：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">svn <span class="hljs-built_in">log</span> [文件路径]<br></code></pre></td></tr></table></figure><h3 id="3-7、比较差异（Diff）"><a href="#3-7、比较差异（Diff）" class="headerlink" title="3.7、比较差异（Diff）"></a>3.7、比较差异（Diff）</h3><p>比较工作副本与版本库的差异：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">svn diff<br></code></pre></td></tr></table></figure><p>比较两个版本之间的差异：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">svn diff -r [版本1]:[版本2]<br></code></pre></td></tr></table></figure><h3 id="3-8、撤销修改（Revert）"><a href="#3-8、撤销修改（Revert）" class="headerlink" title="3.8、撤销修改（Revert）"></a>3.8、撤销修改（Revert）</h3><p>撤销工作副本中的修改：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">svn revert [文件/目录]<br></code></pre></td></tr></table></figure><p>撤销所有修改：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">svn revert --recursive .<br></code></pre></td></tr></table></figure><h2 id="4、文件管理命令"><a href="#4、文件管理命令" class="headerlink" title="4、文件管理命令"></a>4、文件管理命令</h2><h3 id="4-1、复制文件（Copy）"><a href="#4-1、复制文件（Copy）" class="headerlink" title="4.1、复制文件（Copy）"></a>4.1、复制文件（Copy）</h3><p>在版本控制下复制文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">svn copy [源文件] [目标文件]<br></code></pre></td></tr></table></figure><h3 id="4-2、移动-重命名文件（Move）"><a href="#4-2、移动-重命名文件（Move）" class="headerlink" title="4.2、移动&#x2F;重命名文件（Move）"></a>4.2、移动&#x2F;重命名文件（Move）</h3><p>移动或重命名文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">svn move [源文件] [目标文件]<br></code></pre></td></tr></table></figure><h3 id="4-3、删除文件（Delete）"><a href="#4-3、删除文件（Delete）" class="headerlink" title="4.3、删除文件（Delete）"></a>4.3、删除文件（Delete）</h3><p>从版本控制中删除文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">svn delete [文件/目录]<br></code></pre></td></tr></table></figure><h3 id="4-4、查看文件内容（Cat）"><a href="#4-4、查看文件内容（Cat）" class="headerlink" title="4.4、查看文件内容（Cat）"></a>4.4、查看文件内容（Cat）</h3><p>查看指定版本的文件内容：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">svn <span class="hljs-built_in">cat</span> -r [版本号] [文件路径]<br></code></pre></td></tr></table></figure><h3 id="4-5、查看文件历史（Blame）"><a href="#4-5、查看文件历史（Blame）" class="headerlink" title="4.5、查看文件历史（Blame）"></a>4.5、查看文件历史（Blame）</h3><p>查看文件每行的修改记录：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">svn blame [文件路径]<br></code></pre></td></tr></table></figure><h2 id="5、分支与合并"><a href="#5、分支与合并" class="headerlink" title="5、分支与合并"></a>5、分支与合并</h2><h3 id="5-1、创建分支（Branch）"><a href="#5-1、创建分支（Branch）" class="headerlink" title="5.1、创建分支（Branch）"></a>5.1、创建分支（Branch）</h3><p>创建一个新分支：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">svn copy [URL/trunk] [URL/branches/新分支名] -m <span class="hljs-string">&quot;创建分支说明&quot;</span><br></code></pre></td></tr></table></figure><h3 id="5-2、切换分支（Switch）"><a href="#5-2、切换分支（Switch）" class="headerlink" title="5.2、切换分支（Switch）"></a>5.2、切换分支（Switch）</h3><p>切换到其他分支：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">svn switch [URL/branches/分支名]<br></code></pre></td></tr></table></figure><h3 id="5-3、合并分支（Merge）"><a href="#5-3、合并分支（Merge）" class="headerlink" title="5.3、合并分支（Merge）"></a>5.3、合并分支（Merge）</h3><p>将分支合并到主干：</p><ol><li>首先切换到主干目录：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">svn switch [URL/trunk]<br></code></pre></td></tr></table></figure><ol start="2"><li>然后执行合并操作：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">svn merge [URL/branches/分支名]<br></code></pre></td></tr></table></figure><ol start="3"><li>解决冲突后提交：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">svn commit -m <span class="hljs-string">&quot;合并分支到主干&quot;</span><br></code></pre></td></tr></table></figure><h3 id="5-4、标记版本（Tag）"><a href="#5-4、标记版本（Tag）" class="headerlink" title="5.4、标记版本（Tag）"></a>5.4、标记版本（Tag）</h3><p>为特定版本创建标签：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">svn copy [URL/trunk] [URL/tags/标签名] -m <span class="hljs-string">&quot;创建标签说明&quot;</span><br></code></pre></td></tr></table></figure><h2 id="6、冲突解决"><a href="#6、冲突解决" class="headerlink" title="6、冲突解决"></a>6、冲突解决</h2><p>当多人同时修改同一文件时，可能会发生冲突。以下是解决冲突的步骤：</p><ol><li>首先查看冲突文件：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">svn status<br></code></pre></td></tr></table></figure><ol start="2"><li>冲突的文件会显示为 <code>C</code> 状态，打开文件查看冲突标记：</li></ol><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">&lt;&lt;&lt;&lt;&lt;&lt;&lt; .mine<br><span class="hljs-section">你的修改内容</span><br><span class="hljs-section">=======</span><br>其他人的修改内容<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; .rXXX<br></code></pre></td></tr></table></figure><ol start="3"><li><p>编辑文件，手动解决冲突</p></li><li><p>标记冲突已解决：</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">svn resolved [冲突文件]<br></code></pre></td></tr></table></figure><ol start="5"><li>最后提交解决冲突后的文件：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">svn commit -m <span class="hljs-string">&quot;解决冲突&quot;</span><br></code></pre></td></tr></table></figure><h2 id="7、SVN-配置"><a href="#7、SVN-配置" class="headerlink" title="7、SVN 配置"></a>7、SVN 配置</h2><h3 id="7-1、设置全局用户信息"><a href="#7-1、设置全局用户信息" class="headerlink" title="7.1、设置全局用户信息"></a>7.1、设置全局用户信息</h3><p>配置SVN全局用户名和邮箱：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">svn config --global user.name <span class="hljs-string">&quot;你的名字&quot;</span><br>svn config --global user.email <span class="hljs-string">&quot;你的邮箱&quot;</span><br></code></pre></td></tr></table></figure><h3 id="7-2、忽略文件"><a href="#7-2、忽略文件" class="headerlink" title="7.2、忽略文件"></a>7.2、忽略文件</h3><p>创建或编辑 <code>.svnignore</code> 文件，添加不需要版本控制的文件或目录：</p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs gams"><span class="hljs-comment">*.log</span><br><span class="hljs-comment">*.tmp</span><br>node_modules/<br>build/<br></code></pre></td></tr></table></figure><p>然后将 <code>.svnignore</code> 文件添加到版本控制：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">svn propset svn:ignore -F .svnignore .<br>svn commit -m <span class="hljs-string">&quot;添加忽略规则&quot;</span><br></code></pre></td></tr></table></figure><h2 id="8、高级命令"><a href="#8、高级命令" class="headerlink" title="8、高级命令"></a>8、高级命令</h2><h3 id="8-1、查看版本库信息（Info）"><a href="#8-1、查看版本库信息（Info）" class="headerlink" title="8.1、查看版本库信息（Info）"></a>8.1、查看版本库信息（Info）</h3><p>查看工作副本或URL的信息：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">svn info<br></code></pre></td></tr></table></figure><h3 id="8-2、清理工作副本（Cleanup）"><a href="#8-2、清理工作副本（Cleanup）" class="headerlink" title="8.2、清理工作副本（Cleanup）"></a>8.2、清理工作副本（Cleanup）</h3><p>当SVN操作中断时，使用此命令清理工作副本：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">svn cleanup<br></code></pre></td></tr></table></figure><h3 id="8-3、导出文件（Export）"><a href="#8-3、导出文件（Export）" class="headerlink" title="8.3、导出文件（Export）"></a>8.3、导出文件（Export）</h3><p>导出一个不包含 <code>.svn</code> 目录的干净副本：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">svn <span class="hljs-built_in">export</span> [URL] [本地目录]<br></code></pre></td></tr></table></figure><h3 id="8-4、创建补丁（Diff）"><a href="#8-4、创建补丁（Diff）" class="headerlink" title="8.4、创建补丁（Diff）"></a>8.4、创建补丁（Diff）</h3><p>生成差异补丁文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">svn diff &gt; changes.patch<br></code></pre></td></tr></table></figure><h3 id="8-5、应用补丁（Patch）"><a href="#8-5、应用补丁（Patch）" class="headerlink" title="8.5、应用补丁（Patch）"></a>8.5、应用补丁（Patch）</h3><p>使用 svn-apply 或系统 patch 命令应用补丁：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">patch -p0 &lt; changes.patch<br></code></pre></td></tr></table></figure><h2 id="9、SVN-钩子脚本"><a href="#9、SVN-钩子脚本" class="headerlink" title="9、SVN 钩子脚本"></a>9、SVN 钩子脚本</h2><p>SVN钩子脚本是在特定事件发生时自动执行的脚本。常见的钩子脚本包括：</p><ul><li><strong>pre-commit</strong>：提交前执行，可用于代码检查</li><li><strong>post-commit</strong>：提交后执行，可用于自动部署</li><li><strong>pre-revprop-change</strong>：修改版本属性前执行</li></ul><p>钩子脚本通常放置在版本库的 <code>hooks</code> 目录下。</p><h2 id="10、📚参考资料"><a href="#10、📚参考资料" class="headerlink" title="10、📚参考资料"></a>10、📚参考资料</h2><ul><li>SVN 官方文档：<a href="https://subversion.apache.org/docs/">https://subversion.apache.org/docs/</a></li><li>SVN 中文教程：<a href="https://www.runoob.com/svn/svn-tutorial.html">https://www.runoob.com/svn/svn-tutorial.html</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
    </categories>
    
    
    <tags>
      
      <tag>命令工具</tag>
      
      <tag>SVN</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux学习之增强篇-split</title>
    <link href="/articles/23818/"/>
    <url>/articles/23818/</url>
    
    <content type="html"><![CDATA[<h3 id="1、简介"><a href="#1、简介" class="headerlink" title="1、简介"></a>1、简介</h3><div class="note note-info">            <p>split命令，就是字面意思，把文件进行切割。</p>          </div><span class="label label-default">Linux</span>  <span class="label label-success">高级教程系列</span> <span class="label label-info">日志切割</span> <span id="more"></span><hr /><p>单位使用的SVN进行项目版本管理，最近一次备份提交的时候出现以下的错误：</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs nix">Adding  (bin)  <span class="hljs-number">08</span>源码\JAVA\<span class="hljs-number">2025</span>\aespas.<span class="hljs-number">20250729</span>.tar.gz<br>Transmitting file data .<span class="hljs-params">svn:</span> <span class="hljs-params">E730054:</span> Commit failed (details follow):<br><span class="hljs-params">svn:</span> <span class="hljs-params">E730054:</span> Error running <span class="hljs-params">context:</span> 远程主机强迫关闭了一个现有的连接。<br></code></pre></td></tr></table></figure><p>应该是文件太大了，足足有300+MB，于是第一个想法就是把大文件切割了再进行上传。分割的方式有很多种，可以用在线网站，也可以使用脚本、命令，本人推荐Linux的自带split命令，非常强大。</p><h3 id="2、推荐指数"><a href="#2、推荐指数" class="headerlink" title="2、推荐指数"></a>2、推荐指数</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">🌟🌟🌟<br></code></pre></td></tr></table></figure><h3 id="3、常用参数"><a href="#3、常用参数" class="headerlink" title="3、常用参数"></a>3、常用参数</h3><table><thead><tr><th align="center">选项</th><th align="center">含义</th><th align="center">示例</th></tr></thead><tbody><tr><td align="center">-b, –bytes&#x3D;SIZE</td><td align="center">按大小分割</td><td align="center">-b 100M</td></tr><tr><td align="center">-l, –lines&#x3D;NUMBER</td><td align="center">按行数分割</td><td align="center">-l 1000</td></tr><tr><td align="center">-d, –numeric-suffixes</td><td align="center">使用数字后缀</td><td align="center">-d</td></tr><tr><td align="center">-a, –suffix-length&#x3D;N</td><td align="center">后缀长度</td><td align="center">-a 3</td></tr><tr><td align="center">–verbose</td><td align="center">显示进度信息</td><td align="center">–verbose</td></tr><tr><td align="center">–help</td><td align="center">显示帮助信息</td><td align="center">–help</td></tr></tbody></table><h3 id="4、分割使用方法"><a href="#4、分割使用方法" class="headerlink" title="4、分割使用方法"></a>4、分割使用方法</h3><h4 id="4-1、按大小分割文件"><a href="#4-1、按大小分割文件" class="headerlink" title="4.1、按大小分割文件"></a>4.1、按大小分割文件</h4><p>重点参数：-b<br>file.part.为生成文件的前缀</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver"><span class="hljs-comment"># 将 file.tar.gz 分割成每个 100MB 的文件</span><br><span class="hljs-built_in">split</span> -b <span class="hljs-number">100</span>M <span class="hljs-built_in">file</span>.tar.gz <span class="hljs-built_in">file</span>.part.<br><br><span class="hljs-comment"># 使用数字后缀</span><br><span class="hljs-built_in">split</span> -d -b <span class="hljs-number">100</span>M <span class="hljs-built_in">file</span>.tar.gz <span class="hljs-built_in">file</span>.part.<br></code></pre></td></tr></table></figure><table><thead><tr><th align="center">单位</th><th align="center">含义</th><th align="center">示例</th></tr></thead><tbody><tr><td align="center">K</td><td align="center">Kilobyte (1000 bytes)</td><td align="center">-b 100K</td></tr><tr><td align="center">M</td><td align="center">Megabyte (1000 KB)</td><td align="center">-b 500M</td></tr><tr><td align="center">G</td><td align="center">Gigabyte (1000 MB)</td><td align="center">-b 1G</td></tr><tr><td align="center">KB</td><td align="center">Kibibyte (1024 bytes)</td><td align="center">-b 100KB</td></tr><tr><td align="center">MB</td><td align="center">Mebibyte (1024 KB)</td><td align="center">-b 500MB</td></tr></tbody></table><h4 id="4-2、按行数分割"><a href="#4-2、按行数分割" class="headerlink" title="4.2、按行数分割"></a>4.2、按行数分割</h4><p>重点参数：-l</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver"><span class="hljs-comment"># 将 log.txt 每 1000 行分割成一个文件</span><br><span class="hljs-built_in">split</span> -l <span class="hljs-number">1000</span> <span class="hljs-built_in">log</span>.txt log_segment.<br><br><span class="hljs-comment"># 分割并使用数字后缀</span><br><span class="hljs-built_in">split</span> -d -l <span class="hljs-number">5000</span> access.<span class="hljs-built_in">log</span> access.part_<br></code></pre></td></tr></table></figure><h4 id="4-3、输出文件名前缀"><a href="#4-3、输出文件名前缀" class="headerlink" title="4.3、输出文件名前缀"></a>4.3、输出文件名前缀</h4><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-comment"># 默认文件名称，使用字母后缀（默认：aa, ab, ac...）</span><br>split -<span class="hljs-keyword">b </span><span class="hljs-number">100</span>M document.pdf doc.part.<br><br><span class="hljs-comment"># 使用数字后缀 (00, 01, 02...)</span><br>split -d -<span class="hljs-keyword">b </span><span class="hljs-number">100</span>M largefile.dat <span class="hljs-keyword">backup.</span><br><span class="hljs-keyword"></span><br><span class="hljs-comment"># 指定后缀长度（3位数字）</span><br>split -a <span class="hljs-number">3</span> -d -<span class="hljs-keyword">b </span><span class="hljs-number">1</span>G data.<span class="hljs-keyword">bin </span>data.part.<br></code></pre></td></tr></table></figure><h3 id="5、合并使用方法"><a href="#5、合并使用方法" class="headerlink" title="5、合并使用方法"></a>5、合并使用方法</h3><h4 id="5-1、合并分割的文件"><a href="#5-1、合并分割的文件" class="headerlink" title="5.1、合并分割的文件"></a>5.1、合并分割的文件</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 方法 1：使用 cat 命令（推荐）</span><br><span class="hljs-built_in">cat</span> file.part.* &gt; restored_file.tar.gz<br><br><span class="hljs-comment"># 方法 2：明确指定文件顺序</span><br><span class="hljs-built_in">cat</span> file.part.00 file.part.01 file.part.02 &gt; restored_file.tar.gz<br></code></pre></td></tr></table></figure><h4 id="5-1、验证文件完整性"><a href="#5-1、验证文件完整性" class="headerlink" title="5.1、验证文件完整性"></a>5.1、验证文件完整性</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 比较原始文件和合并文件的 MD5</span><br><span class="hljs-built_in">md5sum</span> original_file.tar.gz restored_file.tar.gz<br><br><span class="hljs-comment"># 比较 SHA256</span><br><span class="hljs-built_in">sha256sum</span> original_file.tar.gz restored_file.tar.gz<br></code></pre></td></tr></table></figure><h3 id="6、结束语"><a href="#6、结束语" class="headerlink" title="6、结束语"></a>6、结束语</h3><div style="font-style: italic;font-size: 25px;font-weight:800;color: red;"> 求知的心将会指引前进的路～～～～～～</div>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Linux增强篇</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>天维荣誉</title>
    <link href="/articles/5176/"/>
    <url>/articles/5176/</url>
    
    <content type="html"><![CDATA[<p>从2020年11月入职天维（广州天维信息技术有限公司，官网：<a href="http://www.tiancom.com/">http://www.tiancom.com</a> ），记录一下获得的荣誉，在这里成了很多。</p><div style="font-style: italic;font-size: 35px;font-weight:800;color: red;"> 感谢天维～～～～～～🥰</div><span id="more"></span><hr /><h1 id="2025"><a href="#2025" class="headerlink" title="2025"></a>2025</h1><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/img_index/tianwei/2025%E4%BA%8C%E5%AD%A3%E5%BA%A6%E7%90%85%E7%90%8A%E6%A6%9C.png"></div></div></div><h1 id="2024"><a href="#2024" class="headerlink" title="2024"></a>2024</h1><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/img_index/tianwei/2024%E7%9F%A5%E8%AF%86%E5%88%9B%E6%96%B0%E5%85%88%E9%94%8B.jpg"></div><div class="group-image-wrap"><img src="/img_index/tianwei/2024%E5%88%9B%E6%96%B0%E9%BC%93%E5%8A%B1%E5%A5%96.jpg"></div><div class="group-image-wrap"><img src="/img_index/tianwei/2024%E9%87%91%E7%82%B9%E5%AD%90%E9%BC%93%E5%8A%B1%E5%A5%96.jpg"></div></div></div><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/img_index/tianwei/2024%E4%B8%80%E5%AD%A3%E5%BA%A6%E7%90%85%E7%90%8A%E6%A6%9C.jpg"></div><div class="group-image-wrap"><img src="/img_index/tianwei/2024%E5%9B%9B%E5%AD%A3%E5%BA%A6%E7%90%85%E7%90%8A%E6%A6%9C.png"></div><div class="group-image-wrap"><img src="/img_index/tianwei/2024%E5%B9%B4%E5%BA%A6%E7%90%85%E7%90%8A%E6%A6%9C.png"></div></div></div><h1 id="2023"><a href="#2023" class="headerlink" title="2023"></a>2023</h1><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/img_index/tianwei/2023AI%E6%BD%9C%E5%8A%9B%E4%B9%8B%E6%98%9F%E5%A5%96.jpg"></div><div class="group-image-wrap"><img src="/img_index/tianwei/2023%E5%88%9B%E6%96%B0%E9%87%91%E7%82%B9%E5%AD%90%E5%A5%96.jpg"></div><div class="group-image-wrap"><img src="/img_index/tianwei/2023%E8%B4%A8%E9%87%8F%E5%B7%A5%E5%8C%A0%E5%A5%96.jpg"></div></div></div><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/img_index/tianwei/2023%E4%B8%80%E5%AD%A3%E5%BA%A6%E7%90%85%E7%90%8A%E6%A6%9C.jpg"></div><div class="group-image-wrap"><img src="/img_index/tianwei/2023%E4%B8%89%E5%AD%A3%E5%BA%A6%E7%90%85%E7%90%8A%E6%A6%9C.jpg"></div></div></div><h1 id="2022"><a href="#2022" class="headerlink" title="2022"></a>2022</h1><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/img_index/tianwei/2022%E7%AC%AC%E4%B8%89%E5%AD%A3%E5%BA%A6%E6%8A%80%E6%9C%AF%E6%A0%87%E5%85%B5.jpg"></div><div class="group-image-wrap"><img src="/img_index/tianwei/2022%E8%B4%A8%E9%87%8F%E6%94%B9%E5%96%84%E5%A5%96.jpg"></div></div></div><h1 id="2021"><a href="#2021" class="headerlink" title="2021"></a>2021</h1><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/img_index/tianwei/2021%E6%8A%80%E6%9C%AF%E9%A3%9E%E8%B7%83%E5%A5%96.jpg"></div></div></div>]]></content>
    
    
    <categories>
      
      <category>生活记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>证书</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>🚀uv命令教程 —— Python 包管理新体验</title>
    <link href="/articles/54006/"/>
    <url>/articles/54006/</url>
    
    <content type="html"><![CDATA[<p><em><strong>uv</strong></em>是一个由 Rust 编写的高性能 Python 包管理工具，旨在替代 <code>pip</code>、<code>virtualenv</code> 和 <code>pip-tools</code>，速度提升 10-100 倍。它不仅速度快，还内置了虚拟环境管理和依赖解析功能，是现代 Python 开发的新选择。</p><span id="more"></span><hr /><h2 id="1、安装-uv"><a href="#1、安装-uv" class="headerlink" title="1、安装 uv"></a>1、安装 <code>uv</code></h2><h3 id="1-1、安装方式有很多，这里列举最常用的-2-种。"><a href="#1-1、安装方式有很多，这里列举最常用的-2-种。" class="headerlink" title="1.1、安装方式有很多，这里列举最常用的 2 种。"></a>1.1、安装方式有很多，这里列举最常用的 2 种。</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">pip install uv<br>或者<br>curl -LsSf https://astral.sh/uv/install.sh | sh<br></code></pre></td></tr></table></figure><blockquote><p>✅ 确保你已安装 Python 并配置好环境变量。 </p></blockquote><h3 id="1-2、配置国内镜像加速"><a href="#1-2、配置国内镜像加速" class="headerlink" title="1.2、配置国内镜像加速"></a>1.2、配置国内镜像加速</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 临时使用清华源</span><br><span class="hljs-built_in">export</span> UV_INDEX_URL=https://pypi.tuna.tsinghua.edu.cn/simple<br><br><span class="hljs-comment"># 永久配置（添加到 ~/.bashrc 或 ~/.zshrc）</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;export UV_INDEX_URL=&quot;https://pypi.tuna.tsinghua.edu.cn/simple&quot;&#x27;</span> &gt;&gt; ~/.zshrc<br></code></pre></td></tr></table></figure><hr><h2 id="2、核心命令一览"><a href="#2、核心命令一览" class="headerlink" title="2、核心命令一览"></a>2、核心命令一览</h2><h3 id="2-1、初始化项目"><a href="#2-1、初始化项目" class="headerlink" title="2.1、初始化项目"></a>2.1、初始化项目</h3><table><thead><tr><th align="left">功能</th><th align="left">命令示例</th></tr></thead><tbody><tr><td align="left">初始化项目（项目文件夹已存在）</td><td align="left"><code>cd XXXX &amp;&amp; uv init</code></td></tr><tr><td align="left">初始化并创建项目（项目文件夹不存在）</td><td align="left"><code>uv init my-uv-project</code></td></tr></tbody></table><p>初始化项目之后会生成 pyproject.toml、.gitignore、README.md 等文件，pyproject.toml 主要是项目的基本信息，比如 requires-python、dependencies 等等。</p><h3 id="2-2、创建虚拟环境"><a href="#2-2、创建虚拟环境" class="headerlink" title="2.2、创建虚拟环境"></a>2.2、创建虚拟环境</h3><table><thead><tr><th align="left">功能</th><th align="left">命令示例</th></tr></thead><tbody><tr><td align="left">创建虚拟环境</td><td align="left"><code>uv venv</code></td></tr><tr><td align="left">自定义路径创建</td><td align="left"><code>uv venv myenv</code></td></tr><tr><td align="left">创建环境并指定 Python 版本</td><td align="left"><code>uv venv -p 3.11 myenv</code></td></tr><tr><td align="left">删除环境</td><td align="left"><code>uv venv --remove .venv</code></td></tr><tr><td align="left">激活虚拟环境（Linux&#x2F;macOS）</td><td align="left"><code>source .venv/bin/activate</code></td></tr><tr><td align="left">激活虚拟环境（Windows）</td><td align="left"><code>.venv\Scripts\activate</code></td></tr></tbody></table><h3 id="2-3、python-版本管理"><a href="#2-3、python-版本管理" class="headerlink" title="2.3、python 版本管理"></a>2.3、python 版本管理</h3><table><thead><tr><th align="left">功能</th><th align="left">命令示例</th></tr></thead><tbody><tr><td align="left">列举 python 列表</td><td align="left"><code>uv python list</code></td></tr><tr><td align="left">安装指定版本</td><td align="left"><code>uv python install 3.12</code></td></tr><tr><td align="left">项目使用指定版本并更新.python-version</td><td align="left"><code>uv python pin 3.12</code></td></tr><tr><td align="left">卸载指定版本</td><td align="left"><code>uv python uninstall 3.12</code></td></tr></tbody></table><h3 id="2-4、包管理"><a href="#2-4、包管理" class="headerlink" title="2.4、包管理"></a>2.4、包管理</h3><table><thead><tr><th align="left">功能</th><th align="left">命令示例</th></tr></thead><tbody><tr><td align="left">安装单个包</td><td align="left"><code>uv pip install requests</code></td></tr><tr><td align="left">安装多个包</td><td align="left"><code>uv pip install numpy pandas flask</code></td></tr><tr><td align="left">安装所有依赖</td><td align="left"><code>uv pip install -r requirements.txt</code></td></tr><tr><td align="left">冻结当前环境依赖</td><td align="left"><code>uv pip freeze &gt; requirements.txt</code></td></tr><tr><td align="left">卸载包</td><td align="left"><code>uv pip uninstall requests</code></td></tr><tr><td align="left">查看已安装包</td><td align="left"><code>uv pip list</code></td></tr><tr><td align="left">升级包</td><td align="left"><code>uv pip install --upgrade requests</code></td></tr><tr><td align="left">安装依赖并更新 pyproject.toml</td><td align="left"><code>uv add 包名1 包名2 包名N </code></td></tr><tr><td align="left">移动依赖并更新 pyproject.toml</td><td align="left"><code>uv remove 包名</code></td></tr><tr><td align="left">同步依赖（非常好用）</td><td align="left"><code>uv sync</code></td></tr><tr><td align="left">生成&#x2F;更新锁定文件</td><td align="left"><code>uv lock</code></td></tr><tr><td align="left">列举项目包结构</td><td align="left"><code>uv tree</code></td></tr></tbody></table><h3 id="2-5、运行项目"><a href="#2-5、运行项目" class="headerlink" title="2.5、运行项目"></a>2.5、运行项目</h3><table><thead><tr><th align="left">功能</th><th align="left">命令示例</th></tr></thead><tbody><tr><td align="left">运行</td><td align="left"><code>uv run main.py</code></td></tr></tbody></table><p>项目如果没有进行虚拟环境创建，会自动依据 pyproject.toml 文件配置的 python 版本自动创建.venv 虚拟环境，使用创建的 python 运行项目。</p><h3 id="2-6、打包-发布"><a href="#2-6、打包-发布" class="headerlink" title="2.6、打包&amp;&amp;发布"></a>2.6、打包&amp;&amp;发布</h3><table><thead><tr><th align="left">功能</th><th align="left">命令示例</th></tr></thead><tbody><tr><td align="left">打包</td><td align="left"><code>uv build</code></td></tr><tr><td align="left">发布</td><td align="left"><code>uv publish</code></td></tr></tbody></table><p>以上就是 <em><strong>UV</strong></em> 常用的基本命令，如果项目详细了解更多的内容，请查看 <code>uv --help</code>。</p><hr><h2 id="3、快速开始项目流程示例"><a href="#3、快速开始项目流程示例" class="headerlink" title="3、快速开始项目流程示例"></a>3、快速开始项目流程示例</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 创建虚拟环境</span><br>uv venv<br><br><span class="hljs-comment"># 激活虚拟环境</span><br><span class="hljs-built_in">source</span> .venv/bin/activate  <span class="hljs-comment"># Linux/macOS</span><br>.venv\Scripts\activate     <span class="hljs-comment"># Windows</span><br><br><span class="hljs-comment"># 安装依赖</span><br>uv pip install flask<br><br><span class="hljs-comment"># 安装所有依赖项</span><br>uv pip install -r requirements.txt<br><br><span class="hljs-comment"># 冻结依赖</span><br>uv pip freeze &gt; requirements.txt<br><br><span class="hljs-comment"># 卸载不需要的包</span><br>uv pip uninstall flask<br></code></pre></td></tr></table></figure><hr><h2 id="4、自动清理和修复依赖（实验性）"><a href="#4、自动清理和修复依赖（实验性）" class="headerlink" title="4、自动清理和修复依赖（实验性）"></a>4、自动清理和修复依赖（实验性）</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">uv pip check<br></code></pre></td></tr></table></figure><p>未来版本将支持更强大的依赖管理功能，包括依赖锁定和同步。</p><hr><h2 id="5、配置与集成建议"><a href="#5、配置与集成建议" class="headerlink" title="5、配置与集成建议"></a>5、配置与集成建议</h2><p>你可以在项目根目录下创建 <code>pyproject.toml</code> 来配置 <code>uv</code> 的行为（目前部分功能还在开发中）。</p><hr><h2 id="6、uv-与其他工具对比"><a href="#6、uv-与其他工具对比" class="headerlink" title="6、uv 与其他工具对比"></a>6、uv 与其他工具对比</h2><table><thead><tr><th>特性</th><th align="center">uv</th><th align="center">pip</th><th align="center">virtualenv</th></tr></thead><tbody><tr><td>安装速度</td><td align="center">⚡ 极快（Rust）</td><td align="center">中等</td><td align="center">慢</td></tr><tr><td>虚拟环境支持</td><td align="center">✅ 内置</td><td align="center">❌</td><td align="center">✅</td></tr><tr><td>依赖解析</td><td align="center">✅ 内置高效</td><td align="center">基础支持</td><td align="center">❌</td></tr><tr><td>锁文件支持</td><td align="center">✅ soon</td><td align="center">需要 pip-tools</td><td align="center">❌</td></tr><tr><td>兼容性</td><td align="center">✅ pip 兼容</td><td align="center">原生支持</td><td align="center">原生支持</td></tr></tbody></table><p>总之一句话，<em><strong>uv 牛逼就对了</strong></em>。</p><hr><h2 id="7、📚参考资料"><a href="#7、📚参考资料" class="headerlink" title="7、📚参考资料"></a>7、📚参考资料</h2><ul><li>GitHub: <a href="https://github.com/astral-sh/uv">https://github.com/astral-sh/uv</a></li><li>官方文档: <a href="https://docs.astral.sh/uv/">https://docs.astral.sh/uv/</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
    </categories>
    
    
    <tags>
      
      <tag>命令工具</tag>
      
      <tag>Python</tag>
      
      <tag>uv</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>帆软FAC证书</title>
    <link href="/articles/23729/"/>
    <url>/articles/23729/</url>
    
    <content type="html"><![CDATA[<h3 id="1、官网"><a href="#1、官网" class="headerlink" title="1、官网"></a>1、官网</h3><p>记录一下软件认证的FAC证书，官网地址：<a href="https://cert.fanruan.com/">https://cert.fanruan.com</a></p><span id="more"></span><h3 id="2、类型"><a href="#2、类型" class="headerlink" title="2、类型"></a>2、类型</h3><p>有兴趣的也可以直接试试，认证体系包含2种：</p><table><thead><tr><th align="center">类型</th><th align="center">难易程度</th><th align="center">费用</th></tr></thead><tbody><tr><td align="center">初级入门</td><td align="center">简单</td><td align="center">无费用</td></tr><tr><td align="center">高级资深</td><td align="center">难</td><td align="center">有报名费</td></tr></tbody></table><h3 id="3、证书"><a href="#3、证书" class="headerlink" title="3、证书"></a>3、证书</h3><h4 id="FCA-FineReport"><a href="#FCA-FineReport" class="headerlink" title="FCA-FineReport"></a><strong>FCA-FineReport</strong></h4><p> <img src="/articles/23729/FCA-FineReport.jpg"></p><h4 id="FCA-FineBI"><a href="#FCA-FineBI" class="headerlink" title="FCA-FineBI"></a><strong>FCA-FineBI</strong></h4><p> <img src="/articles/23729/FCA-FineBI.jpg"></p><h4 id="FCA-FineDataLink"><a href="#FCA-FineDataLink" class="headerlink" title="FCA-FineDataLink"></a><strong>FCA-FineDataLink</strong></h4><p> <img src="/articles/23729/FCA-FineDataLink.jpg"></p><h4 id="FCA-简道云"><a href="#FCA-简道云" class="headerlink" title="FCA-简道云"></a><strong>FCA-简道云</strong></h4><p> <img src="/articles/23729/FCA-jiandaoyun.jpg"></p><h4 id="FCA-数知鸟"><a href="#FCA-数知鸟" class="headerlink" title="FCA-数知鸟"></a><strong>FCA-数知鸟</strong></h4><p> <img src="/articles/23729/FCA-shuzhiniao.jpg"></p>]]></content>
    
    
    <categories>
      
      <category>生活记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>证书</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>参加2025年度阿尔山年马拉松活动</title>
    <link href="/articles/29041/"/>
    <url>/articles/29041/</url>
    
    <content type="html"><![CDATA[<p>从2025年5月份开始减肥，通过晚上节食+跑步4KM，截止到今日，成功减肥10+斤以上，在此基础上也加上阿尔山一年一度的马拉松比赛，记录留念。</p><span id="more"></span><hr /><h3 id="活动"><a href="#活动" class="headerlink" title="活动"></a>活动</h3><ul><li>地点：内蒙古兴安盟阿尔山市</li><li>时间：2025年8月10日</li><li>活动：马拉松</li><li>类型：欢乐跑4.5KM</li><li>成绩：用时25min，每千米平均配速6min，最快一千米配速4min，超过自我</li></ul><h3 id="成果展示"><a href="#成果展示" class="headerlink" title="成果展示"></a>成果展示</h3><h4 id="证书"><a href="#证书" class="headerlink" title="证书"></a>证书</h4><p><img src="/articles/29041/zhengshu.jpg"></p><h4 id="减肥效果"><a href="#减肥效果" class="headerlink" title="减肥效果"></a>减肥效果</h4><p><img src="/articles/29041/jianfei.jpg"></p><h3 id="结束语"><a href="#结束语" class="headerlink" title="结束语"></a>结束语</h3><p>拥有一个健康的身体是一切的基础，坚持跑步，来年带着媳妇、儿子一起参加马拉松，<code>&lt;font color=&#39;red&#39; size=5.0&gt;</code>健康生活~~~&#96;</font>&#96;。</p>]]></content>
    
    
    <categories>
      
      <category>生活记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>马拉松</tag>
      
      <tag>减肥</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>又继续写博客了</title>
    <link href="/articles/64421/"/>
    <url>/articles/64421/</url>
    
    <content type="html"><![CDATA[<p>大概有1年半没有更新博客了，最近在工作上做了一个关于<em><strong>Hexo</strong></em>自建博客与AI结合的分享，决定继续写博客，坚持下去~</p><span id="more"></span><h2 id="版本信息"><a href="#版本信息" class="headerlink" title="版本信息"></a>版本信息</h2><p>最初用hexo还是0.X的版本，准备更新博客的Hexo配置与Theme，对比了一下github上的热度，发现了一款<a href="https://github.com/fluid-dev/hexo-theme-fluid">hexo-theme-fluid</a>的主题挺不错的，对博客进行改造，记录一下用到的软件版本。</p><table><thead><tr><th align="center">软件</th><th align="center">版本</th></tr></thead><tbody><tr><td align="center">node</td><td align="center">v23.11.1</td></tr><tr><td align="center">npm</td><td align="center">10.9.2</td></tr><tr><td align="center">hexo</td><td align="center">7.3.0</td></tr><tr><td align="center">hexo-cli</td><td align="center">4.3.2</td></tr></tbody></table><h2 id="其他参考"><a href="#其他参考" class="headerlink" title="其他参考"></a>其他参考</h2><ul><li>hexo-theme-fluid：<a href="https://github.com/fluid-dev/hexo-theme-fluid">https://github.com/fluid-dev/hexo-theme-fluid</a></li><li>hexo-theme-fluid主题手册官网：<a href="https://hexo.fluid-dev.com/">https://hexo.fluid-dev.com/</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>生活记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Travel-2025哈尔滨五一亲子游</title>
    <link href="/articles/15697/"/>
    <url>/articles/15697/</url>
    
    <content type="html"><![CDATA[<p>五一放假5天计划一下完美的假期，带上媳妇跟宝贝儿子<font color='red'><strong>哈尔滨</strong></font>亲子游，游玩4天。</p><p>小红书分享链接地址： <a href="http://xhslink.com/n/8U39rWu87RB">http://xhslink.com/n/8U39rWu87RB</a> </p><span id="more"></span><hr /><h4 id="第一天"><a href="#第一天" class="headerlink" title="第一天"></a>第一天</h4><table><thead><tr><th align="center">名称</th><th align="left">地点</th><th align="left">交通方式</th><th align="center">费用</th><th align="left">备注</th></tr></thead><tbody><tr><td align="center">到民宿</td><td align="left">哈尔滨道里区安丰街小区20号楼（民宿）</td><td align="left">火车站打车滴滴打车（20min）</td><td align="center">嘀嘀打车：12</td><td align="left"></td></tr><tr><td align="center">波塞冬海洋馆</td><td align="left">哈尔滨市呼兰区汇江路153号</td><td align="left">嘀嘀打车（40min）</td><td align="center">嘀嘀打车：40 门票：356</td><td align="left"></td></tr><tr><td align="center">莫斯科新派俄韵西餐厅</td><td align="left">哈尔滨中央大街道里区东风街99号</td><td align="left">园区大巴+嘀嘀打车</td><td align="center">墨西哥餐 交通费用：40</td><td align="left"></td></tr><tr><td align="center">中央大街</td><td align="left">哈尔滨中央大街</td><td align="left">步行</td><td align="center">当地小吃：100</td><td align="left"></td></tr><tr><td align="center">圣索菲亚教堂（夜景）</td><td align="left">哈尔滨市道里区透笼街88号</td><td align="left">步行</td><td align="center">门票：40</td><td align="left"></td></tr></tbody></table><h4 id="第二天"><a href="#第二天" class="headerlink" title="第二天"></a>第二天</h4><table><thead><tr><th align="center">名称</th><th align="left">地点</th><th align="left">交通方式</th><th align="center">费用</th><th align="left">备注</th></tr></thead><tbody><tr><td align="center">东北虎林园</td><td align="left">哈尔滨市松北区松北街88号</td><td align="left">第一程：地铁二号线世茂大道3号口、第二程：滴滴打车&#x2F;公交122或35路</td><td align="center">门票：375</td><td align="left">8点开馆，一定要早到</td></tr><tr><td align="center">太阳岛风景区</td><td align="left">哈尔滨市松北区太阳大道1号</td><td align="left">第一程：滴滴打车&#x2F;公交122或35路、第二程：地铁二号线太阳岛</td><td align="center"></td><td align="left"></td></tr><tr><td align="center">防洪纪念塔、松花江铁路大桥</td><td align="left">哈尔滨市道里区斯大林街</td><td align="left">松花江索道（看风景）</td><td align="center">索道：120</td><td align="left">附近有百货可以吃饭</td></tr><tr><td align="center">中华巴洛克风情街</td><td align="left">哈尔滨市道外区南头道街64号</td><td align="left">步行</td><td align="center"></td><td align="left"></td></tr></tbody></table><h4 id="第三天"><a href="#第三天" class="headerlink" title="第三天"></a>第三天</h4><table><thead><tr><th align="center">名称</th><th align="left">地点</th><th align="left">交通方式</th><th align="center">费用</th><th align="left">备注</th></tr></thead><tbody><tr><td align="center">北方森林动物园</td><td align="left">哈尔滨市阿城区哈牡高速(46公里处)</td><td align="left">第一程：住宿打车 → 哈尔滨火车站南广场、第二程：哈尔滨火车站南广场301专线 → 动物园</td><td align="center">第一程打车：12、第二程专线：60（往返）、门票：225</td><td align="left">1、专线上午7-10点（早到）、2、带些胡萝卜喂小动物</td></tr></tbody></table><h4 id="第四天"><a href="#第四天" class="headerlink" title="第四天"></a>第四天</h4><table><thead><tr><th align="center">名称</th><th align="left">地点</th><th align="left">交通方式</th><th align="center">费用</th><th align="left">备注</th></tr></thead><tbody><tr><td align="center">哈药集团制药六厂</td><td align="left">黑龙江省哈尔滨市道外区南直路326号</td><td align="left">2号线 → 3号线外环（中央大街→珠江路→海河东路</td><td align="center"></td><td align="left"></td></tr><tr><td align="center">哈西万达</td><td align="left">哈尔滨市南岗区中兴大道168号</td><td align="left">地铁3号线（海河东路→ 凯盛源广场）</td><td align="center"></td><td align="left">逛街、购物、吃饭</td></tr><tr><td align="center">哈尔滨音乐公园</td><td align="left">哈尔滨市道里区友谊西路</td><td align="left">地铁3号线（凯盛源广场→ 体育公园）</td><td align="center"></td><td align="left"></td></tr><tr><td align="center">哈尔滨博物馆</td><td align="left">黑龙江省哈尔滨市道里区柳树街13号</td><td align="left">95路（上江街→儿童医院站）</td><td align="center"></td><td align="left">需要预约门票</td></tr></tbody></table><h4 id="第五天"><a href="#第五天" class="headerlink" title="第五天"></a>第五天</h4><div style="font-style: italic;font-size: 35px;font-weight:800;color: red;"> 完美收官，最后一天在家休息🥰</div>]]></content>
    
    
    <categories>
      
      <category>生活记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>旅行记</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>🚢Pandoc 文件格式转换命令</title>
    <link href="/articles/18040/"/>
    <url>/articles/18040/</url>
    
    <content type="html"><![CDATA[<p><code>Pandoc</code> 是一个强大的文档转换工具，支持多种格式之间的相互转换，如 Markdown、HTML、LaTeX、Word（.docx）、PDF、EPUB 等。本教程将介绍如何使用 Pandoc 的命令行进行基本的文档转换操作。</p><span id="more"></span><hr /><h2 id="1、安装-Pandoc"><a href="#1、安装-Pandoc" class="headerlink" title="1、安装 Pandoc"></a>1、安装 Pandoc</h2><h3 id="1-1、Windows"><a href="#1-1、Windows" class="headerlink" title="1.1、Windows"></a>1.1、Windows</h3><p>前往 <a href="https://pandoc.org/installing.html"><strong>Pandoc 官网</strong> </a> 下载安装程序并安装。</p><h3 id="1-2、macOS"><a href="#1-2、macOS" class="headerlink" title="1.2、macOS"></a>1.2、macOS</h3><p>使用 Homebrew 安装：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">brew install pandoc<br></code></pre></td></tr></table></figure><h3 id="1-3、Linux-Ubuntu-Debian"><a href="#1-3、Linux-Ubuntu-Debian" class="headerlink" title="1.3、Linux (Ubuntu&#x2F;Debian)"></a>1.3、Linux (Ubuntu&#x2F;Debian)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt-get install pandoc<br></code></pre></td></tr></table></figure><h2 id="2、基本语法结构"><a href="#2、基本语法结构" class="headerlink" title="2、基本语法结构"></a>2、基本语法结构</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pandoc [选项] [输入文件] -o [输出文件]<br></code></pre></td></tr></table></figure><ul><li><strong>输入文件</strong>：可以是 Markdown、LaTeX、HTML 等格式。</li><li><strong>输出文件</strong>：可以指定输出格式（如 PDF、DOCX、HTML 等）。</li><li><strong>选项</strong>：控制转换行为（如模板、样式、元数据等）。</li><li><strong>-o</strong>: 指定输出文件名。</li></ul><h2 id="3、格式转换示例"><a href="#3、格式转换示例" class="headerlink" title="3、格式转换示例"></a>3、格式转换示例</h2><h3 id="3-1、Markdown-转-HTML"><a href="#3-1、Markdown-转-HTML" class="headerlink" title="3.1、Markdown 转 HTML"></a>3.1、Markdown 转 HTML</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pandoc input.md -o output.html<br></code></pre></td></tr></table></figure><h3 id="3-2、Markdown-转-Word-docx"><a href="#3-2、Markdown-转-Word-docx" class="headerlink" title="3.2、Markdown 转 Word (.docx)"></a>3.2、Markdown 转 Word (.docx)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pandoc input.md -o output.docx<br></code></pre></td></tr></table></figure><h3 id="3-3、Markdown-转-PDF（需安装-LaTeX）"><a href="#3-3、Markdown-转-PDF（需安装-LaTeX）" class="headerlink" title="3.3、Markdown 转 PDF（需安装 LaTeX）"></a>3.3、Markdown 转 PDF（需安装 LaTeX）</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pandoc input.md -o output.pdf<br></code></pre></td></tr></table></figure><blockquote><p>⚠️ 注意：生成 PDF 需要系统中安装了 LaTeX 引擎（如 TeX Live 或 MiKTeX）。 </p></blockquote><h3 id="3-4、HTML-转-Markdown"><a href="#3-4、HTML-转-Markdown" class="headerlink" title="3.4、HTML 转 Markdown"></a>3.4、HTML 转 Markdown</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pandoc input.html -o output.md<br></code></pre></td></tr></table></figure><h3 id="3-5、Word-docx-转-Markdown"><a href="#3-5、Word-docx-转-Markdown" class="headerlink" title="3.5、Word (.docx) 转 Markdown"></a>3.5、Word (.docx) 转 Markdown</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pandoc input.docx -o output.md<br></code></pre></td></tr></table></figure><h3 id="3-6、Markdown-→-EPUB（电子书）"><a href="#3-6、Markdown-→-EPUB（电子书）" class="headerlink" title="3.6、Markdown → EPUB（电子书）"></a>3.6、Markdown → EPUB（电子书）</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pandoc input.md -o output.epub<br></code></pre></td></tr></table></figure><h2 id="4、常用选项"><a href="#4、常用选项" class="headerlink" title="4、常用选项"></a>4、常用选项</h2><table><thead><tr><th align="center">选项</th><th align="left">说明</th></tr></thead><tbody><tr><td align="center"><code>-f</code> 或 <code>--from</code></td><td align="left">指定输入格式（例如：markdown, html, docx）</td></tr><tr><td align="center"><code>-t</code> 或 <code>--to</code></td><td align="left">指定输出格式</td></tr><tr><td align="center"><code>-o</code> 或 <code>--output</code></td><td align="left">指定输出文件路径</td></tr><tr><td align="center"><code>--standalone</code> 或 <code>-s</code></td><td align="left">生成完整的独立文档（如带完整 HTML 结构）</td></tr><tr><td align="center"><code>--template=FILE</code></td><td align="left">使用自定义模板</td></tr><tr><td align="center"><code>--toc</code> 或 <code>--table-of-contents</code></td><td align="left">自动生成目录</td></tr><tr><td align="center"><code>--number-sections</code></td><td align="left">自动编号章节</td></tr><tr><td align="center"><code>--highlight-style</code></td><td align="left">设置代码高亮样式</td></tr></tbody></table><p>具体命令使用详情：<code>pandoc --help</code>。</p><h2 id="5、其他示例"><a href="#5、其他示例" class="headerlink" title="5、其他示例"></a>5、其他示例</h2><h3 id="5-1、生成带目录的-HTML-文档"><a href="#5-1、生成带目录的-HTML-文档" class="headerlink" title="5.1、生成带目录的 HTML 文档"></a>5.1、生成带目录的 HTML 文档</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pandoc --standalone --toc input.md -o output.html<br></code></pre></td></tr></table></figure><h3 id="5-2、转换时应用-CSS-样式"><a href="#5-2、转换时应用-CSS-样式" class="headerlink" title="5.2、转换时应用 CSS 样式"></a>5.2、转换时应用 CSS 样式</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pandoc input.md --css=style.css -o output.html<br></code></pre></td></tr></table></figure><h3 id="5-3、打印转换结果到终端"><a href="#5-3、打印转换结果到终端" class="headerlink" title="5.3、打印转换结果到终端"></a>5.3、打印转换结果到终端</h3><p>如果不指定 <code>-o</code> 输出文件，Pandoc 会将结果输出到终端：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pandoc input.md<br></code></pre></td></tr></table></figure><h3 id="5-4、多文件合并转换"><a href="#5-4、多文件合并转换" class="headerlink" title="5.4、多文件合并转换"></a>5.4、多文件合并转换</h3><p>可以一次转换多个文件并合并为一个输出文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pandoc file1.md file2.md -o combined.docx<br></code></pre></td></tr></table></figure><h3 id="5-5、使用模板生成个性化文档"><a href="#5-5、使用模板生成个性化文档" class="headerlink" title="5.5、使用模板生成个性化文档"></a>5.5、使用模板生成个性化文档</h3><p>Pandoc 支持使用模板来控制输出格式。例如使用默认模板生成一份 Word 文档：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pandoc input.md -o output.docx --template = my-template.docx<br></code></pre></td></tr></table></figure><p>你可以通过以下命令查看默认模板内容：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pandoc -D default.docx &gt; my-template.docx<br></code></pre></td></tr></table></figure><h3 id="5-6、使用元数据设置标题、作者和日期"><a href="#5-6、使用元数据设置标题、作者和日期" class="headerlink" title="5.6、使用元数据设置标题、作者和日期"></a>5.6、使用元数据设置标题、作者和日期</h3><p>创建一个 YAML 元数据头部的 Markdown 文件（例如 <code>metadata.md</code>）：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">\---</span><br><span class="hljs-attr">title:</span> <span class="hljs-string">我的报告</span><br><span class="hljs-attr">author:</span> <span class="hljs-string">张三</span><br><span class="hljs-attr">date:</span> <span class="hljs-number">2025-04-05</span><br><span class="hljs-string">\---</span><br><br><span class="hljs-string">\#</span> <span class="hljs-string">正文开始</span><br></code></pre></td></tr></table></figure><p>然后转换为 PDF：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pandoc metadata.md -o report.pdf<br></code></pre></td></tr></table></figure><h3 id="5-7、插入-LaTeX-数学公式（适用于-PDF-输出）"><a href="#5-7、插入-LaTeX-数学公式（适用于-PDF-输出）" class="headerlink" title="5.7、插入 LaTeX 数学公式（适用于 PDF 输出）"></a>5.7、插入 LaTeX 数学公式（适用于 PDF 输出）</h3><p>在 Markdown 中插入数学公式：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs markdown">这是一个行内公式：$E = mc^2$<br><br>这是一个块级公式：<br>$$<br>\int<span class="hljs-emphasis">_&#123;a&#125;^&#123;b&#125; f(x) dx</span><br><span class="hljs-emphasis">$$</span><br></code></pre></td></tr></table></figure><p>转换为 PDF：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pandoc math.md -o math.pdf<br></code></pre></td></tr></table></figure><h2 id="6、进阶技巧"><a href="#6、进阶技巧" class="headerlink" title="6、进阶技巧"></a>6、进阶技巧</h2><h3 id="6-1、使用过滤器（Filter）"><a href="#6-1、使用过滤器（Filter）" class="headerlink" title="6.1、使用过滤器（Filter）"></a>6.1、使用过滤器（Filter）</h3><p>Pandoc 支持使用 Lua 或 JSON 过滤器对文档结构进行处理。<br>例如使用 <code>pandoc-citeproc</code> 来支持引用文献：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pandoc input.md --filter = pandoc-citeproc -o output.html<br></code></pre></td></tr></table></figure><p>需要提前安装 <code>pandoc-citeproc</code>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">cabal install pandoc-citeproc<br></code></pre></td></tr></table></figure><p>或者使用 pip（视环境而定）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pip install pandoc-citeproc<br></code></pre></td></tr></table></figure><h2 id="7、📚参考资料"><a href="#7、📚参考资料" class="headerlink" title="7、📚参考资料"></a>7、📚参考资料</h2><ul><li><a href="https://pandoc.org/MANUAL.html">Pandoc 官方手册</a></li><li><a href="https://github.com/jgm/pandoc">Pandoc GitHub 仓库</a></li><li><a href="https://groups.google.com/g/pandoc-discuss">Pandoc 用户论坛</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
    </categories>
    
    
    <tags>
      
      <tag>命令工具</tag>
      
      <tag>pandoc</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>🏎️wget命令使用教程</title>
    <link href="/articles/41401/"/>
    <url>/articles/41401/</url>
    
    <content type="html"><![CDATA[<p><code>wget</code> 【下载神器，功能是缩小版本的迅雷】是一个非常强大且常用的命令行工具，用于从网络上下载文件。它支持 HTTP、HTTPS 和 FTP 协议，并具备断点续传、后台下载等功能。</p><span id="more"></span><hr /><h2 id="1、安装-wget（如未预装）"><a href="#1、安装-wget（如未预装）" class="headerlink" title="1、安装 wget（如未预装）"></a>1、安装 wget（如未预装）</h2><p>大多数 Linux 发行版默认已安装 <code>wget</code>，如果没有，请根据你的系统进行安装：</p><ul><li><strong>Windows</strong></li></ul><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk">下载地址：https:<span class="hljs-regexp">//</span>sourceforge.net<span class="hljs-regexp">/projects/g</span>nuwin32<span class="hljs-regexp">/files/</span>wget/<br>选择对应的版本，进行.exe安装。<br></code></pre></td></tr></table></figure><ul><li><strong>Debian&#x2F;Ubuntu</strong> :</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt update &amp;&amp; <span class="hljs-built_in">sudo</span> apt install wget<br></code></pre></td></tr></table></figure><ul><li><strong>CentOS&#x2F;RHEL</strong> :</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> yum install wget<br></code></pre></td></tr></table></figure><ul><li><strong>macOS (使用 Homebrew)</strong> :</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">brew install wget<br></code></pre></td></tr></table></figure><h2 id="2、基本用法"><a href="#2、基本用法" class="headerlink" title="2、基本用法"></a>2、基本用法</h2><h3 id="2-1、下载单个文件"><a href="#2-1、下载单个文件" class="headerlink" title="2.1、下载单个文件"></a>2.1、下载单个文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget https://example.com/file.zip <br></code></pre></td></tr></table></figure><p>这会将文件下载到当前目录，并保留原始文件名。</p><h3 id="2-2、指定保存的文件名"><a href="#2-2、指定保存的文件名" class="headerlink" title="2.2、指定保存的文件名"></a>2.2、指定保存的文件名</h3><p>使用 <code>-O</code> 参数指定下载后保存的文件名：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget -O myfile.zip http://example.com/file.zip<br></code></pre></td></tr></table></figure><h3 id="2-3、断点续传（继续下载）"><a href="#2-3、断点续传（继续下载）" class="headerlink" title="2.3、断点续传（继续下载）"></a>2.3、断点续传（继续下载）</h3><p>如果下载中断，可以用 <code>-c</code> 参数继续下载：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget -c http://example.com/largefile.iso<br></code></pre></td></tr></table></figure><h3 id="2-4、后台下载"><a href="#2-4、后台下载" class="headerlink" title="2.4、后台下载"></a>2.4、后台下载</h3><p>使用 <code>-b</code> 参数在后台运行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget -b http://example.com/file.zip<br></code></pre></td></tr></table></figure><p>日志会写入 <code>wget-log</code> 文件中。</p><h3 id="2-5、设置下载重试次数"><a href="#2-5、设置下载重试次数" class="headerlink" title="2.5、设置下载重试次数"></a>2.5、设置下载重试次数</h3><p>使用 <code>-t</code> 指定最大尝试次数：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget -t 5 http://example.com/file.zip<br></code></pre></td></tr></table></figure><h3 id="2-6、限制下载速度"><a href="#2-6、限制下载速度" class="headerlink" title="2.6、限制下载速度"></a>2.6、限制下载速度</h3><p>防止占用全部带宽，可使用 <code>--limit-rate</code>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget --limit-rate=100k http://example.com/file.zip<br></code></pre></td></tr></table></figure><p>单位可以是 <code>k</code>（千字节）或 <code>m</code>（兆字节）。</p><h3 id="2-7、超时设置"><a href="#2-7、超时设置" class="headerlink" title="2.7、超时设置"></a>2.7、超时设置</h3><p>配置下载请求超时的时间，单位是：秒</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget --<span class="hljs-built_in">timeout</span>=30 https://example.com<br></code></pre></td></tr></table></figure><h3 id="2-8、镜像整个网站（用于备份）"><a href="#2-8、镜像整个网站（用于备份）" class="headerlink" title="2.8、镜像整个网站（用于备份）"></a>2.8、镜像整个网站（用于备份）</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget --mirror --convert-links --adjust-extension --page-requisites --no-parent http://example.com<br></code></pre></td></tr></table></figure><p>说明：</p><ul><li><code>--mirror</code>: 开启镜像模式（等同于 <code>-r -N</code>）</li><li><code>--convert-links</code>: 转换链接以便本地查看</li><li><code>--adjust-extension</code>: 添加合适的扩展名</li><li><code>--page-requisites</code>: 下载页面所需资源（如图片、CSS）</li><li><code>--no-parent</code>: 不访问父目录</li></ul><h3 id="2-9、递归下载某个目录下的所有文件"><a href="#2-9、递归下载某个目录下的所有文件" class="headerlink" title="2.9、递归下载某个目录下的所有文件"></a>2.9、递归下载某个目录下的所有文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget -r http://example.com/files/<br></code></pre></td></tr></table></figure><h3 id="2-10、使用用户名和密码下载"><a href="#2-10、使用用户名和密码下载" class="headerlink" title="2.10、使用用户名和密码下载"></a>2.10、使用用户名和密码下载</h3><p>适用于需要认证的 FTP 或网页：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget --user=username --password=password http://example.com/secret/file.zip<br></code></pre></td></tr></table></figure><blockquote><p>⚠️ 注意：出于安全考虑，建议使用 <code>--input-file</code> 或脚本方式避免明文密码出现在历史记录中。 </p></blockquote><h3 id="2-11、从文件列表批量下载"><a href="#2-11、从文件列表批量下载" class="headerlink" title="2.11、从文件列表批量下载"></a>2.11、从文件列表批量下载</h3><p>创建一个包含 URL 的文本文件（每行一个）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">http://example.com/file1.zip<br>http://example.com/file2.zip<br></code></pre></td></tr></table></figure><p>然后使用 <code>-i</code> 参数进行批量下载：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget -i urls.txt<br></code></pre></td></tr></table></figure><h2 id="3、其他实用选项"><a href="#3、其他实用选项" class="headerlink" title="3、其他实用选项"></a>3、其他实用选项</h2><table><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td><code>-q</code></td><td>静默模式（不输出信息）</td></tr><tr><td><code>-v</code></td><td>显示详细信息（默认）</td></tr><tr><td><code>-S</code></td><td>显示服务器响应头</td></tr><tr><td><code>--timeout=seconds</code></td><td>设置连接超时时间</td></tr><tr><td><code>-A</code></td><td>指定允许下载的文件类型（白名单）</td></tr><tr><td><code>-R</code></td><td>指定禁止下载的文件类型（黑名单）</td></tr></tbody></table><h2 id="4、总结"><a href="#4、总结" class="headerlink" title="4、总结"></a>4、总结</h2><table><thead><tr><th>功能</th><th>命令</th></tr></thead><tbody><tr><td>下载文件</td><td><code>wget [URL]</code></td></tr><tr><td>指定文件名</td><td><code>wget -O filename [URL]</code></td></tr><tr><td>断点续传</td><td><code>wget -c [URL]</code></td></tr><tr><td>后台下载</td><td><code>wget -b [URL]</code></td></tr><tr><td>批量下载</td><td><code>wget -i file.txt</code></td></tr><tr><td>镜像网站</td><td><code>wget --mirror ... [URL]</code></td></tr></tbody></table><h2 id="5、常见问题"><a href="#5、常见问题" class="headerlink" title="5、常见问题"></a>5、常见问题</h2><h3 id="5-1、Q-如何查看-wget-版本？"><a href="#5-1、Q-如何查看-wget-版本？" class="headerlink" title="5.1、Q: 如何查看 wget 版本？"></a>5.1、Q: 如何查看 <code>wget</code> 版本？</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget --version<br></code></pre></td></tr></table></figure><h3 id="5-2、Q-如何只下载网页中的图片？"><a href="#5-2、Q-如何只下载网页中的图片？" class="headerlink" title="5.2、Q: 如何只下载网页中的图片？"></a>5.2、Q: 如何只下载网页中的图片？</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget -r -A.jpg,.png http://example.com<br></code></pre></td></tr></table></figure><h3 id="5-3、Q-证书错误（–no-check-certificate）"><a href="#5-3、Q-证书错误（–no-check-certificate）" class="headerlink" title="5.3、Q: 证书错误（–no-check-certificate）"></a>5.3、Q: 证书错误（–no-check-certificate）</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget --no-check-certificate https://self-signed.example.com<br></code></pre></td></tr></table></figure><h3 id="5-4、Q-处理重定向（–max-redirect）"><a href="#5-4、Q-处理重定向（–max-redirect）" class="headerlink" title="5.4、Q: 处理重定向（–max-redirect）"></a>5.4、Q: 处理重定向（–max-redirect）</h3><p>限制最多 5 次重定向</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget --max-redirect=5 https://example.com<br></code></pre></td></tr></table></figure><h3 id="5-5、Q-解决-403-禁止访问（–user-agent）"><a href="#5-5、Q-解决-403-禁止访问（–user-agent）" class="headerlink" title="5.5、Q: 解决 403 禁止访问（–user-agent）"></a>5.5、Q: 解决 403 禁止访问（–user-agent）</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget --user-agent=<span class="hljs-string">&quot;Mozilla/5.0&quot;</span> https://example.com<br></code></pre></td></tr></table></figure><h2 id="6、📚参考资料"><a href="#6、📚参考资料" class="headerlink" title="6、📚参考资料"></a>6、📚参考资料</h2><ul><li>官方主页：<a href="https://www.gnu.org/software/wget/">https://www.gnu.org/software/wget/</a></li><li>官方文档：<a href="https://www.gnu.org/software/wget/manual/wget.html">https://www.gnu.org/software/wget/manual/wget.html</a></li><li>Windows 版本下载：<a href="https://sourceforge.net/projects/gnuwin32/files/wget/">https://sourceforge.net/projects/gnuwin32/files/wget/</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
    </categories>
    
    
    <tags>
      
      <tag>命令工具</tag>
      
      <tag>wget</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>😈 curl命令使用教程</title>
    <link href="/articles/1964/"/>
    <url>/articles/1964/</url>
    
    <content type="html"><![CDATA[<p><code>curl</code> 是一个强大的命令行工具，用于在终端中传输数据，支持多种协议（如 HTTP、HTTPS、FTP、SMTP 等）,适用于测试 Web 接口、下载文件、调试服务等场景。它是开发人员调试 API 和下载文件时常用的工具,熟练掌握其常用参数可以显著提升开发效率。</p><span id="more"></span><hr /><h2 id="1、安装-curl"><a href="#1、安装-curl" class="headerlink" title="1、安装 curl"></a>1、安装 curl</h2><p>大多数 Linux 发行版和 macOS 都预装了 <code>curl</code>。如果没有安装，可以通过以下方式安装：</p><h3 id="1-1、Windows"><a href="#1-1、Windows" class="headerlink" title="1.1、Windows"></a>1.1、Windows</h3><p>从 <strong>Windows 10</strong> 和 <strong>Windows 11</strong> 开始，系统已经内置了 <code>curl</code> 命令，官网下载：<a href="https://curl.se/download.html">https://curl.se/download.html</a><br>下载安装包，手动安装好后，将 curl.exe 添加到系统环境变量 PATH。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 查看版本</span><br>curl --version<br></code></pre></td></tr></table></figure><h3 id="1-2、Ubuntu-Debian"><a href="#1-2、Ubuntu-Debian" class="headerlink" title="1.2、Ubuntu &#x2F; Debian"></a>1.2、Ubuntu &#x2F; Debian</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt update &amp;&amp; <span class="hljs-built_in">sudo</span> apt install curl<br></code></pre></td></tr></table></figure><h3 id="1-3、CentOS-RHEL"><a href="#1-3、CentOS-RHEL" class="headerlink" title="1.3、CentOS &#x2F; RHEL"></a>1.3、CentOS &#x2F; RHEL</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> yum install curl<br></code></pre></td></tr></table></figure><h3 id="1-4、macOS-使用-Homebrew"><a href="#1-4、macOS-使用-Homebrew" class="headerlink" title="1.4、macOS (使用 Homebrew)"></a>1.4、macOS (使用 Homebrew)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">brew install curl<br></code></pre></td></tr></table></figure><h2 id="2、基本用法"><a href="#2、基本用法" class="headerlink" title="2、基本用法"></a>2、基本用法</h2><h3 id="2-1、获取网页内容（默认GET-请求）"><a href="#2-1、获取网页内容（默认GET-请求）" class="headerlink" title="2.1、获取网页内容（默认GET 请求）"></a>2.1、获取网页内容（默认GET 请求）</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 语法糖</span><br>curl [选项] [URL]<br>curl http://example.com<br></code></pre></td></tr></table></figure><p>这会输出请求网页的 HTML 源码到终端。</p><h3 id="2-2、将结果保存到文件"><a href="#2-2、将结果保存到文件" class="headerlink" title="2.2、将结果保存到文件"></a>2.2、将结果保存到文件</h3><ul><li>使用 <code>-o</code> 保存文件并指定名称：</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl -o index.html http://example.com<br></code></pre></td></tr></table></figure><ul><li>使用 <code>-O</code> 保存为远程文件名相同的名字：</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl -O https://example.com/file.txt <br></code></pre></td></tr></table></figure><h3 id="2-3、发送-POST-请求"><a href="#2-3、发送-POST-请求" class="headerlink" title="2.3、发送 POST 请求"></a>2.3、发送 POST 请求</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl -X POST -d <span class="hljs-string">&quot;param1=value1&amp;param2=value2&quot;</span> http://example.com/api<br></code></pre></td></tr></table></figure><ul><li><code>-X POST</code>：指定请求方法为 POST。</li><li><code>-d</code>：发送的数据体。</li></ul><h3 id="2-4、设置请求头"><a href="#2-4、设置请求头" class="headerlink" title="2.4、设置请求头"></a>2.4、设置请求头</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl -H <span class="hljs-string">&quot;Content-Type: application/json&quot;</span> \<br>​     -H <span class="hljs-string">&quot;Authorization: Bearer YOUR_TOKEN&quot;</span> \<br>​     http://api.example.com/data<br></code></pre></td></tr></table></figure><ul><li>-H：添加请求头。</li></ul><h3 id="2-5、使用-JSON-数据发送-POST-请求"><a href="#2-5、使用-JSON-数据发送-POST-请求" class="headerlink" title="2.5、使用 JSON 数据发送 POST 请求"></a>2.5、使用 JSON 数据发送 POST 请求</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl -X POST \<br>​     -H <span class="hljs-string">&quot;Content-Type: application/json&quot;</span> \<br>​    -d <span class="hljs-string">&#x27;&#123;&quot;username&quot;:&quot;user1&quot;, &quot;password&quot;:&quot;pass1&quot;&#125;&#x27;</span> \<br>​     http://api.example.com/login<br></code></pre></td></tr></table></figure><h3 id="2-6、使用-Basic-Auth-登录"><a href="#2-6、使用-Basic-Auth-登录" class="headerlink" title="2.6、使用 Basic Auth 登录"></a>2.6、使用 Basic Auth 登录</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl -u username:password http://example.com/secure<br></code></pre></td></tr></table></figure><h3 id="2-7、跟随重定向"><a href="#2-7、跟随重定向" class="headerlink" title="2.7、跟随重定向"></a>2.7、跟随重定向</h3><blockquote><p>默认情况下，<code>curl</code> 不会自动跟随重定向。添加 <code>-L</code> 参数来启用：</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl -L http://example.com<br></code></pre></td></tr></table></figure><h3 id="2-8、显示详细信息"><a href="#2-8、显示详细信息" class="headerlink" title="2.8、显示详细信息"></a>2.8、显示详细信息</h3><p>使用 <code>-v</code> 可以查看详细的请求和响应过程（包括 headers）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl -v http://example.com<br></code></pre></td></tr></table></figure><h2 id="3、参数列表"><a href="#3、参数列表" class="headerlink" title="3、参数列表"></a>3、参数列表</h2><table><thead><tr><th align="center">参数</th><th align="center">作用</th><th align="center">示例</th></tr></thead><tbody><tr><td align="center">-X</td><td align="center">指定 HTTP 方法</td><td align="center">curl -X DELETE <a href="https://api.example.com/item/123">https://api.example.com/item/123</a></td></tr><tr><td align="center">-H</td><td align="center">添加请求头</td><td align="center"></td></tr><tr><td align="center">-d</td><td align="center">发送请求体数据</td><td align="center">curl -d “param1&#x3D;value1” <a href="https://example.com/">https://example.com</a></td></tr><tr><td align="center">-o</td><td align="center">输出到文件</td><td align="center">curl -o download.zip <a href="https://example.com/file.zip">https://example.com/file.zip</a></td></tr><tr><td align="center">-L</td><td align="center">跟随重定向</td><td align="center">curl -L <a href="https://short.url/">https://short.url</a></td></tr><tr><td align="center">-k</td><td align="center">跳过 SSL 验证（不安全）</td><td align="center">curl -k <a href="https://self-signed.badssl.com/">https://self-signed.badssl.com</a></td></tr><tr><td align="center">-u</td><td align="center">基本认证</td><td align="center">curl -u username:password <a href="https://api.example.com/">https://api.example.com</a></td></tr></tbody></table><h2 id="4、示例合集"><a href="#4、示例合集" class="headerlink" title="4、示例合集"></a>4、示例合集</h2><table><thead><tr><th align="center">功能</th><th align="left">命令</th></tr></thead><tbody><tr><td align="center">获取网页内容</td><td align="left"><code>curl https://example.com</code></td></tr><tr><td align="center">下载文件</td><td align="left"><code>curl -O https://example.com/file.zip</code></td></tr><tr><td align="center">发送 JSON 到 API</td><td align="left"><code>curl -X POST -H &quot;Content-Type: application/json&quot; -d &#39;&#123;&quot;key&quot;:&quot;value&quot;&#125;&#39; http://api.example.com</code></td></tr><tr><td align="center">登录认证请求</td><td align="left"><code>curl -u username:password https://api.example.com</code></td></tr><tr><td align="center">获取 HTTP 状态码</td><td align="left"><code>curl -I http://example.com</code></td></tr><tr><td align="center">跟随重定向</td><td align="left"><code>curl -L http://example.com</code></td></tr></tbody></table><h2 id="5、📚-参考资料"><a href="#5、📚-参考资料" class="headerlink" title="5、📚 参考资料"></a>5、📚 参考资料</h2><ul><li><a href="https://curl.se/">curl 官方网站</a></li><li><a href="https://curl.se/docs/manpage.html">curl 命令手册</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
    </categories>
    
    
    <tags>
      
      <tag>命令工具</tag>
      
      <tag>curl</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Oracle数据库ORA32001问题的解决</title>
    <link href="/articles/47484/"/>
    <url>/articles/47484/</url>
    
    <content type="html"><![CDATA[<span class="label label-info">Oracle</span> <span class="label label-danger">ORA32001</span><span id="more"></span><hr /><h4 id="环境信息"><a href="#环境信息" class="headerlink" title="环境信息"></a>环境信息</h4><ul><li>Oracle 版本：11g Enterprise Edition Release 11.2.0.4.0 - 64bit</li><li>Linux 版本：Red Hat Enterprise Linux Server release 7.6</li></ul><h4 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h4><p>在进行Oracle数据库备份的时候，执行DEFERRED_SEGMENT_CREATION参数报错。<br>备份参数DEFERRED_SEGMENT_CREATION {true | flase}【必须设置参数】<br>–true 当该参数值等于true的时候，我们数据库中新创建的表，并且没有insert过任何数据的情况下，采用导出时不会将该表导出， 因为在dba_segments和user_segments是查不到该表的信息，只有当我们插入记录才会在两表中生成段的信息，并能导出该表。<br>–flase 当此参数为false时，不存在dba_segments和user_segments中的段表也可以通过导出的方式将该表导出。<br>设置false导出所有表：<br>查询：show parameter DEFERRED_SEGMENT_CREATION;<br>更改：alter system set DEFERRED_SEGMENT_CREATION&#x3D;false scope&#x3D;both;</p><p><img src="/articles/47484/3811698934174_.pic.jpg"></p><h4 id="问题原因"><a href="#问题原因" class="headerlink" title="问题原因"></a>问题原因</h4><p>数据库服务器Oracle数据库缺少spfile文件，需要新建配置文件。</p><h4 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h4><p>1、切换oracle<br>su - oracle<br>2、执行创建spfile文件的命令<br>create spfile from pfile;<br>3、重启数据库<br>停止数据库：shutdown immediate<br>启动数据库：startup<br>4、查看系统是否有spfile配置文件<br>show parameter spfile;</p><h4 id="结束语"><a href="#结束语" class="headerlink" title="结束语"></a>结束语</h4><p><font size=6.5 color='red'>坚持学习。。。。。。</font></p>]]></content>
    
    
    <categories>
      
      <category>数据库</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Oracle</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python模块之装饰器</title>
    <link href="/articles/29210/"/>
    <url>/articles/29210/</url>
    
    <content type="html"><![CDATA[<div class="post_cus_note">Python模块系列</div><span id="more"></span><hr /><h4 id="版本"><a href="#版本" class="headerlink" title="版本"></a>版本</h4><table><thead><tr><th align="center">名称</th><th align="center">版本</th></tr></thead><tbody><tr><td align="center">Python</td><td align="center">3</td></tr></tbody></table><h4 id="语法糖"><a href="#语法糖" class="headerlink" title="语法糖"></a>语法糖</h4><p>个人的理解，总结起来一句话就是把方法作为参数的方法。</p><h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">------------------------------------------------</span><br><span class="hljs-string"></span><br><span class="hljs-string">describe:</span><br><span class="hljs-string">    Decorators</span><br><span class="hljs-string"></span><br><span class="hljs-string">base_info:</span><br><span class="hljs-string">    __author__ = &quot;PyGo&quot;</span><br><span class="hljs-string">    __time__ = &quot;2023/10/22 20:58&quot;</span><br><span class="hljs-string">    __version__ = &quot;v.1.0.0&quot;</span><br><span class="hljs-string">    __mail__ = &quot;gaoming971366@163.com&quot;</span><br><span class="hljs-string">    __blog__ = &quot;www.pygo2.top&quot;</span><br><span class="hljs-string">    __project__ = &quot;open2lisapi&quot;</span><br><span class="hljs-string"></span><br><span class="hljs-string">usage:</span><br><span class="hljs-string"></span><br><span class="hljs-string">    @deprecated</span><br><span class="hljs-string">    @timer</span><br><span class="hljs-string">    @debug</span><br><span class="hljs-string">    def add(a, b, *args, **kwargs):</span><br><span class="hljs-string">        for i in range(10):</span><br><span class="hljs-string">            print(i)</span><br><span class="hljs-string"></span><br><span class="hljs-string">    add(100, 300, 1000, c=2000, d=2000)</span><br><span class="hljs-string"></span><br><span class="hljs-string">design:</span><br><span class="hljs-string"></span><br><span class="hljs-string">reference urls:</span><br><span class="hljs-string"></span><br><span class="hljs-string">python version:</span><br><span class="hljs-string">    python3</span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string">Enjoy the good life everyday！！!</span><br><span class="hljs-string">Life is short, I use python.</span><br><span class="hljs-string"></span><br><span class="hljs-string">------------------------------------------------</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><span class="hljs-comment"># ------------------------------------------------------------</span><br><span class="hljs-comment"># usage: /usr/bin/python decorators.py</span><br><span class="hljs-comment"># ------------------------------------------------------------</span><br><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime<br><span class="hljs-keyword">from</span> functools <span class="hljs-keyword">import</span> wraps<br><span class="hljs-keyword">import</span> warnings<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">decorator</span>(<span class="hljs-params">func</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    装饰器模板</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br><span class="hljs-meta">    @wraps(<span class="hljs-params">func</span>)</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__wrapper</span>(<span class="hljs-params">*args, **kwargs</span>):<br>        <span class="hljs-comment"># 额外功能</span><br>        result = func(*args, **kwargs)<br>        <span class="hljs-comment"># 额外功能</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;[Decorator] &gt;&gt;&gt;&gt;&gt; %s.&quot;</span> % func.__name__)<br>        <span class="hljs-keyword">return</span> result<br>    <span class="hljs-keyword">return</span> __wrapper<br><br><br><span class="hljs-comment"># * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">timer</span>(<span class="hljs-params">func</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    方法执行时间装饰器</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br><span class="hljs-meta">    @wraps(<span class="hljs-params">func</span>)</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__wrapper</span>(<span class="hljs-params">*args, **kwargs</span>):<br>        start_time = datetime.now()<br>        result = func(*args, **kwargs)<br>        end_time = datetime.now()<br>        cost = <span class="hljs-built_in">round</span>((end_time - start_time).microseconds * <span class="hljs-built_in">pow</span>(<span class="hljs-number">0.1</span>, <span class="hljs-number">6</span>), <span class="hljs-number">3</span>)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;[timer] &gt;&gt;&gt;&gt;&gt; %s cost %s seconds.&quot;</span> % (func.__name__, cost))<br>        <span class="hljs-keyword">return</span> result<br>    <span class="hljs-keyword">return</span> __wrapper<br><br><br><span class="hljs-comment"># * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">debug</span>(<span class="hljs-params">func</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    debug装饰器</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br><span class="hljs-meta">    @wraps(<span class="hljs-params">func</span>)</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__wrapper</span>(<span class="hljs-params">*args, **kwargs</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;* &#x27;</span> * <span class="hljs-number">55</span>)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;[Debugging] &gt;&gt;&gt;&gt;&gt; %s - args: %s, kwargs: %s&quot;</span> % (func.__name__, args, kwargs))<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;* &#x27;</span> * <span class="hljs-number">55</span>)<br>        <span class="hljs-keyword">return</span> func(*args, **kwargs)<br>    <span class="hljs-keyword">return</span> __wrapper<br><br><br><span class="hljs-comment"># * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">deprecated</span>(<span class="hljs-params">func</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    方法过时提示</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br><span class="hljs-meta">    @wraps(<span class="hljs-params">func</span>)</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__wrapper</span>(<span class="hljs-params">*args, **kwargs</span>):<br>        warnings.warn(<span class="hljs-string">&quot;[%s] is deprecated and will be removed in future versions.&quot;</span> % func.__name__, DeprecationWarning)<br>        <span class="hljs-keyword">return</span> func(*args, **kwargs)<br>    <span class="hljs-keyword">return</span> __wrapper<br></code></pre></td></tr></table></figure><p><font size=6.5 color='red'><em><strong>坚持学习。。。。。。</strong></em></font></p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Python模块系列</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>VUE开源前端低代码平台</title>
    <link href="/articles/19243/"/>
    <url>/articles/19243/</url>
    
    <content type="html"><![CDATA[<span class="label label-danger">VUE</span> <span class="label label-info">低代码平台</span><span id="more"></span><hr /><p>在微信公众号中学习看到，收藏一下，日后学习。</p><ul><li><a href="https://mp.weixin.qq.com/s/6w5Njegv1FgGAkMMujmeFg">https://mp.weixin.qq.com/s/6w5Njegv1FgGAkMMujmeFg</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VUE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>VUE组件库</title>
    <link href="/articles/63670/"/>
    <url>/articles/63670/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p>前端框架出现之后，组件化成为了前端开发的趋势，对于开发者来说，尤其是初学者，直接引用别人封装好的组件，在开发成本、样式上会节省一把时间，记录一下VUE学习过程中使用过的第三方组件。</p>          </div><span class="label label-danger">VUE</span> <span class="label label-info">第三方组件</span><span id="more"></span><hr /><p>组件库使用方式都一样，就看自己喜欢什么风格。</p><ul><li><a href="https://mp.weixin.qq.com/s/75dc4GRk53Ylg8SeN87GfA">https://mp.weixin.qq.com/s/75dc4GRk53Ylg8SeN87GfA</a></li><li><a href="https://mp.weixin.qq.com/s/HyPGgXdtDFJQPaXB0ifi2Q">https://mp.weixin.qq.com/s/HyPGgXdtDFJQPaXB0ifi2Q</a></li></ul><p><font size=5.5 color='red'><em><strong>持续更新中。。。。。。</strong></em></font></p>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VUE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Oracle数据库一次异常处理的解决经历</title>
    <link href="/articles/29163/"/>
    <url>/articles/29163/</url>
    
    <content type="html"><![CDATA[<div class="note note-info">            <p>记录一次Oracle数据库挂载mount数据库失败的经历，过程中除了多次问题，在错误中寻找解决方案。</p>          </div><span id="more"></span><hr /><h4 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h4><p>去了一个新项目，发现用sqlplus和sqlldr导出dat数据报错，接二连三的报了好几个，下面是解决遇到的问题与解决方案。</p><h4 id="问题一"><a href="#问题一" class="headerlink" title="问题一"></a>问题一</h4><blockquote><p>问题</p></blockquote><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">ORA</span>-<span class="hljs-number">01078</span>: failure in processingsystem parameters<br><span class="hljs-attribute">LRM</span>-<span class="hljs-number">00109</span>: could not openparameterfile &#x27;/u01/app/oracle/product/<span class="hljs-number">11</span>.<span class="hljs-number">2</span>.<span class="hljs-number">0</span>/db_1/dbs/initORA10G.ora&#x27;<br></code></pre></td></tr></table></figure><blockquote><p>解决方案</p></blockquote><p>找到$ORACLE_BASE&#x2F;admin&#x2F;数据库名称&#x2F;pfile目录下的init.ora形式的文件，复制到$ORACLE_HOME&#x2F;dbs目录下，并且改成wlhtpas.ora文件名称，其中wlhtpas.ora是oracle数据库实例名ORACLE_SID。</p><blockquote><p>原因</p></blockquote><p>文件初始化spfile缺失，具体原因不详，可能是安装问题，也可能是异常断电导致。</p><h4 id="问题二"><a href="#问题二" class="headerlink" title="问题二"></a>问题二</h4><p>解决了之后，重新startup启动数据的时候，又有新问题。</p><blockquote><p>问题</p></blockquote><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">ORA<span class="hljs-number">-01102</span>: cannot mount <span class="hljs-keyword">database</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">EXCLUSIVE mode</span><br></code></pre></td></tr></table></figure><p><img src="/articles/29163/1.png"></p><p>查看Oracle数据库日志，发现文件被占用。</p><blockquote><p>解决方案</p></blockquote><p>1.进入&#x2F;u01&#x2F;app&#x2F;oracle&#x2F;product&#x2F;11.2.0&#x2F;db_1&#x2F;dbs&#x2F;目录<br>2.删除lkPOD文件</p><p>在这里有个小技巧，用lsof去查看哪些进程使用了lkPOD文件，需要kill掉。</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">lsof</span> lkPOD<br><span class="hljs-attribute">kill</span> -<span class="hljs-number">9</span> 进程ID<br></code></pre></td></tr></table></figure><blockquote><p>原因</p></blockquote><p>文件被重复占用，导致启动失败。</p><h4 id="结束语"><a href="#结束语" class="headerlink" title="结束语"></a>结束语</h4><p><font size=6.5 color='red'>坚持学习。。。。。。</font></p>]]></content>
    
    
    <categories>
      
      <category>数据库</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Oracle</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>VUE3的watch和watchEffect区别</title>
    <link href="/articles/58210/"/>
    <url>/articles/58210/</url>
    
    <content type="html"><![CDATA[<span class="label label-warning">VUE</span> <span class="label label-info">监听器</span><span id="more"></span><hr /><p>最近官网学习了VUE3基础教程，跟VUE2比起来，改变还是挺大的，不过好多也很多，性能、开发效率，新增的组合式API很喜欢，也算下一步搞一个VUE3项目练练手，学完了不写，几天就生疏了。<br>不过学习的过程中发现VUE3新增了一个watchEffect，具体分别如下：</p><ul><li><strong>watch</strong>和<strong>watchEffect</strong>都能监听响应式数据的变化，不同的是它们监听数据变化的方式不同。</li><li><strong>watch</strong>会明确监听某一个响应数据，而<strong>watchEffect</strong>则是隐式的监听回调函数中响应数据。</li><li><strong>watch</strong>在响应数据初始化时是不会执行回调函数的，<strong>watchEffect</strong>在响应数据初始化时就会立即执行回调函数。</li></ul><p>watchEffect更好用。</p><p><font color="red" size="6">坚持学习。。。。。。</font></p>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VUE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>图片hover动画效果，另一种动画方式</title>
    <link href="/articles/37930/"/>
    <url>/articles/37930/</url>
    
    <content type="html"><![CDATA[<p>用transition实现动画样式，也是css中实现动画的常用方式之一，本人用的最多的就是transition、animation，VUE还有自带的Transition组件，但是Transition是切换的效果。</p><span class="label label-success">VUE</span> <span class="label label-default">动画</span><span id="more"></span><hr /><h4 id="实现代码"><a href="#实现代码" class="headerlink" title="实现代码"></a>实现代码</h4><p>鼠标划过图片的时候有动画效果，直接上代码实现结果：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="language-css"></span><br><span class="language-css"><span class="hljs-selector-class">.viewer-box</span> &#123;</span><br><span class="language-css">  <span class="hljs-attribute">text-align</span>: center;</span><br><span class="language-css">&#125;</span><br><span class="language-css"></span><br><span class="language-css"><span class="hljs-selector-class">.viewer-box-image</span> &#123;</span><br><span class="language-css">  <span class="hljs-attribute">width</span>: <span class="hljs-number">120px</span>;</span><br><span class="language-css">  <span class="hljs-attribute">height</span>: <span class="hljs-number">120px</span>;</span><br><span class="language-css">  <span class="hljs-attribute">margin</span>: <span class="hljs-number">5px</span> <span class="hljs-number">6px</span> <span class="hljs-number">5px</span> <span class="hljs-number">6px</span>;</span><br><span class="language-css">  <span class="hljs-attribute">transition</span>: transform .<span class="hljs-number">4s</span> ease-in-out;</span><br><span class="language-css">  <span class="hljs-attribute">transform-origin</span>: center center; <span class="hljs-comment">/* 中心点 */</span></span><br><span class="language-css">&#125;</span><br><span class="language-css"></span><br><span class="language-css"><span class="hljs-selector-class">.viewer-box-image</span><span class="hljs-selector-pseudo">:hover</span> &#123;</span><br><span class="language-css">  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">1.2</span>) <span class="hljs-built_in">rotate</span>(<span class="hljs-number">360deg</span>); <span class="hljs-comment">/* 缩放+旋转 */</span></span><br><span class="language-css">&#125;</span><br><span class="language-css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="语法糖"><a href="#语法糖" class="headerlink" title="语法糖"></a>语法糖</h4><blockquote><p>transition: transform .4s ease-in-out;</p></blockquote><ul><li>transition-property: none| all | property &gt;&gt;&gt; all表示所有属性都有过渡效果，property定义应用过渡效果的 CSS 属性名称列表，列表以逗号分隔</li><li>transition-duration: time值； &gt;&gt;&gt; 默认是0 没有动画效果，以秒或者毫秒计</li><li>transition-timing-function:linear|ease|ease-in|ease-out|ease-in-out &gt;&gt;&gt; 动画效果</li></ul><blockquote><p>transform: scale(1.2) rotate(360deg)</p></blockquote><ul><li>transform: scale(1.2);  缩放</li><li>transform: translate(10px, 10px);  平移</li><li>transform: rotate(360deg);  旋转</li><li>transform: skew(90deg, 10deg);  斜切skewX, skewY</li></ul><div class="post_cus_note">注意</div><p>关于transition，transform，translate三者的关系可以先搞清楚了，不然很容易蒙了。</p>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VUE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>图片增加选中animation动画效果</title>
    <link href="/articles/65418/"/>
    <url>/articles/65418/</url>
    
    <content type="html"><![CDATA[<div class="note note-danger">            <p>前几天用v-viewerjs写了一个头像设置页面，用css的animation给图片选中加了一个动画效果，记录一下animation的基础用法以及实现的代码。</p>          </div><span class="label label-info">VUE</span> <span class="label label-danger">animation</span>  <span class="label label-default">动画</span><span id="more"></span><hr /><p>上篇博客记录了图片的选择事件，其中通过ref去对img元素进行样式修改，<em><strong>viewer-select-image</strong></em>样式类就是图片选择的效果，通过animation实现图片的方法缩小，效果简简单单，但是瞬间高大上了许多，代码也不多。</p><h4 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-keyword">@keyframes</span> select-image-an &#123;<br>  <span class="hljs-number">0%</span> &#123;<br>    <span class="hljs-attribute">border</span>: <span class="hljs-number">27px</span> solid;<br>    <span class="hljs-attribute">border-image</span>: <span class="hljs-built_in">linear-gradient</span>(<span class="hljs-number">#FF0000FF</span>, <span class="hljs-number">#84cdfa</span>, <span class="hljs-number">#FFFF00FF</span>) <span class="hljs-number">1</span>;<br>  &#125;<br>  <span class="hljs-number">100%</span> &#123;<br>    <span class="hljs-attribute">border</span>: <span class="hljs-number">7px</span> solid;<br>    <span class="hljs-attribute">border-image</span>: <span class="hljs-built_in">linear-gradient</span>(<span class="hljs-number">#FF0000FF</span>, <span class="hljs-number">#84cdfa</span>, <span class="hljs-number">#FFFF00FF</span>) <span class="hljs-number">1</span>;<br>  &#125;<br>&#125;<br><br><span class="hljs-selector-class">.viewer-select-image</span> &#123;<br>  <span class="hljs-attribute">animation</span>: select-image-an <span class="hljs-number">1.5s</span> linear infinite alternate;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="语法糖"><a href="#语法糖" class="headerlink" title="语法糖"></a>语法糖</h4><p><em><strong>animation: select-image-an 1.5s linear infinite alternate;</strong></em><br>select-image-an：动画名称，与@keyframes select-image-an关联，其中0%是初始状态，100%为全状态，在0-100之间也可以在一些效果<br>1.5s：动画一次的持续时间<br>linear：动画运动轨迹的速度，linear为匀速，默认是ease（低俗-&gt;加速-&gt;减速）<br>infinite：动画播放次数，infinite无限次执行<br>alternate：往返动画</p><h4 id="相关学习"><a href="#相关学习" class="headerlink" title="相关学习"></a>相关学习</h4><ul><li>菜鸟：<a href="https://www.runoob.com/cssref/css3-pr-animation.html">https://www.runoob.com/cssref/css3-pr-animation.html</a></li><li>度娘：一搜一大推，问什么度娘都会告诉你</li></ul>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VUE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>关于VUE2的通过v-for动态变量的ref标签</title>
    <link href="/articles/32337/"/>
    <url>/articles/32337/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p>最近使用到了VUE2的ref这个功能吧，其实功能就等于id，但是比id更好用，只要对标签注册了ref变量，那么在this.$refs中可用使用这个元素了，对元素可以进行相关的js操作。</p>          </div><span id="more"></span><hr /><h4 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h4><p>ref不仅可以对标签注册，还可以对组件注册，自己写前端代码的时候用到了对img标签的v-for操作，每个img标签都进行ref注册，具体代码如下：</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ruby">&lt;viewer ref=<span class="hljs-string">&quot;viewer&quot;</span> <span class="hljs-symbol">:options=<span class="hljs-string">&quot;viewerOption&quot;</span></span> <span class="hljs-symbol">:images=<span class="hljs-string">&quot;images&quot;</span></span> <span class="hljs-variable">@inited</span>=<span class="hljs-string">&quot;viewerInited&quot;</span>&gt;<br>  &lt;img v-<span class="hljs-keyword">for</span>=<span class="hljs-string">&quot;(img, index) in images&quot;</span> <span class="hljs-symbol">:id=<span class="hljs-string">&quot;img.md5_id&quot;</span></span> <span class="hljs-symbol">:ref=<span class="hljs-string">&quot;img.md5_id&quot;</span></span> <span class="hljs-symbol">:key=<span class="hljs-string">&quot;index&quot;</span></span> <span class="hljs-symbol">:src=<span class="hljs-string">&quot;img.url&quot;</span></span> <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;viewer-box-image&quot;</span> <span class="hljs-variable">@click</span>=<span class="hljs-string">&quot;selectViewerImage(index)&quot;</span>&gt;<br>&lt;<span class="hljs-regexp">/viewer&gt;</span><br></code></pre></td></tr></table></figure><p>其中，images是个字典数组，格式：[{id: 1, md5_id: 1, url: 1}]。<br>对每一个图片都有一个点击事件，触发事件代码如下：</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs kotlin">selectViewerImage(selectIndex) &#123;<br>  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.images &amp;&amp; selectIndex &gt;= <span class="hljs-number">0</span>) &#123;<br>    <span class="hljs-comment">// 设置当前图片选择的索引</span><br>    <span class="hljs-keyword">this</span>.curImageIndex = selectIndex<br>    <span class="hljs-comment">// 设置选择的样式</span><br>    <span class="hljs-keyword">this</span>.images.forEach((item, index) =&gt; &#123;<br>      <span class="hljs-comment">// 清空image选择样式</span><br>      <span class="hljs-comment">// document.getElementById(item.md5_id).classList.remove(&#x27;viewer-select-image&#x27;)</span><br>      <span class="hljs-keyword">this</span>.$refs[item.md5_id][<span class="hljs-number">0</span>].classList.remove(<span class="hljs-string">&#x27;viewer-select-image&#x27;</span>) <span class="hljs-comment">// ref动态变量[0]</span><br><br>      <span class="hljs-keyword">if</span> (index === selectIndex) &#123;<br>        <span class="hljs-comment">// 当前选择image-md5</span><br>        <span class="hljs-keyword">this</span>.curImage = item.md5_id<br>        <span class="hljs-comment">// 当前被选择查看的image的样式</span><br>        <span class="hljs-comment">// document.getElementById(item.md5_id).classList.add(&#x27;viewer-select-image&#x27;)</span><br>        <span class="hljs-keyword">this</span>.$refs[item.md5_id][<span class="hljs-number">0</span>].classList.add(<span class="hljs-string">&#x27;viewer-select-image&#x27;</span>)<br>      &#125;<br>    &#125;)<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>方法的意思就是对所有的图片清除选择的样式，对选择的图片新增选中样式。但是当时我用this.$refs[item.md5_id]去获取对应的img元素的时候，发现元素获取不到，查阅了相关资料，说如果是v-for使用ref的动态变量，获取元素需要获取第一个值，也就是this.$refs[item.md5_id][0]，这个写法。</p><h4 id="ref的v-for用法"><a href="#ref的v-for用法" class="headerlink" title="ref的v-for用法"></a>ref的v-for用法</h4><ul><li>VUE中如果通过v-for遍历的方式注册ref的时候，如果是变量写法为：:ref &#x3D; 变量，:（冒号）为代表这个为变量；如果是固定值就去掉 :号。</li><li><em><strong>通过v-for注册的ref，获取指定的ref时需要加 [0]，写法：this.$refs[变量][0]；如果是固定值或者非v-for遍历的方式，写法都是this.$refs[变量]，不需要添加[0]。</strong></em></li></ul><p><font size=6.5 color='red'>每天一点点，坚持学习。。。。。。</font></p>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VUE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>免费的网站工具</title>
    <link href="/articles/34113/"/>
    <url>/articles/34113/</url>
    
    <content type="html"><![CDATA[<p>。</p><span class="label label-danger">收藏一下网上好用、免费的网站工具</span><span id="more"></span><hr /><table><thead><tr><th align="center">序号</th><th align="center">名称</th><th align="center">地址</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">代码转图片</td><td align="center"><a href="https://carbon.now.sh/">https://carbon.now.sh/</a></td></tr><tr><td align="center">2</td><td align="center">JavaScript正则表达式可视化工具</td><td align="center"><a href="https://jex.im/regulex/#!flags=&re=%5E(a%7Cb)*%3F%24">https://jex.im/regulex/#!flags=&amp;re=%5E(a%7Cb)*%3F%24</a></td></tr><tr><td align="center">3</td><td align="center">图片压缩</td><td align="center"><a href="https://tinypng.com/">https://tinypng.com/</a></td></tr><tr><td align="center">4</td><td align="center">Codepen</td><td align="center"><a href="https://codepen.io/">https://codepen.io/</a></td></tr><tr><td align="center">5</td><td align="center">阿里开源图标</td><td align="center"><a href="https://www.iconfont.cn/">https://www.iconfont.cn/</a></td></tr><tr><td align="center">6</td><td align="center">在线调色板</td><td align="center"><a href="https://colorhunt.co/palettes/pastel">https://colorhunt.co/palettes/pastel</a></td></tr><tr><td align="center">7</td><td align="center">开发文档</td><td align="center"><a href="https://devdocs.io/">https://devdocs.io/</a></td></tr><tr><td align="center">8</td><td align="center">一键抠图</td><td align="center"><a href="https://www.remove.bg/zh">https://www.remove.bg/zh</a></td></tr><tr><td align="center">9</td><td align="center">自述文件</td><td align="center"><a href="https://readme.so/editor">https://readme.so/editor</a></td></tr><tr><td align="center">10</td><td align="center">测试网站加载速度</td><td align="center"><a href="https://gtmetrix.com/">https://gtmetrix.com/</a></td></tr><tr><td align="center">11</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">12</td><td align="center"></td><td align="center"></td></tr></tbody></table><p><font size=5.5 color='red'><em><strong>持续更新中。。。。。。</strong></em></font></p>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
    </categories>
    
    
    <tags>
      
      <tag>网站工具</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>前端JavaScript全局对象获取通用方法</title>
    <link href="/articles/19661/"/>
    <url>/articles/19661/</url>
    
    <content type="html"><![CDATA[<p>在学习ES6语法的过程中，看到了JavaScript获取全局对象的通用方法，记录上，以防日后用的上。</p><span id="more"></span><hr /><h4 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript">(<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">window</span> !== <span class="hljs-string">&#x27;undefined&#x27;</span><br>   ? <span class="hljs-variable language_">window</span><br>   : (<span class="hljs-keyword">typeof</span> process === <span class="hljs-string">&#x27;object&#x27;</span> &amp;&amp;<br>      <span class="hljs-keyword">typeof</span> <span class="hljs-built_in">require</span> === <span class="hljs-string">&#x27;function&#x27;</span> &amp;&amp;<br>      <span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">global</span> === <span class="hljs-string">&#x27;object&#x27;</span>)<br>     ? <span class="hljs-variable language_">global</span><br>     : <span class="hljs-variable language_">this</span>);<br></code></pre></td></tr></table></figure><h4 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> getGlobal = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> self !== <span class="hljs-string">&#x27;undefined&#x27;</span>) &#123; <span class="hljs-keyword">return</span> self; &#125;<br>  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">window</span> !== <span class="hljs-string">&#x27;undefined&#x27;</span>) &#123; <span class="hljs-keyword">return</span> <span class="hljs-variable language_">window</span>; &#125;<br>  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">global</span> !== <span class="hljs-string">&#x27;undefined&#x27;</span>) &#123; <span class="hljs-keyword">return</span> <span class="hljs-variable language_">global</span>; &#125;<br>  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;unable to locate global object&#x27;</span>);<br>&#125;;<br></code></pre></td></tr></table></figure><p><font size=6.5 color='red'>坚持学习。。。。。。</font></p>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>七牛API上传文件发送ProtocolError-Connection-aborted错误</title>
    <link href="/articles/43878/"/>
    <url>/articles/43878/</url>
    
    <content type="html"><![CDATA[<span class="label label-default">Python</span><h4 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h4><div class="note note-primary">            <p>自己开发的<font size=5.5 color='red'>OPENTOOL-Z</font>系统在PDF转WORD功能文件上传上发送上传失败，后台查看日志发送了ProtocolError(‘Connection aborted.’, timeout(‘timed out’))的错误，记录以下解决方法。</p>          </div><span id="more"></span><hr /><p>开发完PDF转WORD功能之后测试了几个小文件的都是1.2M大小的PDF文件，上传与转换都没有问题，突然有一天同事找我让我转换一个6.3M大小的文件，上传了好几次都是显示上传失败。</p><h4 id="报错"><a href="#报错" class="headerlink" title="报错"></a>报错</h4><p>于是，登录到服务器，查看存储的文件，发现服务器本地存储成功了，是上传到七牛云对象存储失败，打开日志错误如下：<br><img src="/articles/43878/error.jpg"></p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs routeros">[<span class="hljs-built_in">WARNING</span>] Retrying (Retry(<span class="hljs-attribute">total</span>=0, <span class="hljs-attribute">connect</span>=None, <span class="hljs-attribute">read</span>=None, <span class="hljs-attribute">redirect</span>=None, <span class="hljs-attribute">status</span>=None)) after<span class="hljs-built_in"> connection </span>broken by <span class="hljs-string">&#x27;ProtocolError(&#x27;</span>Connection aborted.<span class="hljs-string">&#x27;, timeout(&#x27;</span>timed out<span class="hljs-string">&#x27;))&#x27;</span>: /buckets/open2lstore/objects/MjAyMzAzMjUv6KGl5YWF5Y2P6K6uMjAyMjA5MTXmiavmj4_ku7YucGRm/uploads/641e55eff67b72651c9d93c0region09cn-east-2/1<br>None<br>_ResponseInfo__response:None, exception:HTTPConnectionPool(<span class="hljs-attribute">host</span>=<span class="hljs-string">&#x27;upload-cn-east-2.qiniup.com&#x27;</span>, <span class="hljs-attribute">port</span>=80): Max retries exceeded with url: /buckets/open2lstore/objects/MjAyMzAzMjUv6KGl5YWF5Y2P6K6uMjAyMjA5MTXmiavmj4_ku7YucGRm/uploads/641e55eff67b72651c9d93c0region09cn-east-2/1 (Caused by ProtocolError(<span class="hljs-string">&#x27;Connection aborted.&#x27;</span>, timeout(<span class="hljs-string">&#x27;timed out&#x27;</span>))), status_code:-1, text_body:None, req_id:None, x_log:None, error:HTTPConnectionPool(<span class="hljs-attribute">host</span>=<span class="hljs-string">&#x27;upload-cn-east-2.qiniup.com&#x27;</span>, <span class="hljs-attribute">port</span>=80): Max retries exceeded with url: /buckets/open2lstore/objects/MjAyMzAzMjUv6KGl5YWF5Y2P6K6uMjAyMjA5MTXmiavmj4_ku7YucGRm/uploads/641e55eff67b72651c9d93c0region09cn-east-2/1 (Caused by ProtocolError(<span class="hljs-string">&#x27;Connection aborted.&#x27;</span>, timeout(<span class="hljs-string">&#x27;timed out&#x27;</span>))<br></code></pre></td></tr></table></figure><h4 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h4><p>一开始我本地开启项目上传10M大小的文件都没有问题，大概拆到了是服务器带宽的问题，因为服务器我买的是腾讯云新用户99一年的服务器，配置都是最低的，于是安装了nload命令去观察上传带宽，果然上传的带宽限制了文件上传的问题。<br>我在官网提了相关错误的报错工单，官网工程师给出的解决方案：<br><img src="/articles/43878/jiejue.png"></p><p>就是修改官网Pyhton SDK的参数，修改后的参数：</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs nix">_<span class="hljs-attr">config</span> <span class="hljs-operator">=</span> &#123;<br>    &#x27;<span class="hljs-params">default_zone&#x27;:</span> zone.Zone(),<br>    &#x27;<span class="hljs-params">default_rs_host&#x27;:</span> RS_HOST,<br>    &#x27;<span class="hljs-params">default_rsf_host&#x27;:</span> RSF_HOST,<br>    &#x27;<span class="hljs-params">default_api_host&#x27;:</span> API_HOST,<br>    &#x27;<span class="hljs-params">default_uc_host&#x27;:</span> UC_HOST,<br>    &#x27;<span class="hljs-params">connection_timeout&#x27;:</span> <span class="hljs-number">120</span>,  <span class="hljs-comment"># 链接超时为时间为30s</span><br>    &#x27;<span class="hljs-params">connection_retries&#x27;:</span> <span class="hljs-number">3</span>,  <span class="hljs-comment"># 链接重试次数为3次</span><br>    &#x27;<span class="hljs-params">connection_pool&#x27;:</span> <span class="hljs-number">10</span>,  <span class="hljs-comment"># 链接池个数为10</span><br>    &#x27;<span class="hljs-params">default_upload_threshold&#x27;:</span> <span class="hljs-number">2</span> <span class="hljs-operator">*</span> _BLOCK_SIZE  <span class="hljs-comment"># put_file上传方式的临界默认值</span><br>&#125;<br></code></pre></td></tr></table></figure><p>把connection_timeout连接时间由默认的30秒修改为120秒。</p><h4 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h4><p>在解决过程中学到了一个新的实时测带宽的命令nload。</p><blockquote><p>nload</p></blockquote><p><img src="/articles/43878/nload.png"></p><p>除了nload，也可以使用speedtest-cli进行网速测评。</p><blockquote><p>speedtest-cli</p></blockquote><p><img src="/articles/43878/speedtest-cli.jpg"></p><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>虽然服务器配置较低，如果可以利用起来，还是可以干很多事情的，而且在自己搞的时候，遇到了别人没有遇到过的问题，总结起来，慢慢会的就多了。</p><p><font size=6.5 color='red'>坚持学习，总会有收获。。。。。。</font></p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Oracle数据库dat数据导入双引号问题</title>
    <link href="/articles/42107/"/>
    <url>/articles/42107/</url>
    
    <content type="html"><![CDATA[<div class="note note-info">            <p>解决Oracle数据库导入dat数据出现的报错：second enclosure string not present。</p>          </div><span id="more"></span><hr /><h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>今天系统调度跑批，发现17号数据导入有问题。于是用sqlplus、sqlldr手工导入dat数据，打开.log日志有4条数据失败了，提示如下：</p><figure class="highlight vhdl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs vhdl"><br><span class="hljs-keyword">Record</span> <span class="hljs-number">36187</span>: Rejected - <span class="hljs-literal">Error</span> <span class="hljs-keyword">on</span> table T05_HIST_JRNL_FILE_INF, column SMY.<br>second enclosure <span class="hljs-built_in">string</span> <span class="hljs-keyword">not</span> present<br><span class="hljs-keyword">Record</span> <span class="hljs-number">36188</span>: Rejected - <span class="hljs-literal">Error</span> <span class="hljs-keyword">on</span> table T05_HIST_JRNL_FILE_INF, column SMY.<br>second enclosure <span class="hljs-built_in">string</span> <span class="hljs-keyword">not</span> present<br><span class="hljs-keyword">Record</span> <span class="hljs-number">43289</span>: Rejected - <span class="hljs-literal">Error</span> <span class="hljs-keyword">on</span> table T05_HIST_JRNL_FILE_INF, column SMY.<br>second enclosure <span class="hljs-built_in">string</span> <span class="hljs-keyword">not</span> present<br><span class="hljs-keyword">Record</span> <span class="hljs-number">43290</span>: Rejected - <span class="hljs-literal">Error</span> <span class="hljs-keyword">on</span> table T05_HIST_JRNL_FILE_INF, column SMY.<br>second enclosure <span class="hljs-built_in">string</span> <span class="hljs-keyword">not</span> present<br><br>Table T05_HIST_JRNL_FILE_INF:<br>  <span class="hljs-number">54833</span> Rows successfully loaded.<br>  <span class="hljs-number">4</span> Rows <span class="hljs-keyword">not</span> loaded due <span class="hljs-keyword">to</span> data errors.<br>  <span class="hljs-number">0</span> Rows <span class="hljs-keyword">not</span> loaded because <span class="hljs-keyword">all</span> <span class="hljs-keyword">WHEN</span> clauses were failed.<br>  <span class="hljs-number">0</span> Rows <span class="hljs-keyword">not</span> loaded because <span class="hljs-keyword">all</span> fields were <span class="hljs-keyword">null</span>.<br></code></pre></td></tr></table></figure><p>大概意思是引号缺失，上网查了一下引号可以没有，或者成对出现，</p><h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><p>打开报错的dat数据，搜索找到双引号并删除，重新导入就解决了。</p>]]></content>
    
    
    <categories>
      
      <category>数据库</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Oracle</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Element-ui框架el-date-picker的清除之后NULL的问题</title>
    <link href="/articles/63642/"/>
    <url>/articles/63642/</url>
    
    <content type="html"><![CDATA[<h4 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h4><p>在写一个高级筛选的VUE代码，使用到了<em><strong>el-date-picker</strong></em>日期选择器组件，设置了daterange类型，并且设置了可以清除的功能。但是使用清除之后，在提交高级筛选的查询，发现报错了，查了好久的问题所在，记录一下。</p><span class="label label-info">VUE</span> <span class="label label-primary">Element-UI</span><span id="more"></span><hr /><p>下面是VUE开发的高级筛选，<em><strong>el-date-picker</strong></em>日期选择器组件使用清除功能之后，组件变量会设置NULL。<br><img src="/articles/63642/xuanze.pic.jpg"></p><h4 id="报错"><a href="#报错" class="headerlink" title="报错"></a>报错</h4><p>报错的截图。</p><p><img src="/articles/63642/error.pic.jpg"></p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs vim">vue.<span class="hljs-keyword">runtime</span>.esm.js?<span class="hljs-number">2</span>b0e:<span class="hljs-number">619</span> [Vue warn]: Error in v-<span class="hljs-keyword">on</span> handler: <span class="hljs-string">&quot;TypeError: Cannot read properties of null (reading &#x27;0&#x27;)&quot;</span><br><br>found in<br><br>---&gt; <span class="hljs-symbol">&lt;ElButton&gt;</span> at packages/button/src/button.vue<br>       <span class="hljs-symbol">&lt;ElRow&gt;</span><br>         <span class="hljs-symbol">&lt;ElForm&gt;</span> at packages/form/src/form.vue<br>           <span class="hljs-symbol">&lt;ApiFilter&gt;</span> at src/services/info/ApiFilter.vue<br>             <span class="hljs-symbol">&lt;Api&gt;</span> at src/views/info/api.vue<br>               <span class="hljs-symbol">&lt;AppMain&gt;</span> at src/layout/components/AppMain.vue<br>                 <span class="hljs-symbol">&lt;Layout&gt;</span> at src/layout/<span class="hljs-built_in">index</span>.vue<br>                   <span class="hljs-symbol">&lt;App&gt;</span> at src/App.vue<br>                     <span class="hljs-symbol">&lt;Root&gt;</span><br>warn @ vue.<span class="hljs-keyword">runtime</span>.esm.js?<span class="hljs-number">2</span>b0e:<span class="hljs-number">619</span><br>logError @ vue.<span class="hljs-keyword">runtime</span>.esm.js?<span class="hljs-number">2</span>b0e:<span class="hljs-number">1884</span><br>globalHandleError @ vue.<span class="hljs-keyword">runtime</span>.esm.js?<span class="hljs-number">2</span>b0e:<span class="hljs-number">1879</span><br>handleError @ vue.<span class="hljs-keyword">runtime</span>.esm.js?<span class="hljs-number">2</span>b0e:<span class="hljs-number">1839</span><br>invokeWithErrorHandling @ vue.<span class="hljs-keyword">runtime</span>.esm.js?<span class="hljs-number">2</span>b0e:<span class="hljs-number">1862</span><br>invoker @ vue.<span class="hljs-keyword">runtime</span>.esm.js?<span class="hljs-number">2</span>b0e:<span class="hljs-number">2179</span><br>invokeWithErrorHandling @ vue.<span class="hljs-keyword">runtime</span>.esm.js?<span class="hljs-number">2</span>b0e:<span class="hljs-number">1854</span><br>Vue.$emit @ vue.<span class="hljs-keyword">runtime</span>.esm.js?<span class="hljs-number">2</span>b0e:<span class="hljs-number">3882</span><br>handleClick @ element-ui.common.js?<span class="hljs-number">5</span>c96:<span class="hljs-number">9417</span><br>invokeWithErrorHandling @ vue.<span class="hljs-keyword">runtime</span>.esm.js?<span class="hljs-number">2</span>b0e:<span class="hljs-number">1854</span><br>invoker @ vue.<span class="hljs-keyword">runtime</span>.esm.js?<span class="hljs-number">2</span>b0e:<span class="hljs-number">2179</span><br>original._wrapper @ vue.<span class="hljs-keyword">runtime</span>.esm.js?<span class="hljs-number">2</span>b0e:<span class="hljs-number">6911</span><br>vue.<span class="hljs-keyword">runtime</span>.esm.js?<span class="hljs-number">2</span>b0e:<span class="hljs-number">1888</span> TypeError: Cannot <span class="hljs-keyword">read</span> properties of null (reading <span class="hljs-string">&#x27;0&#x27;</span>)<br>    at VueComponent.filterQuery (ApiFilter.vue?<span class="hljs-number">9380</span>:<span class="hljs-number">279</span>:<span class="hljs-number">1</span>)<br>    at click (ApiFilter.vue?f585:<span class="hljs-number">309</span>:<span class="hljs-number">1</span>)<br>    at invokeWithErrorHandling (vue.<span class="hljs-keyword">runtime</span>.esm.js?<span class="hljs-number">2</span>b0e:<span class="hljs-number">1854</span>:<span class="hljs-number">1</span>)<br>    at VueComponent.invoker (vue.<span class="hljs-keyword">runtime</span>.esm.js?<span class="hljs-number">2</span>b0e:<span class="hljs-number">2179</span>:<span class="hljs-number">1</span>)<br>    at invokeWithErrorHandling (vue.<span class="hljs-keyword">runtime</span>.esm.js?<span class="hljs-number">2</span>b0e:<span class="hljs-number">1854</span>:<span class="hljs-number">1</span>)<br>    at Vue.$emit (vue.<span class="hljs-keyword">runtime</span>.esm.js?<span class="hljs-number">2</span>b0e:<span class="hljs-number">3882</span>:<span class="hljs-number">1</span>)<br>    at VueComponent.handleClick (element-ui.common.js?<span class="hljs-number">5</span>c96:<span class="hljs-number">9417</span>:<span class="hljs-number">1</span>)<br>    at invokeWithErrorHandling (vue.<span class="hljs-keyword">runtime</span>.esm.js?<span class="hljs-number">2</span>b0e:<span class="hljs-number">1854</span>:<span class="hljs-number">1</span>)<br>    at HTMLButtonElement.invoker (vue.<span class="hljs-keyword">runtime</span>.esm.js?<span class="hljs-number">2</span>b0e:<span class="hljs-number">2179</span>:<span class="hljs-number">1</span>)<br>    at original._wrapper (vue.<span class="hljs-keyword">runtime</span>.esm.js?<span class="hljs-number">2</span>b0e:<span class="hljs-number">6911</span>:<span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure><h4 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h4><p>直接说问题所在，使用<em><strong>el-date-picker</strong></em>日期选择器组件的清除功能，会把组件的变量设置NULL，所以导致在获取时间的时候报错。</p><h4 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h4><p><img src="/articles/63642/i.jpg"></p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs kotlin"><span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.create_date !== <span class="hljs-literal">null</span> &amp;&amp; <span class="hljs-keyword">this</span>.create_date !== <span class="hljs-string">&#x27;&#x27;</span> &amp;&amp; <span class="hljs-keyword">this</span>.create_date !== undefined) &#123;<br>  <span class="hljs-keyword">this</span>.searchData.create_time_start = <span class="hljs-keyword">this</span>.create_date[<span class="hljs-number">0</span>] + <span class="hljs-string">&#x27; 00:00:00&#x27;</span><br>  <span class="hljs-keyword">this</span>.searchData.create_time_end = <span class="hljs-keyword">this</span>.create_date[<span class="hljs-number">1</span>] + <span class="hljs-string">&#x27; 23:59:59&#x27;</span><br>&#125; <span class="hljs-keyword">else</span> &#123;<br>  <span class="hljs-keyword">this</span>.searchData.create_time_start = <span class="hljs-string">&#x27;&#x27;</span><br>  <span class="hljs-keyword">this</span>.searchData.create_time_end = <span class="hljs-string">&#x27;&#x27;</span><br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VUE</tag>
      
      <tag>Element-UI</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>前端脚手架管理系统模板</title>
    <link href="/articles/38070/"/>
    <url>/articles/38070/</url>
    
    <content type="html"><![CDATA[<p>记录下前端好用的管理系统模板脚手架（引用参考）。</p><span id="more"></span><hr /><ul><li><a href="https://mp.weixin.qq.com/s/j6Nwmn-f9L2w83sy_t71Pg">https://mp.weixin.qq.com/s/j6Nwmn-f9L2w83sy_t71Pg</a></li><li><a href="https://mp.weixin.qq.com/s/NOoGMkF3Ct2OobCopltTsg">https://mp.weixin.qq.com/s/NOoGMkF3Ct2OobCopltTsg</a></li><li><a href="https://mp.weixin.qq.com/s/sznpqdGGWLffI8pnBdGB4w">https://mp.weixin.qq.com/s/sznpqdGGWLffI8pnBdGB4w</a></li></ul><p><font size=6.5 color='red'>持续更新中。。。。。。</font></p>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VUE</tag>
      
      <tag>REACT</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Oracle数据库连接工具PLSQL快捷配置</title>
    <link href="/articles/13254/"/>
    <url>/articles/13254/</url>
    
    <content type="html"><![CDATA[<p>正所谓“功先利其事，必先利其器”，把PLSQL的快捷方式设置好，在写SQL以及操作方面会大大提高效率，分享下本人PLSQL的快捷配置。</p><span id="more"></span><hr /><h4 id="显示行号"><a href="#显示行号" class="headerlink" title="显示行号"></a>显示行号</h4><blockquote><p>用户界面 &gt; 编辑器 &gt; 显示行号</p></blockquote><p>可以显示SQL窗口的行号。<br><img src="/articles/13254/showline.PNG"></p><h4 id="关键词大写"><a href="#关键词大写" class="headerlink" title="关键词大写"></a>关键词大写</h4><blockquote><p>用户界面 &gt; 编辑器 &gt; 关键词大小写 &gt; 大写</p></blockquote><p>这个看个人喜好，如果想把关键字都大写可以进行设置，这样写出来的SQL也比较好看，关键字都是大写并且带颜色。<br><img src="/articles/13254/keycase.PNG"></p><h4 id="高亮显示编辑行"><a href="#高亮显示编辑行" class="headerlink" title="高亮显示编辑行"></a>高亮显示编辑行</h4><blockquote><p>用户界面 &gt; 编辑器 &gt; 高亮显示编辑行</p></blockquote><p>可以高亮SQL窗口的编辑行，一下子就找到鼠标在哪，方便继续编辑SQL。<br><img src="/articles/13254/hightline.jpg"></p><h4 id="延时tip设置"><a href="#延时tip设置" class="headerlink" title="延时tip设置"></a>延时tip设置</h4><blockquote><p>用户界面 &gt; 代码助手 &gt; 延时</p></blockquote><p>设置自动提示的时间，最小值100，不喜欢立马提示的可以值设置的打点。<br><img src="/articles/13254/tip.PNG"></p><h4 id="不自动提交"><a href="#不自动提交" class="headerlink" title="不自动提交"></a>不自动提交</h4><blockquote><p>窗口类型 &gt; SQL窗口 &gt; 自动提交SQL</p></blockquote><p>设置不自动提交，否则一下子做的危险UPDATE、DELETE等操作，想想都是泪，千万别设置自动提交。<br><img src="/articles/13254/nocommit.PNG"></p><h4 id="SQL快捷语句"><a href="#SQL快捷语句" class="headerlink" title="SQL快捷语句"></a>SQL快捷语句</h4><blockquote><p>用户界面 &gt; 编辑器 &gt; 自动替换</p></blockquote><p>设置之后，写SQL非常的高效，只需要把缩写写完一个空格，就可以替换设定的SQL语句或关键字。<br><img src="/articles/13254/autoreplace.PNG"></p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-attribute">sf</span>=SELECT * <span class="hljs-keyword">FROM</span><br><span class="hljs-attribute">sw</span>=SELECT * <span class="hljs-keyword">FROM</span>  WHERE<br><span class="hljs-attribute">w</span>=WHERE<br><span class="hljs-attribute">or</span>=ORDER BY<br><span class="hljs-attribute">order</span>=ORDER BY<br><span class="hljs-attribute">ij</span>=INNER JOIN<br><span class="hljs-attribute">in</span>=INNER JOIN<br><span class="hljs-attribute">inn</span>=INNER JOIN<br><span class="hljs-attribute">lj</span>=LEFT JOIN<br><span class="hljs-attribute">le</span>=LEFT JOIN<br><span class="hljs-attribute">rj</span>=RIGHT JOIN<br><span class="hljs-attribute">ri</span>=RIGHT JOIN<br><span class="hljs-attribute">drop</span>=DROP TABLE<br></code></pre></td></tr></table></figure><h4 id="快捷键配置"><a href="#快捷键配置" class="headerlink" title="快捷键配置"></a>快捷键配置</h4><p>PLSQL自带了许多快捷键配置，但是习惯了IDE写代码的快捷键，所以对部分配置、以及未配置的功能进行了更改，快捷键配置说明【修改部分】：</p><hr><table><thead><tr><th align="center">序号</th><th align="center">功能</th><th align="center">快捷键</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">文件&#x2F;打开&#x2F;新建(N)&#x2F;SQL窗口(S)</td><td align="center">Ctrl+Alt+A</td></tr><tr><td align="center">2</td><td align="center">文件&#x2F;关闭&#x2F;关闭(C)</td><td align="center">Ctrl+Alt+W</td></tr><tr><td align="center">3</td><td align="center">编辑&#x2F;选择&#x2F;缩进(I)</td><td align="center">Tab</td></tr><tr><td align="center">4</td><td align="center">编辑&#x2F;选择&#x2F;取消缩进(U)</td><td align="center">Shift+Tab</td></tr><tr><td align="center">5</td><td align="center">编辑&#x2F;选择&#x2F;注释(O)</td><td align="center">Ctrl+&#x2F;</td></tr><tr><td align="center">6</td><td align="center">编辑&#x2F;选择&#x2F;取消注释(N)</td><td align="center">Ctrl+Shift+&#x2F;</td></tr><tr><td align="center">7</td><td align="center">编辑&#x2F;选择&#x2F;转到行(G)</td><td align="center">Ctrl+G</td></tr><tr><td align="center">8</td><td align="center">工具&#x2F;源&#x2F;PL&#x2F;SQL Beautifier</td><td align="center">Ctrl+Shift+F</td></tr><tr><td align="center">9</td><td align="center">删除行(Editor:Delete Line)</td><td align="center">Ctrl+Y</td></tr><tr><td align="center">10</td><td align="center">PLSQL切换窗口(Editor:Navigate Forward)</td><td align="center">Alt+Left上一个窗口</td></tr><tr><td align="center">11</td><td align="center">PLSQL切换窗口(Editor:Navigate Back)</td><td align="center">Alt+Right下一个窗口</td></tr></tbody></table><hr><p><font size=6.5 color='red'>持续更新中。。。。。。</font></p>]]></content>
    
    
    <categories>
      
      <category>数据库</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Oracle</tag>
      
      <tag>PLSQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Oracle备份expdp与恢复impdp</title>
    <link href="/articles/24260/"/>
    <url>/articles/24260/</url>
    
    <content type="html"><![CDATA[<p>记录一下关于Oracle数据库数据备份与恢复，项目上经常用，用实际项目进行总结。</p><span id="more"></span><hr /><span class="label label-danger">Oracle</span> <span class="label label-primary">expdp</span> <span class="label label-success">impdp</span> <span class="label label-info">备份</span> <span class="label label-warning">恢复</span><h4 id="1、主备恢复流程摘要"><a href="#1、主备恢复流程摘要" class="headerlink" title="1、主备恢复流程摘要"></a>1、主备恢复流程摘要</h4><p>1、停止【主服务器】tomcat服务(.&#x2F;shutdown.sh)</p><p>2、停止【主服务器】oracle监听服务（lsnrctl stop）</p><p>3、【主服务器】切换oracle用户进行expdp备份</p><p>4、主备服务器传输备份文件（MD5SUM查看是否文件完整）</p><p>5、【备服务器】impdp数据恢复</p><p>6、启动tomcat服务(.&#x2F;start.sh)</p><p>7、启动oracle监听服务（lsnrctl start）</p><h4 id="2、备份前数据库参数设置"><a href="#2、备份前数据库参数设置" class="headerlink" title="2、备份前数据库参数设置"></a>2、备份前数据库参数设置</h4><blockquote><p>备份参数DEFERRED_SEGMENT_CREATION {true | flase}【非必须设置参数】</p></blockquote><p>–true 当该参数值等于true的时候，我们数据库中新创建的表，并且没有insert过任何数据的情况下，采用导出时不会将该表导出， 因为在dba_segments和user_segments是查不到该表的信息，只有当我们插入记录才会在两表中生成段的信息，并能导出该表。</p><p>–flase 当此参数为false时，不存在dba_segments和user_segments中的段表也可以通过导出的方式将该表导出。</p><p>查询：show parameter DEFERRED_SEGMENT_CREATION;</p><p>更改：alter system set DEFERRED_SEGMENT_CREATION&#x3D;false scope&#x3D;both;</p><p>﻿</p><blockquote><p>expdp备份目录【必须设置参数】</p></blockquote><p>select * from dba_directories;</p><p>创建&#x2F;修改：create or replace directory 备份目录名称 as ‘备份绝对路径’;</p><p>授权：grant read,write on dirrectory 备份目录名称 to 用户;</p><p>删除：drop directory 备份目录名称;</p><p>﻿</p><blockquote><p>普通用户授权导出全库【非必要设置参数】：</p></blockquote><p>grant datadump_exp_full_database to test;</p><p>﻿</p><h4 id="3、备份命令"><a href="#3、备份命令" class="headerlink" title="3、备份命令"></a>3、备份命令</h4><p>普通用户：expdp 账户&#x2F;密码 directory&#x3D;备份目录名称 dumpfile&#x3D;备份文件名称.dmp logfile&#x3D;备份日志名称.log compression&#x3D;all reuse_dumpfiles&#x3D;y</p><p>例子：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">expdp pas/pas <span class="hljs-attribute">directory</span>=DMPDID_PAS <span class="hljs-attribute">dumpfile</span>=AESPAS_20230213_01.dmp <span class="hljs-attribute">logfile</span>=AESPAS_20230213_01.log <span class="hljs-attribute">compression</span>=all <span class="hljs-attribute">reuse_dumpfiles</span>=y<br></code></pre></td></tr></table></figure><p>system用户：expdp system&#x2F;密码 directory&#x3D;备份目录名称 schema&#x3D;策略名称 dumpfile&#x3D;备份文件名称.dmp logfile&#x3D;备份日志名称.log compression&#x3D;all reuse_dumpfiles&#x3D;y</p><p>– directory：指定转储文件和日志文件所在的目录（数据库设置）</p><p>– dumpfile：备份文件的名称</p><p>– schema：策略名称，如果system导出全库去掉schema参数，加上full&#x3D;y</p><p>– logfile：备份日志名称</p><p>– reuse_dumpfiles：是否覆盖备份文件，Y覆盖N不覆盖</p><p>– FULL：指定数据库模式导出,默认为N，{Y | N}为Y时,标识执行数据库导出</p><p>– tables：导出指定的表名，%代表通配符，如果是system可以加上：策略名称.表名</p><p>– exclude：排除指定的表名不导出</p><p>– content：导出内容{ALL | DATA_ONLY | METADATA_ONLY}当设置CONTENT为ALL时,将导出对象定义及其所有数据.为DATA_ONLY时,只导出对象数据,为METADATA_ONLY时,只导出对象定义</p><p>– FLASHBACK_TIME：指定导出特定时间点的表数据（FLASHBACK_TIME&#x3D;“TO_TIMESTAMP(’25-08-2004 14:35:00’,’DD-MM-YYYY HH24:MI:SS’)”）</p><p>– FILESIZE：指定导出文件的最大尺寸,默认为0</p><p>– NOLOGFILE：该选项用于指定禁止生成导出日志文件,默认值为N</p><p>– QUERY：用于指定过滤导出数据的where条件</p><p>– compression：ALL ：对导出的元数据和表数据都进行压缩，得到的导出文件是最小的，耗时也是最长的。DATA_ONLY ：仅对表数据进行压缩，对于大数据量的导出效果明显，会比METADATA_ONLY方式得到更小的压缩文件。METADATA_ONLY ：仅对元数据进行压缩，而不会对表数据进行压缩，这种压缩执行后效果一般不是很明显，不过速度比较快。NONE ：不进行任何的压缩，导出后的文件也是最大的。DEFAULT ：默认方式，即不指定COMPRESSION参数，会采用默认的压缩方式METADATA_ONLY。</p><p>﻿</p><p>导出表：<br>expdp 账户&#x2F;密码 directory&#x3D;备份目录名称 dumpfile&#x3D;备份文件名称.dmp logfile&#x3D;备份日志名称.log compression&#x3D;all reuse_dumpfiles&#x3D;y tables&#x3D;表名称1,表名称2,表名称N</p><p>﻿</p><h4 id="4、恢复命令"><a href="#4、恢复命令" class="headerlink" title="4、恢复命令"></a>4、恢复命令</h4><p>impdp 账户&#x2F;密码 directory&#x3D;备份目录名称 dumpfile&#x3D;备份文件名称.dmp exclude&#x3D;statistics table_exists_action&#x3D;replace<br>例子：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">impdp pas/pas <span class="hljs-attribute">directory</span>=DMPDID_PAS <span class="hljs-attribute">dumpfile</span>=AESPAS_20230213_01.dmp <span class="hljs-attribute">exclude</span>=statistics <span class="hljs-attribute">table_exists_action</span>=replace<br></code></pre></td></tr></table></figure><h4 id="5、查看存在的job："><a href="#5、查看存在的job：" class="headerlink" title="5、查看存在的job："></a>5、查看存在的job：</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">SELECT</span> * <span class="hljs-selector-tag">FROM</span> DBA_DATAPUMP_JOBS;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>数据库</category>
      
    </categories>
    
    
    <tags>
      
      <tag>命令工具</tag>
      
      <tag>Oracle</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>NODE17或者18版本启动NODE16版本的项目:0308010C:digital envelope routines::unsupported</title>
    <link href="/articles/40755/"/>
    <url>/articles/40755/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <h4 id="问题背景"><a href="#问题背景" class="headerlink" title="问题背景"></a>问题背景</h4><p>前端项目open2lui一直都用的是node&#x2F;16.9.1版本，最近用n更新了最新版、lts版本，分别是node&#x2F;18.14.0、node&#x2F;19.6.0，完了用18活着19版本npm去运行npm run dev的时候报错了，导致项目起不来，后台查询资料解决了高版本启动项目的问题。</p>          </div><span class="label label-primary">NODE</span> <span class="label label-warning">VUE</span><span id="more"></span><hr /><p>在项目的package.json文件中记录了npm scripts，如下：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-attr">&quot;scripts&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;dev&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;vue-cli-service serve --open --copy --mode development&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;devs&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;vue-cli-service serve --open --copy --https --mode development&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;prod&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;vue-cli-service serve --open --copy --mode production&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;prods&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;vue-cli-service serve --open --copy --https --mode production&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;lint&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;eslint --ext .js,.vue src&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;lint-fix&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;eslint --ext .js,.vue src --fix&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;build&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;vue-cli-service build --report&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;build:prod&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;vue-cli-service build --report --mode production --dest dist&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;build:dev&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;vue-cli-service build --report --mode development --dest dist&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;preview&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;node build/index.js --preview&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;new&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;plop&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;svgo&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;svgo -f src/icons/svg --config=src/icons/svgo.yml&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;test:unit&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;jest --clearCache &amp;&amp; vue-cli-service test:unit&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;test:ci&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;npm run lint &amp;&amp; npm run test:unit&quot;</span><br><span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br></code></pre></td></tr></table></figure><p>用18&#x2F;19高版本的node运行<em><strong>npm run dev</strong></em>，发生了错误。</p><h4 id="错误"><a href="#错误" class="headerlink" title="错误"></a>错误</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs awk">Error: error:<span class="hljs-number">0308010</span>C:digital envelope routines::unsupported<br>    at new Hash (node:internal<span class="hljs-regexp">/crypto/</span>hash:<span class="hljs-number">71</span>:<span class="hljs-number">19</span>)<br>    at Object.createHash (node:crypto:<span class="hljs-number">133</span>:<span class="hljs-number">10</span>)<br>    at module.exports (<span class="hljs-regexp">/Users/g</span>aomingliang<span class="hljs-regexp">/gitee/</span>open2lui<span class="hljs-regexp">/node_modules/</span>webpack<span class="hljs-regexp">/lib/u</span>til/createHash.js:<span class="hljs-number">135</span>:<span class="hljs-number">53</span>)<br>    at NormalModule._initBuildHash (<span class="hljs-regexp">/Users/g</span>aomingliang<span class="hljs-regexp">/gitee/</span>open2lui<span class="hljs-regexp">/node_modules/</span>webpack<span class="hljs-regexp">/lib/</span>NormalModule.js:<span class="hljs-number">417</span>:<span class="hljs-number">16</span>)<br>    at handleParseError (<span class="hljs-regexp">/Users/g</span>aomingliang<span class="hljs-regexp">/gitee/</span>open2lui<span class="hljs-regexp">/node_modules/</span>webpack<span class="hljs-regexp">/lib/</span>NormalModule.js:<span class="hljs-number">471</span>:<span class="hljs-number">10</span>)<br>    at <span class="hljs-regexp">/Users/g</span>aomingliang<span class="hljs-regexp">/gitee/</span>open2lui<span class="hljs-regexp">/node_modules/</span>webpack<span class="hljs-regexp">/lib/</span>NormalModule.js:<span class="hljs-number">503</span>:<span class="hljs-number">5</span><br>    at <span class="hljs-regexp">/Users/g</span>aomingliang<span class="hljs-regexp">/gitee/</span>open2lui<span class="hljs-regexp">/node_modules/</span>webpack<span class="hljs-regexp">/lib/</span>NormalModule.js:<span class="hljs-number">358</span>:<span class="hljs-number">12</span><br>    at <span class="hljs-regexp">/Users/g</span>aomingliang<span class="hljs-regexp">/gitee/</span>open2lui<span class="hljs-regexp">/node_modules/</span>loader-runner<span class="hljs-regexp">/lib/</span>LoaderRunner.js:<span class="hljs-number">373</span>:<span class="hljs-number">3</span><br>    at iterateNormalLoaders (<span class="hljs-regexp">/Users/g</span>aomingliang<span class="hljs-regexp">/gitee/</span>open2lui<span class="hljs-regexp">/node_modules/</span>loader-runner<span class="hljs-regexp">/lib/</span>LoaderRunner.js:<span class="hljs-number">214</span>:<span class="hljs-number">10</span>)<br>    at Array.&lt;anonymous&gt; (<span class="hljs-regexp">/Users/g</span>aomingliang<span class="hljs-regexp">/gitee/</span>open2lui<span class="hljs-regexp">/node_modules/</span>loader-runner<span class="hljs-regexp">/lib/</span>LoaderRunner.js:<span class="hljs-number">205</span>:<span class="hljs-number">4</span>)<br>    at Storage.finished (<span class="hljs-regexp">/Users/g</span>aomingliang<span class="hljs-regexp">/gitee/</span>open2lui<span class="hljs-regexp">/node_modules/</span>enhanced-resolve<span class="hljs-regexp">/lib/</span>CachedInputFileSystem.js:<span class="hljs-number">55</span>:<span class="hljs-number">16</span>)<br>    at <span class="hljs-regexp">/Users/g</span>aomingliang<span class="hljs-regexp">/gitee/</span>open2lui<span class="hljs-regexp">/node_modules/</span>enhanced-resolve<span class="hljs-regexp">/lib/</span>CachedInputFileSystem.js:<span class="hljs-number">91</span>:<span class="hljs-number">9</span><br>    at <span class="hljs-regexp">/Users/g</span>aomingliang<span class="hljs-regexp">/gitee/</span>open2lui<span class="hljs-regexp">/node_modules/g</span>raceful-fs/graceful-fs.js:<span class="hljs-number">123</span>:<span class="hljs-number">16</span><br>    at FSReqCallback.readFileAfterClose [as oncomplete] (node:internal<span class="hljs-regexp">/fs/</span>read_file_context:<span class="hljs-number">68</span>:<span class="hljs-number">3</span>) &#123;<br>  opensslErrorStack: [ <span class="hljs-string">&#x27;error:03000086:digital envelope routines::initialization error&#x27;</span> ],<br>  library: <span class="hljs-string">&#x27;digital envelope routines&#x27;</span>,<br>  reason: <span class="hljs-string">&#x27;unsupported&#x27;</span>,<br>  code: <span class="hljs-string">&#x27;ERR_OSSL_EVP_UNSUPPORTED&#x27;</span><br>&#125;<br><br>Node.js v18.<span class="hljs-number">14.0</span><br>npm notice<br>npm notice New minor version of npm available! <span class="hljs-number">9.3</span>.<span class="hljs-number">1</span> -&gt; <span class="hljs-number">9.4</span>.<span class="hljs-number">2</span><br>npm notice Changelog: https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/npm/</span>cli<span class="hljs-regexp">/releases/</span>tag/v9.<span class="hljs-number">4.2</span><br>npm notice Run npm install -g npm@<span class="hljs-number">9.4</span>.<span class="hljs-number">2</span> to update!<br>npm notice<br></code></pre></td></tr></table></figure><h4 id="问题原因"><a href="#问题原因" class="headerlink" title="问题原因"></a>问题原因</h4><p>对前端不是特别精通，具体什么原因上网查了下，大致理解原因：<br>出现这个错误是因为node.js V17、18、19高版本中最近发布的OpenSSL3.0, 而OpenSSL3.0对允许算法和密钥大小增加了严格的限制，可能会对生态系统造成一些影响.</p><h4 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h4><blockquote><p>方案一</p></blockquote><p>在控制台中进行变量设置：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-built_in">export</span> <span class="hljs-attribute">NODE_OPTIONS</span>=--openssl-legacy-provider<br></code></pre></td></tr></table></figure><p>把NODE_OPTIONS变量设置为环境变量，在运行的时候直接export导入，<em><strong>npm run dev</strong></em>运行。</p><blockquote><p>方案二</p></blockquote><p>直接修改package.json scripts内容如下：</p><figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs brainfuck"><span class="hljs-comment">export NODE_OPTIONS=</span><span class="hljs-literal">--</span><span class="hljs-comment">openssl</span><span class="hljs-literal">-</span><span class="hljs-comment">legacy</span><span class="hljs-literal">-</span><span class="hljs-comment">provider &amp;&amp; vue</span><span class="hljs-literal">-</span><span class="hljs-comment">cli</span><span class="hljs-literal">-</span><span class="hljs-comment">service serve</span> <span class="hljs-literal">--</span><span class="hljs-comment">open</span> <span class="hljs-literal">--</span><span class="hljs-comment">copy</span> <span class="hljs-literal">--</span><span class="hljs-comment">mode development</span><br></code></pre></td></tr></table></figure><p>运行<em><strong>npm run dev</strong></em>，高版本node的问题解决。<br>但是，这么处理有个问题，就是其他的script脚本也需要加上变量，不如直接在控制台活着配置文件中添加。</p><h4 id="开发工具"><a href="#开发工具" class="headerlink" title="开发工具"></a>开发工具</h4><p>IDE：WebStorm<br>OS：MacOS<br>node多版本管理用的为n。</p><p><font size=6.5 color='red'>坚持学习。。。。。。</font></p>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VUE</tag>
      
      <tag>NPM</tag>
      
      <tag>NODE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Window Server 2012R2添加我的电脑</title>
    <link href="/articles/7239/"/>
    <url>/articles/7239/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p>新服务器刚装的Window Server 2012R2系统，打开服务器发现找不到我的电脑，需要对其进行简单操作下才可以显示。</p>          </div><span id="more"></span><hr /><h4 id="系统版本"><a href="#系统版本" class="headerlink" title="系统版本"></a>系统版本</h4><table><thead><tr><th align="center">名称</th><th align="center">版本</th></tr></thead><tbody><tr><td align="center">服务器系统</td><td align="center">Windows Server2012 R2 Standard</td></tr></tbody></table><h4 id="我的电脑"><a href="#我的电脑" class="headerlink" title="我的电脑"></a>我的电脑</h4><p>1、运行win徽标键+R，输入下列代码：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus">rundll32<span class="hljs-selector-class">.exe</span> shell32<span class="hljs-selector-class">.dll</span>,Control_RunDLL desk<span class="hljs-selector-class">.cpl</span>,,<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><p><font size=6.5 color='red'>逗号一定要用英文逗号,</font><br><font size=6.5 color='blue'>逗号一定要用英文逗号,</font><br><font size=6.5 color='yellow'>逗号一定要用英文逗号,</font></p><p>2、确定之后，会出现以下设置配置的项目，勾选我的电脑以及需要桌面显示快捷入口。<br><img src="/articles/7239/computer.jpeg"></p>]]></content>
    
    
    <categories>
      
      <category>Windows</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Window Server</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Oracle报错监听TNS-01155</title>
    <link href="/articles/4107/"/>
    <url>/articles/4107/</url>
    
    <content type="html"><![CDATA[<span class="label label-default">Oracle</span> <span class="label label-info"> TNS-01155</span><span id="more"></span><hr /><h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>今天对线上数据库进行<em><strong>expdp</strong></em>备份，先lsntctl stop停止了监听，然后expdp进行数据库备份，备份完之后在启动监听发现直接报：TNS-01155的错误。<br><img src="/articles/4107/lsnrctl_start_error.PNG"></p><h3 id="解决方案："><a href="#解决方案：" class="headerlink" title="解决方案："></a>解决方案：</h3><p>找到Oracle数据库的listener.ora文件中，vim删除以下内容代码：<br><img src="/articles/4107/listener.PNG"></p><h3 id="启动监听"><a href="#启动监听" class="headerlink" title="启动监听"></a>启动监听</h3><p><img src="/articles/4107/lsnrctl_start.PNG"></p>]]></content>
    
    
    <categories>
      
      <category>数据库</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Oracle</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Windows安装2个Tomcat</title>
    <link href="/articles/27869/"/>
    <url>/articles/27869/</url>
    
    <content type="html"><![CDATA[<h3 id="1、背景"><a href="#1、背景" class="headerlink" title="1、背景"></a>1、背景</h3><div class="note note-primary">            <p>在Windows上运行Tomcat6、Tomcat8，Tomcat与对应的Java有版本关系。</p>          </div><span id="more"></span><hr /><h3 id="2、环境"><a href="#2、环境" class="headerlink" title="2、环境"></a>2、环境</h3><table><thead><tr><th align="center">id</th><th align="center">Tomcat版本</th><th align="center">Java版本</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">6</td><td align="center">1.6</td></tr><tr><td align="center">2</td><td align="center">8</td><td align="center">1.8</td></tr></tbody></table><h3 id="3、特殊说明"><a href="#3、特殊说明" class="headerlink" title="3、特殊说明"></a>3、特殊说明</h3><p>第一套Tomcat6与Java1.6正常配置，这里不做详细描述。</p><h3 id="4、操作方式"><a href="#4、操作方式" class="headerlink" title="4、操作方式"></a>4、操作方式</h3><p>安装JDK1.8与TOMCAT8，环境已经已存在tomcat6，如果只有一个tomcat不需要设置。<br>TOMCAT8&#x2F;Bin&#x2F;startup.bat、TOMCAT8&#x2F;bin&#x2F;setclasspath.bat最上面添加：</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs dos"><span class="hljs-comment">rem =====================================================================</span><br><span class="hljs-comment">rem tomcat</span><br><span class="hljs-built_in">SET</span> CATALINA_HOME=D:\apache-tomcat-<span class="hljs-number">8</span>.<span class="hljs-number">5</span>.<span class="hljs-number">59</span><br><span class="hljs-built_in">SET</span> CATALINA_BASE=D:\apache-tomcat-<span class="hljs-number">8</span>.<span class="hljs-number">5</span>.<span class="hljs-number">59</span><br><span class="hljs-built_in">SET</span> CATALINA_TMPDIR=D:\apache-tomcat-<span class="hljs-number">8</span>.<span class="hljs-number">5</span>.<span class="hljs-number">59</span>\temp<br><span class="hljs-comment"></span><br><span class="hljs-comment">rem java</span><br><span class="hljs-built_in">SET</span> JAVA_HOME=C:\Program Files\Java\jdk1.<span class="hljs-number">8</span>.<span class="hljs-number">0</span>_271<br><span class="hljs-comment">rem =====================================================================</span><br></code></pre></td></tr></table></figure><p><font color='red' size=6.5>坚持学习。。。。。。！！！。</font></p>]]></content>
    
    
    <categories>
      
      <category>服务器</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>Tomcat</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>VUE之input只允许输入数字</title>
    <link href="/articles/18893/"/>
    <url>/articles/18893/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p>加工INPUT标签，只允许输入数字</p>          </div><span class="label label-primary">VUE</span> <span class="label label-info">INPUT</span><span id="more"></span><hr /><p>在写前端代码的时候，经常会遇到手机号的input输入框，除了位数限制，还有数字等判断，对input进行加工，满足纯数字输入：</p><h4 id="方式一"><a href="#方式一" class="headerlink" title="方式一"></a>方式一</h4><p>直接用oninput事件处理输入的内容，正则匹配内容</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs elixir">&lt;el-input<br>    v-model.trim=<span class="hljs-string">&quot;formData.start&quot;</span><br>    placeholder=<span class="hljs-string">&quot;文档转换的起始页码，默认首页开始&quot;</span><br>    <span class="hljs-symbol">:size=<span class="hljs-string">&quot;inputAttrs.size&quot;</span></span><br>    <span class="hljs-symbol">:maxlength=<span class="hljs-string">&quot;formDataLimit.start&quot;</span></span><br>    <span class="hljs-symbol">:clearable=<span class="hljs-string">&quot;inputAttrs.clear&quot;</span></span><br>    <span class="hljs-symbol">:show-word-limit=<span class="hljs-string">&quot;inputAttrs.limit&quot;</span></span><br>    <span class="hljs-symbol">:prefix-icon=<span class="hljs-string">&quot;inputAttrs.prefixIcon&quot;</span></span><br>    <span class="hljs-symbol">:disabled=<span class="hljs-string">&quot;!formData.mode&quot;</span></span><br>    oninput=<span class="hljs-string">&quot;this.value=this.value.replace(/[^\d]/g,&#x27;&#x27;);&quot;</span><br>/&gt;<br></code></pre></td></tr></table></figure><h4 id="方式二"><a href="#方式二" class="headerlink" title="方式二"></a>方式二</h4><p>直接使用Element-UI的el-input-number组件。</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim">&lt;<span class="hljs-keyword">el</span>-<span class="hljs-built_in">input</span>-<span class="hljs-keyword">number</span> v-model=<span class="hljs-string">&quot;num&quot;</span> @change=<span class="hljs-string">&quot;handleChange&quot;</span> :<span class="hljs-built_in">min</span>=<span class="hljs-string">&quot;1&quot;</span> :<span class="hljs-built_in">max</span>=<span class="hljs-string">&quot;10&quot;</span> label=<span class="hljs-string">&quot;描述文字&quot;</span>&gt;&lt;/<span class="hljs-keyword">el</span>-<span class="hljs-built_in">input</span>-<span class="hljs-keyword">number</span>&gt;<br></code></pre></td></tr></table></figure><div class="post_cus_note">END</div>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VUE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>VUE富文本编辑器学习</title>
    <link href="/articles/8950/"/>
    <url>/articles/8950/</url>
    
    <content type="html"><![CDATA[<h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><div class="note note-primary">            <p>最近的OpenTool平台集成了SQLBase功能，大致就是采集日常用的SQL语句，供使用的人参考，所以在富文本这搜索一下，自己使用的是wangeditor（国产）。</p>          </div><span class="label label-primary">VUE</span> <span class="label label-info">富文本编辑器</span><span id="more"></span><hr /><h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><p>下面2个文章是</p><ul><li>11款vue富文本编辑器推荐：<a href="https://www.geekku.com/spec/vue/1574.html">https://www.geekku.com/spec/vue/1574.html</a></li><li>最好用的8款Vue富文本编辑器测评与推荐：<a href="https://kalacloud.com/blog/vue-richtext-editor/">https://kalacloud.com/blog/vue-richtext-editor/</a></li></ul><h3 id="学习"><a href="#学习" class="headerlink" title="学习"></a>学习</h3><p>国内外有很多VUE富文本组件，有TinyMCE、CKEditor5等等，太多了，在本次开发中我使用的wangeditor，是一位国内友人开源的一款富文本，总体来说文档、使用还是很方便的。</p><p>官网：<a href="https://www.wangeditor.com/">https://www.wangeditor.com/</a></p><p>具体的代码、ISSUE、API都有很详细的说明，而且还支持二次开发。</p><p><font size=5.5 color='red'><em><strong>坚持每天学习。。。。。。</strong></em></font></p>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VUE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pycharm出现Non-Project-Files-Protection的解决方法</title>
    <link href="/articles/62345/"/>
    <url>/articles/62345/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p><font color='red' size=4.5>Pycharm打开Python项目出现Non Project Files Protection提示，并且处理项目文件需要确认，度娘上找了下解决方案，记录一下</font></p>          </div><span class="label label-default">Python</span> <span class="label label-primary">Pycharm</span><span id="more"></span><hr /><p>从远程git仓库clone项目的时候，如果项目包含<font color='red' size=5.5>.idea文件夹</font>，直接用Pycharm工具打开的时候，会提示：Non Project Files Protection。<br>关闭Pycharm，找到项目目录，删除.idea文件夹即可。</p><blockquote><p>win</p></blockquote><p>1.需要设置文件夹显示隐藏文件、文件夹<br>2.资源管理器删除.idea文件夹</p><blockquote><p>MacOS</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> 项目目录<br>ll<br><span class="hljs-built_in">rm</span> -rf .idea<br></code></pre></td></tr></table></figure><p>Pycharm工具重新打开项目。</p><p><img src="/articles/62345/article_pycharm.jpeg"></p>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
    </categories>
    
    
    <tags>
      
      <tag>IDE</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>前端栅格布局xs sm md lg xl详解</title>
    <link href="/articles/6149/"/>
    <url>/articles/6149/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p>在写VUE的时候用到了Layout布局组件，el-col里面有多个属性是控制大小的，一直都是搞后台的，css基本是小白，查阅资料记录一下学习的内容。</p>          </div><span id="more"></span><hr /><p>看下官网实例，响应式设计：</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs ruby">&lt;el-row <span class="hljs-symbol">:gutter=<span class="hljs-string">&quot;10&quot;</span>&gt;</span><br>  &lt;el-col <span class="hljs-symbol">:xs=<span class="hljs-string">&quot;8&quot;</span></span> <span class="hljs-symbol">:sm=<span class="hljs-string">&quot;6&quot;</span></span> <span class="hljs-symbol">:md=<span class="hljs-string">&quot;4&quot;</span></span> <span class="hljs-symbol">:lg=<span class="hljs-string">&quot;3&quot;</span></span> <span class="hljs-symbol">:xl=<span class="hljs-string">&quot;1&quot;</span>&gt;&lt;div</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;grid-content bg-purple&quot;</span>&gt;&lt;<span class="hljs-regexp">/div&gt;&lt;/el</span>-col&gt;<br>  &lt;el-col <span class="hljs-symbol">:xs=<span class="hljs-string">&quot;4&quot;</span></span> <span class="hljs-symbol">:sm=<span class="hljs-string">&quot;6&quot;</span></span> <span class="hljs-symbol">:md=<span class="hljs-string">&quot;8&quot;</span></span> <span class="hljs-symbol">:lg=<span class="hljs-string">&quot;9&quot;</span></span> <span class="hljs-symbol">:xl=<span class="hljs-string">&quot;11&quot;</span>&gt;&lt;div</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;grid-content bg-purple-light&quot;</span>&gt;&lt;<span class="hljs-regexp">/div&gt;&lt;/el</span>-col&gt;<br>  &lt;el-col <span class="hljs-symbol">:xs=<span class="hljs-string">&quot;4&quot;</span></span> <span class="hljs-symbol">:sm=<span class="hljs-string">&quot;6&quot;</span></span> <span class="hljs-symbol">:md=<span class="hljs-string">&quot;8&quot;</span></span> <span class="hljs-symbol">:lg=<span class="hljs-string">&quot;9&quot;</span></span> <span class="hljs-symbol">:xl=<span class="hljs-string">&quot;11&quot;</span>&gt;&lt;div</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;grid-content bg-purple&quot;</span>&gt;&lt;<span class="hljs-regexp">/div&gt;&lt;/el</span>-col&gt;<br>  &lt;el-col <span class="hljs-symbol">:xs=<span class="hljs-string">&quot;8&quot;</span></span> <span class="hljs-symbol">:sm=<span class="hljs-string">&quot;6&quot;</span></span> <span class="hljs-symbol">:md=<span class="hljs-string">&quot;4&quot;</span></span> <span class="hljs-symbol">:lg=<span class="hljs-string">&quot;3&quot;</span></span> <span class="hljs-symbol">:xl=<span class="hljs-string">&quot;1&quot;</span>&gt;&lt;div</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;grid-content bg-purple-light&quot;</span>&gt;&lt;<span class="hljs-regexp">/div&gt;&lt;/el</span>-col&gt;<br>&lt;<span class="hljs-regexp">/el-row&gt;</span><br></code></pre></td></tr></table></figure><p>里面包含了xs sm md lg xl属性来控制宽度，对这几个值进行详解：</p><ul><li>xl【extra large】：屏幕 &gt;&#x3D; 1920px，超大显示器</li><li>lg【large】：1200px &lt;&#x3D; 屏幕 &lt;&#x3D; 1920px，台式1920*1080显示器</li><li>md【middle】：992px&lt;&#x3D; 屏幕 &lt;&#x3D; 1200px，适合笔记本</li><li>sm【small】：768px &lt;&#x3D; 屏幕 &lt;&#x3D; 992px，适合平板</li><li>xs【extra small】：屏幕&lt;&#x3D;768，手机端屏幕</li></ul><blockquote><p>优点</p></blockquote><p>如果屏幕的大小发生改变，系统会根据设置的大小进行分别显示，感觉挺好用的。</p><blockquote><p>测试</p></blockquote><p>正常分辨率</p><p><img src="/articles/6149/1.png"></p><p>更改分辨率</p><p><img src="/articles/6149/2.png"></p>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HTML</tag>
      
      <tag>CSS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Bash脚本之自动解压zip</title>
    <link href="/articles/42651/"/>
    <url>/articles/42651/</url>
    
    <content type="html"><![CDATA[<span class="label label-primary">Bash</span> <span class="label label-info">Bash脚本系列</span><div class="post_cus_note">Bash脚本系列</div><span id="more"></span><hr /><p>记录日常服务器运维用到的Bash脚本。</p><h4 id="1、简介"><a href="#1、简介" class="headerlink" title="1、简介"></a>1、简介</h4><p>每天新接收新的zip文件，并且zip文件压缩的时候是直接集成了文件，没有把文件放在一个目录里面在进行压缩。</p><h4 id="2、源码"><a href="#2、源码" class="headerlink" title="2、源码"></a>2、源码</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/usr/bin/bash</span><br><br><br>LDIR=/home/mingliang.gao/newdir<br><span class="hljs-built_in">cd</span> <span class="hljs-variable">$LDIR</span><br>files=$(<span class="hljs-built_in">ls</span> | grep <span class="hljs-string">&quot;.zip&quot;</span>)<br><br><span class="hljs-keyword">for</span> file <span class="hljs-keyword">in</span> <span class="hljs-variable">$files</span><br><span class="hljs-keyword">do</span><br>  <span class="hljs-built_in">echo</span> <span class="hljs-variable">$file</span><br>  NAME=`<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$file</span>&quot;</span> | <span class="hljs-built_in">cut</span> -d<span class="hljs-string">&#x27;.&#x27;</span> -f1`<br>  <span class="hljs-comment">#EXTENSION=`echo &quot;$file&quot; | cut -d&#x27;.&#x27; -f2`</span><br>  <span class="hljs-keyword">if</span> [ ! -e <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;NAME&#125;</span>&quot;</span> ]; <span class="hljs-keyword">then</span><br>    unzip <span class="hljs-variable">$&#123;LDIR&#125;</span>/<span class="hljs-variable">$&#123;file&#125;</span> -d <span class="hljs-variable">$&#123;LDIR&#125;</span>/<span class="hljs-variable">$&#123;NAME&#125;</span><br>  <span class="hljs-keyword">fi</span><br><span class="hljs-keyword">done</span><br></code></pre></td></tr></table></figure><h4 id="3、配置"><a href="#3、配置" class="headerlink" title="3、配置"></a>3、配置</h4><p>LDIR：*.zip文件所在的目录</p><h4 id="4、系列"><a href="#4、系列" class="headerlink" title="4、系列"></a>4、系列</h4><p>其他Bash系列请点击tag标签进行查看。</p><p><font size=6.5 color='red'>Bash脚本系列，持续更新中。。。。。。</font></p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Bash</tag>
      
      <tag>Bash脚本系列</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Oracle手工导入dat数据</title>
    <link href="/articles/30542/"/>
    <url>/articles/30542/</url>
    
    <content type="html"><![CDATA[<div class="note note-info">            <p>最近开始搞Oracle数据库，看存储过程学习了一下Oracle怎么导入dat数据的，这里记录一下，方便日后查询使用。</p>          </div><span class="label label-info">Oracle</span> <span class="label label-primary">sqlplus</span> <span class="label label-default">sqlldr</span><span id="more"></span><hr /><h4 id="第一步：SQL语句"><a href="#第一步：SQL语句" class="headerlink" title="第一步：SQL语句"></a>第一步：SQL语句</h4><blockquote><p>第一步：生成ctl文件</p></blockquote><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/u01/</span>app<span class="hljs-regexp">/oracle/</span>product<span class="hljs-regexp">/11.2.0/</span>dbhome_1<span class="hljs-regexp">/bin/</span>sqlplus pas<span class="hljs-regexp">/pas @/</span>home<span class="hljs-regexp">/oracle/</span>pas_control<span class="hljs-regexp">/control.sql T01_CPCT_BSC_INF_FILE_H T01_CPCT_BSC_INF_FILE_H.dat /</span>data<span class="hljs-regexp">/gtp/</span><span class="hljs-number">20220830</span>/<br></code></pre></td></tr></table></figure><ul><li>&#x2F;u01&#x2F;app&#x2F;oracle&#x2F;product&#x2F;11.2.0&#x2F;dbhome_1&#x2F;bin&#x2F;sqlplus：为sqlplus命令的绝对路径，根据环境不同进行更改</li><li>pas&#x2F;pas：账户&#x2F;密码</li><li>@&#x2F;home&#x2F;oracle&#x2F;pas_control&#x2F;control.sql：下面会有control.sql文件详解，这里也是绝对路径</li><li>T01_CPCT_BSC_INF_FILE_H：表名，control.sql文件会用到列举表字段信息</li><li>T01_CPCT_BSC_INF_FILE_H.dat：dat文件名称</li><li>&#x2F;data&#x2F;gtp&#x2F;20220830&#x2F;：dat数据存放的绝对路径</li></ul><blockquote><p>第二步：根据生成的ctl导入数据</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">/u01/app/oracle/product/11.2.0/dbhome_1/bin/sqlldr userid=pas/pas control=/data/gtp/20220830/T01_CPCT_BSC_INF_FILE_H.ctl <span class="hljs-built_in">log</span>=/data/gtp/20220830/T01_CPCT_BSC_INF_FILE_H.<span class="hljs-built_in">log</span> direct=<span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><ul><li>&#x2F;u01&#x2F;app&#x2F;oracle&#x2F;product&#x2F;11.2.0&#x2F;dbhome_1&#x2F;bin&#x2F;sqlldr：sqlldr命令的绝对路径</li><li>userid&#x3D;pas&#x2F;pas：账户&#x2F;密码</li><li>control&#x3D;&#x2F;data&#x2F;gtp&#x2F;20220830&#x2F;T01_CPCT_BSC_INF_FILE_H.ctl：执行第一步sqlplus会生成新的ctl文件，存放的导入命令</li><li>log&#x3D;&#x2F;data&#x2F;gtp&#x2F;20220830&#x2F;T01_CPCT_BSC_INF_FILE_H.log：导入日志</li><li>direct&#x3D;true：是否为直接路径</li></ul><p>sqlldr是Oracle数据加载工具，还有bad、data、discard、skip等很多参数，详细查看man命令或者官网。</p><h4 id="第二步：control-sql"><a href="#第二步：control-sql" class="headerlink" title="第二步：control.sql"></a>第二步：control.sql</h4><p>目的产生新的ctl文件，导入数据时候使用。</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">set</span> echo <span class="hljs-keyword">off</span><br><span class="hljs-keyword">set</span> heading <span class="hljs-keyword">off</span><br><span class="hljs-keyword">set</span> verify <span class="hljs-keyword">off</span><br><span class="hljs-keyword">set</span> feedback <span class="hljs-keyword">off</span><br><span class="hljs-keyword">set</span> <span class="hljs-keyword">show</span> <span class="hljs-keyword">off</span><br><span class="hljs-keyword">set</span> trim <span class="hljs-keyword">off</span><br><span class="hljs-keyword">set</span> pages <span class="hljs-number">0</span><br><span class="hljs-keyword">set</span> concat <span class="hljs-keyword">on</span><br><span class="hljs-keyword">set</span> lines <span class="hljs-number">300</span><br><span class="hljs-keyword">set</span> trimspool <span class="hljs-keyword">on</span><br><span class="hljs-keyword">set</span> trimout <span class="hljs-keyword">on</span><br>spool &amp;<span class="hljs-number">3</span>&amp;<span class="hljs-number">1.</span>.ctl<br><br><span class="hljs-keyword">select</span> <span class="hljs-string">&#x27;LOAD DATA&#x27;</span>||chr (<span class="hljs-number">10</span>)||<br>       <span class="hljs-string">&#x27;CHARACTERSET ZHS16GBK&#x27;</span>||chr (<span class="hljs-number">10</span>)||<br>       <span class="hljs-string">&#x27;INFILE &#x27;&#x27;&amp;3&amp;2&#x27;&#x27;&#x27;</span>||chr (<span class="hljs-number">10</span>)||<br>       <span class="hljs-string">&#x27;APPEND INTO TABLE &#x27;</span>||<span class="hljs-built_in">table_name</span>||chr (<span class="hljs-number">10</span>)||<br>       <span class="hljs-string">&#x27;FIELDS TERMINATED BY &quot;&quot; optionally enclosed by &#x27;&#x27;&quot;&#x27;&#x27;&#x27;</span>||chr (<span class="hljs-number">10</span>)||<br>       <span class="hljs-string">&#x27;TRAILING NULLCOLS&#x27;</span>||chr (<span class="hljs-number">10</span>)||<span class="hljs-string">&#x27;(&#x27;</span><br><span class="hljs-keyword">from</span>   USER_TABLES<br><span class="hljs-keyword">where</span>  <span class="hljs-built_in">table_name</span> = upper (<span class="hljs-string">&#x27;&amp;1&#x27;</span>);<br><br><span class="hljs-keyword">select</span> decode (column_id, <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;   &#x27;</span>, <span class="hljs-string">&#x27; , &#x27;</span>)||<br>       rpad (<span class="hljs-built_in">column_name</span>, <span class="hljs-number">33</span>, <span class="hljs-string">&#x27; &#x27;</span>)||<br>       decode (data_type,<br>               <span class="hljs-string">&#x27;VARCHAR2&#x27;</span>, <span class="hljs-string">&#x27;CHAR(2000) NULLIF (&#x27;</span>||<span class="hljs-built_in">column_name</span>||<span class="hljs-string">&#x27;=BLANKS)&#x27;</span>,<br>               <span class="hljs-string">&#x27;FLOAT&#x27;</span>,    <span class="hljs-string">&#x27;DECIMAL EXTERNAL NULLIF(&#x27;</span>||<span class="hljs-built_in">column_name</span>||<span class="hljs-string">&#x27;=BLANKS)&#x27;</span>,<br>               <span class="hljs-string">&#x27;NUMBER&#x27;</span>,   decode (data_precision, <span class="hljs-number">0</span>,<br>                           <span class="hljs-string">&#x27;INTEGER EXTERNAL NULLIF (&#x27;</span>||<span class="hljs-built_in">column_name</span>||<br>                           <span class="hljs-string">&#x27;=BLANKS)&#x27;</span>, decode (data_scale, <span class="hljs-number">0</span>,<br>                           <span class="hljs-string">&#x27;INTEGER EXTERNAL NULLIF (&#x27;</span>||<br>                           <span class="hljs-built_in">column_name</span>||<span class="hljs-string">&#x27;=BLANKS)&#x27;</span>,<br>                           <span class="hljs-string">&#x27;DECIMAL EXTERNAL NULLIF (&#x27;</span>||<br>                           <span class="hljs-built_in">column_name</span>||<span class="hljs-string">&#x27;=BLANKS)&#x27;</span>)),<br>               <span class="hljs-string">&#x27;DATE&#x27;</span>,     <span class="hljs-string">&#x27;DATE &quot;MM/DD/YY&quot;  NULLIF (&#x27;</span>||<span class="hljs-built_in">column_name</span>||<span class="hljs-string">&#x27;=BLANKS)&#x27;</span>,<br>               <span class="hljs-keyword">null</span>)<br><span class="hljs-keyword">from</span>   user_tab_columns<br><span class="hljs-keyword">where</span>  <span class="hljs-built_in">table_name</span> = upper (<span class="hljs-string">&#x27;&amp;1&#x27;</span>)<br><span class="hljs-keyword">order</span>  <span class="hljs-keyword">by</span> column_id;<br><span class="hljs-keyword">select</span> <span class="hljs-string">&#x27;)&#x27;</span><br><span class="hljs-keyword">from</span> sys.dual;<br>spool <span class="hljs-keyword">off</span><br><span class="hljs-keyword">exit</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>数据库</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Oracle</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python模块之企业微信消息</title>
    <link href="/articles/33254/"/>
    <url>/articles/33254/</url>
    
    <content type="html"><![CDATA[<div class="post_cus_note">Python模块系列</div><span id="more"></span><hr /><h4 id="版本"><a href="#版本" class="headerlink" title="版本"></a>版本</h4><table><thead><tr><th align="center">名称</th><th align="center">版本</th></tr></thead><tbody><tr><td align="center">Python</td><td align="center">3</td></tr></tbody></table><h4 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h4><p>企业微信消息通知<br>腾讯企业微信官网提供一整套WebHook API接口，内容相当丰富，可以实现内部、第三方等各种各样的功能<br>详情参考reference urls</p><h4 id="设计"><a href="#设计" class="headerlink" title="设计"></a>设计</h4><p>运用requests模拟API请求，这里主要实现了2大请求：</p><ul><li>ACCESS TOKEN：认证token获取</li><li>SEND MESSAGE：发送消息</li></ul><h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs routeros">qywx_lib = QYWXLib(<span class="hljs-attribute">corp_id</span>=企业号标识, <span class="hljs-attribute">secret</span>=管理组凭证密钥, <span class="hljs-attribute">agent_id</span>=机器人应用ID)<br>qywx_lib.send_to_user_by_markdown(to_user, message)<br></code></pre></td></tr></table></figure><p>初始化必须的参数：</p><ul><li>corp_id: 企业号标识</li><li>secret: 管理组凭证密钥</li><li>agent_id: 机器人应用ID</li></ul><h4 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h4><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br></pre></td><td class="code"><pre><code class="hljs vim"># -*- coding: utf-<span class="hljs-number">8</span> -*-<br><br><span class="hljs-string">&quot;&quot;</span><span class="hljs-comment">&quot;</span><br>------------------------------------------------<br><br>describe:<br>    企业微信消息通知<br>    腾讯企业微信官网提供一整套WebHook API接口，内容相当丰富，可以实现内部、第三方等各种各样的功能<br>    详情参考reference urls<br><br>base_info:<br>    __author__ = <span class="hljs-string">&quot;PyGo&quot;</span><br>    __time__ = <span class="hljs-string">&quot;2022/9/14&quot;</span><br>    __version__ = <span class="hljs-string">&quot;v.1.0.0&quot;</span><br>    __mail__ = <span class="hljs-string">&quot;gaoming971366@163.com&quot;</span><br>    __project__ = <span class="hljs-string">&quot;quality-inspect&quot;</span><br><br>usage:<br>    qywx_lib = QYWXLib(corp_id=企业号标识, secret=管理组凭证密钥, agent_id=机器人应用ID)<br>    qywx_lib.send_to_user_by_markdown(to_user, message)<br><br>    初始化必须的参数：<br>        - corp_id: 企业号标识<br>        - secret: 管理组凭证密钥<br>        - agent_id: 机器人应用ID<br><br>design:<br>    运用requests模拟API请求，这里主要实现了<span class="hljs-number">2</span>大请求：<br>        - ACCESS TOKEN：认证token获取<br>        - SEND MESSAGE：发送消息<br><br>reference urls:<br>  - ACCESS TOKEN：https://developer.work.weixin.qq.<span class="hljs-keyword">com</span>/document/path/<span class="hljs-number">91039</span><br>  - 发送应用消息：https://developer.work.weixin.qq.<span class="hljs-keyword">com</span>/document/path/<span class="hljs-number">90236</span><br>  - 全局错误码：https://developer.work.weixin.qq.<span class="hljs-keyword">com</span>/document/path/<span class="hljs-number">90313</span>#<span class="hljs-number">10649</span><br>  --------------------------------------------------------------------------------------<br>    企业微信API response：<br>    &#123;<br>      <span class="hljs-string">&quot;errcode&quot;</span> : <span class="hljs-number">0</span>,<br>      <span class="hljs-string">&quot;errmsg&quot;</span> : <span class="hljs-string">&quot;ok&quot;</span>,<br>      <span class="hljs-string">&quot;invaliduser&quot;</span> : <span class="hljs-string">&quot;userid1|userid2&quot;</span>,<br>      <span class="hljs-string">&quot;invalidparty&quot;</span> : <span class="hljs-string">&quot;partyid1|partyid2&quot;</span>,<br>      <span class="hljs-string">&quot;invalidtag&quot;</span>: <span class="hljs-string">&quot;tagid1|tagid2&quot;</span>,<br>      <span class="hljs-string">&quot;unlicenseduser&quot;</span> : <span class="hljs-string">&quot;userid3|userid4&quot;</span>,<br>      <span class="hljs-string">&quot;msgid&quot;</span>: <span class="hljs-string">&quot;xxxx&quot;</span>,<br>      <span class="hljs-string">&quot;response_code&quot;</span>: <span class="hljs-string">&quot;xyzxyz&quot;</span><br>    &#125;<br>  --------------------------------------------------------------------------------------<br>  - 错误码查询工具：https://<span class="hljs-keyword">open</span>.work.weixin.qq.<span class="hljs-keyword">com</span>/devtool/query<br>  - 发消息API参考：https://developer.work.weixin.qq.<span class="hljs-keyword">com</span>/document/path/<span class="hljs-number">90236</span><br>  - MARKDOWN语法：https://developer.work.weixin.qq.<span class="hljs-keyword">com</span>/document/path/<span class="hljs-number">90236</span>#%E6%<span class="hljs-number">94</span>%AF%E6%<span class="hljs-number">8</span>C%<span class="hljs-number">81</span>%E7%<span class="hljs-number">9</span>A%<span class="hljs-number">84</span>markdown%E8%AF%AD%E6%B3%<span class="hljs-number">95</span><br><br><br><span class="hljs-keyword">python</span> <span class="hljs-keyword">version</span>:<br>    <span class="hljs-keyword">python3</span><br><br><br>Enjoy the good time everyday！！!<br>Life <span class="hljs-keyword">is</span> short, I use <span class="hljs-keyword">python</span>.<br><br>------------------------------------------------<br><span class="hljs-string">&quot;&quot;</span><span class="hljs-comment">&quot;</span><br><br># ------------------------------------------------------------<br># usage: /usr/bin/<span class="hljs-keyword">python</span> qywx_lib.<span class="hljs-keyword">py</span><br># ------------------------------------------------------------<br>import requests<br><br>from deploy.status import Status<br>from config import QYWX_SEND_MESSAGE, \<br>    QYWX_ACCESS_TOKEN, DEBUG<br>from deploy.logger import logger <span class="hljs-keyword">as</span> LOG<br><br><br>class QYWXLib(object):<br>    <span class="hljs-string">&quot;&quot;</span><span class="hljs-comment">&quot;</span><br>    QYWX class<br>    <span class="hljs-string">&quot;&quot;</span><span class="hljs-comment">&quot;</span><br>    def __init__(self, corp_id, secret, agent_id):<br>        <span class="hljs-string">&quot;&quot;</span><span class="hljs-comment">&quot;</span><br>        Initialize parameter<br>        :param corp_id: 企业号标识<br>        :param secret: 管理组凭证密钥<br>        :param agent_id: 机器人应用ID<br>        <span class="hljs-string">&quot;&quot;</span><span class="hljs-comment">&quot;</span><br>        <span class="hljs-keyword">if</span> DEBUG:<br>            LOG.<span class="hljs-keyword">debug</span>(<span class="hljs-string">&#x27;QYWX lib is loading.&#x27;</span>)<br>        self.CORP_ID = corp_id<br>        self.SECRET = secret<br>        self.AGENT_ID = agent_id<br>        self.token = self.__init_token()   # 每次实例化调用初始化access token<br><br>    def __init_token(self):<br>        <span class="hljs-string">&quot;&quot;</span><span class="hljs-comment">&quot;</span><br>        Initialize access token<br>        :<span class="hljs-keyword">return</span>: <span class="hljs-built_in">string</span><br><br>        请求方式： GET（HTTPS）<br>        请求地址： https://qyapi.weixin.qq.<span class="hljs-keyword">com</span>/cgi-bin/gettoken?corpid=ID&amp;corpsecret=SECRET<br>            - ID：企业号标识<br>            - SECRET：管理组凭证密钥<br>        返回示例：<br>            &#123;<br>               <span class="hljs-string">&quot;errcode&quot;</span>: <span class="hljs-number">0</span>,<br>               <span class="hljs-string">&quot;errmsg&quot;</span>: <span class="hljs-string">&quot;ok&quot;</span>,<br>               <span class="hljs-string">&quot;access_token&quot;</span>: <span class="hljs-string">&quot;accesstoken000001&quot;</span>,<br>               <span class="hljs-string">&quot;expires_in&quot;</span>: <span class="hljs-number">7200</span><br>            &#125;<br>            - errcode：出错返回码，为<span class="hljs-number">0</span>表示成功，非<span class="hljs-number">0</span>表示调用失败<br>            - errmsg：返回码提示语<br>            - access_token：获取到的凭证，最长为<span class="hljs-number">512</span>字节<br>            - expires_in：凭证的有效时间（秒）<br><br>        ACCESS TOKEN API参考：https://developer.work.weixin.qq.<span class="hljs-keyword">com</span>/document/path/<span class="hljs-number">91039</span><br><br>        TODO<br>        <span class="hljs-number">7200</span>秒（<span class="hljs-number">2</span>小时）后续优化为缓存机制，避免在有效期内频繁调用<br>        <span class="hljs-string">&quot;&quot;</span><span class="hljs-comment">&quot;</span><br>        <span class="hljs-keyword">if</span> DEBUG:<br>            LOG.<span class="hljs-keyword">debug</span>(<span class="hljs-string">&#x27;QYWX lib start to apply access token.&#x27;</span>)<br>        data = &#123;<br>            <span class="hljs-string">&quot;corpid&quot;</span>: self.CORP_ID,<br>            <span class="hljs-string">&quot;corpsecret&quot;</span>: self.SECRET<br>        &#125;<br>        req = requests.<span class="hljs-built_in">get</span>(url=QYWX_ACCESS_TOKEN, params=data)<br>        <span class="hljs-keyword">res</span> = req.json()<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">res</span>.<span class="hljs-built_in">get</span>(<span class="hljs-string">&quot;errcode&quot;</span>) == <span class="hljs-number">0</span> <span class="hljs-built_in">and</span> <span class="hljs-keyword">res</span>.<span class="hljs-built_in">get</span>(<span class="hljs-string">&quot;errmsg&quot;</span>) == <span class="hljs-string">&quot;ok&quot;</span>:<br>            <span class="hljs-keyword">if</span> DEBUG:<br>                LOG.<span class="hljs-keyword">debug</span>(<span class="hljs-string">&#x27;QYWX lib access token apply success.&#x27;</span>)<br>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">res</span>.<span class="hljs-built_in">get</span>(<span class="hljs-string">&quot;access_token&quot;</span>)<br>        <span class="hljs-keyword">else</span>:<br>            LOG.error(<span class="hljs-string">&#x27;QYWX lib access token apply failure: %s&#x27;</span> % <span class="hljs-keyword">res</span>.<span class="hljs-built_in">get</span>(<span class="hljs-string">&#x27;errmsg&#x27;</span>))<br>            <span class="hljs-keyword">return</span> None<br><br>    def check_token(self):<br>        <span class="hljs-string">&quot;&quot;</span><span class="hljs-comment">&quot;</span><br>        check access token <span class="hljs-keyword">is</span> <span class="hljs-built_in">or</span> not available<br>        :<span class="hljs-keyword">return</span>: bool<br>        <span class="hljs-string">&quot;&quot;</span><span class="hljs-comment">&quot;</span><br>        <span class="hljs-keyword">return</span> True <span class="hljs-keyword">if</span> self.token <span class="hljs-keyword">else</span> False<br><br>    def send_to_user_by_markdown(self, to_user: <span class="hljs-keyword">list</span>, content: str, **kwargs):<br>        <span class="hljs-string">&quot;&quot;</span><span class="hljs-comment">&quot;</span><br>        用户私发消息 &gt;&gt;&gt; markdown语法消息体<br><br>        send message <span class="hljs-keyword">to</span> user <span class="hljs-keyword">list</span> by the content of markdown <span class="hljs-built_in">type</span> data<br>        :param to_user: 企业微信用户ID列表，列表类型参数<br>        :param content: markdown消息体<br>        :param kwargs: 其他key-value参数<br>        :<span class="hljs-keyword">return</span>: json<br><br><br>        请求方式：POST（HTTPS）<br>        请求地址： https://qyapi.weixin.qq.<span class="hljs-keyword">com</span>/cgi-bin/message/send?access_token=ACCESS_TOKEN<br>            - ACCESS_TOKEN：access token<br>        请求数据：<br>            &#123;<br>               <span class="hljs-string">&quot;touser&quot;</span> : <span class="hljs-string">&quot;UserID1|UserID2|UserID3&quot;</span>,<br>               <span class="hljs-string">&quot;toparty&quot;</span> : <span class="hljs-string">&quot;PartyID1|PartyID2&quot;</span>,<br>               <span class="hljs-string">&quot;totag&quot;</span> : <span class="hljs-string">&quot;TagID1 | TagID2&quot;</span>,<br>               <span class="hljs-string">&quot;msgtype&quot;</span>: <span class="hljs-string">&quot;markdown&quot;</span>,<br>               <span class="hljs-string">&quot;agentid&quot;</span> : <span class="hljs-number">1</span>,<br>               <span class="hljs-string">&quot;markdown&quot;</span>: &#123;<br>                    <span class="hljs-string">&quot;content&quot;</span>: <span class="hljs-string">&quot;&quot;</span><br>               &#125;,<br>               <span class="hljs-string">&quot;enable_duplicate_check&quot;</span>: <span class="hljs-number">0</span>,<br>               <span class="hljs-string">&quot;duplicate_check_interval&quot;</span>: <span class="hljs-number">1800</span><br>            &#125;<br>        参数说明：<br>            参数         是否必须            说明<br>            touser        否            成员ID列表（消息接收者，多个接收者用‘|’分隔，最多支持<span class="hljs-number">1000</span>个）。特殊情况：指定为@all，则向关注该企业应用的全部成员发送<br>            toparty        否            部门ID列表，多个接收者用‘|’分隔，最多支持<span class="hljs-number">100</span>个。当touser为@all时忽略本参数<br>            totag        否            标签ID列表，多个接收者用‘|’分隔，最多支持<span class="hljs-number">100</span>个。当touser为@all时忽略本参数<br>            msgtype        是            消息类型，此时固定为：markdown<br>            agentid        是            企业应用的id，整型。企业内部开发，可在应用的设置页面查看；第三方服务商，可通过接口 获取企业授权信息 获取该参数值<br>            content        是            markdown内容，最长不超过<span class="hljs-number">2048</span>个字节，必须是utf8编码<br>            enable_duplicate_check否    表示是否开启重复消息检查，<span class="hljs-number">0</span>表示否，<span class="hljs-number">1</span>表示是，默认<span class="hljs-number">0</span><br>            duplicate_check_interval否表示是否重复消息检查的时间间隔，默认<span class="hljs-number">1800</span>s，最大不超过<span class="hljs-number">4</span>小时<br>        返回示例：<br>            &#123;<br>              <span class="hljs-string">&quot;errcode&quot;</span> : <span class="hljs-number">0</span>,<br>              <span class="hljs-string">&quot;errmsg&quot;</span> : <span class="hljs-string">&quot;ok&quot;</span>,<br>              <span class="hljs-string">&quot;invaliduser&quot;</span> : <span class="hljs-string">&quot;userid1|userid2&quot;</span>,<br>              <span class="hljs-string">&quot;invalidparty&quot;</span> : <span class="hljs-string">&quot;partyid1|partyid2&quot;</span>,<br>              <span class="hljs-string">&quot;invalidtag&quot;</span>: <span class="hljs-string">&quot;tagid1|tagid2&quot;</span>,<br>              <span class="hljs-string">&quot;unlicenseduser&quot;</span> : <span class="hljs-string">&quot;userid3|userid4&quot;</span>,<br>              <span class="hljs-string">&quot;msgid&quot;</span>: <span class="hljs-string">&quot;xxxx&quot;</span>,<br>              <span class="hljs-string">&quot;response_code&quot;</span>: <span class="hljs-string">&quot;xyzxyz&quot;</span><br>            &#125;<br>            - errcode：返回码<br>            - errmsg：对返回码的文本描述内容<br>            - invaliduser：不合法的userid，不区分大小写，统一转为小写<br>            - invalidparty：不合法的partyid<br>            - invalidtag：不合法的标签id<br>            - unlicenseduser：没有基础接口许可(包含已过期)的userid<br>            - msgid：消息id，用于撤回应用消息<br>            - response_code：仅消息类型为“按钮交互型”，“投票选择型”和“多项选择型”的模板卡片消息返回，应用可使用response_code调用更新模版卡片消息接口，<span class="hljs-number">24</span>小时内有效，且只能使用一次<br><br>        发消息API参考：https://developer.work.weixin.qq.<span class="hljs-keyword">com</span>/document/path/<span class="hljs-number">90236</span><br>        MARKDOWN语法：https://developer.work.weixin.qq.<span class="hljs-keyword">com</span>/document/path/<span class="hljs-number">90236</span>#%E6%<span class="hljs-number">94</span>%AF%E6%<span class="hljs-number">8</span>C%<span class="hljs-number">81</span>%E7%<span class="hljs-number">9</span>A%<span class="hljs-number">84</span>markdown%E8%AF%AD%E6%B3%<span class="hljs-number">95</span><br>        <span class="hljs-string">&quot;&quot;</span><span class="hljs-comment">&quot;</span><br>        <span class="hljs-keyword">if</span> not self.token:<br>            <span class="hljs-keyword">return</span> Status(<span class="hljs-number">212</span>, <span class="hljs-string">&#x27;failure&#x27;</span>, <span class="hljs-string">&#x27;请检查access token是否获取成功&#x27;</span>, &#123;&#125;).json()<br>        <span class="hljs-keyword">if</span> not to_user:<br>            <span class="hljs-keyword">return</span> Status(<span class="hljs-number">212</span>, <span class="hljs-string">&#x27;failure&#x27;</span>, <span class="hljs-string">&#x27;缺少用户列表&#x27;</span>, &#123;&#125;).json()<br>        <span class="hljs-keyword">if</span> not isinstance(to_user, <span class="hljs-keyword">list</span>):<br>            <span class="hljs-keyword">return</span> Status(<span class="hljs-number">213</span>, <span class="hljs-string">&#x27;failure&#x27;</span>, <span class="hljs-string">&#x27;用户列表必须为List类型&#x27;</span>, &#123;&#125;).json()<br>        <span class="hljs-keyword">if</span> not content:<br>            <span class="hljs-keyword">return</span> Status(<span class="hljs-number">212</span>, <span class="hljs-string">&#x27;failure&#x27;</span>, <span class="hljs-string">&#x27;缺少消息内容&#x27;</span>, &#123;&#125;).json()<br><br>        url = <span class="hljs-string">&quot;%s?access_token=%s&quot;</span> % (QYWX_SEND_MESSAGE, self.token)<br>        data = &#123;<br>            <span class="hljs-string">&quot;touser&quot;</span>: <span class="hljs-string">&quot;|&quot;</span>.<span class="hljs-keyword">join</span>(to_user),<br>            <span class="hljs-string">&quot;msgtype&quot;</span>: <span class="hljs-string">&quot;markdown&quot;</span>,<br>            <span class="hljs-string">&quot;agentid&quot;</span>: self.AGENT_ID,<br>            <span class="hljs-string">&quot;markdown&quot;</span>: &#123;<br>                <span class="hljs-string">&quot;content&quot;</span>: content<br>            &#125;,<br>            <span class="hljs-string">&quot;enable_duplicate_check&quot;</span>: <span class="hljs-number">0</span>,<br>            <span class="hljs-string">&quot;duplicate_check_interval&quot;</span>: <span class="hljs-number">1800</span><br>        &#125;<br>        req = requests.post(url=url, json=data)<br>        <span class="hljs-keyword">res</span> = req.json()<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">res</span>.<span class="hljs-built_in">get</span>(<span class="hljs-string">&quot;errcode&quot;</span>) == <span class="hljs-number">0</span> <span class="hljs-built_in">and</span> <span class="hljs-keyword">res</span>.<span class="hljs-built_in">get</span>(<span class="hljs-string">&quot;errmsg&quot;</span>) == <span class="hljs-string">&quot;ok&quot;</span>:<br>            <span class="hljs-keyword">return</span> Status(<span class="hljs-number">100</span>, <span class="hljs-string">&#x27;success&#x27;</span>, <span class="hljs-string">&#x27;成功&#x27;</span>, &#123;&#125;).json()<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> Status(<span class="hljs-number">501</span>, <span class="hljs-string">&#x27;failure&#x27;</span>, <span class="hljs-keyword">res</span>.<span class="hljs-built_in">get</span>(<span class="hljs-string">&#x27;errmsg&#x27;</span>), &#123;&#125;).json()<br></code></pre></td></tr></table></figure><h4 id="官网API教程"><a href="#官网API教程" class="headerlink" title="官网API教程"></a>官网API教程</h4><ul><li>ACCESS TOKEN：<a href="https://developer.work.weixin.qq.com/document/path/91039">https://developer.work.weixin.qq.com/document/path/91039</a></li><li>发送应用消息：<a href="https://developer.work.weixin.qq.com/document/path/90236">https://developer.work.weixin.qq.com/document/path/90236</a></li><li>全局错误码：<a href="https://developer.work.weixin.qq.com/document/path/90313#10649">https://developer.work.weixin.qq.com/document/path/90313#10649</a></li></ul><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs ada">企业微信API response：<br>&#123;<br>  <span class="hljs-string">&quot;errcode&quot;</span> : 0,<br>  <span class="hljs-string">&quot;errmsg&quot;</span> : &quot;<span class="hljs-type">ok</span><span class="hljs-string">&quot;,</span><br><span class="hljs-string">  &quot;</span>invaliduser<span class="hljs-string">&quot; : &quot;</span>userid1|userid2<span class="hljs-string">&quot;,</span><br><span class="hljs-string">  &quot;</span>invalidparty<span class="hljs-string">&quot; : &quot;</span>partyid1|partyid2<span class="hljs-string">&quot;,</span><br><span class="hljs-string">  &quot;</span>invalidtag<span class="hljs-string">&quot;: &quot;</span>tagid1|tagid2<span class="hljs-string">&quot;,</span><br><span class="hljs-string">  &quot;</span>unlicenseduser<span class="hljs-string">&quot; : &quot;</span>userid3|userid4<span class="hljs-string">&quot;,</span><br><span class="hljs-string">  &quot;</span>msgid<span class="hljs-string">&quot;: &quot;</span>xxxx<span class="hljs-string">&quot;,</span><br><span class="hljs-string">  &quot;</span>response_code<span class="hljs-string">&quot;: &quot;</span>xyzxyz<span class="hljs-string">&quot;</span><br><span class="hljs-string">&#125;</span><br></code></pre></td></tr></table></figure><ul><li>错误码查询工具：<a href="https://open.work.weixin.qq.com/devtool/query">https://open.work.weixin.qq.com/devtool/query</a></li><li>发消息API参考：<a href="https://developer.work.weixin.qq.com/document/path/90236">https://developer.work.weixin.qq.com/document/path/90236</a></li><li>MARKDOWN语法：<a href="https://developer.work.weixin.qq.com/document/path/90236#%E6%94%AF%E6%8C%81%E7%9A%84markdown%E8%AF%AD%E6%B3%95">https://developer.work.weixin.qq.com/document/path/90236#%E6%94%AF%E6%8C%81%E7%9A%84markdown%E8%AF%AD%E6%B3%95</a></li></ul><h4 id="系列"><a href="#系列" class="headerlink" title="系列"></a>系列</h4><p><a href="http://pygo2.top/articles/26110/">Python模块之command系统命令</a><br><a href="http://pygo2.top/articles/19275/">Python模块之excel模块</a><br><a href="http://pygo2.top/articles/5145/">Python模块之logger日志</a><br><a href="http://pygo2.top/articles/61799/">Python模块之utils公共方法</a><br><a href="http://pygo2.top/articles/31232/">Python模块之watcher打点</a><br><a href="http://pygo2.top/articles/51787/">Python模块之config配置解析</a><br><a href="http://pygo2.top/articles/58292/">Python模块之dtalk钉钉消息</a><br><a href="http://pygo2.top/articles/33254/">Python模块之企业微信</a></p><p>更多模块请参考文章TAG进行查看。</p><p><font size=6.5 color='red'><em><strong>Python模块系列，持续更新中。。。。。。</strong></em></font></p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Python模块系列</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python模块之dtalk钉钉消息</title>
    <link href="/articles/58292/"/>
    <url>/articles/58292/</url>
    
    <content type="html"><![CDATA[<div class="post_cus_note">Python模块系列</div><span id="more"></span><hr /><h4 id="版本"><a href="#版本" class="headerlink" title="版本"></a>版本</h4><table><thead><tr><th align="center">名称</th><th align="center">版本</th></tr></thead><tbody><tr><td align="center">Python</td><td align="center">3</td></tr></tbody></table><h4 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h4><p>DingApi类，主要用请求dingTalk openApi来操作DingDing进行发消息等操作。<br>目前，只支持机器人推送消息操作<br>类添加了is_avail对access token进行判断是否可用，如果不可用中止程序</p><h4 id="设计"><a href="#设计" class="headerlink" title="设计"></a>设计</h4><ul><li>官网发消息API：<a href="https://developers.dingtalk.com/document/robots/chatbots-send-one-on-one-chat-messages-in-batches/h2-xsq-kwt-wyg">https://developers.dingtalk.com/document/robots/chatbots-send-one-on-one-chat-messages-in-batches/h2-xsq-kwt-wyg</a></li><li>Status JSON说明：<a href="http://pygo2.top/articles/40461/">http://pygo2.top/articles/40461/</a></li></ul><h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs routeros">json_message = &#123;<br>    <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;2021-12绩效明细&quot;</span>,<br>    <span class="hljs-string">&quot;text&quot;</span>: <span class="hljs-string">&quot;#### 2021-11绩效明细  \n  - 个人存款绩效：278  \n  - 贷款绩效：278  \n  - 部门履职绩效：278  \n  - 存款下降扣发：278  \n  - ![screenshot](https://img.alicdn.com/tfs/TB1NwmBEL9TBuNjy1zbXXXpepXa-2400-1218.png)&quot;</span><br>&#125;<span class="hljs-built_in"></span><br><span class="hljs-built_in">user </span>= <span class="hljs-string">&#x27;manager2730&#x27;</span><br>dapi = DingApi()<br>res = dapi.robot2send(<span class="hljs-attribute">message</span>=json_message, <span class="hljs-attribute">to_id</span>=user)<br><span class="hljs-built_in">print</span>(res)<br></code></pre></td></tr></table></figure><h4 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">------------------------------------------------</span><br><span class="hljs-string"></span><br><span class="hljs-string">describe:</span><br><span class="hljs-string">    DingTalk Api class, it use to push message</span><br><span class="hljs-string">    采用单例模式的DingApi类，主要用请求dingTalk openApi来操作DingDing进行发消息等操作。</span><br><span class="hljs-string">    目前，只支持机器人推送消息操作</span><br><span class="hljs-string">    类添加了is_avail对access token进行判断是否可用，如果不可用中止程序</span><br><span class="hljs-string"></span><br><span class="hljs-string">base_info:</span><br><span class="hljs-string">    __author__ = &quot;PyGo&quot;</span><br><span class="hljs-string">    __time__ = &quot;2021/11/23&quot;</span><br><span class="hljs-string">    __version__ = &quot;v.1.0.0&quot;</span><br><span class="hljs-string">    __mail__ = &quot;gaoming971366@163.com&quot;</span><br><span class="hljs-string">    __project__ = &quot;open2lisapi&quot;</span><br><span class="hljs-string"></span><br><span class="hljs-string">usage:</span><br><span class="hljs-string">    json_message = &#123;</span><br><span class="hljs-string">        &quot;title&quot;: &quot;2021-12绩效明细&quot;,</span><br><span class="hljs-string">        &quot;text&quot;: &quot;#### 2021-11绩效明细  \n  - 个人存款绩效：278  \n  - 贷款绩效：278  \n  - 部门履职绩效：278  \n  - 存款下降扣发：278  \n  - ![screenshot](https://img.alicdn.com/tfs/TB1NwmBEL9TBuNjy1zbXXXpepXa-2400-1218.png)&quot;</span><br><span class="hljs-string">    &#125;</span><br><span class="hljs-string">    user = &#x27;manager2730&#x27;</span><br><span class="hljs-string">    dapi = DingApi()</span><br><span class="hljs-string">    res = dapi.robot2send(message=json_message, to_id=user)</span><br><span class="hljs-string">    print(res)</span><br><span class="hljs-string"></span><br><span class="hljs-string">design:</span><br><span class="hljs-string">    DingDing官网开放平台</span><br><span class="hljs-string"></span><br><span class="hljs-string">reference urls:</span><br><span class="hljs-string">    官网发消息API：https://developers.dingtalk.com/document/robots/chatbots-send-one-on-one-chat-messages-in-batches/h2-xsq-kwt-wyg</span><br><span class="hljs-string">    Status JSON说明：http://pygo2.top/articles/40461/</span><br><span class="hljs-string"></span><br><span class="hljs-string">python version:</span><br><span class="hljs-string">    python3</span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string">Enjoy the good life everyday！！!</span><br><span class="hljs-string">Life is short, I use python.</span><br><span class="hljs-string"></span><br><span class="hljs-string">------------------------------------------------</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">import</span> sys<br><span class="hljs-keyword">import</span> json<br><span class="hljs-keyword">import</span> requests<br><br><span class="hljs-keyword">from</span> deploy.utils.base_class <span class="hljs-keyword">import</span> Singleton<br><span class="hljs-keyword">from</span> deploy.utils.status <span class="hljs-keyword">import</span> Status<br><span class="hljs-keyword">from</span> deploy.config <span class="hljs-keyword">import</span> DTALK_TOKEN_URL, DTALK_BASE_URL, DEBUG<br><span class="hljs-keyword">from</span> deploy.utils.logger <span class="hljs-keyword">import</span> logger <span class="hljs-keyword">as</span> LOG<br><br><span class="hljs-keyword">from</span> alibabacloud_dingtalk.robot_1_0.client <span class="hljs-keyword">import</span> Client <span class="hljs-keyword">as</span> dingtalkrobot_1_0Client<br><span class="hljs-keyword">from</span> alibabacloud_tea_openapi <span class="hljs-keyword">import</span> models <span class="hljs-keyword">as</span> open_api_models<br><span class="hljs-keyword">from</span> alibabacloud_dingtalk.robot_1_0 <span class="hljs-keyword">import</span> models <span class="hljs-keyword">as</span> dingtalkrobot__1__0_models<br><span class="hljs-keyword">from</span> alibabacloud_tea_util <span class="hljs-keyword">import</span> models <span class="hljs-keyword">as</span> util_models<br><span class="hljs-keyword">from</span> alibabacloud_tea_util.client <span class="hljs-keyword">import</span> Client <span class="hljs-keyword">as</span> UtilClient<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">DtalkLib</span>(<span class="hljs-title class_ inherited__">object</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    dingTalk Api class</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, app_key, app_secret</span>):<br>        <span class="hljs-keyword">if</span> DEBUG:<br>            LOG.debug(<span class="hljs-string">&quot;DingApi class start initialize.&quot;</span>)<br>        <span class="hljs-variable language_">self</span>.RC = <span class="hljs-number">0</span><br>        <span class="hljs-variable language_">self</span>.app_key = app_key<br>        <span class="hljs-variable language_">self</span>.app_secret = app_secret<br>        <span class="hljs-variable language_">self</span>.base_api_url = DTALK_BASE_URL<br>        <span class="hljs-variable language_">self</span>.token_api_url = DTALK_TOKEN_URL<br>        <span class="hljs-variable language_">self</span>.msg_type = <span class="hljs-string">&#x27;sampleMarkdown&#x27;</span><br>        <span class="hljs-variable language_">self</span>.access_token = <span class="hljs-variable language_">self</span>.get_token()<br>        <span class="hljs-variable language_">self</span>.client = <span class="hljs-variable language_">self</span>.create_client()<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">is_avail</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        是否有access token，如果没有token，则中止发信息请求</span><br><span class="hljs-string">        建议用sys.exit()优雅的方式退出</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span> <span class="hljs-keyword">if</span> <span class="hljs-variable language_">self</span>.access_token <span class="hljs-keyword">else</span> <span class="hljs-literal">False</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">close</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        关闭实例，清除access token</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-variable language_">self</span>.access_token = <span class="hljs-string">&#x27;&#x27;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_token</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">str</span>:<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        获取唯一access token，2h有效期</span><br><span class="hljs-string">        this function is static method, it use to get access token code from dingTalk open api</span><br><span class="hljs-string">        :return: access token</span><br><span class="hljs-string">        result type is string</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">if</span> DEBUG:<br>            LOG.debug(<span class="hljs-string">&quot;DingApi get access token.&quot;</span>)<br>        headers = &#123;<br>            <span class="hljs-string">&#x27;Access-Control-Allow-Origin&#x27;</span>: <span class="hljs-string">&#x27;*&#x27;</span><br>        &#125;<br>        params = &#123;<span class="hljs-string">&quot;appkey&quot;</span>: <span class="hljs-variable language_">self</span>.app_key, <span class="hljs-string">&quot;appsecret&quot;</span>: <span class="hljs-variable language_">self</span>.app_secret&#125;<br>        url = <span class="hljs-string">&quot;%s%s&quot;</span> % (<span class="hljs-variable language_">self</span>.base_api_url, <span class="hljs-variable language_">self</span>.token_api_url)<br>        <span class="hljs-keyword">try</span>:<br>            response = requests.get(url=url, headers=headers, params=params)<br>            <span class="hljs-keyword">if</span> response.status_code == <span class="hljs-number">200</span>:<br>                json_res = response.json()<br>                <span class="hljs-keyword">if</span> json_res <span class="hljs-keyword">and</span> json_res.get(<span class="hljs-string">&quot;errcode&quot;</span>) == <span class="hljs-number">0</span>:<br>                    <span class="hljs-keyword">return</span> json_res.get(<span class="hljs-string">&quot;access_token&quot;</span>)<br>        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>            LOG.error(<span class="hljs-string">&#x27;Initialize dingTalk openApi access token occur error: %s&#x27;</span> % e)<br>            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&#x27;</span><br>        LOG.error(<span class="hljs-string">&#x27;Initialize dingTalk openApi get access token failure, please try again later.&#x27;</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&#x27;</span><br><br><span class="hljs-meta">    @staticmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">create_client</span>() -&gt; dingtalkrobot_1_0Client:<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        初始化账号Client</span><br><span class="hljs-string">        @return: Client</span><br><span class="hljs-string">        @throws Exception</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        config = open_api_models.Config()<br>        config.protocol = <span class="hljs-string">&#x27;https&#x27;</span><br>        config.region_id = <span class="hljs-string">&#x27;central&#x27;</span><br>        <span class="hljs-keyword">return</span> dingtalkrobot_1_0Client(config)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">robot2send</span>(<span class="hljs-params">self, message: json, to_id: <span class="hljs-built_in">str</span></span>) -&gt; json:<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        use dingtalk openApi to send message</span><br><span class="hljs-string">        :param message: DingDing消息体，为MarkDown语法</span><br><span class="hljs-string">        :param to_id: 接收人ID</span><br><span class="hljs-string">        :return: json type result</span><br><span class="hljs-string">            status_id: 状态码,</span><br><span class="hljs-string">            status: success or failure,</span><br><span class="hljs-string">            msg: 消息体</span><br><span class="hljs-string">            data: 数据体（diact类型）</span><br><span class="hljs-string">            具体说明：http://pygo2.top/articles/40461/</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-comment"># check access token &amp;&amp; parameters</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-variable language_">self</span>.access_token:<br>            <span class="hljs-keyword">return</span> Status(<br>                <span class="hljs-number">202</span>, <span class="hljs-string">&quot;failure&quot;</span>, <span class="hljs-string">&quot;Not found access token.&quot;</span>, &#123;&#125;).status_body<br>        batch_send_otoheaders = dingtalkrobot__1__0_models.BatchSendOTOHeaders()<br>        batch_send_otoheaders.x_acs_dingtalk_access_token = <span class="hljs-variable language_">self</span>.access_token<br>        batch_send_otorequest = dingtalkrobot__1__0_models.BatchSendOTORequest(<br>            robot_code=<span class="hljs-variable language_">self</span>.app_key,<br>            user_ids=[to_id],<br>            msg_key=<span class="hljs-variable language_">self</span>.msg_type,<br>            msg_param=json.dumps(message)<br>        )<br>        <span class="hljs-keyword">try</span>:<br>            response = <span class="hljs-variable language_">self</span>.client.batch_send_otowith_options(batch_send_otorequest, batch_send_otoheaders, util_models.RuntimeOptions())<br>            json_resp = &#123;<br>                <span class="hljs-string">&#x27;process&#x27;</span>: response.body.process_query_key <span class="hljs-keyword">or</span> <span class="hljs-string">&#x27;&#x27;</span>,<br>                <span class="hljs-string">&#x27;failure&#x27;</span>: response.body.invalid_staff_id_list <span class="hljs-keyword">or</span> [],<br>                <span class="hljs-string">&#x27;control&#x27;</span>: response.body.flow_controlled_staff_id_list <span class="hljs-keyword">or</span> []<br>            &#125;<br>            <span class="hljs-keyword">return</span> Status(<br>                <span class="hljs-number">100</span>, <span class="hljs-string">&quot;success&quot;</span>, <span class="hljs-string">&quot;成功&quot;</span>, json_resp).status_body<br>        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>            msg = <span class="hljs-string">&#x27;DingTalk send message to [%s] occur error: %s&#x27;</span> % (to_id, e)<br>            LOG.error(msg)<br>            <span class="hljs-keyword">return</span> Status(<br>                <span class="hljs-number">601</span>, <span class="hljs-string">&quot;failure&quot;</span>, msg, &#123;&#125;).status_body<br></code></pre></td></tr></table></figure><h4 id="系列"><a href="#系列" class="headerlink" title="系列"></a>系列</h4><p><a href="http://pygo2.top/articles/26110/">Python模块之command系统命令</a><br><a href="http://pygo2.top/articles/19275/">Python模块之excel模块</a><br><a href="http://pygo2.top/articles/5145/">Python模块之logger日志</a><br><a href="http://pygo2.top/articles/61799/">Python模块之utils公共方法</a><br><a href="http://pygo2.top/articles/31232/">Python模块之watcher打点</a><br><a href="http://pygo2.top/articles/51787/">Python模块之config配置解析</a><br><a href="http://pygo2.top/articles/58292/">Python模块之dtalk钉钉消息</a><br><a href="http://pygo2.top/articles/33254/">Python模块之企业微信</a></p><p>更多模块请参考文章TAG进行查看。</p><p><font size=6.5 color='red'><em><strong>Python模块系列，持续更新中。。。。。。</strong></em></font></p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Python模块系列</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python模块之config配置解析</title>
    <link href="/articles/51787/"/>
    <url>/articles/51787/</url>
    
    <content type="html"><![CDATA[<div class="post_cus_note">Python模块系列</div><span id="more"></span><hr /><h4 id="版本"><a href="#版本" class="headerlink" title="版本"></a>版本</h4><table><thead><tr><th align="center">名称</th><th align="center">版本</th></tr></thead><tbody><tr><td align="center">Python</td><td align="center">3</td></tr></tbody></table><h4 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h4><p>用来解析config.yaml配置文件，添加默认值。</p><h4 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">------------------------------------------------</span><br><span class="hljs-string"></span><br><span class="hljs-string">describe:</span><br><span class="hljs-string">    解析配置</span><br><span class="hljs-string"></span><br><span class="hljs-string">base_info:</span><br><span class="hljs-string">    __author__ = &quot;PyGo&quot;</span><br><span class="hljs-string">    __time__ = &quot;2022/9/14&quot;</span><br><span class="hljs-string">    __version__ = &quot;v.1.0.0&quot;</span><br><span class="hljs-string">    __mail__ = &quot;gaoming971366@163.com&quot;</span><br><span class="hljs-string">    __project__ = &quot;quality-inspect&quot;</span><br><span class="hljs-string"></span><br><span class="hljs-string">usage:</span><br><span class="hljs-string"></span><br><span class="hljs-string">design:</span><br><span class="hljs-string"></span><br><span class="hljs-string">reference urls:</span><br><span class="hljs-string"></span><br><span class="hljs-string">python version:</span><br><span class="hljs-string">    python3</span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string">Enjoy the good time everyday！！!</span><br><span class="hljs-string">Life is short, I use python.</span><br><span class="hljs-string"></span><br><span class="hljs-string">------------------------------------------------</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><span class="hljs-comment"># ------------------------------------------------------------</span><br><span class="hljs-comment"># usage: /usr/bin/python config.py</span><br><span class="hljs-comment"># ------------------------------------------------------------</span><br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> sys<br><span class="hljs-keyword">import</span> yaml<br><span class="hljs-keyword">import</span> inspect<br><span class="hljs-keyword">import</span> logging<br><br><br><span class="hljs-comment"># logging.basicConfig()</span><br>logger = logging.getLogger(__name__)<br><br><br><span class="hljs-comment"># get current folder, solve is or not frozen of the script</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">_get_cur_folder</span>():<br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">getattr</span>(sys, <span class="hljs-string">&quot;frozen&quot;</span>, <span class="hljs-literal">False</span>):<br>        <span class="hljs-keyword">return</span> os.path.dirname(os.path.abspath(__file__))<br>    <span class="hljs-keyword">else</span>:<br>        cur_folder = os.path.dirname(inspect.getfile(inspect.currentframe()))<br>        <span class="hljs-keyword">return</span> os.path.abspath(cur_folder)<br><br><br><span class="hljs-comment"># get global projects by mode</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">_get_global_projects</span>(<span class="hljs-params">mode=<span class="hljs-string">&#x27;dev&#x27;</span></span>):<br>    <span class="hljs-keyword">if</span> mode <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> [<span class="hljs-string">&#x27;dev&#x27;</span>, <span class="hljs-string">&#x27;prod&#x27;</span>]:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br>    <span class="hljs-keyword">return</span> os.path.join(os.path.join(os.path.join(_get_cur_folder(), <span class="hljs-string">&#x27;etc&#x27;</span>), mode), <span class="hljs-string">&#x27;projects.json&#x27;</span>)<br><br><br><span class="hljs-comment"># get current run config by mode</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">_get_config</span>(<span class="hljs-params">mode=<span class="hljs-string">&#x27;dev&#x27;</span></span>):<br>    <span class="hljs-keyword">if</span> mode <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> [<span class="hljs-string">&#x27;dev&#x27;</span>, <span class="hljs-string">&#x27;prod&#x27;</span>]:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br>    <span class="hljs-keyword">return</span> os.path.join(os.path.join(os.path.join(_get_cur_folder(), <span class="hljs-string">&#x27;etc&#x27;</span>), mode), <span class="hljs-string">&#x27;config.yaml&#x27;</span>)<br><br><br><span class="hljs-comment"># default log dir</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">__get_log_dir</span>():<br>    <span class="hljs-keyword">return</span> os.path.join(_get_cur_folder(), <span class="hljs-string">&#x27;log&#x27;</span>)<br><br><br><span class="hljs-comment"># default log dir</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">__get_result_dir</span>():<br>    <span class="hljs-keyword">return</span> os.path.join(_get_cur_folder(), <span class="hljs-string">&#x27;result&#x27;</span>)<br><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">default config</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-comment"># SERVER</span><br>NAME = <span class="hljs-string">&#x27;quality-inspect&#x27;</span><br>VERSION = <span class="hljs-string">&#x27;v1.0.0&#x27;</span><br>DEBUG = <span class="hljs-literal">True</span><br>SECRET_KEY = <span class="hljs-string">&#x27;BelivemeIcanfly&#x27;</span><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">enrty: initializate config</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br>mode = os.environ.get(<span class="hljs-string">&#x27;mode&#x27;</span>) <span class="hljs-keyword">or</span> <span class="hljs-string">&#x27;dev&#x27;</span><br>_config_file = _get_config(mode)<br><span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(_config_file):<br>    logger.critical(<span class="hljs-string">&#x27;====== config file is not exist, exit ======&#x27;</span>)<br>    sys.exit(<span class="hljs-number">1</span>)<br><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(_config_file, <span class="hljs-string">&#x27;r&#x27;</span>, encoding=<span class="hljs-string">&#x27;UTF-8&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>    _config_info = yaml.safe_load(f)<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> _config_info:<br>        logger.critical(<span class="hljs-string">&#x27;====== config file is unavail, exit ======&#x27;</span>)<br>        sys.exit(<span class="hljs-number">1</span>)<br><br>    <span class="hljs-comment"># SERVER</span><br>    NAME = _config_info[<span class="hljs-string">&#x27;SERVER&#x27;</span>][<span class="hljs-string">&#x27;NAME&#x27;</span>] <span class="hljs-keyword">or</span> NAME<br>    VERSION = _config_info[<span class="hljs-string">&#x27;SERVER&#x27;</span>][<span class="hljs-string">&#x27;VERSION&#x27;</span>] <span class="hljs-keyword">or</span> VERSION<br>    DEBUG = _config_info[<span class="hljs-string">&#x27;SERVER&#x27;</span>][<span class="hljs-string">&#x27;DEBUG&#x27;</span>]<br>    DEBUG = <span class="hljs-literal">False</span> <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> DEBUG <span class="hljs-keyword">else</span> DEBUG<br>    SECRET_KEY = _config_info[<span class="hljs-string">&#x27;SERVER&#x27;</span>][<span class="hljs-string">&#x27;SECRET_KEY&#x27;</span>] <span class="hljs-keyword">or</span> SECRET_KEY<br></code></pre></td></tr></table></figure><h4 id="系列"><a href="#系列" class="headerlink" title="系列"></a>系列</h4><p><a href="http://pygo2.top/articles/26110/">Python模块之command系统命令</a><br><a href="http://pygo2.top/articles/19275/">Python模块之excel模块</a><br><a href="http://pygo2.top/articles/5145/">Python模块之logger日志</a><br><a href="http://pygo2.top/articles/61799/">Python模块之utils公共方法</a><br><a href="http://pygo2.top/articles/31232/">Python模块之watcher打点</a><br><a href="http://pygo2.top/articles/51787/">Python模块之config配置解析</a><br><a href="http://pygo2.top/articles/58292/">Python模块之dtalk钉钉消息</a><br><a href="http://pygo2.top/articles/33254/">Python模块之企业微信</a></p><p>更多模块请参考文章TAG进行查看。</p><p><font size=6.5 color='red'><em><strong>Python模块系列，持续更新中。。。。。。</strong></em></font></p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Python模块系列</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python模块之watcher打点</title>
    <link href="/articles/31232/"/>
    <url>/articles/31232/</url>
    
    <content type="html"><![CDATA[<div class="post_cus_note">Python模块系列</div><span id="more"></span><hr /><h4 id="版本"><a href="#版本" class="headerlink" title="版本"></a>版本</h4><table><thead><tr><th align="center">名称</th><th align="center">版本</th></tr></thead><tbody><tr><td align="center">Python</td><td align="center">3</td></tr></tbody></table><h4 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h4><p>用于API计时打点，写入request表。</p><h4 id="设计"><a href="#设计" class="headerlink" title="设计"></a>设计</h4><p>装饰器。</p><h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><p>装饰器的方式使用。</p><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs oxygene"><span class="hljs-keyword">from</span> flask import request<br><br>@watcher(watcher_args=request)<br>watcher_args参数为request对象，里面包含blueprint, endpoint, <span class="hljs-keyword">method</span>, <span class="hljs-title function_">path</span>, <span class="hljs-title function_">header</span>等请求参数<br></code></pre></td></tr></table></figure><h4 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">------------------------------------------------</span><br><span class="hljs-string"></span><br><span class="hljs-string">describe:</span><br><span class="hljs-string">    watcher</span><br><span class="hljs-string">    用于API计时打点，写入request表</span><br><span class="hljs-string"></span><br><span class="hljs-string">base_info:</span><br><span class="hljs-string">    __author__ = &quot;PyGo&quot;</span><br><span class="hljs-string">    __time__ = &quot;2022/8/26 23:02&quot;</span><br><span class="hljs-string">    __version__ = &quot;v.1.0.0&quot;</span><br><span class="hljs-string">    __mail__ = &quot;gaoming971366@163.com&quot;</span><br><span class="hljs-string">    __blog__ = &quot;www.pygo2.top&quot;</span><br><span class="hljs-string">    __project__ = &quot;open2lisapi&quot;</span><br><span class="hljs-string"></span><br><span class="hljs-string">usage:</span><br><span class="hljs-string">    from flask import request</span><br><span class="hljs-string">    @watcher(watcher_args=request)</span><br><span class="hljs-string">    watcher_args参数为request对象，里面包含blueprint, endpoint, method, path, header等请求参数</span><br><span class="hljs-string"></span><br><span class="hljs-string">design:</span><br><span class="hljs-string"></span><br><span class="hljs-string">reference urls:</span><br><span class="hljs-string"></span><br><span class="hljs-string">python version:</span><br><span class="hljs-string">    python3</span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string">Enjoy the good life everyday！！!</span><br><span class="hljs-string">Life is short, I use python.</span><br><span class="hljs-string"></span><br><span class="hljs-string">------------------------------------------------</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><span class="hljs-comment"># ------------------------------------------------------------</span><br><span class="hljs-comment"># usage: /usr/bin/python watcher.py</span><br><span class="hljs-comment"># ------------------------------------------------------------</span><br><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime<br><span class="hljs-keyword">from</span> functools <span class="hljs-keyword">import</span> wraps<br><span class="hljs-keyword">from</span> pprint <span class="hljs-keyword">import</span> pprint<br><br><span class="hljs-keyword">from</span> deploy.utils.logger <span class="hljs-keyword">import</span> logger <span class="hljs-keyword">as</span> LOG<br><span class="hljs-keyword">from</span> deploy.utils.utils <span class="hljs-keyword">import</span> get_rtx_id<br><span class="hljs-keyword">from</span> deploy.services.request <span class="hljs-keyword">import</span> RequestService<br><br><br><span class="hljs-comment"># 声明一个全局RequestService对象</span><br>request_service = RequestService()<br>GLOBAL_NEW_ENDPOINR = [<br>    <span class="hljs-string">&#x27;dashboard.pan&#x27;</span>,<br>    <span class="hljs-string">&#x27;dashboard.pan_chart&#x27;</span>,<br>    <span class="hljs-string">&#x27;dashboard.index&#x27;</span>,<br>    <span class="hljs-string">&#x27;auth.user_list&#x27;</span>,<br>    <span class="hljs-string">&#x27;info.dict_list&#x27;</span><br>]<br><br><br><span class="hljs-comment"># method desc: API request to write database table [request]</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">__add_request</span>(<span class="hljs-params">request, cost, rtx=<span class="hljs-literal">None</span></span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    API request information to insert into request table</span><br><span class="hljs-string">    :param request: API request object parameters</span><br><span class="hljs-string">    :param cost: API run time, unit is second</span><br><span class="hljs-string">    :param rtx: request user rtx-id</span><br><span class="hljs-string">        - 1.request get &quot;X-Rtx-Id&quot;</span><br><span class="hljs-string">        - 2.no request by manual set</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    rtx_id = get_rtx_id(request) <span class="hljs-keyword">or</span> rtx    <span class="hljs-comment"># not rtx_id, no insert</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> rtx_id:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>    method = <span class="hljs-built_in">getattr</span>(request, <span class="hljs-string">&#x27;method&#x27;</span>)     <span class="hljs-comment"># method allow only get or post</span><br>    <span class="hljs-keyword">if</span> method <span class="hljs-keyword">and</span> <span class="hljs-built_in">str</span>(method).upper() <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> [<span class="hljs-string">&#x27;GET&#x27;</span>, <span class="hljs-string">&#x27;POST&#x27;</span>]:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">hasattr</span>(request, <span class="hljs-string">&#x27;endpoint&#x27;</span>) <span class="hljs-keyword">and</span> <span class="hljs-built_in">getattr</span>(request, <span class="hljs-string">&#x27;endpoint&#x27;</span>) <span class="hljs-keyword">in</span> GLOBAL_NEW_ENDPOINR:<br>        RequestService().add_request(request=request, cost=cost, rtx=rtx_id)<br>    <span class="hljs-keyword">else</span>:<br>        request_service.add_request(request=request, cost=cost, rtx=rtx_id)<br><br><br><span class="hljs-comment"># &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; API打点计时器 &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">watcher</span>(<span class="hljs-params">watcher_args</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_watcher</span>(<span class="hljs-params">fn</span>):<br><span class="hljs-meta">        @wraps(<span class="hljs-params">fn</span>)</span><br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">_wrapper</span>(<span class="hljs-params">*args, **kwargs</span>):<br>            start = datetime.now()<br>            res = fn(*args, **kwargs)<br>            end = datetime.now()<br>            cost = <span class="hljs-built_in">round</span>((end-start).microseconds * <span class="hljs-built_in">pow</span>(<span class="hljs-number">0.1</span>, <span class="hljs-number">6</span>), <span class="hljs-number">4</span>)   <span class="hljs-comment"># API run time, unit is second</span><br>            <span class="hljs-keyword">if</span> watcher_args:<br>                __add_request(request=watcher_args, cost=cost)  <span class="hljs-comment"># API request to write database table [request]</span><br>            LOG.info(<span class="hljs-string">&#x27;@Watcher [%s] is run: %s&#x27;</span> % (<span class="hljs-built_in">getattr</span>(watcher_args, <span class="hljs-string">&#x27;endpoint&#x27;</span>) <span class="hljs-keyword">or</span> fn.__name__, cost))<br>            <span class="hljs-keyword">return</span> res<br><br>        <span class="hljs-keyword">return</span> _wrapper<br>    <span class="hljs-keyword">return</span> _watcher<br></code></pre></td></tr></table></figure><h4 id="系列"><a href="#系列" class="headerlink" title="系列"></a>系列</h4><p><a href="http://pygo2.top/articles/26110/">Python模块之command系统命令</a><br><a href="http://pygo2.top/articles/19275/">Python模块之excel模块</a><br><a href="http://pygo2.top/articles/5145/">Python模块之logger日志</a><br><a href="http://pygo2.top/articles/61799/">Python模块之utils公共方法</a><br><a href="http://pygo2.top/articles/31232/">Python模块之watcher打点</a><br><a href="http://pygo2.top/articles/51787/">Python模块之config配置解析</a><br><a href="http://pygo2.top/articles/58292/">Python模块之dtalk钉钉消息</a><br><a href="http://pygo2.top/articles/33254/">Python模块之企业微信</a></p><p>更多模块请参考文章TAG进行查看。</p><p><font size=6.5 color='red'><em><strong>Python模块系列，持续更新中。。。。。。</strong></em></font></p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Python模块系列</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python模块之utils公共方法</title>
    <link href="/articles/61799/"/>
    <url>/articles/61799/</url>
    
    <content type="html"><![CDATA[<div class="post_cus_note">Python模块系列</div><span id="more"></span><hr /><h4 id="版本"><a href="#版本" class="headerlink" title="版本"></a>版本</h4><table><thead><tr><th align="center">名称</th><th align="center">版本</th></tr></thead><tbody><tr><td align="center">Python</td><td align="center">3</td></tr></tbody></table><h4 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h4><p>公共方法模块。</p><h4 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">------------------------------------------------</span><br><span class="hljs-string"></span><br><span class="hljs-string">describe:</span><br><span class="hljs-string">    utils method</span><br><span class="hljs-string"></span><br><span class="hljs-string">base_info:</span><br><span class="hljs-string">    __author__ = &quot;PyGo&quot;</span><br><span class="hljs-string">    __time__ = &quot;2022/9/14&quot;</span><br><span class="hljs-string">    __version__ = &quot;v.1.0.0&quot;</span><br><span class="hljs-string">    __mail__ = &quot;gaoming971366@163.com&quot;</span><br><span class="hljs-string">    __project__ = &quot;quality-inspect&quot;</span><br><span class="hljs-string"></span><br><span class="hljs-string">usage:</span><br><span class="hljs-string"></span><br><span class="hljs-string">design:</span><br><span class="hljs-string"></span><br><span class="hljs-string">reference urls:</span><br><span class="hljs-string"></span><br><span class="hljs-string">python version:</span><br><span class="hljs-string">    python3</span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string">Enjoy the good time everyday！！!</span><br><span class="hljs-string">Life is short, I use python.</span><br><span class="hljs-string"></span><br><span class="hljs-string">------------------------------------------------</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><span class="hljs-comment"># ------------------------------------------------------------</span><br><span class="hljs-comment"># usage: /usr/bin/python utils.py</span><br><span class="hljs-comment"># ------------------------------------------------------------</span><br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> sys<br><span class="hljs-keyword">import</span> inspects<br><span class="hljs-keyword">import</span> hashlib<br><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">import</span> subprocess<br><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime, timedelta<br><span class="hljs-keyword">from</span> functools <span class="hljs-keyword">import</span> wraps<br><span class="hljs-keyword">from</span> deploy.logger <span class="hljs-keyword">import</span> logger <span class="hljs-keyword">as</span> LOG<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_cur_folder</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    # get current folder, solve is or not frozen of the script</span><br><span class="hljs-string">    :return: the file current folder</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">getattr</span>(sys, <span class="hljs-string">&quot;frozen&quot;</span>, <span class="hljs-literal">False</span>):<br>        <span class="hljs-keyword">return</span> os.path.dirname(os.path.abspath(__file__))<br>    <span class="hljs-keyword">else</span>:<br>        cur_folder = os.path.dirname(inspects.getfile(inspects.currentframe()))<br>        <span class="hljs-keyword">return</span> os.path.abspath(cur_folder)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">md5</span>(<span class="hljs-params">v</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    # md5加密</span><br><span class="hljs-string">    :param v: value</span><br><span class="hljs-string">    :return: md5 value</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(v, <span class="hljs-built_in">str</span>):<br>        v = v.encode(<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>    <span class="hljs-keyword">return</span> hashlib.md5(v).hexdigest()<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">s2d</span>(<span class="hljs-params">s, fmt=<span class="hljs-string">&quot;%Y-%m-%d %H:%M:%S&quot;</span></span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    # 字符串转日期</span><br><span class="hljs-string">    :param s: string type time</span><br><span class="hljs-string">    :param fmt: transfer to formatter</span><br><span class="hljs-string">    :return: datetime type time</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">return</span> datetime.strptime(s, fmt)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">d2s</span>(<span class="hljs-params">d, fmt=<span class="hljs-string">&quot;%Y-%m-%d %H:%M:%S&quot;</span></span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    # 日期转字符串</span><br><span class="hljs-string">    :param d: datetime type time</span><br><span class="hljs-string">    :param fmt: transfer to formatter</span><br><span class="hljs-string">    :return: string type time</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">return</span> d.strftime(fmt)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">d2ts</span>(<span class="hljs-params">d</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    # 日期转ts</span><br><span class="hljs-string">    :param d: datetime type parameter</span><br><span class="hljs-string">    :return: time.time type</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">return</span> time.mktime(d.timetuple())<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">s2ts</span>(<span class="hljs-params">s, <span class="hljs-built_in">format</span>=<span class="hljs-string">&quot;%Y-%m-%d %H:%M:%S&quot;</span></span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    # 字符串转ts</span><br><span class="hljs-string">    :param s: sting type parameter</span><br><span class="hljs-string">    :return: time.time type</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    d = s2d(s, <span class="hljs-built_in">format</span>)<br>    <span class="hljs-keyword">return</span> d2ts(d)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">dura_date</span>(<span class="hljs-params">d1, d2, need_d=<span class="hljs-literal">False</span></span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    # get datetime1 and datatime difference 时间差</span><br><span class="hljs-string">    :param d1: datetime parameter 1</span><br><span class="hljs-string">    :param d2: datetime parameter 2</span><br><span class="hljs-string">    :param need_d: is or not need hours, minutes, seconds</span><br><span class="hljs-string">    :return: result 1: seconds</span><br><span class="hljs-string">    result 2: hours, minutes, seconds</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">type</span>(d1) <span class="hljs-keyword">is</span> <span class="hljs-built_in">str</span>:<br>        d1 = s2d(d1)<br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">type</span>(d2) <span class="hljs-keyword">is</span> <span class="hljs-built_in">str</span>:<br>        d2 = s2d(d2)<br>    d = d2 - d1<br>    <span class="hljs-keyword">if</span> need_d <span class="hljs-keyword">is</span> <span class="hljs-literal">False</span>:<br>        seconds = d.seconds<br>        mins = seconds / <span class="hljs-number">60.00</span><br>        hours = mins / <span class="hljs-number">60.00</span><br>        <span class="hljs-keyword">return</span> seconds, mins, hours<br>    <span class="hljs-keyword">return</span> d<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_now_time</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    # 获取当前时间</span><br><span class="hljs-string">    :return: to return the now of datetime type</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">return</span> datetime.now()<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_now_date</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    # 获取当前日期</span><br><span class="hljs-string">    :return: to return the now of date type</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">return</span> datetime.now().date()<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_now</span>(<span class="hljs-params"><span class="hljs-built_in">format</span>=<span class="hljs-string">&quot;%Y-%m-%d %H:%M:%S&quot;</span></span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    # 获取当前时间str</span><br><span class="hljs-string">    :return: to return the now of string type</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">return</span> d2s(datetime.now(), <span class="hljs-built_in">format</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_week_day</span>(<span class="hljs-params">date</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    # 获取weekday</span><br><span class="hljs-string">    :param date: date</span><br><span class="hljs-string">    :return: week</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    weekdaylist = (<span class="hljs-string">&#x27;星期一&#x27;</span>, <span class="hljs-string">&#x27;星期二&#x27;</span>, <span class="hljs-string">&#x27;星期三&#x27;</span>, <span class="hljs-string">&#x27;星期四&#x27;</span>, <span class="hljs-string">&#x27;星期五&#x27;</span>, <span class="hljs-string">&#x27;星期六&#x27;</span>, <span class="hljs-string">&#x27;星期天&#x27;</span>)<br>    weekday = weekdaylist[date.weekday()]<br>    <span class="hljs-keyword">return</span> weekday<br><br><br><span class="hljs-comment"># 计时器</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">timeer</span>(<span class="hljs-params">fn</span>):<br><span class="hljs-meta">    @wraps(<span class="hljs-params">fn</span>)</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_wrapper</span>(<span class="hljs-params">*args, **kwargs</span>):<br>        start = datetime.now()<br>        res = fn(*args, **kwargs)<br>        end = datetime.now()<br>        LOG.info(<span class="hljs-string">&#x27;@timeer %s is run: %s&#x27;</span> % (fn.__name__, (end-start).seconds))<br>        <span class="hljs-keyword">return</span> res<br><br>    <span class="hljs-keyword">return</span> _wrapper<br><br><br><span class="hljs-comment"># 真实IP</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_real_ip</span>(<span class="hljs-params">request</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    flask api request object</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> request.headers.getlist(<span class="hljs-string">&quot;X-Forwarded-For&quot;</span>):<br>        ip = request.remote_addr<br>    <span class="hljs-keyword">else</span>:<br>        ip = request.headers.getlist(<span class="hljs-string">&quot;X-Forwarded-For&quot;</span>)[<span class="hljs-number">0</span>]<br>    <span class="hljs-keyword">return</span> ip<br><br><br><span class="hljs-comment"># rtx-id by request config</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_rtx_id</span>(<span class="hljs-params">request</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    flask api request object</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">return</span> request.headers.get(<span class="hljs-string">&quot;X-Rtx-Id&quot;</span>) \<br>        <span class="hljs-keyword">if</span> request.headers.get(<span class="hljs-string">&quot;X-Rtx-Id&quot;</span>) <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;&#x27;</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">mk_dirs</span>(<span class="hljs-params">path</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    # mdkirs folder 建立文件夹（递归）</span><br><span class="hljs-string">    :param path: to make folder path</span><br><span class="hljs-string">    :return: path</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    os.makedirs(path)<br>    <span class="hljs-keyword">return</span> path<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_base_dir</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    # 获取项目base目录（deploy）</span><br><span class="hljs-string">    :return: deploy base path</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">return</span> os.path.dirname(get_cur_folder())<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">v2decimal</span>(<span class="hljs-params">x, y</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    # 保留小数</span><br><span class="hljs-string">    :param x: value</span><br><span class="hljs-string">    :param y: point decimal</span><br><span class="hljs-string">    :return:</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> x:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br>    <span class="hljs-keyword">if</span> x.find(<span class="hljs-string">&#x27;.&#x27;</span>) &gt; <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">round</span>(x, y)<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">int</span>(x)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_month_list</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    static method</span><br><span class="hljs-string">    # 获取月份list</span><br><span class="hljs-string">    :return: list data</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">return</span> [<span class="hljs-string">u&#x27;1月&#x27;</span>, <span class="hljs-string">u&#x27;2月&#x27;</span>, <span class="hljs-string">u&#x27;3月&#x27;</span>, <span class="hljs-string">u&#x27;4月&#x27;</span>, <span class="hljs-string">u&#x27;5月&#x27;</span>, <span class="hljs-string">u&#x27;6月&#x27;</span>,<br>            <span class="hljs-string">u&#x27;7月&#x27;</span>, <span class="hljs-string">u&#x27;8月&#x27;</span>, <span class="hljs-string">u&#x27;9月&#x27;</span>, <span class="hljs-string">u&#x27;10月&#x27;</span>, <span class="hljs-string">u&#x27;11月&#x27;</span>, <span class="hljs-string">u&#x27;12月&#x27;</span>]<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">filename2md5</span>(<span class="hljs-params">rtx_id: <span class="hljs-built_in">str</span> = <span class="hljs-literal">None</span>, file_name: <span class="hljs-built_in">str</span> = <span class="hljs-literal">None</span>, _<span class="hljs-built_in">type</span>: <span class="hljs-built_in">str</span> = <span class="hljs-string">&#x27;file&#x27;</span></span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    get local store file name by md5 value</span><br><span class="hljs-string">    获取本地存储文件名称md5</span><br><span class="hljs-string">    :param rtx_id: rtx id</span><br><span class="hljs-string">    :param file_name: file name</span><br><span class="hljs-string">    :param _type: file type, is file,image, and so on.</span><br><span class="hljs-string">    :return:</span><br><span class="hljs-string">    result is tuple</span><br><span class="hljs-string">    param1: md5 value no suffix</span><br><span class="hljs-string">    param2: md5 value have suffix</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    file_names = os.path.splitext(file_name)<br>    suffix = (file_names[<span class="hljs-number">1</span>]).lower() <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(file_names) &gt; <span class="hljs-number">1</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;&#x27;</span><br>    _v = file_name + get_now() + _<span class="hljs-built_in">type</span> + rtx_id <span class="hljs-keyword">if</span> rtx_id \<br>        <span class="hljs-keyword">else</span> file_name + get_now() + _<span class="hljs-built_in">type</span><br>    md5_v = md5(_v)<br>    <span class="hljs-keyword">return</span> md5_v, md5_v + suffix <span class="hljs-keyword">if</span> suffix <span class="hljs-keyword">else</span> md5_v<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">check_length</span>(<span class="hljs-params">data, limit=<span class="hljs-number">10</span></span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    check data length</span><br><span class="hljs-string">    :param data: check data</span><br><span class="hljs-string">    :param limit: length limit</span><br><span class="hljs-string"></span><br><span class="hljs-string">    return True or False</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> data:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span> <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(data) &lt;= limit <span class="hljs-keyword">else</span> <span class="hljs-literal">False</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_day_week_date</span>(<span class="hljs-params">query_date</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    get query day current week</span><br><span class="hljs-string">    :param query_date: query day, is str</span><br><span class="hljs-string"></span><br><span class="hljs-string">    return dict</span><br><span class="hljs-string">    format:</span><br><span class="hljs-string">        - start_time</span><br><span class="hljs-string">        - end_time</span><br><span class="hljs-string">        - [星期一date, 星期二date, 星期三date, 星期四date, 星期五date, 星期六date, 星期日date]</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> query_date:<br>        query_date = get_now_date()<br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(query_date, <span class="hljs-built_in">str</span>):<br>        query_date = s2d(query_date, fmt=<span class="hljs-string">&quot;%Y-%m-%d&quot;</span>)<br>    current_week = query_date.isoweekday()  <span class="hljs-comment"># 当前时间所在本周第几天</span><br>    start_week_date = (query_date - timedelta(days=current_week - <span class="hljs-number">1</span>))<br>    end_week_date = (query_date + timedelta(days=<span class="hljs-number">7</span> - current_week))<br>    _week = <span class="hljs-built_in">list</span>()<br>    <span class="hljs-keyword">for</span> day_num <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">7</span>, <span class="hljs-number">1</span>):<br>        _week.append(d2s(start_week_date + timedelta(days=day_num), fmt=<span class="hljs-string">&quot;%Y-%m-%d&quot;</span>))<br>    _res = &#123;<br>        <span class="hljs-string">&quot;start_week_date&quot;</span>: d2s(start_week_date, fmt=<span class="hljs-string">&quot;%Y-%m-%d&quot;</span>),  <span class="hljs-comment"># 本周起始日期</span><br>        <span class="hljs-string">&quot;end_week_date&quot;</span>: d2s(end_week_date, fmt=<span class="hljs-string">&quot;%Y-%m-%d&quot;</span>),      <span class="hljs-comment"># 本周结束日期</span><br>        <span class="hljs-string">&quot;week_date&quot;</span>: _week                   <span class="hljs-comment"># 本周日期列表</span><br><br>    &#125;<br>    <span class="hljs-keyword">return</span> _res<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">ping</span>(<span class="hljs-params">ip: <span class="hljs-built_in">str</span>, **kwargs</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    insect to ping the ip connection</span><br><span class="hljs-string"></span><br><span class="hljs-string">    :param ip: the target ip or 域名</span><br><span class="hljs-string">    :param kwargs: the ping other parameters</span><br><span class="hljs-string">    :return: bool</span><br><span class="hljs-string"></span><br><span class="hljs-string">    **kwargs:</span><br><span class="hljs-string">        -a             将地址解析为主机名。</span><br><span class="hljs-string">        -n count       要发送的回显请求数。</span><br><span class="hljs-string">        -l size        发送缓冲区大小。</span><br><span class="hljs-string">        -w timeout     等待每次回复的超时时间(毫秒)。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    usage:</span><br><span class="hljs-string">        ping(ip=&#x27;www.baidu.com&#x27;, n=4, w=2000, l=32)</span><br><span class="hljs-string">        or</span><br><span class="hljs-string">        ping(ip=&#x27;127.0.0.1&#x27;, n=4, w=2000, l=32)</span><br><span class="hljs-string"></span><br><span class="hljs-string">    param default value:</span><br><span class="hljs-string">        - count: 4</span><br><span class="hljs-string">        - size: 32</span><br><span class="hljs-string">        - timeout: 2000</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    cmd = [<span class="hljs-string">&#x27;ping&#x27;</span>]<br>    <span class="hljs-comment"># **kwargs &gt; ping &gt; a</span><br>    <span class="hljs-keyword">if</span> kwargs.get(<span class="hljs-string">&#x27;a&#x27;</span>):<br>        cmd.append(<span class="hljs-string">&#x27;-a&#x27;</span>)<br>    <span class="hljs-comment"># **kwargs &gt; ping &gt; n</span><br>    <span class="hljs-keyword">if</span> kwargs.get(<span class="hljs-string">&#x27;n&#x27;</span>) <span class="hljs-keyword">or</span> kwargs.get(<span class="hljs-string">&#x27;count&#x27;</span>):<br>        count = kwargs.get(<span class="hljs-string">&#x27;n&#x27;</span>) <span class="hljs-keyword">or</span> kwargs.get(<span class="hljs-string">&#x27;count&#x27;</span>) <span class="hljs-keyword">or</span> <span class="hljs-number">4</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-built_in">isinstance</span>(count, <span class="hljs-built_in">int</span>):<br>            count = <span class="hljs-number">4</span><br>        <span class="hljs-keyword">if</span> count &gt; <span class="hljs-number">0</span>:<br>            cmd.append(<span class="hljs-string">&#x27;-n %s&#x27;</span> % count)<br>    <span class="hljs-comment"># **kwargs &gt; ping &gt; l</span><br>    <span class="hljs-keyword">if</span> kwargs.get(<span class="hljs-string">&#x27;l&#x27;</span>) <span class="hljs-keyword">or</span> kwargs.get(<span class="hljs-string">&#x27;size&#x27;</span>):<br>        size = kwargs.get(<span class="hljs-string">&#x27;l&#x27;</span>) <span class="hljs-keyword">or</span> kwargs.get(<span class="hljs-string">&#x27;size&#x27;</span>) <span class="hljs-keyword">or</span> <span class="hljs-number">32</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-built_in">isinstance</span>(size, <span class="hljs-built_in">int</span>):<br>            size = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">if</span> size &gt; <span class="hljs-number">0</span>:<br>            cmd.append(<span class="hljs-string">&#x27;-l %s&#x27;</span> % size)<br>    <span class="hljs-comment"># **kwargs &gt; ping &gt; w</span><br>    <span class="hljs-keyword">if</span> kwargs.get(<span class="hljs-string">&#x27;w&#x27;</span>) <span class="hljs-keyword">or</span> kwargs.get(<span class="hljs-string">&#x27;timeout&#x27;</span>):<br>        timeout = kwargs.get(<span class="hljs-string">&#x27;w&#x27;</span>) <span class="hljs-keyword">or</span> kwargs.get(<span class="hljs-string">&#x27;timeout&#x27;</span>) <span class="hljs-keyword">or</span> <span class="hljs-number">2000</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-built_in">isinstance</span>(timeout, <span class="hljs-built_in">int</span>):<br>            timeout = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">if</span> timeout &gt; <span class="hljs-number">0</span>:<br>            cmd.append(<span class="hljs-string">&#x27;-w %s&#x27;</span> % timeout)<br>    cmd.append(ip)<br>    cmd_str = <span class="hljs-string">&#x27; &#x27;</span>.join(cmd)<br>    ret_res = subprocess.call(cmd_str, shell=<span class="hljs-literal">True</span>, stdin=subprocess.PIPE, stdout=subprocess.PIPE,<br>                              stderr=subprocess.PIPE)<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span> <span class="hljs-keyword">if</span> ret_res == <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-literal">False</span><br></code></pre></td></tr></table></figure><h4 id="系列"><a href="#系列" class="headerlink" title="系列"></a>系列</h4><p><a href="http://pygo2.top/articles/26110/">Python模块之command系统命令</a><br><a href="http://pygo2.top/articles/19275/">Python模块之excel模块</a><br><a href="http://pygo2.top/articles/5145/">Python模块之logger日志</a><br><a href="http://pygo2.top/articles/61799/">Python模块之utils公共方法</a><br><a href="http://pygo2.top/articles/31232/">Python模块之watcher打点</a><br><a href="http://pygo2.top/articles/51787/">Python模块之config配置解析</a><br><a href="http://pygo2.top/articles/58292/">Python模块之dtalk钉钉消息</a><br><a href="http://pygo2.top/articles/33254/">Python模块之企业微信</a></p><p>更多模块请参考文章TAG进行查看。</p><p><font size=6.5 color='red'><em><strong>Python模块系列，持续更新中。。。。。。</strong></em></font></p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Python模块系列</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python模块之logger日志</title>
    <link href="/articles/5145/"/>
    <url>/articles/5145/</url>
    
    <content type="html"><![CDATA[<div class="post_cus_note">Python模块系列</div><span id="more"></span><hr /><h4 id="版本"><a href="#版本" class="headerlink" title="版本"></a>版本</h4><table><thead><tr><th align="center">名称</th><th align="center">版本</th></tr></thead><tbody><tr><td align="center">Python</td><td align="center">3</td></tr></tbody></table><h4 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h4><p>日志模块。</p><h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-keyword">from</span> app.utils.logger import logger<br><br>logger.<span class="hljs-built_in">debug</span>(<span class="hljs-string">&#x27;message&#x27;</span>)<br>logger.<span class="hljs-built_in">info</span>(<span class="hljs-string">&#x27;message&#x27;</span>)<br>logger.<span class="hljs-built_in">warning</span>(<span class="hljs-string">&#x27;message&#x27;</span>)<br>logger.<span class="hljs-built_in">error</span>(<span class="hljs-string">&#x27;message&#x27;</span>)<br>logger.critical(<span class="hljs-string">&#x27;message&#x27;</span>)<br></code></pre></td></tr></table></figure><h4 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">------------------------------------------------</span><br><span class="hljs-string"></span><br><span class="hljs-string">describe:</span><br><span class="hljs-string">    日志</span><br><span class="hljs-string"></span><br><span class="hljs-string">    record  system information</span><br><span class="hljs-string">    level: debug, info, warning, error, critical</span><br><span class="hljs-string"></span><br><span class="hljs-string">    CRITICAL 50</span><br><span class="hljs-string">    ERROR 40</span><br><span class="hljs-string">    WARNING 30</span><br><span class="hljs-string">    INFO 20</span><br><span class="hljs-string">    DEBUG 10</span><br><span class="hljs-string"></span><br><span class="hljs-string">formatter：</span><br><span class="hljs-string">    %(levelno)s：打印日志级别的数值。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    %(levelname)s：打印日志级别的名称。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    %(pathname)s：打印当前执行程序的路径，其实就是sys.argv[0]。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    %(filename)s：打印当前执行程序名。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    %(funcName)s：打印日志的当前函数。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    %(lineno)d：打印日志的当前行号。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    %(asctime)s：打印日志的时间。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    %(thread)d：打印线程ID。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    %(threadName)s：打印线程名称。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    %(process)d：打印进程ID。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    %(processName)s：打印线程名称。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    %(module)s：打印模块名称。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    %(message)s：打印日志信息。</span><br><span class="hljs-string"></span><br><span class="hljs-string">base_info:</span><br><span class="hljs-string">    __author__ = &quot;PyGo&quot;</span><br><span class="hljs-string">    __time__ = &quot;2022/9/14&quot;</span><br><span class="hljs-string">    __version__ = &quot;v.1.0.0&quot;</span><br><span class="hljs-string">    __mail__ = &quot;gaoming971366@163.com&quot;</span><br><span class="hljs-string">    __project__ = &quot;quality-inspect&quot;</span><br><span class="hljs-string"></span><br><span class="hljs-string">usage:</span><br><span class="hljs-string">    from app.utils.logger import logger</span><br><span class="hljs-string"></span><br><span class="hljs-string">    logger.debug(&#x27;message&#x27;)</span><br><span class="hljs-string">    logger.info(&#x27;message&#x27;)</span><br><span class="hljs-string">    logger.warning(&#x27;message&#x27;)</span><br><span class="hljs-string">    logger.error(&#x27;message&#x27;)</span><br><span class="hljs-string">    logger.critical(&#x27;message&#x27;)</span><br><span class="hljs-string"></span><br><span class="hljs-string">design:</span><br><span class="hljs-string"></span><br><span class="hljs-string">reference urls:</span><br><span class="hljs-string"></span><br><span class="hljs-string">python version:</span><br><span class="hljs-string">    python3</span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string">Enjoy the good time everyday！！!</span><br><span class="hljs-string">Life is short, I use python.</span><br><span class="hljs-string"></span><br><span class="hljs-string">------------------------------------------------</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><span class="hljs-comment"># ------------------------------------------------------------</span><br><span class="hljs-comment"># usage: /usr/bin/python logger.py</span><br><span class="hljs-comment"># ------------------------------------------------------------</span><br><span class="hljs-keyword">import</span> datetime<br><span class="hljs-keyword">import</span> inspect<br><span class="hljs-keyword">import</span> logging<br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> sys<br><span class="hljs-keyword">from</span> logging.handlers <span class="hljs-keyword">import</span> RotatingFileHandler<br><span class="hljs-keyword">from</span> config <span class="hljs-keyword">import</span> LOG_DIR, LOG_LEVEL, LOG_FORMATTER, LOG_FILENAME_PREFIX<br><br>LEVEL = &#123;<br>    <span class="hljs-string">&#x27;debug&#x27;</span>: logging.DEBUG,<br>    <span class="hljs-string">&#x27;info&#x27;</span>: logging.INFO,<br>    <span class="hljs-string">&#x27;warning&#x27;</span>: logging.WARNING,<br>    <span class="hljs-string">&#x27;error&#x27;</span>: logging.ERROR,<br>    <span class="hljs-string">&#x27;critical&#x27;</span>: logging.CRITICAL<br>&#125;<br><br><br>logger = logging.getLogger(__name__)<br><br><br><span class="hljs-comment"># get current folder, solve is or not frozen of the script</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">_get_cur_folder</span>():<br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">getattr</span>(sys, <span class="hljs-string">&quot;frozen&quot;</span>, <span class="hljs-literal">False</span>):<br>        <span class="hljs-keyword">return</span> os.path.dirname(os.path.abspath(__file__))<br>    <span class="hljs-keyword">else</span>:<br>        cur_folder = os.path.dirname(inspect.getfile(inspect.currentframe()))<br>        <span class="hljs-keyword">return</span> os.path.abspath(cur_folder)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">_get_now</span>(<span class="hljs-params"><span class="hljs-built_in">format</span>=<span class="hljs-string">&quot;%Y-%m-%d %H:%M:%S&quot;</span></span>):<br>    <span class="hljs-keyword">return</span> datetime.datetime.strftime(datetime.datetime.now(), <span class="hljs-built_in">format</span>)<br><br><br><span class="hljs-comment"># default log dir</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">__get_log_dir</span>():<br>    <span class="hljs-keyword">return</span> os.path.join(_get_cur_folder(), <span class="hljs-string">&#x27;log&#x27;</span>)<br><br><br>logdir = LOG_DIR<br>level = LOG_LEVEL<br>formatter = LOG_FORMATTER<br>filename_prefix = LOG_FILENAME_PREFIX<br><br><br><span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> logdir:<br>    logdir = __get_log_dir()<br><span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(logdir):<br>    <span class="hljs-keyword">try</span>:<br>        os.makedirs(logdir)<br>        logger.critical(<span class="hljs-string">&#x27;====== log dir is not exist, create: %s ======&#x27;</span> % logdir)<br>    <span class="hljs-keyword">except</span>:<br>        logger.critical(<span class="hljs-string">&#x27;====== log dir is not exist and create failure, exist: %s ======&#x27;</span> % logdir)<br>        sys.exit(<span class="hljs-number">1</span>)<br><span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> level:<br>    level = <span class="hljs-string">&#x27;debug&#x27;</span><br><span class="hljs-comment"># 格式</span><br><span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> formatter:<br>    formatter = <span class="hljs-string">&#x27;%(asctime)s - %(pathname)s[line:%(lineno)d] - %(levelname)s - %(message)s&#x27;</span><br>formatter = logging.Formatter(formatter,<br>                              datefmt=<span class="hljs-string">&#x27;%Y/%m/%d %H:%M:%S&#x27;</span>)<br><br>log_level = LEVEL.get(level)<br>logger.setLevel(level=log_level)<br><br><br><span class="hljs-comment"># 定义一个RotatingFileHandler，最多备份10个日志文件，每个日志文件最大10M</span><br>log_name = filename_prefix + <span class="hljs-string">&#x27;_&#x27;</span> + _get_now(<span class="hljs-built_in">format</span>=<span class="hljs-string">&quot;%Y-%m-%d&quot;</span>) \<br>    <span class="hljs-keyword">if</span> filename_prefix <span class="hljs-keyword">and</span> filename_prefix != <span class="hljs-string">&#x27;-&#x27;</span> <span class="hljs-keyword">else</span> _get_now(<span class="hljs-built_in">format</span>=<span class="hljs-string">&quot;%Y-%m-%d&quot;</span>)<br>log_file = os.path.join(logdir, (log_name + <span class="hljs-string">&#x27;.log&#x27;</span>))<br>file_handler = RotatingFileHandler(log_file,<br>                                   mode=<span class="hljs-string">&#x27;a&#x27;</span>,<br>                                   maxBytes=<span class="hljs-number">10</span>*<span class="hljs-number">1024</span>*<span class="hljs-number">1024</span>,<br>                                   backupCount=<span class="hljs-number">10</span>,<br>                                   encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>file_handler.setLevel(log_level)<br>file_handler.setFormatter(formatter)<br>logger.addHandler(file_handler)<br><span class="hljs-comment"># 控制台</span><br>stream_handler = logging.StreamHandler()<br>stream_handler.setLevel(log_level)<br>stream_handler.setFormatter(formatter)<br>logger.addHandler(stream_handler)<br></code></pre></td></tr></table></figure><h4 id="系列"><a href="#系列" class="headerlink" title="系列"></a>系列</h4><p><a href="http://pygo2.top/articles/26110/">Python模块之command系统命令</a><br><a href="http://pygo2.top/articles/19275/">Python模块之excel模块</a><br><a href="http://pygo2.top/articles/5145/">Python模块之logger日志</a><br><a href="http://pygo2.top/articles/61799/">Python模块之utils公共方法</a><br><a href="http://pygo2.top/articles/31232/">Python模块之watcher打点</a><br><a href="http://pygo2.top/articles/51787/">Python模块之config配置解析</a><br><a href="http://pygo2.top/articles/58292/">Python模块之dtalk钉钉消息</a><br><a href="http://pygo2.top/articles/33254/">Python模块之企业微信</a></p><p>更多模块请参考文章TAG进行查看。</p><p><font size=6.5 color='red'><em><strong>Python模块系列，持续更新中。。。。。。</strong></em></font></p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Python模块系列</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python模块之excel模块</title>
    <link href="/articles/19275/"/>
    <url>/articles/19275/</url>
    
    <content type="html"><![CDATA[<div class="post_cus_note">Python模块系列</div><span id="more"></span><hr /><h4 id="版本"><a href="#版本" class="headerlink" title="版本"></a>版本</h4><table><thead><tr><th align="center">名称</th><th align="center">版本</th></tr></thead><tbody><tr><td align="center">Python</td><td align="center">3</td></tr></tbody></table><h4 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h4><p>Excel表读取、写入工具<br>使用了xlrd、xlwt，Excel表格处理包进行开发的lib工具包</p><ul><li><p>read</p></li><li><p>write<br>其中，在写入模块加入了表格样式处理，使其生成的表格自带cell样式，更加美观</p></li></ul><h4 id="设计"><a href="#设计" class="headerlink" title="设计"></a>设计</h4><p>利用Python包开发的表格工具包。</p><ul><li>xlrd: 表格读取包</li><li>xlwt: 表格写入包</li></ul><h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs routeros">excel_lib = ExcelLib()<br><span class="hljs-comment"># 读取</span><br>excel_lib.read(read_file)<br><span class="hljs-comment"># 写入</span><br>excel_res = self.excel_lib.beau_write(<span class="hljs-attribute">excel_file</span>=excel_file, <span class="hljs-attribute">data</span>=inspect_list)<br></code></pre></td></tr></table></figure><h4 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">------------------------------------------------</span><br><span class="hljs-string"></span><br><span class="hljs-string">describe:</span><br><span class="hljs-string">    Excel表读取、写入工具</span><br><span class="hljs-string">    使用了xlrd、xlwt，Excel表格处理包进行开发的lib工具包</span><br><span class="hljs-string">    - read</span><br><span class="hljs-string">    - write</span><br><span class="hljs-string">    其中，在写入模块加入了表格样式处理，使其生成的表格自带cell样式，更加美观</span><br><span class="hljs-string"></span><br><span class="hljs-string">base_info:</span><br><span class="hljs-string">    __author__ = &quot;PyGo&quot;</span><br><span class="hljs-string">    __time__ = &quot;2022/9/15&quot;</span><br><span class="hljs-string">    __version__ = &quot;v.1.0.0&quot;</span><br><span class="hljs-string">    __mail__ = &quot;gaoming971366@163.com&quot;</span><br><span class="hljs-string">    __project__ = &quot;quality-inspect&quot;</span><br><span class="hljs-string"></span><br><span class="hljs-string">usage:</span><br><span class="hljs-string">    excel_lib = ExcelLib()</span><br><span class="hljs-string">    # 读取</span><br><span class="hljs-string">    excel_lib.read(read_file)</span><br><span class="hljs-string">    # 写入</span><br><span class="hljs-string">    excel_res = self.excel_lib.beau_write(excel_file=excel_file, data=inspect_list)</span><br><span class="hljs-string"></span><br><span class="hljs-string">design:</span><br><span class="hljs-string">    - xlrd: 表格读取包</span><br><span class="hljs-string">    - xlwt: 表格写入包</span><br><span class="hljs-string">    利用Python包开发的表格工具包。</span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string">reference urls:</span><br><span class="hljs-string"></span><br><span class="hljs-string">python version:</span><br><span class="hljs-string">    python3</span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string">Enjoy the good time everyday！！!</span><br><span class="hljs-string">Life is short, I use python.</span><br><span class="hljs-string"></span><br><span class="hljs-string">------------------------------------------------</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><span class="hljs-comment"># ------------------------------------------------------------</span><br><span class="hljs-comment"># usage: /usr/bin/python excel_lib.py</span><br><span class="hljs-comment"># ------------------------------------------------------------</span><br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> xlwt<br><span class="hljs-keyword">import</span> xlrd<br><br><span class="hljs-keyword">from</span> deploy.utils <span class="hljs-keyword">import</span> get_now, mk_dirs<br><span class="hljs-keyword">from</span> deploy.status_msg <span class="hljs-keyword">import</span> StatusMsgs<br><span class="hljs-keyword">from</span> config <span class="hljs-keyword">import</span> RESULT_EXCEL, DEBUG<br><span class="hljs-keyword">from</span> deploy.logger <span class="hljs-keyword">import</span> logger <span class="hljs-keyword">as</span> LOG<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">ExcelLib</span>(<span class="hljs-title class_ inherited__">object</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    Excel class</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br><br>    <span class="hljs-comment"># 类常量参数</span><br>    DEFAULT_OLD_V_PREFIX = <span class="hljs-string">&#x27;.xls&#x27;</span><br>    DEFAULT_NEW_V_PREFIX = <span class="hljs-string">&#x27;.xlsx&#x27;</span><br>    DEFAULT_SHEET_NAME = <span class="hljs-string">&#x27;Sheet1&#x27;</span><br><br>    <span class="hljs-comment"># 表格样式 &gt; 文字横向方向</span><br>    HORZ_DICT = &#123;<br>        <span class="hljs-string">&#x27;left&#x27;</span>: <span class="hljs-number">0x01</span>,<br>        <span class="hljs-string">&#x27;center&#x27;</span>: <span class="hljs-number">0x02</span>,<br>        <span class="hljs-string">&#x27;right&#x27;</span>: <span class="hljs-number">0x03</span><br>    &#125;<br>    <span class="hljs-comment"># 表格样式 &gt; 文字纵向方向</span><br>    VERT_DICT = &#123;<br>        <span class="hljs-string">&#x27;top&#x27;</span>: <span class="hljs-number">0x00</span>,<br>        <span class="hljs-string">&#x27;center&#x27;</span>: <span class="hljs-number">0x01</span>,<br>        <span class="hljs-string">&#x27;bottom&#x27;</span>: <span class="hljs-number">0x02</span><br>    &#125;<br>    <span class="hljs-comment"># 表格样式 &gt; 单元格边框</span><br>    BORDER_LINES = &#123;<br>        <span class="hljs-string">&#x27;NO_LINE&#x27;</span>: xlwt.Borders.NO_LINE,<br>        <span class="hljs-string">&#x27;THIN&#x27;</span>: xlwt.Borders.THIN,<br>        <span class="hljs-string">&#x27;MEDIUM&#x27;</span>: xlwt.Borders.MEDIUM,<br>        <span class="hljs-string">&#x27;DASHED&#x27;</span>: xlwt.Borders.DASHED,<br>        <span class="hljs-string">&#x27;DOTTED&#x27;</span>: xlwt.Borders.DOTTED,<br>        <span class="hljs-string">&#x27;THICK&#x27;</span>: xlwt.Borders.THICK,<br>        <span class="hljs-string">&#x27;DOUBLE&#x27;</span>: xlwt.Borders.DOUBLE,<br>        <span class="hljs-string">&#x27;HAIR&#x27;</span>: xlwt.Borders.HAIR<br>    &#125;<br>    <span class="hljs-comment"># 表格样式 &gt; 单元格类型</span><br>    FORMATTER = [<br>        <span class="hljs-string">&#x27;general&#x27;</span>,<br>        <span class="hljs-string">&#x27;0&#x27;</span>,<br>        <span class="hljs-string">&#x27;0.00&#x27;</span>,<br>        <span class="hljs-string">&#x27;#,##0&#x27;</span>,<br>        <span class="hljs-string">&#x27;#,##0.00&#x27;</span>,<br>        <span class="hljs-string">&#x27;&quot;$&quot;#,##0_);(&quot;$&quot;#,##&#x27;</span>,<br>        <span class="hljs-string">&#x27;&quot;$&quot;#,##0_);[Red](&quot;$&quot;#,##&#x27;</span>,<br>        <span class="hljs-string">&#x27;&quot;$&quot;#,##0.00_);(&quot;$&quot;#,##&#x27;</span>,<br>        <span class="hljs-string">&#x27;&quot;$&quot;#,##0.00_);[Red](&quot;$&quot;#,##&#x27;</span>,<br>        <span class="hljs-string">&#x27;0%&#x27;</span>,<br>        <span class="hljs-string">&#x27;0.00%&#x27;</span>,<br>        <span class="hljs-string">&#x27;0.00E+00&#x27;</span>,<br>        <span class="hljs-string">&#x27;# ?/?&#x27;</span>,<br>        <span class="hljs-string">&#x27;# ??/??&#x27;</span>,<br>        <span class="hljs-string">&#x27;M/D/YY&#x27;</span>,<br>        <span class="hljs-string">&#x27;D-MMM-YY&#x27;</span>,<br>        <span class="hljs-string">&#x27;D-MMM&#x27;</span>,<br>        <span class="hljs-string">&#x27;MMM-YY&#x27;</span>,<br>        <span class="hljs-string">&#x27;h:mm AM/PM&#x27;</span>,<br>        <span class="hljs-string">&#x27;h:mm:ss AM/PM&#x27;</span>,<br>        <span class="hljs-string">&#x27;h:mm&#x27;</span>,<br>        <span class="hljs-string">&#x27;h:mm:ss&#x27;</span>,<br>        <span class="hljs-string">&#x27;M/D/YY h:mm&#x27;</span>,<br>        <span class="hljs-string">&#x27;_(#,##0_);(#,##0)&#x27;</span>,<br>        <span class="hljs-string">&#x27;_(#,##0_);[Red](#,##0)&#x27;</span>,<br>        <span class="hljs-string">&#x27;_(#,##0.00_);(#,##0.00)&#x27;</span>,<br>        <span class="hljs-string">&#x27;_(#,##0.00_);[Red](#,##0.00)&#x27;</span>,<br>        <span class="hljs-string">&#x27;_(&quot;$&quot;* #,##0_);_(&quot;$&quot;* (#,##0);_(&quot;$&quot;* &quot;-&quot;_);_(@_)&#x27;</span>,<br>        <span class="hljs-string">&#x27;_(* #,##0_);_(* (#,##0);_(* &quot;-&quot;_);_(@_)&#x27;</span>,<br>        <span class="hljs-string">&#x27;_(&quot;$&quot;* #,##0.00_);_(&quot;$&quot;* (#,##0.00);_(&quot;$&quot;* &quot;-&quot;??_);_(@_)&#x27;</span>,<br>        <span class="hljs-string">&#x27;_(* #,##0.00_);_(* (#,##0.00);_(* &quot;-&quot;??_);_(@_)&#x27;</span>,<br>        <span class="hljs-string">&#x27;mm:ss&#x27;</span>,<br>        <span class="hljs-string">&#x27;[h]:mm:ss&#x27;</span>,<br>        <span class="hljs-string">&#x27;mm:ss.0&#x27;</span>,<br>        <span class="hljs-string">&#x27;##0.0E+0&#x27;</span>,<br>        <span class="hljs-string">&#x27;@&#x27;</span><br>    ]<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, blank=<span class="hljs-number">0</span></span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        class initialize parameters</span><br><span class="hljs-string">        :param blank: blank number</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">if</span> DEBUG:<br>            LOG.debug(<span class="hljs-string">&#x27;Excel lib is loading.&#x27;</span>)<br>        <span class="hljs-variable language_">self</span>.prefix_list = [<span class="hljs-string">&#x27;.xlsx&#x27;</span>, <span class="hljs-string">&#x27;.xls&#x27;</span>]<br>        <span class="hljs-variable language_">self</span>.blank = <span class="hljs-number">0</span>  <span class="hljs-comment"># 空行个数，默认值0行</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">set_style</span>(<span class="hljs-params">self, font=<span class="hljs-string">&#x27;Times New Roman&#x27;</span>, size=<span class="hljs-number">11</span>, color=<span class="hljs-number">0</span>, bgcolor=<span class="hljs-string">&#x27;white&#x27;</span>, horz=<span class="hljs-string">&#x27;left&#x27;</span>, vert=<span class="hljs-string">&#x27;center&#x27;</span>, **kwargs</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        set the excel cell style, to achieve customize style.</span><br><span class="hljs-string">        all parameters have default value.</span><br><span class="hljs-string">        parameters detail informations refer to the follow description.</span><br><span class="hljs-string">        :param font: font type</span><br><span class="hljs-string">            default value is &quot;Times New Roman&quot;</span><br><span class="hljs-string">            currently, the font is not use, font type function will be added later</span><br><span class="hljs-string">        :param size: font size</span><br><span class="hljs-string">            default value is 11</span><br><span class="hljs-string">        :param color: font color index</span><br><span class="hljs-string">            color value range is 0 ~ 100, default value is black(0)</span><br><span class="hljs-string">            this is only list 1-7:</span><br><span class="hljs-string">            0 黑 black</span><br><span class="hljs-string">            1 白 white</span><br><span class="hljs-string">            2 红 red</span><br><span class="hljs-string">            3 酸橙 lime</span><br><span class="hljs-string">            4 蓝 blue</span><br><span class="hljs-string">            5 黄 yellow</span><br><span class="hljs-string">            6 洋红 magenta</span><br><span class="hljs-string">            7 青 cyan</span><br><span class="hljs-string">        :param bgcolor: cell background</span><br><span class="hljs-string">            this value is english color, default value is white, color range:</span><br><span class="hljs-string">            aqua 0x31</span><br><span class="hljs-string">            black 0x08</span><br><span class="hljs-string">            blue 0x0C</span><br><span class="hljs-string">            blue_gray 0x36</span><br><span class="hljs-string">            bright_green 0x0B</span><br><span class="hljs-string">            brown 0x3C</span><br><span class="hljs-string">            coral 0x1D</span><br><span class="hljs-string">            cyan_ega 0x0F</span><br><span class="hljs-string">            dark_blue 0x12</span><br><span class="hljs-string">            dark_blue_ega 0x12</span><br><span class="hljs-string">            dark_green 0x3A</span><br><span class="hljs-string">            dark_green_ega 0x11</span><br><span class="hljs-string">            dark_purple 0x1C</span><br><span class="hljs-string">            dark_red 0x10</span><br><span class="hljs-string">            dark_red_ega 0x10</span><br><span class="hljs-string">            dark_teal 0x38</span><br><span class="hljs-string">            dark_yellow 0x13</span><br><span class="hljs-string">            gold 0x33</span><br><span class="hljs-string">            gray_ega 0x17</span><br><span class="hljs-string">            gray25 0x16</span><br><span class="hljs-string">            gray40 0x37</span><br><span class="hljs-string">            gray50 0x17</span><br><span class="hljs-string">            gray80 0x3F</span><br><span class="hljs-string">            green 0x11</span><br><span class="hljs-string">            ice_blue 0x1F</span><br><span class="hljs-string">            indigo 0x3E</span><br><span class="hljs-string">            ivory 0x1A</span><br><span class="hljs-string">            lavender 0x2E</span><br><span class="hljs-string">            light_blue 0x30</span><br><span class="hljs-string">            light_green 0x2A</span><br><span class="hljs-string">            light_orange 0x34</span><br><span class="hljs-string">            light_turquoise 0x29</span><br><span class="hljs-string">            light_yellow 0x2B</span><br><span class="hljs-string">            lime 0x32</span><br><span class="hljs-string">            magenta_ega 0x0E</span><br><span class="hljs-string">            ocean_blue 0x1E</span><br><span class="hljs-string">            olive_ega 0x13</span><br><span class="hljs-string">            olive_green 0x3B</span><br><span class="hljs-string">            orange 0x35</span><br><span class="hljs-string">            pale_blue 0x2C</span><br><span class="hljs-string">            periwinkle 0x18</span><br><span class="hljs-string">            pink 0x0E</span><br><span class="hljs-string">            plum 0x3D</span><br><span class="hljs-string">            purple_ega 0x14</span><br><span class="hljs-string">            red 0x0A</span><br><span class="hljs-string">            rose 0x2D</span><br><span class="hljs-string">            sea_green 0x39</span><br><span class="hljs-string">            silver_ega 0x16</span><br><span class="hljs-string">            sky_blue 0x28</span><br><span class="hljs-string">            tan 0x2F</span><br><span class="hljs-string">            teal 0x15</span><br><span class="hljs-string">            teal_ega 0x15</span><br><span class="hljs-string">            turquoise 0x0F</span><br><span class="hljs-string">            violet 0x14</span><br><span class="hljs-string">            white 0x09</span><br><span class="hljs-string">            yellow 0x0D</span><br><span class="hljs-string">        :param horz: cell horizontal（水平方向上）</span><br><span class="hljs-string">            default value is left</span><br><span class="hljs-string">            left = 0x01 左端对齐</span><br><span class="hljs-string">            center = 0x02 居中对齐</span><br><span class="hljs-string">            right = 0x03 右端对齐</span><br><span class="hljs-string">            if horz not in values dict, use default value(left)</span><br><span class="hljs-string">        :param vert: cell vertical（垂直方向上）</span><br><span class="hljs-string">            default value is center</span><br><span class="hljs-string">            top = 0x00 上端对齐</span><br><span class="hljs-string">            center = 0x01 居中对齐</span><br><span class="hljs-string">            bottom = 0x02 低端对齐</span><br><span class="hljs-string">            if vert not in values dict, use default value(center)</span><br><span class="hljs-string">        :param kwargs: other parameters, contain: bold, underline, italic, width, height, borders</span><br><span class="hljs-string">            bold: font bold</span><br><span class="hljs-string">                default is font no bold</span><br><span class="hljs-string">                value range is: True or False, default value is False</span><br><span class="hljs-string">            underline: font underline</span><br><span class="hljs-string">                default is font no underline</span><br><span class="hljs-string">                value range is: True or False, default value is False</span><br><span class="hljs-string">            italic: font italic</span><br><span class="hljs-string">                default is font no italic</span><br><span class="hljs-string">                value range is: True or False, default value is False</span><br><span class="hljs-string">            struck_out: font struck_out 字体删除符，字上加一横杠</span><br><span class="hljs-string">                default is font no struck_out</span><br><span class="hljs-string">                value range is: True or False, default value is False</span><br><span class="hljs-string">            width: cell width</span><br><span class="hljs-string">                default value is cell default width</span><br><span class="hljs-string">            height: cell height</span><br><span class="hljs-string">                default value is cell default height</span><br><span class="hljs-string">            borders: cell borders, contain left, right, top, bottom</span><br><span class="hljs-string">                default value is cell no borders</span><br><span class="hljs-string">                value range is True or False</span><br><span class="hljs-string">                border line, default is NO_LINE:</span><br><span class="hljs-string">                    NO_LINE = 0x00</span><br><span class="hljs-string">                    THIN    = 0x01</span><br><span class="hljs-string">                    MEDIUM  = 0x02</span><br><span class="hljs-string">                    DASHED  = 0x03</span><br><span class="hljs-string">                    DOTTED  = 0x04</span><br><span class="hljs-string">                    THICK   = 0x05</span><br><span class="hljs-string">                    DOUBLE  = 0x06</span><br><span class="hljs-string">                    HAIR    = 0x07</span><br><span class="hljs-string">                border color, default is 0x40.</span><br><span class="hljs-string">            borders_dict: customize to set border style</span><br><span class="hljs-string">                line: left, right, top, bottom</span><br><span class="hljs-string">                color: left, right, top, bottom</span><br><span class="hljs-string">                data frame:</span><br><span class="hljs-string">                    borders_dict = &#123;</span><br><span class="hljs-string">                        &#x27;line&#x27;: &#123;</span><br><span class="hljs-string">                            &#x27;top&#x27;: &#x27;THIN&#x27;,</span><br><span class="hljs-string">                            &#x27;bottom&#x27;: &#x27;THIN&#x27;,</span><br><span class="hljs-string">                            &#x27;left&#x27;: &#x27;THIN&#x27;,</span><br><span class="hljs-string">                            &#x27;right&#x27;: &#x27;THIN&#x27;</span><br><span class="hljs-string">                        &#125;,</span><br><span class="hljs-string">                        &#x27;color&#x27;: &#123;</span><br><span class="hljs-string">                            &#x27;top&#x27;: &#x27;0x40&#x27;,</span><br><span class="hljs-string">                            &#x27;bottom&#x27;: &#x27;0x40&#x27;,</span><br><span class="hljs-string">                            &#x27;left&#x27;: &#x27;0x40&#x27;,</span><br><span class="hljs-string">                            &#x27;right&#x27;: &#x27;0x40&#x27;</span><br><span class="hljs-string">                        &#125;,</span><br><span class="hljs-string">                    &#125;</span><br><span class="hljs-string">            warp: is or not auto wrap 自动换行</span><br><span class="hljs-string">                default value is False,</span><br><span class="hljs-string">                if True, cell value is auto wrap</span><br><span class="hljs-string">                if False, cell value is not warp</span><br><span class="hljs-string">            formatter: cell formatter</span><br><span class="hljs-string">                contain numbers, string, date, time and so on.</span><br><span class="hljs-string">                default value is general</span><br><span class="hljs-string">                detail scan FORMATTER values</span><br><span class="hljs-string">                    &#x27;general&#x27;,</span><br><span class="hljs-string">                    &#x27;0&#x27;,</span><br><span class="hljs-string">                    &#x27;0.00&#x27;,</span><br><span class="hljs-string">                    &#x27;#,##0&#x27;,</span><br><span class="hljs-string">                    &#x27;#,##0.00&#x27;,</span><br><span class="hljs-string">                    &#x27;&quot;$&quot;#,##0_);(&quot;$&quot;#,##&#x27;,</span><br><span class="hljs-string">                    &#x27;&quot;$&quot;#,##0_);[Red](&quot;$&quot;#,##&#x27;,</span><br><span class="hljs-string">                    &#x27;&quot;$&quot;#,##0.00_);(&quot;$&quot;#,##&#x27;,</span><br><span class="hljs-string">                    &#x27;&quot;$&quot;#,##0.00_);[Red](&quot;$&quot;#,##&#x27;,</span><br><span class="hljs-string">                    &#x27;0%&#x27;,</span><br><span class="hljs-string">                    &#x27;0.00%&#x27;,</span><br><span class="hljs-string">                    &#x27;0.00E+00&#x27;,</span><br><span class="hljs-string">                    &#x27;# ?/?&#x27;,</span><br><span class="hljs-string">                    &#x27;# ??/??&#x27;,</span><br><span class="hljs-string">                    &#x27;M/D/YY&#x27;,</span><br><span class="hljs-string">                    &#x27;D-MMM-YY&#x27;,</span><br><span class="hljs-string">                    &#x27;D-MMM&#x27;,</span><br><span class="hljs-string">                    &#x27;MMM-YY&#x27;,</span><br><span class="hljs-string">                    &#x27;h:mm AM/PM&#x27;,</span><br><span class="hljs-string">                    &#x27;h:mm:ss AM/PM&#x27;,</span><br><span class="hljs-string">                    &#x27;h:mm&#x27;,</span><br><span class="hljs-string">                    &#x27;h:mm:ss&#x27;,</span><br><span class="hljs-string">                    &#x27;M/D/YY h:mm&#x27;,</span><br><span class="hljs-string">                    &#x27;_(#,##0_);(#,##0)&#x27;,</span><br><span class="hljs-string">                    &#x27;_(#,##0_);[Red](#,##0)&#x27;,</span><br><span class="hljs-string">                    &#x27;_(#,##0.00_);(#,##0.00)&#x27;,</span><br><span class="hljs-string">                    &#x27;_(#,##0.00_);[Red](#,##0.00)&#x27;,</span><br><span class="hljs-string">                    &#x27;_(&quot;$&quot;* #,##0_);_(&quot;$&quot;* (#,##0);_(&quot;$&quot;* &quot;-&quot;_);_(@_)&#x27;,</span><br><span class="hljs-string">                    &#x27;_(* #,##0_);_(* (#,##0);_(* &quot;-&quot;_);_(@_)&#x27;,</span><br><span class="hljs-string">                    &#x27;_(&quot;$&quot;* #,##0.00_);_(&quot;$&quot;* (#,##0.00);_(&quot;$&quot;* &quot;-&quot;??_);_(@_)&#x27;,</span><br><span class="hljs-string">                    &#x27;_(* #,##0.00_);_(* (#,##0.00);_(* &quot;-&quot;??_);_(@_)&#x27;,</span><br><span class="hljs-string">                    &#x27;mm:ss&#x27;,</span><br><span class="hljs-string">                    &#x27;[h]:mm:ss&#x27;,</span><br><span class="hljs-string">                    &#x27;mm:ss.0&#x27;,</span><br><span class="hljs-string">                    &#x27;##0.0E+0&#x27;,</span><br><span class="hljs-string">                    &#x27;@&#x27;</span><br><span class="hljs-string"></span><br><span class="hljs-string">        :return: object</span><br><span class="hljs-string"></span><br><span class="hljs-string">        usge:</span><br><span class="hljs-string">            column_style = self.set_style(size=8, horz=&#x27;center&#x27;, vert=&#x27;center&#x27;, color=0, bgcolor=&#x27;ice_blue&#x27;, borders=True)</span><br><span class="hljs-string">            sheet.write(row, col, JG_ENUMS.get(jg), column_style)</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        style = xlwt.XFStyle()<br>        font = xlwt.Font()<br>        <span class="hljs-comment"># font: type</span><br>        <span class="hljs-comment"># font.name = font or &#x27;Times New Roman&#x27;</span><br>        <span class="hljs-comment"># font: size</span><br>        <span class="hljs-keyword">try</span>:<br>            size = <span class="hljs-built_in">int</span>(size)<br>        <span class="hljs-keyword">except</span>:<br>            size = <span class="hljs-number">11</span><br>        font.height = size * <span class="hljs-number">20</span><br>        <span class="hljs-comment"># font: color</span><br>        <span class="hljs-keyword">try</span>:<br>            color = <span class="hljs-built_in">int</span>(color)<br>        <span class="hljs-keyword">except</span>:<br>            color = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">finally</span>:<br>            <span class="hljs-keyword">if</span> color &gt; <span class="hljs-number">100</span>: color = <span class="hljs-number">0</span><br>        font.colour_index = color<br>        <span class="hljs-comment"># font: bold</span><br>        bold = kwargs.get(<span class="hljs-string">&#x27;bold&#x27;</span>) <span class="hljs-keyword">or</span> <span class="hljs-literal">False</span><br>        <span class="hljs-keyword">if</span> bold <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> [<span class="hljs-literal">True</span>, <span class="hljs-literal">False</span>]:<br>            bold = <span class="hljs-literal">False</span><br>        font.bold = bold<br>        <span class="hljs-comment"># font: underline</span><br>        underline = kwargs.get(<span class="hljs-string">&#x27;underline&#x27;</span>) <span class="hljs-keyword">or</span> <span class="hljs-literal">False</span><br>        <span class="hljs-keyword">if</span> underline <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> [<span class="hljs-literal">True</span>, <span class="hljs-literal">False</span>]:<br>            underline = <span class="hljs-literal">False</span><br>        font.underline = underline<br>        <span class="hljs-comment"># font: italic</span><br>        italic = kwargs.get(<span class="hljs-string">&#x27;italic&#x27;</span>) <span class="hljs-keyword">or</span> <span class="hljs-literal">False</span><br>        <span class="hljs-keyword">if</span> italic <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> [<span class="hljs-literal">True</span>, <span class="hljs-literal">False</span>]:<br>            italic = <span class="hljs-literal">False</span><br>        font.italic = italic<br>        <span class="hljs-comment"># font: struck_out</span><br>        struck_out = kwargs.get(<span class="hljs-string">&#x27;struck_out&#x27;</span>) <span class="hljs-keyword">or</span> <span class="hljs-literal">False</span><br>        <span class="hljs-keyword">if</span> struck_out <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> [<span class="hljs-literal">True</span>, <span class="hljs-literal">False</span>]:<br>            struck_out = <span class="hljs-literal">False</span><br>        font.struck_out = struck_out<br>        style.font = font<br><br>        <span class="hljs-comment"># align: horz</span><br>        horz_v = <span class="hljs-variable language_">self</span>.HORZ_DICT.get(horz.lower())<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> horz_v: horz_v = <span class="hljs-number">0x02</span><br>        <span class="hljs-comment"># align: vert</span><br>        vert_v = <span class="hljs-variable language_">self</span>.VERT_DICT.get(vert.lower())<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> vert_v: vert_v = <span class="hljs-number">0x01</span><br>        align = xlwt.Alignment()<br>        align.horz = horz_v<br>        align.vert = vert_v<br>        <span class="hljs-comment"># align: wrap</span><br>        wrap = kwargs.get(<span class="hljs-string">&#x27;wrap&#x27;</span>) <span class="hljs-keyword">or</span> <span class="hljs-literal">False</span><br>        <span class="hljs-keyword">if</span> wrap <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> [<span class="hljs-literal">True</span>, <span class="hljs-literal">False</span>]:<br>            wrap = <span class="hljs-literal">False</span><br>        align.wrap = wrap<br>        style.alignment = align<br><br>        <span class="hljs-comment"># background color</span><br>        pattern = xlwt.Pattern()<br>        pattern.pattern = xlwt.Pattern.SOLID_PATTERN<br>        <span class="hljs-keyword">try</span>:<br>            pattern.pattern_fore_colour = xlwt.Style.colour_map[bgcolor]<br>        <span class="hljs-keyword">except</span>:<br>            pattern.pattern_fore_colour = xlwt.Style.colour_map[<span class="hljs-string">&#x27;white&#x27;</span>]<br>        style.pattern = pattern<br><br>        <span class="hljs-comment"># borders</span><br>        is_border = kwargs.get(<span class="hljs-string">&#x27;borders&#x27;</span>) <span class="hljs-keyword">or</span> <span class="hljs-literal">False</span><br>        <span class="hljs-keyword">if</span> is_border <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> [<span class="hljs-literal">True</span>, <span class="hljs-literal">False</span>]:<br>            is_border = <span class="hljs-literal">False</span><br>        <span class="hljs-keyword">if</span> is_border:<br>            border = xlwt.Borders()<br>            border.top = xlwt.Borders.THIN  <span class="hljs-comment"># 上</span><br>            border.bottom = xlwt.Borders.THIN  <span class="hljs-comment"># 下</span><br>            border.left = xlwt.Borders.THIN  <span class="hljs-comment"># 左</span><br>            border.right = xlwt.Borders.THIN  <span class="hljs-comment"># 右</span><br>            border.left_colour = <span class="hljs-number">0x40</span><br>            border.right_colour = <span class="hljs-number">0x40</span><br>            border.top_colour = <span class="hljs-number">0x40</span><br>            border.bottom_colour = <span class="hljs-number">0x40</span><br>            style.borders = border<br>        borders_dict = kwargs.get(<span class="hljs-string">&#x27;borders_dict&#x27;</span>) <span class="hljs-keyword">or</span> <span class="hljs-literal">False</span><br>        <span class="hljs-keyword">if</span> borders_dict:<br>            border = xlwt.Borders()<br>            <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> borders_dict.get(<span class="hljs-string">&#x27;line&#x27;</span>).items():<br>                <span class="hljs-keyword">if</span> k == <span class="hljs-string">&#x27;top&#x27;</span>:<br>                    border.top = <span class="hljs-variable language_">self</span>.BORDER_LINES.get(v.upper()) <span class="hljs-keyword">if</span> v.upper() <span class="hljs-keyword">in</span> <span class="hljs-variable language_">self</span>.BORDER_LINES.keys() \<br>                        <span class="hljs-keyword">else</span> xlwt.Borders.NO_LINE<br>                <span class="hljs-keyword">elif</span> k == <span class="hljs-string">&#x27;bottom&#x27;</span>:<br>                    border.bottom = <span class="hljs-variable language_">self</span>.BORDER_LINES.get(v.upper()) <span class="hljs-keyword">if</span> v.upper() <span class="hljs-keyword">in</span> <span class="hljs-variable language_">self</span>.BORDER_LINES.keys() \<br>                        <span class="hljs-keyword">else</span> xlwt.Borders.NO_LINE<br>                <span class="hljs-keyword">elif</span> k == <span class="hljs-string">&#x27;left&#x27;</span>:<br>                    border.left = <span class="hljs-variable language_">self</span>.BORDER_LINES.get(v.upper()) <span class="hljs-keyword">if</span> v.upper() <span class="hljs-keyword">in</span> <span class="hljs-variable language_">self</span>.BORDER_LINES.keys() \<br>                        <span class="hljs-keyword">else</span> xlwt.Borders.NO_LINE<br>                <span class="hljs-keyword">elif</span> k == <span class="hljs-string">&#x27;right&#x27;</span>:<br>                    border.right = <span class="hljs-variable language_">self</span>.BORDER_LINES.get(v.upper()) <span class="hljs-keyword">if</span> v.upper() <span class="hljs-keyword">in</span> <span class="hljs-variable language_">self</span>.BORDER_LINES.keys() \<br>                        <span class="hljs-keyword">else</span> xlwt.Borders.NO_LINE<br>            border.left_colour = <span class="hljs-number">0x40</span><br>            border.right_colour = <span class="hljs-number">0x40</span><br>            border.top_colour = <span class="hljs-number">0x40</span><br>            border.bottom_colour = <span class="hljs-number">0x40</span><br>            style.borders = border<br><br>        <span class="hljs-comment"># formatter</span><br>        num_format_str = kwargs.get(<span class="hljs-string">&#x27;formatter&#x27;</span>) <span class="hljs-keyword">or</span> <span class="hljs-string">&#x27;general&#x27;</span><br>        <span class="hljs-keyword">if</span> num_format_str <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> <span class="hljs-variable language_">self</span>.FORMATTER:<br>            num_format_str = <span class="hljs-string">&#x27;general&#x27;</span><br>        style.num_format_str = num_format_str<br>        <span class="hljs-keyword">return</span> style<br><br><span class="hljs-meta">    @staticmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">format_res</span>(<span class="hljs-params">status_id: <span class="hljs-built_in">int</span>, message: <span class="hljs-built_in">str</span>, data: <span class="hljs-built_in">dict</span></span>) -&gt; <span class="hljs-built_in">dict</span>:<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        方法请求结果格式化</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">return</span> &#123;<br>            <span class="hljs-string">&#x27;status_id&#x27;</span>: status_id,<br>            <span class="hljs-string">&#x27;message&#x27;</span>: message <span class="hljs-keyword">if</span> message <span class="hljs-keyword">else</span> StatusMsgs.get(status_id),<br>            <span class="hljs-string">&#x27;data&#x27;</span>: data<br>        &#125;<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">read_headers</span>(<span class="hljs-params">self, excel_file</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        get the headers information of excel file</span><br><span class="hljs-string">        :param excel_file: excel file real path</span><br><span class="hljs-string">        :return: dict</span><br><span class="hljs-string">        result content:</span><br><span class="hljs-string">            sheets: dict sheet base info, contain something. such as row.col.index.name</span><br><span class="hljs-string">            number sheet: int sheet number</span><br><span class="hljs-string">            names: sheets name dict</span><br><span class="hljs-string">            columns: sheet columns dict</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-comment"># default value</span><br>        res = &#123;<span class="hljs-string">&#x27;sheets&#x27;</span>: &#123;&#125;, <span class="hljs-string">&#x27;nsheet&#x27;</span>: <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;names&#x27;</span>: &#123;&#125;, <span class="hljs-string">&#x27;columns&#x27;</span>: &#123;&#125;&#125;<br>        <span class="hljs-comment"># not exist excel file</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> excel_file \<br>                <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> os.path.exists(excel_file):<br>            <span class="hljs-keyword">return</span> res<br><br>        excel = xlrd.open_workbook(excel_file)<br>        nsheets = excel.nsheets<br>        <span class="hljs-comment"># sheet_names = excel.sheet_names()     # 获取所有excel sheet名称列表</span><br>        sheets_dict = <span class="hljs-built_in">dict</span>()<br>        names_dict = <span class="hljs-built_in">dict</span>()<br>        columns_dict = <span class="hljs-built_in">dict</span>()<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, nsheets, <span class="hljs-number">1</span>):<br>            sheet = excel.sheet_by_index(i)<br>            names_dict[<span class="hljs-built_in">str</span>(i)] = sheet.name<br>            <span class="hljs-comment"># sheet：row行数 col列数 index索引 name名称</span><br>            sheets_dict[<span class="hljs-built_in">str</span>(i)] = &#123;<span class="hljs-string">&#x27;row&#x27;</span>: sheet.nrows, <span class="hljs-string">&#x27;col&#x27;</span>: sheet.ncols, <span class="hljs-string">&#x27;index&#x27;</span>: i, <span class="hljs-string">&#x27;name&#x27;</span>: sheet.name&#125;<br>            <span class="hljs-keyword">try</span>:<br>                <span class="hljs-comment"># sheet column：key：value格式</span><br>                row_values_0 = sheet.row_values(<span class="hljs-number">0</span>)<br>                new_column = <span class="hljs-built_in">list</span>()<br>                <span class="hljs-keyword">for</span> _k, _v <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(row_values_0):<br>                    new_column.append(&#123;<span class="hljs-string">&#x27;key&#x27;</span>: <span class="hljs-built_in">str</span>(_k), <span class="hljs-string">&#x27;value&#x27;</span>: <span class="hljs-built_in">str</span>(_v)&#125;)<br>                columns_dict[<span class="hljs-built_in">str</span>(i)] = new_column<br>            <span class="hljs-keyword">except</span>:<br>                <span class="hljs-keyword">pass</span><br>        <span class="hljs-keyword">return</span> &#123;<span class="hljs-string">&#x27;sheets&#x27;</span>: sheets_dict, <span class="hljs-string">&#x27;nsheet&#x27;</span>: nsheets, <span class="hljs-string">&#x27;names&#x27;</span>: names_dict, <span class="hljs-string">&#x27;columns&#x27;</span>: columns_dict&#125;<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">check_real_file</span>(<span class="hljs-params">self, real_file: <span class="hljs-built_in">str</span>, _<span class="hljs-built_in">type</span>=<span class="hljs-number">1</span>, clean=<span class="hljs-literal">False</span></span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        生成存储excel文件的绝对路径，以及新文件名称</span><br><span class="hljs-string">        加了文件已存在的check</span><br><span class="hljs-string">        结果采用绝对路径+新文件名称，新文件名称</span><br><span class="hljs-string">        如果存在用新的时间戳创建文件</span><br><span class="hljs-string">        generate to store real path of excel file</span><br><span class="hljs-string">        if file exist dir, the file name rename file name + now(%Y-%m-%d-%H-%M-%S)</span><br><span class="hljs-string">        the result is path file</span><br><span class="hljs-string">        :param clean: 是否删除已存在</span><br><span class="hljs-string">        :param real_file: all path excel file</span><br><span class="hljs-string">        :param _type: excel file version type</span><br><span class="hljs-string">        :return: sting</span><br><span class="hljs-string"></span><br><span class="hljs-string">        _type为默认格式：</span><br><span class="hljs-string">            - 1为.xls</span><br><span class="hljs-string">            - 2为.xlsx</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> _<span class="hljs-built_in">type</span> <span class="hljs-keyword">or</span> _<span class="hljs-built_in">type</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>]:    <span class="hljs-comment"># 默认xls</span><br>            _<span class="hljs-built_in">type</span> = <span class="hljs-number">1</span><br><br>        <span class="hljs-comment"># 存在 &amp;&amp; 删除</span><br>        <span class="hljs-keyword">if</span> clean <span class="hljs-keyword">and</span> os.path.exists(real_file):<br>            os.remove(real_file)<br>            <span class="hljs-keyword">return</span> real_file<br><br>        <span class="hljs-comment"># 文件已存在，加上时间戳</span><br>        <span class="hljs-keyword">if</span> os.path.exists(real_file):<br>            file_name = <span class="hljs-string">&#x27;%s%s&#x27;</span> % (get_now(<span class="hljs-built_in">format</span>=<span class="hljs-string">&quot;%Y-%m-%d-%H-%M-%S&quot;</span>), <span class="hljs-variable language_">self</span>.DEFAULT_OLD_V_PREFIX)<br>            real_file = os.path.join(<span class="hljs-variable language_">self</span>._default_folder(), file_name)<br>            <span class="hljs-keyword">return</span> real_file<br>        <span class="hljs-keyword">return</span> real_file<br><br><span class="hljs-meta">    @staticmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_default_folder</span>():<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        new excel file folder</span><br><span class="hljs-string">        :return: string</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(RESULT_EXCEL):<br>            mk_dirs(RESULT_EXCEL)<br>        <span class="hljs-keyword">return</span> RESULT_EXCEL<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">read</span>(<span class="hljs-params">self, read_file: <span class="hljs-built_in">str</span>, sheet: <span class="hljs-built_in">int</span> = <span class="hljs-number">0</span>, rows: <span class="hljs-built_in">list</span> = [], columns: <span class="hljs-built_in">list</span> = [], **kwargs</span>) -&gt; <span class="hljs-built_in">dict</span>:<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        read excel data</span><br><span class="hljs-string">        :param read_file: excel文件abs全路径</span><br><span class="hljs-string">        :param sheet: 读取的sheet数，从0开始，default value is 0</span><br><span class="hljs-string">        :param rows: 读取数据的rows行列表，如果为空，默认读取全部行</span><br><span class="hljs-string">        :param columns: 读取数据的columns列列表，如果为空，默认读取全部列</span><br><span class="hljs-string">        :param kwargs: 读取excel数据的其他参数配置</span><br><span class="hljs-string">            request_title: 读取的表格是否包含title行，默认是true（bool类型）</span><br><span class="hljs-string">            response_title: 返回的数据是否包含title说明，默认是true（bool类型）</span><br><span class="hljs-string"></span><br><span class="hljs-string">        :return: dict result</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-comment"># ================== parameters check start ==================</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> read_file <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> os.path.exists(read_file) \<br>                <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> os.path.isfile(read_file):<br>            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>.format_res(<br>                <span class="hljs-number">206</span>, <span class="hljs-string">&#x27;读取的excel数据不存在&#x27;</span>, &#123;&#125;)<br>        request_title = <span class="hljs-literal">False</span> <span class="hljs-keyword">if</span> kwargs.get(<span class="hljs-string">&#x27;request_title&#x27;</span>) <span class="hljs-keyword">is</span> <span class="hljs-literal">False</span> <span class="hljs-keyword">else</span> <span class="hljs-literal">True</span><br>        <span class="hljs-comment"># 初始化数据读取开始的行数</span><br>        start_row = <span class="hljs-number">1</span> <span class="hljs-keyword">if</span> request_title <span class="hljs-keyword">else</span> <span class="hljs-number">0</span><br>        response_title = <span class="hljs-literal">False</span> <span class="hljs-keyword">if</span> kwargs.get(<span class="hljs-string">&#x27;response_title&#x27;</span>) <span class="hljs-keyword">is</span> <span class="hljs-literal">False</span> <span class="hljs-keyword">else</span> <span class="hljs-literal">True</span><br>        excel_object = xlrd.open_workbook(filename=read_file)   <span class="hljs-comment"># xlrd可以读取xls、xlsx</span><br>        excel_sheet_names = excel_object.sheet_names()<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-built_in">str</span>(sheet):          <span class="hljs-comment"># 添加无sheet index，默认读取首页</span><br>            sheet = <span class="hljs-number">0</span><br>        <span class="hljs-comment"># 添加sheet为整型处理</span><br>        <span class="hljs-keyword">try</span>:<br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-built_in">isinstance</span>(sheet, <span class="hljs-built_in">int</span>):<br>                sheet = <span class="hljs-built_in">int</span>(sheet)<br>        <span class="hljs-keyword">except</span>:<br>            sheet = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">if</span> sheet &gt; <span class="hljs-built_in">len</span>(excel_sheet_names) <span class="hljs-keyword">or</span> sheet &lt; <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>.format_res(<br>                <span class="hljs-number">207</span>, <span class="hljs-string">&#x27;读取的sheet页不存在&#x27;</span>, &#123;&#125;)<br>        excel_sheet = excel_object.sheet_by_index(sheet)<br>        <span class="hljs-comment"># 读取指定行</span><br>        new_rows = <span class="hljs-built_in">list</span>()<br>        <span class="hljs-keyword">if</span> rows:<br>            <span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> rows:<br>                <span class="hljs-keyword">try</span>:<br>                    new_rows.append(<span class="hljs-built_in">int</span>(r))<br>                <span class="hljs-keyword">except</span>: <span class="hljs-keyword">pass</span><br>        <span class="hljs-comment"># 读取指定列</span><br>        new_cols = <span class="hljs-built_in">list</span>()<br>        <span class="hljs-keyword">if</span> columns:<br>            <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> columns:<br>                <span class="hljs-keyword">try</span>:<br>                    new_cols.append(<span class="hljs-built_in">int</span>(c))<br>                <span class="hljs-keyword">except</span>: <span class="hljs-keyword">pass</span><br>        <span class="hljs-comment"># ================== parameters check end ==================</span><br><br>        <span class="hljs-comment"># 指定行</span><br>        read_rows = new_rows <span class="hljs-keyword">if</span> new_rows <span class="hljs-keyword">else</span> <span class="hljs-built_in">range</span>(start_row, excel_sheet.nrows, <span class="hljs-number">1</span>)<br>        <span class="hljs-comment"># 指定列</span><br>        read_cols = new_cols <span class="hljs-keyword">if</span> new_cols <span class="hljs-keyword">else</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, excel_sheet.ncols, <span class="hljs-number">1</span>)<br>        <span class="hljs-comment"># 读取表头</span><br>        resp_header = <span class="hljs-built_in">list</span>()<br>        <span class="hljs-keyword">if</span> response_title <span class="hljs-keyword">and</span> request_title:<br>            <span class="hljs-keyword">for</span> col <span class="hljs-keyword">in</span> read_cols:<br>                <span class="hljs-keyword">if</span> col &lt; <span class="hljs-number">0</span>: <span class="hljs-keyword">continue</span><br>                <span class="hljs-comment"># TODO 是否添加空标题、重复标题等标题判断</span><br>                <span class="hljs-comment"># 目前，定位空活着列值重复均可以</span><br>                <span class="hljs-comment"># if not excel_sheet.cell_value(0, col) or excel_sheet.cell_value(0, col) in resp_header:</span><br>                <span class="hljs-comment">#     return self.format_res(</span><br>                <span class="hljs-comment">#         208, &#x27;读取的第%s列值为空&#x27; % col, &#123;&#125;)</span><br>                resp_header.append(excel_sheet.cell_value(<span class="hljs-number">0</span>, col))<br>        <span class="hljs-comment"># 读取表数据</span><br>        resp_data = <span class="hljs-built_in">list</span>()<br>        <span class="hljs-keyword">for</span> row <span class="hljs-keyword">in</span> read_rows:<br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> row: <span class="hljs-keyword">continue</span><br>            _d = <span class="hljs-built_in">list</span>()<br>            <span class="hljs-keyword">for</span> col <span class="hljs-keyword">in</span> read_cols:<br>                <span class="hljs-keyword">if</span> col &lt; <span class="hljs-number">0</span>: <span class="hljs-keyword">continue</span><br>                _d.append(excel_sheet.cell_value(row, col))<br>            <span class="hljs-keyword">if</span> _d: resp_data.append(_d)<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>.format_res(<br>            <span class="hljs-number">100</span>, <span class="hljs-string">&#x27;success&#x27;</span>, &#123;<span class="hljs-string">&#x27;header&#x27;</span>: resp_header, <span class="hljs-string">&#x27;data&#x27;</span>: resp_data&#125;)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">write</span>(<span class="hljs-params">self, excel_file, data, sheet=<span class="hljs-string">&quot;Sheet1&quot;</span>, **kwargs</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        写入的通用方法，xlwt、xlrd:</span><br><span class="hljs-string">            .xls表格行数限制65535</span><br><span class="hljs-string">        写入的数据为list格式，里面的元素也为list类型数据，以元素list顺序进行表格row的写入</span><br><span class="hljs-string"></span><br><span class="hljs-string">        use xlwt、xlrd to merge excel, it are to deal .xls、.xlsx formatter excel file</span><br><span class="hljs-string">        the deal excel style is cell values(row + col)</span><br><span class="hljs-string">        :param excel_file: excel file, if not exist to create</span><br><span class="hljs-string">        :param data: excel data</span><br><span class="hljs-string">        :param sheet: excel sheet name</span><br><span class="hljs-string">        :param kwargs: multiple parameters, is dict type</span><br><span class="hljs-string">            - title: 是否为标题，如果是标题样式采用标题样式</span><br><span class="hljs-string">            - start_row: 写入excel的起始行，默认为0</span><br><span class="hljs-string">            - *** extra parameters ***</span><br><span class="hljs-string">        :return: json object</span><br><span class="hljs-string">            status_id: result id, except status_id is 1 is success, others is failure</span><br><span class="hljs-string">            message: the result message</span><br><span class="hljs-string">            data:</span><br><span class="hljs-string">                path: the new excel path + name, real path</span><br><span class="hljs-string">                name: the new excel file name, not contain path</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-comment"># if not excel file, auto rename by timestamp</span><br>        <span class="hljs-comment"># new excel file format xlrd xlwt: xls</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> excel_file:<br>            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>.format_res(<span class="hljs-number">214</span>, <span class="hljs-string">&#x27;请求参数为file必须信息&#x27;</span>, &#123;&#125;)<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> data:<br>            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>.format_res(<span class="hljs-number">401</span>, <span class="hljs-string">&#x27;数据不存在&#x27;</span>, &#123;&#125;)<br><br>        <span class="hljs-keyword">try</span>:<br>            new_excel = xlwt.Workbook(encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>            new_sheet = new_excel.add_sheet(sheet <span class="hljs-keyword">or</span> <span class="hljs-variable language_">self</span>.DEFAULT_SHEET_NAME, cell_overwrite_ok=<span class="hljs-literal">True</span>)<br>            start_row = kwargs.get(<span class="hljs-string">&#x27;start_row&#x27;</span>) <span class="hljs-keyword">or</span> <span class="hljs-number">0</span>    <span class="hljs-comment"># 写入的起始行</span><br>            row = <span class="hljs-number">0</span><br>            <span class="hljs-keyword">for</span> _d <span class="hljs-keyword">in</span> data:<br>                <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> _d: <span class="hljs-keyword">continue</span><br>                <span class="hljs-keyword">for</span> col <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(_d), <span class="hljs-number">1</span>):<br>                    new_sheet.write((start_row + row), col, _d[col])    <span class="hljs-comment"># 单元格的方式写入</span><br>                row += <span class="hljs-number">1</span><br>            <span class="hljs-comment"># excel_file = self.check_real_file(excel_file, clean=True)</span><br>            new_excel.save(excel_file)<br>            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>.format_res(<br>                <span class="hljs-number">100</span>, <span class="hljs-string">&#x27;success&#x27;</span>, &#123;<span class="hljs-string">&#x27;name&#x27;</span>: os.path.split(excel_file)[<span class="hljs-number">1</span>], <span class="hljs-string">&#x27;path&#x27;</span>: excel_file&#125;)<br>        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>.format_res(<span class="hljs-number">998</span>, <span class="hljs-built_in">str</span>(e), &#123;&#125;)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">beau_write</span>(<span class="hljs-params">self, excel_file, data, sheet_name=<span class="hljs-string">&quot;Sheet1&quot;</span>, **kwargs</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        针对于质量考核检查结果直接带样式的表格，xlwt、xlrd:</span><br><span class="hljs-string">            .xls表格行数限制65535</span><br><span class="hljs-string">        特殊方法，写死数据以及样式</span><br><span class="hljs-string"></span><br><span class="hljs-string">        use xlwt、xlrd to merge excel, it are to deal .xls、.xlsx formatter excel file</span><br><span class="hljs-string">        the deal excel style is cell values(row + col)</span><br><span class="hljs-string">        :param excel_file: excel file, if not exist to create</span><br><span class="hljs-string">        :param data: excel data</span><br><span class="hljs-string">        :param sheet_name: excel sheet name</span><br><span class="hljs-string">        :param kwargs: multiple parameters, is dict type</span><br><span class="hljs-string">            - *** extra parameters ***</span><br><span class="hljs-string">        :return: json object</span><br><span class="hljs-string">            status_id: result id, except status_id is 1 is success, others is failure</span><br><span class="hljs-string">            message: the result message</span><br><span class="hljs-string">            data:</span><br><span class="hljs-string">                path: the new excel path + name, real path</span><br><span class="hljs-string">                name: the new excel file name, not contain path</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-comment"># if not excel file, auto rename by timestamp</span><br>        <span class="hljs-comment"># new excel file format xlrd xlwt: xls</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> excel_file:<br>            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>.format_res(<span class="hljs-number">214</span>, <span class="hljs-string">&#x27;请求参数为Excel file必须信息&#x27;</span>, &#123;&#125;)<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> data:<br>            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>.format_res(<span class="hljs-number">401</span>, <span class="hljs-string">&#x27;数据不存在&#x27;</span>, &#123;&#125;)<br><br>        <span class="hljs-keyword">try</span>:<br>            new_excel = xlwt.Workbook(encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>            new_sheet = new_excel.add_sheet(sheet_name <span class="hljs-keyword">or</span> <span class="hljs-variable language_">self</span>.DEFAULT_SHEET_NAME, cell_overwrite_ok=<span class="hljs-literal">True</span>)<br><br>            <span class="hljs-comment"># initialize cell style</span><br>            headline_border = &#123;<br>                <span class="hljs-string">&#x27;line&#x27;</span>: &#123;<br>                    <span class="hljs-string">&#x27;top&#x27;</span>: <span class="hljs-string">&#x27;NO_LINE&#x27;</span>,<br>                    <span class="hljs-string">&#x27;bottom&#x27;</span>: <span class="hljs-string">&#x27;DASHED&#x27;</span>,<br>                    <span class="hljs-string">&#x27;left&#x27;</span>: <span class="hljs-string">&#x27;NO_LINE&#x27;</span>,<br>                    <span class="hljs-string">&#x27;right&#x27;</span>: <span class="hljs-string">&#x27;NO_LINE&#x27;</span><br>                &#125;<br>            &#125;<br>            headline_style = <span class="hljs-variable language_">self</span>.set_style(size=<span class="hljs-number">16</span>, horz=<span class="hljs-string">&#x27;center&#x27;</span>, vert=<span class="hljs-string">&#x27;center&#x27;</span>, bold=<span class="hljs-literal">True</span>,<br>                                            borders_dict=headline_border, wrap=<span class="hljs-literal">True</span>)<br>            title_style = <span class="hljs-variable language_">self</span>.set_style(size=<span class="hljs-number">10</span>, bold=<span class="hljs-literal">True</span>, horz=<span class="hljs-string">&#x27;center&#x27;</span>, vert=<span class="hljs-string">&#x27;center&#x27;</span>, color=<span class="hljs-number">1</span>,<br>                                         bgcolor=<span class="hljs-string">&#x27;periwinkle&#x27;</span>, borders=<span class="hljs-literal">True</span>)<br>            column_style = <span class="hljs-variable language_">self</span>.set_style(size=<span class="hljs-number">8</span>, bold=<span class="hljs-literal">True</span>, horz=<span class="hljs-string">&#x27;center&#x27;</span>, vert=<span class="hljs-string">&#x27;center&#x27;</span>, color=<span class="hljs-number">0</span>, bgcolor=<span class="hljs-string">&#x27;ice_blue&#x27;</span>,<br>                                          borders=<span class="hljs-literal">True</span>)<br>            cell_style = <span class="hljs-variable language_">self</span>.set_style(size=<span class="hljs-number">8</span>, horz=<span class="hljs-string">&#x27;center&#x27;</span>, vert=<span class="hljs-string">&#x27;center&#x27;</span>, borders=<span class="hljs-literal">True</span>)<br>            cell_per_style = <span class="hljs-variable language_">self</span>.set_style(size=<span class="hljs-number">8</span>, horz=<span class="hljs-string">&#x27;center&#x27;</span>, vert=<span class="hljs-string">&#x27;center&#x27;</span>, borders=<span class="hljs-literal">True</span>, formatter=<span class="hljs-string">&#x27;0.00%&#x27;</span>)<br>            special_cell_style = <span class="hljs-variable language_">self</span>.set_style(size=<span class="hljs-number">8</span>, horz=<span class="hljs-string">&#x27;center&#x27;</span>, vert=<span class="hljs-string">&#x27;center&#x27;</span>, bgcolor=<span class="hljs-string">&#x27;yellow&#x27;</span>, borders=<span class="hljs-literal">True</span>)<br>            special_per_style = <span class="hljs-variable language_">self</span>.set_style(size=<span class="hljs-number">8</span>, horz=<span class="hljs-string">&#x27;center&#x27;</span>, vert=<span class="hljs-string">&#x27;center&#x27;</span>, bgcolor=<span class="hljs-string">&#x27;yellow&#x27;</span>, borders=<span class="hljs-literal">True</span>,<br>                                               formatter=<span class="hljs-string">&#x27;0.00%&#x27;</span>)<br>            <span class="hljs-comment"># excel title</span><br>            new_sheet.write_merge(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&quot;项目编号&quot;</span>, title_style)<br>            new_sheet.write_merge(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-string">&quot;项目名称&quot;</span>, title_style)<br>            new_sheet.write_merge(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">6</span>, <span class="hljs-string">&quot;测试记录&quot;</span>, title_style)<br>            new_sheet.write_merge(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">7</span>, <span class="hljs-number">11</span>, <span class="hljs-string">&quot;工资确认单&quot;</span>, title_style)<br>            new_sheet.write(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-string">&#x27;提交次数&#x27;</span>, title_style)<br>            new_sheet.write(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-string">&#x27;版本&#x27;</span>, title_style)<br>            new_sheet.write(<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-string">&#x27;用户&#x27;</span>, title_style)<br>            new_sheet.write(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-string">&#x27;时间&#x27;</span>, title_style)<br>            new_sheet.write(<span class="hljs-number">1</span>, <span class="hljs-number">6</span>, <span class="hljs-string">&#x27;备注&#x27;</span>, title_style)<br>            new_sheet.write(<span class="hljs-number">1</span>, <span class="hljs-number">7</span>, <span class="hljs-string">&#x27;提交次数&#x27;</span>, title_style)<br>            new_sheet.write(<span class="hljs-number">1</span>, <span class="hljs-number">8</span>, <span class="hljs-string">&#x27;版本&#x27;</span>, title_style)<br>            new_sheet.write(<span class="hljs-number">1</span>, <span class="hljs-number">9</span>, <span class="hljs-string">&#x27;用户&#x27;</span>, title_style)<br>            new_sheet.write(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-string">&#x27;时间&#x27;</span>, title_style)<br>            new_sheet.write(<span class="hljs-number">1</span>, <span class="hljs-number">11</span>, <span class="hljs-string">&#x27;备注&#x27;</span>, title_style)<br><br>            start_row = <span class="hljs-number">2</span>    <span class="hljs-comment"># 数据写入的起始行</span><br>            row = <span class="hljs-number">0</span><br>            <span class="hljs-keyword">for</span> _d <span class="hljs-keyword">in</span> data:<br>                <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> _d: <span class="hljs-keyword">continue</span><br>                <span class="hljs-keyword">for</span> col <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(_d), <span class="hljs-number">1</span>):<br>                    style = column_style <span class="hljs-keyword">if</span> col &lt; <span class="hljs-number">2</span> <span class="hljs-keyword">else</span> cell_style<br>                    new_sheet.write((start_row + row), col, _d[col], style)    <span class="hljs-comment"># 单元格的方式写入</span><br>                row += <span class="hljs-number">1</span><br>            <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">            end write and save</span><br><span class="hljs-string">            &quot;&quot;&quot;</span><br><br>            <span class="hljs-comment"># 设置列宽, 256为基准数</span><br>            <span class="hljs-keyword">for</span> col <span class="hljs-keyword">in</span> [<span class="hljs-number">1</span>]:<br>                new_sheet.col(col).width_mismatch = <span class="hljs-literal">True</span><br>                new_sheet.col(col).width = <span class="hljs-number">256</span> * <span class="hljs-number">24</span>  <span class="hljs-comment"># 标准256 * 12</span><br>            <span class="hljs-keyword">for</span> col <span class="hljs-keyword">in</span> [<span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">10</span>, <span class="hljs-number">11</span>]:<br>                new_sheet.col(col).width_mismatch = <span class="hljs-literal">True</span><br>                new_sheet.col(col).width = <span class="hljs-number">256</span> * <span class="hljs-number">18</span>  <span class="hljs-comment"># 标准256 * 12</span><br>            <span class="hljs-comment"># 设置行高, 20为基准数 50为50磅</span><br>            he_rows = [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>]<br>            <span class="hljs-keyword">for</span> row <span class="hljs-keyword">in</span> he_rows:<br>                new_sheet.row(row).height_mismatch = <span class="hljs-literal">True</span>  <span class="hljs-comment"># 标题</span><br>                new_sheet.row(row).height = <span class="hljs-number">20</span> * <span class="hljs-number">20</span><br><br>            <span class="hljs-comment"># excel_file = self.check_real_file(excel_file, clean=True)</span><br>            new_excel.save(excel_file)<br>            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>.format_res(<br>                <span class="hljs-number">100</span>, <span class="hljs-string">&#x27;success&#x27;</span>, &#123;<span class="hljs-string">&#x27;name&#x27;</span>: os.path.split(excel_file)[<span class="hljs-number">1</span>], <span class="hljs-string">&#x27;path&#x27;</span>: excel_file&#125;)<br>        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>.format_res(<span class="hljs-number">998</span>, <span class="hljs-built_in">str</span>(e), &#123;&#125;)<br></code></pre></td></tr></table></figure><h4 id="系列"><a href="#系列" class="headerlink" title="系列"></a>系列</h4><p><a href="http://pygo2.top/articles/26110/">Python模块之command系统命令</a><br><a href="http://pygo2.top/articles/19275/">Python模块之excel模块</a><br><a href="http://pygo2.top/articles/5145/">Python模块之logger日志</a><br><a href="http://pygo2.top/articles/61799/">Python模块之utils公共方法</a><br><a href="http://pygo2.top/articles/31232/">Python模块之watcher打点</a><br><a href="http://pygo2.top/articles/51787/">Python模块之config配置解析</a><br><a href="http://pygo2.top/articles/58292/">Python模块之dtalk钉钉消息</a><br><a href="http://pygo2.top/articles/33254/">Python模块之企业微信</a></p><p>更多模块请参考文章TAG进行查看。</p><p><font size=6.5 color='red'><em><strong>Python模块系列，持续更新中。。。。。。</strong></em></font></p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Python模块系列</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python模块之command系统命令</title>
    <link href="/articles/26110/"/>
    <url>/articles/26110/</url>
    
    <content type="html"><![CDATA[<div class="post_cus_note">Python模块系列</div><span id="more"></span><hr /><h4 id="版本"><a href="#版本" class="headerlink" title="版本"></a>版本</h4><table><thead><tr><th align="center">名称</th><th align="center">版本</th></tr></thead><tbody><tr><td align="center">Python</td><td align="center">3</td></tr></tbody></table><h4 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h4><p>CMD系统命令执行工具<br>利用subprocess内置包开发，使用了底层的Popen方法，便于参数交互，其subprocess的run、call等方法都基于Popen<br>非类的方式，对外方法：</p><ul><li>run_command：命令执行方法，有命令执行output返回</li><li>run_command_no_output：命令执行方法，无命令执行output返回</li><li>check_command_by_which：which xxxx</li></ul><h4 id="设计"><a href="#设计" class="headerlink" title="设计"></a>设计</h4><p>使用内置包subprocess的Popen方法进行开发，调用底层方法，便于参数交互<br>目前常用的3个方法：<br>    - run_command：命令执行方法，有命令执行output返回<br>    - run_command_no_output：命令执行方法，无命令执行output返回<br>    - check_command_by_which：which xxxx<br>对外使用的方法都基于_run_cmd，可以进行二次封装，实现其他的命令执行方法<br>也可以直接对Popen进行二次开发</p><h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs routeros">_cmd = <span class="hljs-string">&#x27;ls&#x27;</span><br>return_code, output = run_command(_cmd, <span class="hljs-attribute">shell</span>=<span class="hljs-literal">True</span>, <span class="hljs-attribute">check_exit_code</span>=<span class="hljs-literal">False</span>)<br></code></pre></td></tr></table></figure><ul><li>return_code 命令执行状态码，0为执行正常，其他码为执行错误</li><li>output 命令输出信息</li></ul><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">_cmd</span> = <span class="hljs-string">&#x27;ls&#x27;</span><br><span class="hljs-attr">return_code</span> = run_command_no_output(_cmd, shell=<span class="hljs-literal">True</span>, check_exit_code=<span class="hljs-literal">False</span>)<br></code></pre></td></tr></table></figure><p>return_code 命令执行状态码，0为执行正常，其他码为执行错误</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">_cmd</span> = <span class="hljs-string">&#x27;ls&#x27;</span><br><span class="hljs-attr">return_code</span> = check_command_by_which(_cmd)<br></code></pre></td></tr></table></figure><p>return_code bool类型，True or False</p><h4 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">------------------------------------------------</span><br><span class="hljs-string"></span><br><span class="hljs-string">describe:</span><br><span class="hljs-string">    CMD系统命令执行工具</span><br><span class="hljs-string">    利用subprocess内置包开发，使用了底层的Popen方法，便于参数交互，其subprocess的run、call等方法都基于Popen</span><br><span class="hljs-string">    非类的方式，对外方法：</span><br><span class="hljs-string">        - run_command：命令执行方法，有命令执行output返回</span><br><span class="hljs-string">        - run_command_no_output：命令执行方法，无命令执行output返回</span><br><span class="hljs-string">        - check_command_by_which：which xxxx</span><br><span class="hljs-string"></span><br><span class="hljs-string">base_info:</span><br><span class="hljs-string">    __author__ = &quot;PyGo&quot;</span><br><span class="hljs-string">    __time__ = &quot;2022/9/14&quot;</span><br><span class="hljs-string">    __version__ = &quot;v.1.0.0&quot;</span><br><span class="hljs-string">    __mail__ = &quot;gaoming971366@163.com&quot;</span><br><span class="hljs-string">    __project__ = &quot;quality-inspect&quot;</span><br><span class="hljs-string"></span><br><span class="hljs-string">usage:</span><br><span class="hljs-string">     return_code, output = run_command(_cmd, shell=True, check_exit_code=False)</span><br><span class="hljs-string">     - return_code 命令执行状态码，0为执行正常，其他码为执行错误</span><br><span class="hljs-string">     - output 命令输出信息</span><br><span class="hljs-string"></span><br><span class="hljs-string">     return_code = run_command_no_output(_cmd, shell=True, check_exit_code=False)</span><br><span class="hljs-string">     - return_code 命令执行状态码，0为执行正常，其他码为执行错误</span><br><span class="hljs-string"></span><br><span class="hljs-string">     return_code = check_command_by_which(_cmd)</span><br><span class="hljs-string">     - return_code bool类型，True or False</span><br><span class="hljs-string"></span><br><span class="hljs-string">design:</span><br><span class="hljs-string">    使用内置包subprocess的Popen方法进行开发，调用底层方法，便于参数交互</span><br><span class="hljs-string">    目前常用的3个方法：</span><br><span class="hljs-string">        - run_command：命令执行方法，有命令执行output返回</span><br><span class="hljs-string">        - run_command_no_output：命令执行方法，无命令执行output返回</span><br><span class="hljs-string">        - check_command_by_which：which xxxx</span><br><span class="hljs-string">    对外使用的方法都基于_run_cmd，可以进行二次封装，实现其他的命令执行方法</span><br><span class="hljs-string">    也可以直接对Popen进行二次开发</span><br><span class="hljs-string"></span><br><span class="hljs-string">reference urls:</span><br><span class="hljs-string"></span><br><span class="hljs-string">python version:</span><br><span class="hljs-string">    python3</span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string">Enjoy the good time everyday！！!</span><br><span class="hljs-string">Life is short, I use python.</span><br><span class="hljs-string"></span><br><span class="hljs-string">------------------------------------------------</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><span class="hljs-comment"># ------------------------------------------------------------</span><br><span class="hljs-comment"># usage: /usr/bin/python command.py</span><br><span class="hljs-comment"># ------------------------------------------------------------</span><br><span class="hljs-keyword">import</span> sys<br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> inspect<br><span class="hljs-keyword">from</span> subprocess <span class="hljs-keyword">import</span> PIPE, Popen<br><br><span class="hljs-keyword">from</span> deploy.logger <span class="hljs-keyword">import</span> logger <span class="hljs-keyword">as</span> LOG<br><span class="hljs-keyword">from</span> config <span class="hljs-keyword">import</span> DEBUG<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_cur_folder</span>():<br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">getattr</span>(sys, <span class="hljs-string">&quot;frozen&quot;</span>, <span class="hljs-literal">False</span>):<br>        <span class="hljs-keyword">return</span> os.path.dirname(os.path.abspath(__file__))<br>    <span class="hljs-keyword">else</span>:<br>        cur_folder = os.path.dirname(inspect.getfile(inspect.currentframe()))<br>        <span class="hljs-keyword">return</span> os.path.abspath(cur_folder)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">_print_die</span>(<span class="hljs-params">message</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    exit process</span><br><span class="hljs-string"></span><br><span class="hljs-string">    :param message: print error message</span><br><span class="hljs-string">    :return:</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> message:<br>        <span class="hljs-keyword">return</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;%s%s%s&#x27;</span> % (<span class="hljs-string">&#x27;&gt;&#x27;</span> * <span class="hljs-number">10</span>, message, <span class="hljs-string">&#x27;&lt;&#x27;</span> * <span class="hljs-number">10</span>))<br>    sys.exit(<span class="hljs-number">1</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">_run_cmd</span>(<span class="hljs-params">cmd, shell=<span class="hljs-literal">True</span>, check_exit_code=<span class="hljs-literal">True</span>, cwd=<span class="hljs-literal">None</span></span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    execute command at local shell, build in method,</span><br><span class="hljs-string">    not allow other file to use</span><br><span class="hljs-string"></span><br><span class="hljs-string">    :param cmd: command</span><br><span class="hljs-string">    :param shell: is or not run shell mode</span><br><span class="hljs-string">        if shell is True, command type is str</span><br><span class="hljs-string">        else command type is list or tuple</span><br><span class="hljs-string">    :param check_exit_code: check is or not return code</span><br><span class="hljs-string">    :param cwd: current work dir</span><br><span class="hljs-string">    :return: command return code, command content</span><br><span class="hljs-string"></span><br><span class="hljs-string">    cmd:</span><br><span class="hljs-string">      - &quot;ls -a&quot;</span><br><span class="hljs-string">      - [&quot;ls&quot;, &quot;-a&quot;]</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">type</span>(cmd) <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> [<span class="hljs-built_in">type</span>(<span class="hljs-string">&#x27;string&#x27;</span>), <span class="hljs-built_in">type</span>([<span class="hljs-number">1</span>]), <span class="hljs-built_in">type</span>((<span class="hljs-number">1</span>,))]:<br>        <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;Command type is error&#x27;</span><br><br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> cwd:<br>        cwd = get_cur_folder()<br><br>    <span class="hljs-comment"># 统一转成string命令格式</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> shell:<br>        cmd = <span class="hljs-string">&#x27; &#x27;</span>.join(cmd)<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-built_in">isinstance</span>(cmd, <span class="hljs-built_in">str</span>):<br>        cmd = <span class="hljs-string">&#x27; &#x27;</span>.join(cmd)<br>    <span class="hljs-keyword">if</span> DEBUG:<br>        LOG.debug(cmd)<br>    p = Popen(cmd,<br>              shell=<span class="hljs-literal">False</span>,<br>              bufsize=<span class="hljs-number">0</span>,<br>              cwd=cwd,<br>              stdout=PIPE)<br>    <span class="hljs-comment"># p.wait()    # 等待子进程完成</span><br>    output = p.communicate()[<span class="hljs-number">0</span>]<br>    return_code = p.returncode<br>    <span class="hljs-keyword">if</span> check_exit_code <span class="hljs-keyword">and</span> return_code != <span class="hljs-number">0</span>:<br>        _print_die(<span class="hljs-string">&#x27;Command &quot;%s&quot; failed.\n%s&#x27;</span> % (<span class="hljs-string">&#x27; &#x27;</span>.join(cmd), output))<br>    <span class="hljs-keyword">if</span> return_code <span class="hljs-keyword">in</span> [<span class="hljs-number">0</span>, <span class="hljs-string">&#x27;0&#x27;</span>]:<br>        return_code = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">return</span> return_code, output<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">run_command</span>(<span class="hljs-params">cmd, check_exit_code=<span class="hljs-literal">True</span>, shell=<span class="hljs-literal">True</span>, cwd=<span class="hljs-literal">None</span></span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    run command return command code, output</span><br><span class="hljs-string"></span><br><span class="hljs-string">    :param cmd: command</span><br><span class="hljs-string">    :param check_exit_code: check command output exit code</span><br><span class="hljs-string">    :param shell: shell mode</span><br><span class="hljs-string">    :param cwd: current work dir</span><br><span class="hljs-string">    :return: command code</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">return</span> _run_cmd(cmd, shell=shell, check_exit_code=check_exit_code, cwd=cwd)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">run_command_no_output</span>(<span class="hljs-params">cmd, check_exit_code=<span class="hljs-literal">True</span>, shell=<span class="hljs-literal">True</span>, cwd=<span class="hljs-literal">None</span></span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    run command no return command output</span><br><span class="hljs-string"></span><br><span class="hljs-string">    :param cmd: command</span><br><span class="hljs-string">    :param check_exit_code: check command output exit code</span><br><span class="hljs-string">    :param shell: shell mode</span><br><span class="hljs-string">    :param cwd: current work dir</span><br><span class="hljs-string">    :return: command code</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">return</span> _run_cmd(cmd, shell=shell, check_exit_code=check_exit_code, cwd=cwd)[<span class="hljs-number">0</span>]<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">which_command</span>(<span class="hljs-params">cmd</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    which the server is or not have command</span><br><span class="hljs-string"></span><br><span class="hljs-string">    :param cmd: command</span><br><span class="hljs-string">    :return: bool</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span> <span class="hljs-keyword">if</span> run_command_no_output(<span class="hljs-string">&quot;which %s&quot;</span> % cmd, check_exit_code=<span class="hljs-literal">False</span>) == <span class="hljs-number">0</span> \<br>        <span class="hljs-keyword">else</span> <span class="hljs-literal">False</span><br></code></pre></td></tr></table></figure><h4 id="系列"><a href="#系列" class="headerlink" title="系列"></a>系列</h4><p><a href="http://pygo2.top/articles/26110/">Python模块之command系统命令</a><br><a href="http://pygo2.top/articles/19275/">Python模块之excel模块</a><br><a href="http://pygo2.top/articles/5145/">Python模块之logger日志</a><br><a href="http://pygo2.top/articles/61799/">Python模块之utils公共方法</a><br><a href="http://pygo2.top/articles/31232/">Python模块之watcher打点</a><br><a href="http://pygo2.top/articles/51787/">Python模块之config配置解析</a><br><a href="http://pygo2.top/articles/58292/">Python模块之dtalk钉钉消息</a><br><a href="http://pygo2.top/articles/33254/">Python模块之企业微信</a></p><p>更多模块请参考文章TAG进行查看。</p><p><font size=6.5 color='red'><em><strong>Python模块系列，持续更新中。。。。。。</strong></em></font></p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Python模块系列</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Oracle数据库Redhat7.4部署安装</title>
    <link href="/articles/40987/"/>
    <url>/articles/40987/</url>
    
    <content type="html"><![CDATA[<p>Redhat7.4服务器安装Oracle11g数据库，详细实践版本。</p><span class="label label-primary">Oracle</span> <span class="label label-info">数据库</span><span id="more"></span><hr /><h3 id="1、版本说明"><a href="#1、版本说明" class="headerlink" title="1、版本说明"></a>1、版本说明</h3><table><thead><tr><th align="center">名称</th><th align="center">版本</th></tr></thead><tbody><tr><td align="center">服务器系统</td><td align="center">Redhat7.4</td></tr><tr><td align="center">Oracle</td><td align="center">11g Enterprise Edition</td></tr></tbody></table><p>接下来是部署安装的过程，都是重要步骤。</p><div class="post_cus_note">====== 部署开始 ======</div><h3 id="2、Oracle安装"><a href="#2、Oracle安装" class="headerlink" title="2、Oracle安装"></a>2、Oracle安装</h3><h4 id="2-1、Oracle用户【root用户】"><a href="#2-1、Oracle用户【root用户】" class="headerlink" title="2.1、Oracle用户【root用户】"></a>2.1、Oracle用户【root用户】</h4><p>对于到手的Linux服务器，Oracle存在自主创建或者已经被创建的情况，分别进行操作说明。</p><blockquote><p>情况一：创建用户</p></blockquote><p>1.创建oracle用户组</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">groupadd oinstall</span><br><span class="hljs-attribute">groupadd dba</span><br></code></pre></td></tr></table></figure><p>2.创建oracle用户</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">seradd oracle -<span class="hljs-selector-tag">g</span> oinstall -<span class="hljs-selector-tag">G</span> dba -m  -s /bin/bash<br></code></pre></td></tr></table></figure><p>3.设置oracle用户密码</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">passwd oracle</span><br></code></pre></td></tr></table></figure><blockquote><p>情况二： Oracle用户已存在</p></blockquote><p>1.创建用户租<br>groupadd oinstall<br>groupadd dba<br>2.修改oracle用户所属组<br>usermod -g oinstall -G dba -s &#x2F;bin&#x2F;bash oracle<br>id oracle<br>出现的结果是oracle用户是属于oinstall、dba2个组<br>3.把oracle用户目录重新赋予权限：<br>chown -R oracle:oinstall &#x2F;home&#x2F;oracle</p><h4 id="2-2、Package安装【root用户】"><a href="#2-2、Package安装【root用户】" class="headerlink" title="2.2、Package安装【root用户】"></a>2.2、Package安装【root用户】</h4><p>安装所必须的包，执行以下命令：</p><figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs brainfuck"><span class="hljs-comment">yum install  binutils  elfutils</span><span class="hljs-literal">-</span><span class="hljs-comment">libelf   elfutils</span><span class="hljs-literal">-</span><span class="hljs-comment">libelf</span><span class="hljs-literal">-</span><span class="hljs-comment">devel  gcc</span><span class="hljs-literal">-</span><span class="hljs-comment">c</span><span class="hljs-literal">++</span>   <span class="hljs-comment">glibc  glibc</span><span class="hljs-literal">-</span><span class="hljs-comment">common</span><br> <span class="hljs-comment">glibc</span><span class="hljs-literal">-</span><span class="hljs-comment">devel  glibc</span><span class="hljs-literal">-</span><span class="hljs-comment">headers   libaio  libaio</span><span class="hljs-literal">-</span><span class="hljs-comment">devel   libgcc  libstdc</span><span class="hljs-literal">++</span>   <span class="hljs-comment">libstdc</span><span class="hljs-literal">++-</span><span class="hljs-comment">devel    make</span><br> <span class="hljs-comment">sysstat  unixODBC  unixODBC</span><span class="hljs-literal">-</span><span class="hljs-comment">devel</span><br></code></pre></td></tr></table></figure><p>如果服务器没连内网，需要从安装盘安装以上的包。挂截光盘，将系统对应的系统盘插入光驱后，运行以下命令：<br>1.挂载系统盘</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> /mnt/cdrom<br>mount –t auto –o ro /dev/cdrom /mnt/cdrom<br></code></pre></td></tr></table></figure><p>2.配置源文件</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arduino">vim /etc/yum.repos.d/<span class="hljs-built_in">Server</span>.repo<br></code></pre></td></tr></table></figure><p>3.更改配置，在以上文件中输入以下内容：</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-section">[dvd]</span><br><span class="hljs-attr">Name</span>=localyum<br><span class="hljs-attr">Baseurl</span>=file:///mnt/cdrom<br><span class="hljs-attr">Enabled</span>=<span class="hljs-number">1</span><br><span class="hljs-attr">Gpgcheck</span>=<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><p>保存退出，在进行yum包安装。</p><h4 id="2-3、调整OS内核参数【root用户】"><a href="#2-3、调整OS内核参数【root用户】" class="headerlink" title="2.3、调整OS内核参数【root用户】"></a>2.3、调整OS内核参数【root用户】</h4><p>设置原则：<br>kernel.shmmax设为物理内存大小(如果系统已设置了足够大就无需再设置了，参考值为最小需求)</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-comment"># vi /etc/sysctl.conf</span><br><span class="hljs-comment">#------------------------------------------</span><br><span class="hljs-attr">kernel.shmall</span> = <span class="hljs-number">16777216</span><br><span class="hljs-attr">kernel.shmmax</span> = <span class="hljs-number">68719476735</span><br><span class="hljs-attr">kernel.shmmni</span> = <span class="hljs-number">4096</span><br><span class="hljs-attr">kernel.sem</span> = <span class="hljs-number">500</span> <span class="hljs-number">2048000</span> <span class="hljs-number">500</span> <span class="hljs-number">4096</span><br><span class="hljs-attr">kernel.randomize_va_space</span>=<span class="hljs-number">0</span><br><span class="hljs-attr">fs.aio-max-nr</span> = <span class="hljs-number">1048576</span><br><span class="hljs-attr">fs.file-max</span> = <span class="hljs-number">6815744</span><br><span class="hljs-attr">fs.aio-max-nr</span> = <span class="hljs-number">1048576</span><br><span class="hljs-attr">net.ipv4.ip_local_port_range</span> = <span class="hljs-number">9000</span> <span class="hljs-number">65500</span><br><span class="hljs-attr">net.core.rmem_default</span> = <span class="hljs-number">262144</span><br><span class="hljs-attr">net.core.rmem_max</span> = <span class="hljs-number">4194304</span><br><span class="hljs-attr">net.core.wmem_default</span> = <span class="hljs-number">262144</span><br><span class="hljs-attr">net.core.wmem_max</span> = <span class="hljs-number">1048586</span><br><span class="hljs-comment">#------------------------------------------</span><br></code></pre></td></tr></table></figure><p><img src="/articles/40987/331662561426_.pic.jpg"></p><p>运行命令使参数立即生效</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">sysctl  -<span class="hljs-selector-tag">p</span><br></code></pre></td></tr></table></figure><h4 id="2-4、配置PAM模块文件【root用户】"><a href="#2-4、配置PAM模块文件【root用户】" class="headerlink" title="2.4、配置PAM模块文件【root用户】"></a>2.4、配置PAM模块文件【root用户】</h4><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">vim</span> /etc/security/limits.conf<br><span class="hljs-comment">#------------------------------------------</span><br><span class="hljs-attribute">oracle</span> soft nproc <span class="hljs-number">2047</span><br><span class="hljs-attribute">oracle</span> hard nproc <span class="hljs-number">16384</span><br><span class="hljs-attribute">oracle</span> soft nofile <span class="hljs-number">1024</span><br><span class="hljs-attribute">oracle</span> hard nofile <span class="hljs-number">65536</span><br><span class="hljs-comment">#------------------------------------------</span><br></code></pre></td></tr></table></figure><p><img src="/articles/40987/341662561512_.pic.jpg"></p><h4 id="2-5、建立必须目录和文件【root用户】"><a href="#2-5、建立必须目录和文件【root用户】" class="headerlink" title="2.5、建立必须目录和文件【root用户】"></a>2.5、建立必须目录和文件【root用户】</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span>  –p  /u01/app/oracle<br><span class="hljs-built_in">chown</span>  -R  oracle:oinstall  /u01/<br></code></pre></td></tr></table></figure><p>建立完之后可以tree以下，如果没有<em><strong>yum tree</strong></em>安装tree命令，用来查看目录树结构，推荐。</p><h4 id="2-6、设置oracle用户环境变量【oracle用户】"><a href="#2-6、设置oracle用户环境变量【oracle用户】" class="headerlink" title="2.6、设置oracle用户环境变量【oracle用户】"></a>2.6、设置oracle用户环境变量【oracle用户】</h4><p>如果服务器有多网卡, 注意设置ORACLE_HOSTNAME为某网卡IP对应的主机名, 参照&#x2F;etc&#x2F;hosts文件.<br>切换到oracle 用户 编辑.bash_profile文件为以下内容。<br>切换到oracle用户<br>命令：su  -  oracle</p><p>编辑配置文件<br>命令如下：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-variable">$vim</span> /home/oracle/.bash_profile<br><span class="hljs-comment"># --------------------------------------------------</span><br><span class="hljs-comment"># oracle config</span><br>umask 022<br><span class="hljs-attribute">ORACLE_HOSTNAME</span>=VM_176_9_linux<br><span class="hljs-attribute">ORACLE_BASE</span>=/u01/app/oracle<br><span class="hljs-attribute">ORACLE_HOME</span>=/u01/app/oracle/product/11.2.0/dbhome_1<br><span class="hljs-attribute">ORACLE_SID</span>=orcl<br><span class="hljs-attribute">LD_LIBRARY_PATH</span>=<span class="hljs-variable">$ORACLE_HOME</span>/lib<br><span class="hljs-attribute">PATH</span>=<span class="hljs-variable">$PATH</span>:$HOME/bin:$ORACLE_HOME/bin:$ORACLE_HOME/jdk/bin:$LD_LIBRARY_PATH<br><br><span class="hljs-built_in">export</span> ORACLE_HOME<br><span class="hljs-built_in">export</span> ORACLE_SID<br><span class="hljs-built_in">export</span> LD_LIBRARY_PATH<br><span class="hljs-built_in">export</span> PATH<br><br><span class="hljs-attribute">LC_ALL</span>=<span class="hljs-string">&quot;en_US&quot;</span><br><span class="hljs-built_in">export</span> <span class="hljs-attribute">NLS_LANG</span>=<span class="hljs-string">&quot;AMERICAN_AMERICA.ZHS16GBK&quot;</span><br><span class="hljs-built_in">export</span> <span class="hljs-attribute">NLS_DATE_FORMAT</span>=<span class="hljs-string">&quot;YYYY-MM-DD HH24:MI:SS&quot;</span><br><span class="hljs-comment"># --------------------------------------------------</span><br></code></pre></td></tr></table></figure><p>参数说明：</p><ul><li>ORACLE_HOSTNAM：本机名称</li><li>ORACLE_BASE：Oracle安装根目录</li><li>ORACLE_HOME：Oracle软件安装目录</li><li>ORACLE_SID：Oracle SID</li><li>LD_LIBRARY_PATH：Oracle lib包</li><li>NLS_LANG：NLS编码设置，先这么设置，后面有一个拓展 专门说明。</li></ul><p><img src="/articles/40987/351662561646_.pic.jpg"></p><p>再运行以下命令使配置立即生效。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">source</span> /home/oracle/.bash_profile<br></code></pre></td></tr></table></figure><h4 id="2-7、配置cvu-config文件【oracle用户】"><a href="#2-7、配置cvu-config文件【oracle用户】" class="headerlink" title="2.7、配置cvu_config文件【oracle用户】"></a>2.7、配置cvu_config文件【oracle用户】</h4><p>1.解压Oracle包，进入Oracle解压后目录database&#x2F;stage&#x2F;cvu&#x2F;cv&#x2F;admin，备份 cvu_config 文件：</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs avrasm"><span class="hljs-keyword">cp</span> cvu_config backup_cvu_config<br></code></pre></td></tr></table></figure><p>2.编辑 cvu_config 并且改动以下行内容（添加cvu_config配置信息的时候建议手动输入，复制的时候出现|【不知什么原因】）</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-attribute">CV_ASSUME_DISTID</span>=OEL4 <span class="hljs-keyword">to</span> <span class="hljs-attribute">CV_ASSUME_DISTID</span>=OEL6<br></code></pre></td></tr></table></figure><p>3.保存文件。</p><h4 id="2-8、配置响应文件【oracle用户】"><a href="#2-8、配置响应文件【oracle用户】" class="headerlink" title="2.8、配置响应文件【oracle用户】"></a>2.8、配置响应文件【oracle用户】</h4><p>在ORACLE安装软件的response目录里有各种响应文件模板，我们需要将配置响应文件的参数以匹配当前环境</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs routeros">$ vi /home/oracle/database/response/db_install.rsp<br><br><span class="hljs-comment">#--------------------------------------------------------------------</span><br><span class="hljs-comment"># 注意!不要更改以下参数,否则安装会报错!</span><br>oracle.install.<span class="hljs-attribute">responseFileVersion</span>=/oracle/install/rspfmt_dbinstall_response_schema_v11_2_0<br><br><span class="hljs-comment">#以下参数根据实际情况更改,ORACLE_HOSTNAME的值由hostname命令获得</span><br>oracle.install.<span class="hljs-attribute">option</span>=INSTALL_DB_SWONLY<br><span class="hljs-attribute">ORACLE_HOSTNAME</span>=服务器名称<br><span class="hljs-attribute">INVENTORY_LOCATION</span>=/u01/app/oracle/oraInventory<br><span class="hljs-attribute">UNIX_GROUP_NAME</span>=oinstall<br><span class="hljs-attribute">SELECTED_LANGUAGES</span>=en,zh_CN<br>oracle.install.db.<span class="hljs-attribute">InstallEdition</span>=EE<br>oracle.install.db.<span class="hljs-attribute">DBA_GROUP</span>=dba<br>oracle.install.db.<span class="hljs-attribute">OPER_GROUP</span>=dba<br><span class="hljs-attribute">DECLINE_SECURITY_UPDATES</span>=<span class="hljs-literal">true</span><br><span class="hljs-attribute">ORACLE_HOME</span>=/u01/app/oracle/product/11.2.0/dbhome_1<br><span class="hljs-attribute">ORACLE_BASE</span>=/u01/app/oracle<br><span class="hljs-comment">#--------------------------------------------------------------------</span><br></code></pre></td></tr></table></figure><p>各参数含义如下:<br>-silent 表示以静默方式安装,不会有任何提示<br>-force 允许安装到一个非空目录<br>-noconfig 表示不运行配置助手netca<br>-responseFile 表示使用哪个响应文件,必需使用绝对路径<br>oracle.install.responseFileVersion 响应文件模板的版本,该参数不要更改<br>oracle.install.option 安装选项,本例只安装oracle软件,<br>DECLINE_SECURITY_UPDATES 是否需要在线安全更新,该参数不要更改<br>ORACLE_HOSTNAME 安装主机名<br>UNIX_GROUP_NAME oracle用户用于安装软件的组名<br>INVENTORY_LOCATION oracle产品清单目录<br>SELECTED_LANGUAGES oracle运行语言环境,一般选en，zh_CN<br>ORACLE_HOME Oracle安装目录<br>ORACLE_BASE oracle基础目录<br>oracle.install.db.InstallEdition 安装版本类型,一般是企业版<br>oracle.install.db.isCustomInstall 是否定制安装,默认Partitioning,OLAP,RAT都选上了<br>oracle.install.db.customComponents 定制安装组件列表:除了以上默认的,可加上Label Security和Database Vault<br>oracle.install.db.DBA_GROUP oracle用户用于授予OSDBA权限的组名<br>oracle.install.db.OPER_GROUP oracle用户用于授予OSOPER权限的组名</p><h4 id="2-9、执行安装脚本"><a href="#2-9、执行安装脚本" class="headerlink" title="2.9、执行安装脚本"></a>2.9、执行安装脚本</h4><p>【一定要oracle用户执行】【一定要oracle用户执行】【一定要oracle用户执行】<br>命令：</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">.<span class="hljs-regexp">/runInstaller  -silent  -force  -noconfig  -responseFile  /</span>home<span class="hljs-regexp">/oracle/</span>db_install.rsp<br></code></pre></td></tr></table></figure><p>其中后面的db_install.rsp为上一步配置的响应文件的路径。</p><p><img src="/articles/40987/361662561936_.pic.jpg"></p><p>执行成功后会出现以上界面，会提示需要要ROOT用户下执行脚本，然后再回来上图界面按回车完成安装。</p><h4 id="2-10、运行orainstRoot-sh和root-sh完成安装"><a href="#2-10、运行orainstRoot-sh和root-sh完成安装" class="headerlink" title="2.10、运行orainstRoot.sh和root.sh完成安装"></a>2.10、运行orainstRoot.sh和root.sh完成安装</h4><p>【一定要root用户执行】【一定要root用户执行】【一定要root用户执行】<br>切换到root用户执行脚本。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">/u01/app/oraInventory/orainstRoot.sh<br>/u01/app/oracle/product/11.2.0/dbhome_1/root.sh<br></code></pre></td></tr></table></figure><p><img src="/articles/40987/371662561966_.pic.jpg"></p><p>然后再回到安装界面按回车，提示安装成功，至此数据库已经安装完成。</p><h4 id="2-11、检查安装文件【root用户】"><a href="#2-11、检查安装文件【root用户】" class="headerlink" title="2.11、检查安装文件【root用户】"></a>2.11、检查安装文件【root用户】</h4><blockquote><p>1.文件一：$ORACLE_HOME&#x2F;bin&#x2F;oracle</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> <span class="hljs-variable">$ORACLE_HOME</span>/bin<br>ll | grep oracle<br></code></pre></td></tr></table></figure><p><img src="/articles/40987/381662562021_.pic.jpg"></p><blockquote><p>2.文件二：$ORACLE_HOME&#x2F;rdbms&#x2F;lib&#x2F;config.o</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> <span class="hljs-variable">$ORACLE_HOME</span>/rdbms/lib/<br>ll | grep config<br></code></pre></td></tr></table></figure><p><img src="/articles/40987/391662562045_.pic.jpg"></p><p>确认上面的2个文件大小一定要大于0，不然后面后出现ORA-12547:TNS:list contact。<br>如果出现上述情况，可以把&#x2F;u01&#x2F;app&#x2F;oracle&#x2F;oraInventory目录删除，重新进行安装。</p><div class="post_cus_note">数据库安装完成</div><h3 id="3、PAS数据库安装"><a href="#3、PAS数据库安装" class="headerlink" title="3、PAS数据库安装"></a>3、PAS数据库安装</h3><h4 id="3-1、静默配置监听程序【oracle用户】"><a href="#3-1、静默配置监听程序【oracle用户】" class="headerlink" title="3.1、静默配置监听程序【oracle用户】"></a>3.1、静默配置监听程序【oracle用户】</h4><p>通过response文件运行netca, 生成sqlnet.ora和listener.ora文件, 位于$ORACLE_HOME&#x2F;network&#x2F;admin目录下<br>命令：$ $ORACLE_HOME&#x2F;bin&#x2F;netca &#x2F;silent &#x2F;responsefile &#x2F;home&#x2F;oracle&#x2F;netca.rsp<br><img src="/articles/40987/401662562189_.pic.jpg"><br>如果发生以下错误：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs stata">=========================================================<br><span class="hljs-variable">$ORACLE_HOME</span>/bin/netca /silent /responsefile /home/oracle/database/response/netca.rspUnsatisfiedLinkError exception loading native library: njni11<br>java.lang.UnsatisfiedLinkError: /u01/<span class="hljs-keyword">app</span>/oracle/product/11.2.0/dbhome_1/lib/libnjni11.<span class="hljs-keyword">so</span>: libaio.<span class="hljs-keyword">so</span>.1: cannot <span class="hljs-keyword">open</span> shared object <span class="hljs-keyword">file</span>: <span class="hljs-keyword">No</span> such <span class="hljs-keyword">file</span> or directory<br>java.lang.UnsatisfiedLinkError: jniGetOracleHome<br>at oracle.<span class="hljs-keyword">net</span>.common.NetGetEnv.jniGetOracleHome(Native Method)<br>at oracle.<span class="hljs-keyword">net</span>.common.NetGetEnv.getOracleHome(Unknown Source)<br>at oracle.<span class="hljs-keyword">net</span>.<span class="hljs-keyword">ca</span>.NetCALogger.getOracleHome(NetCALogger.java:230)<br>at oracle.<span class="hljs-keyword">net</span>.<span class="hljs-keyword">ca</span>.NetCALogger.initOracleParameters(NetCALogger.java:215)<br>at oracle.<span class="hljs-keyword">net</span>.<span class="hljs-keyword">ca</span>.NetCALogger.initLogger(NetCALogger.java:130)<br>at oracle.<span class="hljs-keyword">net</span>.<span class="hljs-keyword">ca</span>.NetCA.main(NetCA.java:427)<br><br><span class="hljs-keyword">Error</span>: jniGetOracleHome<br>=========================================================<br></code></pre></td></tr></table></figure><p>解决方案：<br>缺少lib包</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">find /u01 -name libaio.so.1<br><span class="hljs-built_in">cp</span> /u01/app/oracle/product/11.2.0/dbhome_1/lib/stubs/libaio.so.1 /u01/app/oracle/product/11.2.0/dbhome_1/lib<br></code></pre></td></tr></table></figure><p>在执行上述命令，成功<br>创建PAS数据库实例</p><h4 id="3-2、配置建库响应文件-dbca-rsp【oracle用户】"><a href="#3-2、配置建库响应文件-dbca-rsp【oracle用户】" class="headerlink" title="3.2、配置建库响应文件 dbca.rsp【oracle用户】"></a>3.2、配置建库响应文件 dbca.rsp【oracle用户】</h4><p>打开安装目录下的response文件夹下的dbca.rsp ，修改以下参数</p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs makefile">$vim  /home/oracle/database/response/dbca.rsp<br>GDBNAME = <span class="hljs-string">&quot;pas&quot;</span><br>SID = <span class="hljs-string">&quot;orcl&quot;</span><br>SYSPASSWORD = <span class="hljs-string">&quot;pas&quot;</span><br>SYSTEMPASSWORD = <span class="hljs-string">&quot;pas&quot;</span><br>SYSMANPASSWORD = <span class="hljs-string">&quot;pas&quot;</span><br>DBSNMPPASSWORD = <span class="hljs-string">&quot;pas&quot;</span><br>CHARACTERSET = <span class="hljs-string">&quot;ZHS16GBK&quot;</span><br>MEMORYPERCENTAGE = <span class="hljs-string">&quot;40&quot;</span><br></code></pre></td></tr></table></figure><h4 id="3-3、创建数据库实例【oracle用户】"><a href="#3-3、创建数据库实例【oracle用户】" class="headerlink" title="3.3、创建数据库实例【oracle用户】"></a>3.3、创建数据库实例【oracle用户】</h4><p>Oracle用户下执行以下命令：</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-variable">$ORACLE_HOME</span><span class="hljs-regexp">/bin/</span>dbca -silent -responseFile <span class="hljs-regexp">/home/</span>oracle<span class="hljs-regexp">/database/</span>response/dbca.rsp<br></code></pre></td></tr></table></figure><p>注意,dbca.rsp为上一步配置的响应文件的路径。<br><img src="/articles/40987/411662562292_.pic.jpg"><br>待提示成功后，数据库实例创建完毕。<br><img src="/articles/40987/dbca.png"></p><h4 id="3-4、创建数据文件路径"><a href="#3-4、创建数据文件路径" class="headerlink" title="3.4、创建数据文件路径"></a>3.4、创建数据文件路径</h4><p>1.创建目录，切换至实例用户窗口中输入如下命令，将下列脚本中的SNPAS批量替换成你的数据库名称，同时需要检查实例目录上否有足够空间的磁盘(真实环境至少剩余空间需要500G以上 df 检查磁盘空间)<br><em><strong>【文件位置根据服务器实际空间以及位置进行修改，oracle对目录具有读写权限】</strong></em></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">su - oracle<br><span class="hljs-built_in">mkdir</span> -p  /data/SNPAS/PAS_DATA/PAS_SPACE_DATA<br><span class="hljs-built_in">mkdir</span> -p  /data/SNPAS/PAS_DATA/PAS_SPACE_IDX<br><span class="hljs-built_in">mkdir</span> -p  /data/SNPAS/PAS_DATA/PAS_SPACE_TMP<br><span class="hljs-built_in">mkdir</span> -p  /data/SNPAS/PAS_BACKUP<br><span class="hljs-built_in">mkdir</span> -p  /data/SNPAS/PAS_DATA_SRC<br><span class="hljs-built_in">mkdir</span> -p  /data/SNPAS/PAS_ARCH_LOG<br></code></pre></td></tr></table></figure><p>2.创建成功之后的目录结构如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> /data/SNPAS<br>tree<br></code></pre></td></tr></table></figure><p><img src="/articles/40987/SNPAS.png"></p><h4 id="3-5、创建表空间【oracle用户】"><a href="#3-5、创建表空间【oracle用户】" class="headerlink" title="3.5、创建表空间【oracle用户】"></a>3.5、创建表空间【oracle用户】</h4><p>查看当前实例：select instance_name from v$instance;<br>切换为需要的实例：export ORACLE_SID&#x3D;SID名称<br>以管理员身份通过SQLPLUS登录ORACLE<br>$ ORACLE_HOME&#x2F;bin&#x2F;sqlplus &#x2F; as sysdba<br><img src="/articles/40987/421662562514_.pic.jpg"></p><h4 id="3-6、表空间创建"><a href="#3-6、表空间创建" class="headerlink" title="3.6、表空间创建"></a>3.6、表空间创建</h4><p>表空间特殊说明：</p><ul><li>【1.表空间存储目录以上一步建立的路径为准】</li><li>【2.初始化表空间文件的大小可以为10G，后期自动增长】</li><li>【3.11g普通表空间文件大小最大32G】</li></ul><blockquote><p>创建TBS_MXZ表空间文件【sqlplus】</p></blockquote><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs gradle">SQL&gt;CREATE TABLESPACE <span class="hljs-string">&quot;TBS_MXZ&quot;</span><br>  LOGGING DATAFILE<br>  <span class="hljs-string">&#x27;/data/SNPAS/PAS_DATA/PAS_SPACE_DATA/TBS_MXZ1.dbf&#x27;</span> <span class="hljs-keyword">SIZE</span> <span class="hljs-number">10</span>G,<br>  <span class="hljs-string">&#x27;/data/SNPAS/PAS_DATA/PAS_SPACE_DATA/TBS_MXZ2.dbf&#x27;</span> <span class="hljs-keyword">SIZE</span> <span class="hljs-number">10</span>G,<br>  <span class="hljs-string">&#x27;/data/SNPAS/PAS_DATA/PAS_SPACE_DATA/TBS_MXZ3.dbf&#x27;</span> <span class="hljs-keyword">SIZE</span> <span class="hljs-number">10</span>G,<br>  <span class="hljs-string">&#x27;/data/SNPAS/PAS_DATA/PAS_SPACE_DATA/TBS_MXZ4.dbf&#x27;</span> <span class="hljs-keyword">SIZE</span> <span class="hljs-number">10</span>G,<br>  <span class="hljs-string">&#x27;/data/SNPAS/PAS_DATA/PAS_SPACE_DATA/TBS_MXZ5.dbf&#x27;</span> <span class="hljs-keyword">SIZE</span> <span class="hljs-number">10</span>G<br>   autoextend on<br>   <span class="hljs-keyword">next</span> <span class="hljs-number">1</span>G<br>   maxsize unlimited;<br></code></pre></td></tr></table></figure><blockquote><p>创建TBS_NBZZ表空间文件【sqlplus】</p></blockquote><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs gradle">SQL&gt; CREATE TABLESPACE <span class="hljs-string">&quot;TBS_NBZZ&quot;</span><br>  LOGGING DATAFILE<br>  <span class="hljs-string">&#x27;/data/SNPAS/PAS_DATA/PAS_SPACE_DATA/TBS_NBZZ1.dbf&#x27;</span> <span class="hljs-keyword">SIZE</span> <span class="hljs-number">10</span>G,<br><span class="hljs-string">&#x27;/data/SNPAS/PAS_DATA/PAS_SPACE_DATA/TBS_NBZZ2.dbf&#x27;</span> <span class="hljs-keyword">SIZE</span> <span class="hljs-number">10</span>G,<br><span class="hljs-string">&#x27;/data/SNPAS/PAS_DATA/PAS_SPACE_DATA/TBS_NBZZ3.dbf&#x27;</span> <span class="hljs-keyword">SIZE</span> <span class="hljs-number">10</span>G,<br>  <span class="hljs-string">&#x27;/data/SNPAS/PAS_DATA/PAS_SPACE_DATA/TBS_NBZZ4.dbf&#x27;</span> <span class="hljs-keyword">SIZE</span> <span class="hljs-number">10</span>G<br>   autoextend on<br>   <span class="hljs-keyword">next</span> <span class="hljs-number">1</span>G<br>   maxsize unlimited;<br></code></pre></td></tr></table></figure><blockquote><p>创建TBS_JXDX表空间文件【sqlplus】</p></blockquote><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">SQL</span>&gt;<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLESPACE</span> &quot;TBS_JXDX&quot;<br>  LOGGING DATAFILE<br>  <span class="hljs-string">&#x27;/data/SNPAS/PAS_DATA/PAS_SPACE_DATA/TBS_JXDX1.dbf&#x27;</span> SIZE <span class="hljs-number">10</span>G,<br>  <span class="hljs-string">&#x27;/data/SNPAS/PAS_DATA/PAS_SPACE_DATA/TBS_JXDX2.dbf&#x27;</span> SIZE <span class="hljs-number">10</span>G<br>   autoextend <span class="hljs-keyword">on</span><br>   next <span class="hljs-number">1</span>G<br>   maxsize unlimited;<br></code></pre></td></tr></table></figure><blockquote><p>创建TBS_JKSJ表空间文件【sqlplus】</p></blockquote><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">SQL</span>&gt;<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLESPACE</span> &quot;TBS_JKSJ&quot;<br>  LOGGING DATAFILE<br>  <span class="hljs-string">&#x27;/data/SNPAS/PAS_DATA/PAS_SPACE_DATA/TBS_JKSJ1.dbf&#x27;</span> SIZE <span class="hljs-number">10</span>G<br>   autoextend <span class="hljs-keyword">on</span><br>   next <span class="hljs-number">1</span>G<br>   maxsize unlimited;<br></code></pre></td></tr></table></figure><blockquote><p>创建TBS_LSB表空间文件【sqlplus】</p></blockquote><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">SQL</span>&gt;<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLESPACE</span> &quot;TBS_LSB&quot;<br>  LOGGING DATAFILE<br>  <span class="hljs-string">&#x27;/data/SNPAS/PAS_DATA/PAS_SPACE_DATA/TBS_LSB1.dbf&#x27;</span> SIZE <span class="hljs-number">10</span>G<br>   autoextend <span class="hljs-keyword">on</span><br>   next <span class="hljs-number">1</span>G<br>   maxsize unlimited;<br></code></pre></td></tr></table></figure><blockquote><p>创建TBS_PAS表空间文件【sqlplus】</p></blockquote><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">SQL</span>&gt; <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLESPACE</span> &quot;TBS_PAS&quot;<br> LOGGING DATAFILE<br> <span class="hljs-string">&#x27;/data/SNPAS/PAS_DATA/PAS_SPACE_DATA/TBS_PAS1.dbf&#x27;</span> SIZE <span class="hljs-number">10</span>G,<br> <span class="hljs-string">&#x27;/data/SNPAS/PAS_DATA/PAS_SPACE_DATA/TBS_PAS2.dbf&#x27;</span> SIZE <span class="hljs-number">10</span>G<br>  autoextend <span class="hljs-keyword">on</span><br>  next <span class="hljs-number">1</span>G<br>  maxsize unlimited;<br></code></pre></td></tr></table></figure><blockquote><p>创建TBS_IDX表空间文件【sqlplus】</p></blockquote><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">SQL</span>&gt;<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLESPACE</span> &quot;TBS_IDX&quot;<br>LOGGING DATAFILE<br><span class="hljs-string">&#x27;/data/SNPAS/PAS_DATA/PAS_SPACE_IDX/TBS_IDX1.dbf&#x27;</span> SIZE <span class="hljs-number">10</span>G,<br><span class="hljs-string">&#x27;/data/SNPAS/PAS_DATA/PAS_SPACE_IDX/TBS_IDX2.dbf&#x27;</span> SIZE <span class="hljs-number">10</span>G<br> autoextend <span class="hljs-keyword">on</span><br> next <span class="hljs-number">1</span>G<br> maxsize unlimited;<br></code></pre></td></tr></table></figure><blockquote><p>创建TBS_TMP表空间文件【sqlplus】</p></blockquote><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">SQL</span>&gt;<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TEMPORARY</span> <span class="hljs-keyword">TABLESPACE</span> TBS_TMP<br>  TEMPFILE<br>   <span class="hljs-string">&#x27;/data/SNPAS/PAS_DATA/PAS_SPACE_TMP/TBS_TMP1.dbf&#x27;</span> SIZE <span class="hljs-number">10</span>G,<br>   <span class="hljs-string">&#x27;/data/SNPAS/PAS_DATA/PAS_SPACE_TMP/TBS_TMP2.dbf&#x27;</span> SIZE <span class="hljs-number">10</span>G<br>   autoextend <span class="hljs-keyword">on</span><br>   next <span class="hljs-number">1</span>G<br>   maxsize unlimited;<br></code></pre></td></tr></table></figure><p>表空间说明与配置建议:</p><table><thead><tr><th>表空间名称</th><th>表空间作用</th><th>表空间大小配置建议</th><th>备注</th></tr></thead><tbody><tr><td>TBS_MXZ</td><td>存放明细账数据</td><td>100G-200G</td><td></td></tr><tr><td>TBS_NBZZ</td><td>存放内部总账数据</td><td>100G以上</td><td></td></tr><tr><td>TBS_JXDX</td><td>存放绩效对象数据</td><td>30G</td><td></td></tr><tr><td>TBS_JKSJ</td><td>存放接口数据</td><td>10G</td><td></td></tr><tr><td>TBS_LSB</td><td>存放临时表数据</td><td>10G</td><td></td></tr><tr><td>TBS_PAS</td><td>存放一些基础表的表空间，例如权限、参数、业绩关系、业绩指标、考核方案等</td><td>30G</td><td></td></tr><tr><td>TBS_IDX</td><td>存放索引数据</td><td>30G</td><td></td></tr><tr><td>TBS_TMP</td><td>临时表空间</td><td></td><td></td></tr></tbody></table><h4 id="3-7、创建PAS用户【sqlplus】"><a href="#3-7、创建PAS用户【sqlplus】" class="headerlink" title="3.7、创建PAS用户【sqlplus】"></a>3.7、创建PAS用户【sqlplus】</h4><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stata"><span class="hljs-keyword">su</span> - oracle<br>sqlplus / <span class="hljs-keyword">as</span> sysdba<br></code></pre></td></tr></table></figure><p>以管理员身份通过SQLPLUS登录ORACLE，执行以下命令</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">SQL</span>&gt; <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">USER</span> PAS IDENTIFIED <span class="hljs-keyword">BY</span> pas<br><span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">TABLESPACE</span> &quot;TBS_PAS&quot;<br><span class="hljs-keyword">TEMPORARY</span> <span class="hljs-keyword">TABLESPACE</span> &quot;TBS_TMP&quot;;<br></code></pre></td></tr></table></figure><h4 id="3-8、PAS用户授权【sqlplus】"><a href="#3-8、PAS用户授权【sqlplus】" class="headerlink" title="3.8、PAS用户授权【sqlplus】"></a>3.8、PAS用户授权【sqlplus】</h4><p>以管理员身份通过SQLPLUS登录ORACLE，执行以下命令</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">SQL</span>&gt;<span class="hljs-keyword">GRANT</span> &quot;JAVAUSERPRIV&quot; <span class="hljs-keyword">TO</span> PAS <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">ADMIN</span> <span class="hljs-keyword">OPTION</span>;<br><span class="hljs-keyword">SQL</span>&gt;<span class="hljs-keyword">GRANT</span> &quot;RESOURCE&quot; <span class="hljs-keyword">TO</span> PAS <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">ADMIN</span> <span class="hljs-keyword">OPTION</span>;<br><span class="hljs-keyword">SQL</span>&gt;<span class="hljs-keyword">GRANT</span> &quot;DBA&quot; <span class="hljs-keyword">TO</span> PAS <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">ADMIN</span> <span class="hljs-keyword">OPTION</span>;<br><span class="hljs-keyword">SQL</span>&gt;<span class="hljs-keyword">GRANT</span> &quot;JAVASYSPRIV&quot; <span class="hljs-keyword">TO</span> PAS <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">ADMIN</span> <span class="hljs-keyword">OPTION</span>;<br><span class="hljs-keyword">SQL</span>&gt;<span class="hljs-keyword">GRANT</span> &quot;CONNECT&quot; <span class="hljs-keyword">TO</span> PAS <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">ADMIN</span> <span class="hljs-keyword">OPTION</span>;<br><span class="hljs-keyword">SQL</span>&gt;<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">USER</span> PAS <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">ROLE</span> &quot;JAVAUSERPRIV&quot;,&quot;RESOURCE&quot;,&quot;DBA&quot;,&quot;JAVASYSPRIV&quot;,&quot;CONNECT&quot;;<br><br><span class="hljs-comment">-- SYSTEM PRIVILEGES</span><br><span class="hljs-keyword">SQL</span>&gt;<span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">ANY</span> <span class="hljs-keyword">INDEX</span> <span class="hljs-keyword">TO</span> PAS <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">ADMIN</span> <span class="hljs-keyword">OPTION</span>;<br><span class="hljs-keyword">SQL</span>&gt;<span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">ANY</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-keyword">TO</span> PAS <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">ADMIN</span> <span class="hljs-keyword">OPTION</span>;<br><span class="hljs-keyword">SQL</span>&gt;<span class="hljs-keyword">GRANT</span> UNLIMITED <span class="hljs-keyword">TABLESPACE</span> <span class="hljs-keyword">TO</span> PAS <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">ADMIN</span> <span class="hljs-keyword">OPTION</span>;<br><span class="hljs-keyword">SQL</span>&gt;<span class="hljs-keyword">grant</span> <span class="hljs-keyword">select</span> <span class="hljs-keyword">on</span> SYS.DBA_DATA_FILES <span class="hljs-keyword">to</span> PAS;<br><span class="hljs-keyword">SQL</span>&gt;<span class="hljs-keyword">grant</span> <span class="hljs-keyword">select</span> <span class="hljs-keyword">on</span> SYS.DBA_FREE_SPACE <span class="hljs-keyword">to</span> PAS;<br><span class="hljs-keyword">SQL</span>&gt;<span class="hljs-keyword">grant</span> <span class="hljs-keyword">select</span> <span class="hljs-keyword">on</span> SYS.DBA_TABLESPACES <span class="hljs-keyword">to</span> PAS;<br><span class="hljs-keyword">SQL</span>&gt;<span class="hljs-keyword">grant</span> <span class="hljs-keyword">create</span> <span class="hljs-keyword">session</span> <span class="hljs-keyword">to</span> PAS;<br><span class="hljs-keyword">SQL</span>&gt;<span class="hljs-keyword">grant</span> <span class="hljs-keyword">create</span> <span class="hljs-keyword">sequence</span> <span class="hljs-keyword">to</span> PAS;<br><span class="hljs-keyword">SQL</span>&gt;<span class="hljs-keyword">grant</span> <span class="hljs-keyword">drop</span> <span class="hljs-keyword">any</span> <span class="hljs-keyword">sequence</span> <span class="hljs-keyword">to</span> PAS;<br><span class="hljs-keyword">SQL</span>&gt;<span class="hljs-keyword">grant</span> <span class="hljs-keyword">select</span> <span class="hljs-keyword">any</span> <span class="hljs-keyword">dictionary</span> <span class="hljs-keyword">to</span> pas;<br></code></pre></td></tr></table></figure><h4 id="3-9、配置数据库参数【sqlplus】"><a href="#3-9、配置数据库参数【sqlplus】" class="headerlink" title="3.9、配置数据库参数【sqlplus】"></a>3.9、配置数据库参数【sqlplus】</h4><p>下面是数据库的基本参数建议配置，可根据实际情况按需修改，需以sys用户登录数据库,<br>$sqlplus &#x2F; as sysdba;</p><ul><li><p>1.设置SGA大小，建议为物理内存的40%<br>SQL&gt;alter system set sga_max_size&#x3D;20G  scope&#x3D;both<br>   alter system set sga_target&#x3D;20G scope&#x3D;spfile;</p></li><li><p>2.设置PGA大小，建议为物理内存10%<br>SQL&gt;alter system set pga_aggregate_target&#x3D;5G scope&#x3D;both;<br><img src="/articles/40987/431662562733_.pic.jpg"></p></li><li><p>3.设置最大进程数，PROCESSE&#x3D;1500<br>SQL&gt; alter system set processes&#x3D;1500  scope&#x3D;spfile;<br><img src="/articles/40987/441662562761_.pic.jpg"></p></li><li><p>4.设置最大游标数OPEN_CURSORS&#x3D;300<br>SQL&gt; alter system set open_cursors&#x3D;1000 scope&#x3D;both;<br><img src="/articles/40987/451662562766_.pic.jpg"></p></li></ul><div class="post_cus_note">====== 部署完成 ======</div><h3 id="4、部署教程系列"><a href="#4、部署教程系列" class="headerlink" title="4、部署教程系列"></a>4、部署教程系列</h3><ul><li>LINUX+ORACLE部署安装：<a href="http://pygo2.top/articles/40987/">http://pygo2.top/articles/40987/</a></li><li>Linux安装JAVA1.7与配置：<a href="http://pygo2.top/articles/13502/">http://pygo2.top/articles/13502/</a></li><li>Windows安装JAVA1.7与配置：<a href="http://pygo2.top/articles/1151/">http://pygo2.top/articles/1151/</a></li><li>Windows安装Tomcat7与配置：<a href="http://pygo2.top/articles/2013/">http://pygo2.top/articles/2013/</a></li><li>Windows安装PLSQL与配置：<a href="http://pygo2.top/articles/47618/">http://pygo2.top/articles/47618/</a></li></ul><p><font size=6.5 color='red'>部署系列持续更新中。。。。。。</font></p>]]></content>
    
    
    <categories>
      
      <category>数据库</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Oracle</tag>
      
      <tag>部署教程系列</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Windows Server2012R2安装PLSQL</title>
    <link href="/articles/47618/"/>
    <url>/articles/47618/</url>
    
    <content type="html"><![CDATA[<p>实战部署系列教程：<code>&lt;font color=&quot;blue&quot; size=&quot;7&quot;&gt;</code>Windows安装PLSQL与配置<code>&lt;/font&gt;</code>。</p><span id="more"></span><hr /><span class="label label-info">PLSQL</span> <span class="label label-primary">Windows</span> <span class="label label-default">Oracle</span><h4 id="版本说明"><a href="#版本说明" class="headerlink" title="版本说明"></a>版本说明</h4><table><thead><tr><th align="center">名称</th><th align="center">版本</th></tr></thead><tbody><tr><td align="center">服务器系统</td><td align="center">Windows Server2012 R2 Standard</td></tr><tr><td align="center">PSQL</td><td align="center">PSQL（32位）</td></tr><tr><td align="center">Instant Client客户端实例</td><td align="center">11.2.0.4.0（32位）</td></tr></tbody></table><h4 id="材料准备"><a href="#材料准备" class="headerlink" title="材料准备"></a>材料准备</h4><ul><li>PLSQL安装包（32位）</li><li>Oracle Instant Client:instantclient包（32位）</li></ul><p><font size=5.5 color='red'>（需要配套，位数保持一致）</font></p><p>一套工具baidu云盘下载：</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">=====================================================================<br>链接：https://pan.baidu.com/s/1LuLaIxK4z7AQgNFHZhoTHw?pwd=4tgc<br>提取码：4tgc<br>=====================================================================<br></code></pre></td></tr></table></figure><p>下载包含PLSQL（32位），Oracle Instant Client（32位、64位）</p><h4 id="官网下载"><a href="#官网下载" class="headerlink" title="官网下载"></a>官网下载</h4><p>1、下载PLSQL，请自行下载PJ版本。</p><p>2、下载Oracle instantclient包，打开Oracle官网Instant下载地址：<br><a href="https://www.oracle.com/database/technologies/instant-client/downloads.html">https://www.oracle.com/database/technologies/instant-client/downloads.html</a><br>下载32位版本：<br><img src="/articles/47618/721662566764_.pic.jpg"></p><p>3、进入32版本页面之后，ctrl+f页面搜索11.，下载11.2.0.4.0版本的包<br><img src="/articles/47618/731662566784_.pic.jpg"></p><p>4、点击下载11.2.0.4.0包之后，Oracle会让注册一个用户，正常按注册流程走完注册成功后，会进行下载。<br>这里我32位和64位都下载了，以防连接时候出现版本问题。<br>64位下载的方式跟上面一样。</p><p>5、下载好的PLSQL、Oracle Instant Client：<br><img src="/articles/47618/741662566803_.pic.jpg"></p><h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>1、PLSQL软件组成有3个部分，PLSQL安装包、中文语言包、注册信息<br><img src="/articles/47618/751662566846_.pic.jpg"></p><p>2、直接点击plsqldev1106x32.exe进行安装，选择安装在D盘根目录，避免安装路径包含中文或者空格<br><img src="/articles/47618/761662566867_.pic.jpg"></p><p>3、安装中文包:Language_zh_x86_x64.exe<br>PLSQL安装路径会自动识别，一直下一步即可。</p><p>4、安装完点击桌面plsql快捷进行登录，点击取消直接先登录<br><img src="/articles/47618/771662566885_.pic.jpg"></p><p>5、点击菜单帮助 -&gt; 注册 -&gt; 把注册信息填写，完成注册<br><img src="/articles/47618/781662566910_.pic.jpg"></p><h4 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h4><p>1、解压文件：instantclient-basic-nt-11.2.0.4.0.zip<br>把文件放在D盘根目录<br><img src="/articles/47618/801662566966_.pic.jpg"></p><p>2、打开PLSQL，点击取消进行登录，点击菜单工具 -&gt; 首先项 -&gt; 连接<br><img src="/articles/47618/811662566980_.pic.jpg"></p><p>3、配置以下内容，instantclient目录已实际为准<br>Oracle主目录：D:\instantclient_11_2<br>OCI库：D:\instantclient_11_2\oci.dll<br>其中，OCI库一定要选择根目录下的oci.dll【重点】</p><p>4、应用 -&gt; 确定，关闭PLSQL</p><p>5、配置TNS_ADMIN监听文件<br>在D:\instantclient_11_2\NETWORK\ADMIN目录找到tnsnames.ora文件。其实，这个tnsnames.ora文件是服务器数据库文件一样的，具体位置:<br><img src="/articles/47618/821662567000_.pic.jpg"></p><p>如果没有自行创建一个或者直接把服务器上面那个文件复制出一份，写入以下内容。</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli">=========================================================<br><span class="hljs-comment"># tnsnames.ora Network Configuration File: D:\instantclient_11_2\NETWORK\ADMIN\tnsnames.ora</span><br><span class="hljs-comment"># Generated by Oracle configuration tools.</span><br><br>PAS =<br>  <span class="hljs-params">(<span class="hljs-attr">DESCRIPTION</span> =</span><br><span class="hljs-params">    (<span class="hljs-attr">ADDRESS</span> = (<span class="hljs-attr">PROTOCOL</span> = TCP)</span><span class="hljs-params">(<span class="hljs-attr">HOST</span> = 10.15.176.9)</span><span class="hljs-params">(<span class="hljs-attr">PORT</span> = 1521)</span>)<br>    <span class="hljs-params">(<span class="hljs-attr">CONNECT_DATA</span> =</span><br><span class="hljs-params">      (<span class="hljs-attr">SERVER</span> = DEDICATED)</span><br>      <span class="hljs-params">(<span class="hljs-attr">SERVICE_NAME</span> = PAS)</span><br>    )<br>  )<br></code></pre></td></tr></table></figure><p>修改的配置值：</p><blockquote><p>IP</p></blockquote><p>10.15.176.9修改成数据库服务器IP，通过ip addr 或者 ifconfig（找到eth0网卡的ip）</p><blockquote><p>SERVICE_NAME</p></blockquote><p>通过SQPLUS获取当前数据库SERVICE_NAME，执行语句如下：<br>【数据库服务器】</p><figure class="highlight cos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cos">su - oracle<br>sqlplus / <span class="hljs-keyword">as</span> /sysdba<br>show <span class="hljs-keyword">parameter</span> service_<br></code></pre></td></tr></table></figure><p><img src="/articles/47618/831662567037_.pic.jpg"><br>修改完成后保存文件。</p><p>6、环境变量配置<br>安装以后需要进行环境变量配置。<br>6.1 我的电脑（右键）-&gt;选择属性-&gt;高级系统设置-&gt;环境变量。<br><img src="/articles/47618/841662567109_.pic.jpg"></p><p>6.2 环境变量配置<br>6.2.1 新建ORACLE_HOME变量<br>变量名：ORACLE_HOME<br>变量值：D:\instantclient_11_2<br><img src="/articles/47618/851662567125_.pic.jpg"></p><p>6.2.2 新建NLS_LANG变量<br>变量名：NLS_LANG<br>变量值：SIMPLIFIED CHINESE_CHINA.ZHS16GBK<br><img src="/articles/47618/861662567141_.pic.jpg"></p><p>6.2.3 新建TNS_ADMIN变量<br>变量名：TNS_ADMIN<br>变量值：D:\instantclient_11_2\NETWORK\ADMIN<br><img src="/articles/47618/871662567157_.pic.jpg"></p><p>7、测试PLSQL，输入相关信息登录。<br><img src="/articles/47618/881662567170_.pic.jpg"></p><h4 id="拓展问题"><a href="#拓展问题" class="headerlink" title="拓展问题"></a>拓展问题</h4><p>1、PLSQ出现了初始化错误，请检查32bits Oracle Client installed<br>如果使用了本教程提供的整套工具，应该是可以连接上的，需要PLSQL版本位数与instantclient位数保持一致。<br>如果需要提供一个32位Oracle Client包。</p><p>2、NLS_LANG特殊说明<br>Oracle配置的用户NLS_LANG变量是：</p><ul><li>AMERICAN_AMERICA.ZHS16GBK<br>Windows服务器配置NLS_LANG变量</li><li>SIMPLIFIED CHINESE_CHINA.ZHS16GBK<br>简单解释一下，NLS_LANG由三部分组成：<br>（一）语言：SIMPLIFIED CHINESE 或者 AMERICAN<br>影响的是中文还是英文提示<br>区域：CHINA 或者AMERICA<br>影响的是日期、数字、金融格式什么的<br>字符集：ZHS16GBK<br>都采用的ZHS16GBK字符集，只要保持这个一直，就可以保持数据库备份，到另一个数据库恢复，中文不会乱码<br>一定要按保持字符集一样</li></ul><div class="post_cus_note"> =========== END =========== </div><h4 id="部署教程系列"><a href="#部署教程系列" class="headerlink" title="部署教程系列"></a>部署教程系列</h4><ul><li>LINUX+ORACLE部署安装：<a href="http://pygo2.top/articles/40987/">http://pygo2.top/articles/40987/</a></li><li>Linux安装JAVA1.7与配置：<a href="http://pygo2.top/articles/13502/">http://pygo2.top/articles/13502/</a></li><li>Windows安装JAVA1.7与配置：<a href="http://pygo2.top/articles/1151/">http://pygo2.top/articles/1151/</a></li><li>Windows安装Tomcat7与配置：<a href="http://pygo2.top/articles/2013/">http://pygo2.top/articles/2013/</a></li><li>Windows安装PLSQL与配置：<a href="http://pygo2.top/articles/47618/">http://pygo2.top/articles/47618/</a></li></ul><p><font size=6.5 color='red'>部署系列持续更新中。。。。。。</font></p>]]></content>
    
    
    <categories>
      
      <category>Windows</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Oracle</tag>
      
      <tag>部署教程系列</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Windows Server2012R2安装TOMCAT</title>
    <link href="/articles/2013/"/>
    <url>/articles/2013/</url>
    
    <content type="html"><![CDATA[<p>实战部署系列教程：<font color="#dd0000" size="7">Windows安装Tomcat7与配置</font>。</p><span id="more"></span><hr /><span class="label label-primary">Tomcat</span> <span class="label label-info">Windows</span><h4 id="版本说明"><a href="#版本说明" class="headerlink" title="版本说明"></a>版本说明</h4><table><thead><tr><th align="center">名称</th><th align="center">版本</th></tr></thead><tbody><tr><td align="center">服务器系统</td><td align="center">Windows Server2012 R2 Standard</td></tr><tr><td align="center">Tomcat</td><td align="center">7</td></tr></tbody></table><h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>1、打开Tomcat下载地址，根据项目选择对应的版本进行下载，本文选择Tomcat7：<br><a href="https://archive.apache.org/dist/tomcat/">https://archive.apache.org/dist/tomcat/</a><br><img src="/articles/2013/581662566099_.pic.jpg"></p><p>2、选择bin，进入之后会有各种版本，本文选择7.0.99最后一个7版本<br><img src="/articles/2013/591662566115_.pic.jpg"></p><p>3、Windows版本，下载的时候根据安装系统选择对应的版本、位数，本文选择了：apache-tomcat-7.0.99-windows-x64.zip<br>这种包的好处在于不用安装，直接能用，也可以选择exe安装版本。<br><img src="/articles/2013/601662566140_.pic.jpg"></p><p>4、下载好之后，直接copy到服务器，直接解压放在D盘根目录。<br>建议：安装的路径选择英文路径。<br><img src="/articles/2013/611662566156_.pic.jpg"></p><p>5、环境变量配置<br>安装以后需要进行环境变量配置。<br>5.1 我的电脑（右键）-&gt;选择属性-&gt;高级系统设置-&gt;环境变量。<br><img src="/articles/2013/621662566171_.pic.jpg"></p><p>5.2 环境变量配置<br>5.2.1 新建CATALINA_HOME变量<br>变量名：CATALINA_HOME<br>变量值：Tomcat安装的绝对路径（D:\apache-tomcat-7.0.99）<br><img src="/articles/2013/631662566186_.pic.jpg"></p><p>5.2.2 修改Path变量<br>PATH变量在末尾添加：;%CATALINA_HOME%\bin</p><p>6 测试变量<br>打开cmd窗口（win+R），输入echo %CATALINA_HOME%，如果是Tomcat安装路径，否则就是环境变量配置问题。<br><img src="/articles/2013/641662566202_.pic.jpg"></p><p>7 启动Tomcat<br>7.1 进入到Tomcat安装路径下的bin目录<br>7.2 shift + 右键-&gt;选择-&gt;在此文件夹打开命令窗口<br><img src="/articles/2013/651662566218_.pic.jpg"></p><p>7.3 输入startup.bat，启动tomcat<br><img src="/articles/2013/661662566262_.pic.jpg"></p><p>7.4 打开浏览器：127.0.0.7:8080，出现tomcat服务<br><img src="/articles/2013/671662566275_.pic.jpg"></p><h4 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h4><blockquote><p>1、cmd控制台乱码</p></blockquote><p>1.1 Tomcat安装路径 -&gt; conf -&gt; logging.properties<br><img src="/articles/2013/681662566322_.pic.jpg"><br>修改以下内容：</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-comment"># java.util.logging.ConsoleHandler.encoding = UTF-8</span><br><span class="hljs-attr">java.util.logging.ConsoleHandler.encoding</span> = CBK<br></code></pre></td></tr></table></figure><p>1.2 重启Tomcat，解决乱码问题<br>乱码解析：<br>Cmd控制台编码与Tomcat日志编码不一致，查看cmd控制台编码：<br><img src="/articles/2013/691662566345_.pic.jpg"><br>cmd控制台为GBK编码，Tomcat日志编码默认UTF-8编码，统一编码就解决了</p><blockquote><p>2、Tomcat修改内存</p></blockquote><p>在部署PSA4.3.4系统运行后，发现系统Tomcat控制台报错：<br>java.lang.OutOfMemoryError：PermGen space，意思就是内存不足，<br>由于Windows服务器主要用来做应用服务所用，所以手动分配Tomcat内存大小。</p><p>2.1 Windows找到D:\apache-tomcat-7.0.99\bin下的catalina.bat文件<br>（Linux：D:\apache-tomcat-7.0.99\bin\catalina.sh文件）<br><img src="/articles/2013/701662566387_.pic.jpg"></p><p>2.2 用notepad打开，在111行setlocal后面加上：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-built_in">set</span> <span class="hljs-attribute">JAVA_OPTS</span>=%JAVA_OPTS% -server -XX:<span class="hljs-attribute">PermSize</span>=8192M -XX:<span class="hljs-attribute">MaxPermSize</span>=8192M<br>8G<br></code></pre></td></tr></table></figure><p>服务器总大小为32G，就一个tomcat，分的大了点，根据服务器项目情况可以适当调整。<br>不过，Xms与Xmx参数之间的差值建议不要太大，不然会造成内存浪费，这里设置相等。<br>JAVA_OPTS配置文件上面搜索JAVA_OPTS，有说明。<br><img src="/articles/2013/711662566416_.pic.jpg"></p><p>2.3 重启Tomcat解决OutOfMemoryError</p><div class="post_cus_note"> =========== END =========== </div><h4 id="部署教程系列"><a href="#部署教程系列" class="headerlink" title="部署教程系列"></a>部署教程系列</h4><ul><li>LINUX+ORACLE部署安装：<a href="http://pygo2.top/articles/40987/">http://pygo2.top/articles/40987/</a></li><li>Linux安装JAVA1.7与配置：<a href="http://pygo2.top/articles/13502/">http://pygo2.top/articles/13502/</a></li><li>Windows安装JAVA1.7与配置：<a href="http://pygo2.top/articles/1151/">http://pygo2.top/articles/1151/</a></li><li>Windows安装Tomcat7与配置：<a href="http://pygo2.top/articles/2013/">http://pygo2.top/articles/2013/</a></li><li>Windows安装PLSQL与配置：<a href="http://pygo2.top/articles/47618/">http://pygo2.top/articles/47618/</a></li></ul><p><font size=6.5 color='red'>部署系列持续更新中。。。。。。</font></p>]]></content>
    
    
    <categories>
      
      <category>Windows</category>
      
    </categories>
    
    
    <tags>
      
      <tag>部署教程系列</tag>
      
      <tag>Tomcat</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Windows Server2012R2安装JAVA</title>
    <link href="/articles/1151/"/>
    <url>/articles/1151/</url>
    
    <content type="html"><![CDATA[<p>实战部署系列教程：<font color="purple" size="7">Windows安装JAVA1.7与配置</font>。</p><span id="more"></span><hr /><span class="label label-default">Java</span> <span class="label label-info">Windows</span><h4 id="版本说明"><a href="#版本说明" class="headerlink" title="版本说明"></a>版本说明</h4><table><thead><tr><th align="center">名称</th><th align="center">版本</th></tr></thead><tbody><tr><td align="center">服务器系统</td><td align="center">Windows Server2012 R2 Standard</td></tr><tr><td align="center">Java</td><td align="center">1.7</td></tr></tbody></table><h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>1、打开Java下载地址，找到Java7SE（标准版），进行下载：<br><a href="https://www.oracle.com/java/technologies/javase/javase7-archive-downloads.html">https://www.oracle.com/java/technologies/javase/javase7-archive-downloads.html</a><br>Windows版本，下载的时候根据安装系统选择对应的版本、位数：<br><img src="/articles/1151/511662565784_.pic.jpg"></p><p>2、下载好之后，直接copy到服务器，进行安装。<br>建议：安装的路径选择英文路径。<br>安装过程很简单，安装后截图：<br><img src="/articles/1151/521662565839_.pic.jpg"></p><p>3、环境变量配置<br>安装以后需要进行环境变量配置。<br>3.1 我的电脑（右键）-&gt;选择属性-&gt;高级系统设置-&gt;环境变量。<br><img src="/articles/1151/531662565857_.pic.jpg"></p><p>3.2 环境变量配置<br>3.3.1 新建JAVA_HOME变量<br>变量名：JAVA_HOME<br>变量值：JDK安装的绝对路径（D:\Program Files\Java\jdk1.7.0_17）<br><img src="/articles/1151/541662565884_.pic.jpg"></p><p>3.3.2 新建CLASSPATH变量<br>变量名：CLASSPATH<br>变量值：.;%JAVA_HOME%\lib\dt.jar;%JAVA_HOME%\lib\tools.jar;<br>变量值前面是.【英文点】<br>变量后面是;【英文分号】<br><img src="/articles/1151/551662565901_.pic.jpg"></p><p>3.3.3 修改Path变量<br>第三步：<br>新建两条路径:<br>;%JAVA_HOME%\bin;%JAVA_HOME%\jre\bin;<br><img src="/articles/1151/561662565918_.pic.jpg"></p><p>4 测试<br>打开cmd窗口（win+R），输入java，如果是以下提示安装成功，否则就是环境变量配置问题。<br><img src="/articles/1151/571662565933_.pic.jpg"></p><div class="post_cus_note"> =========== END =========== </div><h4 id="部署教程系列"><a href="#部署教程系列" class="headerlink" title="部署教程系列"></a>部署教程系列</h4><ul><li>LINUX+ORACLE部署安装：<a href="http://pygo2.top/articles/40987/">http://pygo2.top/articles/40987/</a></li><li>Linux安装JAVA1.7与配置：<a href="http://pygo2.top/articles/13502/">http://pygo2.top/articles/13502/</a></li><li>Windows安装JAVA1.7与配置：<a href="http://pygo2.top/articles/1151/">http://pygo2.top/articles/1151/</a></li><li>Windows安装Tomcat7与配置：<a href="http://pygo2.top/articles/2013/">http://pygo2.top/articles/2013/</a></li><li>Windows安装PLSQL与配置：<a href="http://pygo2.top/articles/47618/">http://pygo2.top/articles/47618/</a></li></ul><p><font size=6.5 color='red'>部署系列持续更新中。。。。。。</font></p>]]></content>
    
    
    <categories>
      
      <category>Windows</category>
      
    </categories>
    
    
    <tags>
      
      <tag>部署教程系列</tag>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Redhat7.6安装JAVA1.7与配置</title>
    <link href="/articles/13502/"/>
    <url>/articles/13502/</url>
    
    <content type="html"><![CDATA[<span class="label label-primary">Java</span> <span class="label label-info">Redhat7</span><span id="more"></span><hr /><h4 id="1、版本说明"><a href="#1、版本说明" class="headerlink" title="1、版本说明"></a>1、版本说明</h4><table><thead><tr><th align="center">名称</th><th align="center">版本</th></tr></thead><tbody><tr><td align="center">服务器系统</td><td align="center">Red Hat Enterprise Linux Server release 7.6</td></tr><tr><td align="center">Java</td><td align="center">1.7</td></tr></tbody></table><p>Linux安装方式本教程介绍2种。</p><h4 id="2、YUM安装"><a href="#2、YUM安装" class="headerlink" title="2、YUM安装"></a>2、YUM安装</h4><p>方式一：Yum安装</p><p>1.查询java版本</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">yum search java</span><br></code></pre></td></tr></table></figure><p><img src="/articles/13502/461662564886_.pic.jpg"></p><p>2.安装指定版本：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">yum</span> -y install java-<span class="hljs-number">1</span>.<span class="hljs-number">7</span>.<span class="hljs-number">0</span>-openjdk.x86_64<br></code></pre></td></tr></table></figure><ul><li>参数-y：yes，一路安装，不用交互</li><li>参数install：安装</li></ul><p>配置在后面统一说明。</p><h4 id="3、源码安装"><a href="#3、源码安装" class="headerlink" title="3、源码安装"></a>3、源码安装</h4><p>方式二：源码安装</p><p>1、打开Java下载地址，找到Java7SE（标准版），进行下载：<br><a href="https://www.oracle.com/java/technologies/javase/javase7-archive-downloads.html">https://www.oracle.com/java/technologies/javase/javase7-archive-downloads.html</a><br>Linux版本，下载的时候根据安装系统选择对应的版本、位数：<br><img src="/articles/13502/471662565026_.pic.jpg"></p><p>2、下载好之后，使用连接工具的文件传输功能把源码Java传输到服务器。<br><img src="/articles/13502/481662565060_.pic.jpg"></p><p>3、创建Java安装目录</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> /usr/local/java<br></code></pre></td></tr></table></figure><p><img src="/articles/13502/491662565089_.pic.jpg"></p><p>4、解压Java源码到建立的Java安装目录</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus">tar -zxvf jdk-<span class="hljs-number">7</span>u80-linux-x64<span class="hljs-selector-class">.tar</span><span class="hljs-selector-class">.gz</span> -C /usr/local/java<br></code></pre></td></tr></table></figure><p>参数说明 ：</p><ul><li>-zxvf 不解释了。</li><li>-C不常用，解释一下：代表切换目录，change dir</li></ul><h4 id="4、环境变量配置"><a href="#4、环境变量配置" class="headerlink" title="4、环境变量配置"></a>4、环境变量配置</h4><p>以上的安装方式都需要配置环境变量，操作如下：<br>1、打开&#x2F;etc&#x2F;profile文件，加入以下配置：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs bash">vim /etc/profile<br><span class="hljs-comment"># -------------------------------------------------------------------</span><br><span class="hljs-comment"># java set environment</span><br>JAVA_HOME=/usr/local/java/jdk1.7.0_80<br>JRE_HOME=<span class="hljs-variable">$JAVA_HOME</span>/jre<br>CLASS_PATH=.:<span class="hljs-variable">$JAVA_HOME</span>/lib/dt.jar:<span class="hljs-variable">$JAVA_HOME</span>/lib/tools.jar:<span class="hljs-variable">$JRE_HOME</span>/lib<br>PATH=<span class="hljs-variable">$PATH</span>:<span class="hljs-variable">$JAVA_HOME</span>/bin:<span class="hljs-variable">$JRE_HOME</span>/bin<br><span class="hljs-built_in">export</span> JAVA_HOME<br><span class="hljs-built_in">export</span> JRE_HOME<br><span class="hljs-built_in">export</span> CLASS_PATH<br><span class="hljs-built_in">export</span> PATH<br><span class="hljs-comment">#--------------------------------------------------------------------</span><br>:wq 保存<br></code></pre></td></tr></table></figure><ul><li>JAVA_HOME：Java安装路径</li><li>JRE_HOME：Jre安装路径</li><li>CLASS_PATH：Java class path</li></ul><p>2、变量生效</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">source</span> /etc/profile<br></code></pre></td></tr></table></figure><p>3、添加软连接，是命令在bin下</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">ln -s <span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/java/</span>jdk1.<span class="hljs-number">7.0</span>_80<span class="hljs-regexp">/bin/</span>java <span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/bin/</span>java<br></code></pre></td></tr></table></figure><p>4、测试Java命令</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs applescript">java -<span class="hljs-built_in">version</span><br></code></pre></td></tr></table></figure><p><img src="/articles/13502/501662565254_.pic.jpg"></p><div class="post_cus_note"> =========== END =========== </div><h4 id="5、部署教程系列"><a href="#5、部署教程系列" class="headerlink" title="5、部署教程系列"></a>5、部署教程系列</h4><ul><li>LINUX+ORACLE部署安装：<a href="http://pygo2.top/articles/40987/">http://pygo2.top/articles/40987/</a></li><li>Linux安装JAVA1.7与配置：<a href="http://pygo2.top/articles/13502/">http://pygo2.top/articles/13502/</a></li><li>Windows安装JAVA1.7与配置：<a href="http://pygo2.top/articles/1151/">http://pygo2.top/articles/1151/</a></li><li>Windows安装Tomcat7与配置：<a href="http://pygo2.top/articles/2013/">http://pygo2.top/articles/2013/</a></li><li>Windows安装PLSQL与配置：<a href="http://pygo2.top/articles/47618/">http://pygo2.top/articles/47618/</a></li></ul><p><font size=6.5 color='red'>部署系列持续更新中。。。。。。</font></p>]]></content>
    
    
    <categories>
      
      <category>服务器</category>
      
    </categories>
    
    
    <tags>
      
      <tag>部署教程系列</tag>
      
      <tag>Linux</tag>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>DB2数据库表空间操作</title>
    <link href="/articles/5556/"/>
    <url>/articles/5556/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p>表空间对于DB2来说，就像一个容器，数据需要灌到这个容器里面。早上去项目，发现表空间报警提示马上满了，一定要提前扩容，不然数据库数据写不进去了。对表空间操作方式有2种：ADD与RESIZE。</p>          </div><span id="more"></span><hr /><span class="label label-info">DB2</span> <span class="label label-warning">表空间</span><hr /><p>本项目使用的DB29.7版本，估计不同的版本表空间扩容都差不多。</p><h3 id="1、扩容表空间"><a href="#1、扩容表空间" class="headerlink" title="1、扩容表空间"></a>1、扩容表空间</h3><p>DB2CMD中执行，先连上数据库：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">su - db2inst1<br>db2 <span class="hljs-keyword">connect</span> <span class="hljs-keyword">to</span> ykspas3 <span class="hljs-keyword">user</span> pas <span class="hljs-keyword">using</span> pas<br></code></pre></td></tr></table></figure><h4 id="1-1、方式一：新增"><a href="#1-1、方式一：新增" class="headerlink" title="1.1、方式一：新增"></a>1.1、方式一：新增</h4><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">db2</span> <span class="hljs-string">&quot;alter tablespace TBS_IDX ADD (FILE &#x27;/home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_IDX/TBS_IDX3&#x27; 30G)&quot;</span><br></code></pre></td></tr></table></figure><p>文件改成项目对应的表空间实体文件。</p><h4 id="1-2、方式二：调整"><a href="#1-2、方式二：调整" class="headerlink" title="1.2、方式二：调整"></a>1.2、方式二：调整</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs scss">-- 调整【<span class="hljs-attribute">resize</span>立马查看发生变化】<br>db2 &quot;alter tablespace TBS_IDX <span class="hljs-attribute">RESIZE</span> (file &#x27;/home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_IDX/TBS_IDX2&#x27; <span class="hljs-number">50</span>G)&quot;<br></code></pre></td></tr></table></figure><h3 id="2、表空间使用率"><a href="#2、表空间使用率" class="headerlink" title="2、表空间使用率"></a>2、表空间使用率</h3><p>直接上SQL：</p><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs n1ql"><span class="hljs-keyword">SELECT</span><br>tbsp_id <span class="hljs-keyword">AS</span> ID,<br>--tbsp_create_time <span class="hljs-keyword">AS</span> CREATE_TIME,<br>tbsp_name <span class="hljs-keyword">as</span> NAME,<br>tbsp_content_type <span class="hljs-keyword">AS</span> <span class="hljs-built_in">TYPE</span>,<br>tbsp_state <span class="hljs-keyword">AS</span> STATE,<br><span class="hljs-built_in">sum</span>(tbsp_total_size_kb)/<span class="hljs-number">1024</span> <span class="hljs-keyword">AS</span> TOTAL_MB,<br>    <span class="hljs-built_in">sum</span>(tbsp_used_size_kb)/<span class="hljs-number">1024</span> <span class="hljs-keyword">AS</span> USED_MB,<br>    <span class="hljs-built_in">sum</span>(tbsp_free_size_kb)/<span class="hljs-number">1024</span> <span class="hljs-keyword">AS</span> FREE_MB,<br>    tbsp_page_size <span class="hljs-keyword">AS</span> PAGE_SIZE<br><span class="hljs-keyword">FROM</span> SYSIBMADM.TBSP_UTILIZATION<br>--<span class="hljs-keyword">WHERE</span> tbsp_name <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&#x27;TBS_%&#x27;</span><br><span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> tbsp_id, tbsp_create_time, tbsp_name, tbsp_content_type, tbsp_state, tbsp_page_size<br><span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> tbsp_name<br></code></pre></td></tr></table></figure><p><img src="/articles/5556/tablespace-sql.png"></p><h3 id="3、其他查询表空间SQL"><a href="#3、其他查询表空间SQL" class="headerlink" title="3、其他查询表空间SQL"></a>3、其他查询表空间SQL</h3><h4 id="3-1、查看表空间"><a href="#3-1、查看表空间" class="headerlink" title="3.1、查看表空间"></a>3.1、查看表空间</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- TBSP_UTILIZATION</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> SYSIBMADM.TBSP_UTILIZATION<br><br><br><span class="hljs-comment">-- SNAPTBSP</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> SYSIBMADM.SNAPTBSP<br><br><span class="hljs-comment">-- SNAPTBSP_PART</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> SYSIBMADM.SNAPTBSP_PART<br><br><span class="hljs-comment">-- SYSTABLESPACES</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> SYSIBM.SYSTABLESPACES<br></code></pre></td></tr></table></figure><p>具体的区别有兴趣的可以baidu，这里作为参考SQL。</p><h4 id="3-2、查看表空间列表"><a href="#3-2、查看表空间列表" class="headerlink" title="3.2、查看表空间列表"></a>3.2、查看表空间列表</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br><span class="line">969</span><br><span class="line">970</span><br><span class="line">971</span><br><span class="line">972</span><br><span class="line">973</span><br><span class="line">974</span><br><span class="line">975</span><br><span class="line">976</span><br><span class="line">977</span><br><span class="line">978</span><br><span class="line">979</span><br><span class="line">980</span><br><span class="line">981</span><br><span class="line">982</span><br><span class="line">983</span><br><span class="line">984</span><br><span class="line">985</span><br><span class="line">986</span><br><span class="line">987</span><br><span class="line">988</span><br><span class="line">989</span><br><span class="line">990</span><br><span class="line">991</span><br><span class="line">992</span><br><span class="line">993</span><br><span class="line">994</span><br><span class="line">995</span><br><span class="line">996</span><br><span class="line">997</span><br><span class="line">998</span><br><span class="line">999</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1002</span><br><span class="line">1003</span><br><span class="line">1004</span><br><span class="line">1005</span><br><span class="line">1006</span><br><span class="line">1007</span><br><span class="line">1008</span><br><span class="line">1009</span><br><span class="line">1010</span><br><span class="line">1011</span><br><span class="line">1012</span><br><span class="line">1013</span><br><span class="line">1014</span><br><span class="line">1015</span><br><span class="line">1016</span><br><span class="line">1017</span><br><span class="line">1018</span><br><span class="line">1019</span><br><span class="line">1020</span><br><span class="line">1021</span><br><span class="line">1022</span><br><span class="line">1023</span><br><span class="line">1024</span><br><span class="line">1025</span><br><span class="line">1026</span><br><span class="line">1027</span><br><span class="line">1028</span><br><span class="line">1029</span><br><span class="line">1030</span><br><span class="line">1031</span><br><span class="line">1032</span><br><span class="line">1033</span><br><span class="line">1034</span><br><span class="line">1035</span><br><span class="line">1036</span><br><span class="line">1037</span><br><span class="line">1038</span><br><span class="line">1039</span><br><span class="line">1040</span><br><span class="line">1041</span><br><span class="line">1042</span><br><span class="line">1043</span><br><span class="line">1044</span><br><span class="line">1045</span><br><span class="line">1046</span><br><span class="line">1047</span><br><span class="line">1048</span><br><span class="line">1049</span><br><span class="line">1050</span><br><span class="line">1051</span><br><span class="line">1052</span><br><span class="line">1053</span><br><span class="line">1054</span><br><span class="line">1055</span><br><span class="line">1056</span><br><span class="line">1057</span><br><span class="line">1058</span><br><span class="line">1059</span><br><span class="line">1060</span><br><span class="line">1061</span><br><span class="line">1062</span><br><span class="line">1063</span><br><span class="line">1064</span><br><span class="line">1065</span><br><span class="line">1066</span><br><span class="line">1067</span><br><span class="line">1068</span><br><span class="line">1069</span><br><span class="line">1070</span><br><span class="line">1071</span><br><span class="line">1072</span><br><span class="line">1073</span><br><span class="line">1074</span><br><span class="line">1075</span><br><span class="line">1076</span><br><span class="line">1077</span><br><span class="line">1078</span><br><span class="line">1079</span><br><span class="line">1080</span><br><span class="line">1081</span><br><span class="line">1082</span><br><span class="line">1083</span><br><span class="line">1084</span><br><span class="line">1085</span><br><span class="line">1086</span><br><span class="line">1087</span><br><span class="line">1088</span><br><span class="line">1089</span><br><span class="line">1090</span><br><span class="line">1091</span><br><span class="line">1092</span><br><span class="line">1093</span><br><span class="line">1094</span><br><span class="line">1095</span><br><span class="line">1096</span><br><span class="line">1097</span><br><span class="line">1098</span><br><span class="line">1099</span><br><span class="line">1100</span><br><span class="line">1101</span><br><span class="line">1102</span><br><span class="line">1103</span><br><span class="line">1104</span><br><span class="line">1105</span><br><span class="line">1106</span><br><span class="line">1107</span><br><span class="line">1108</span><br><span class="line">1109</span><br><span class="line">1110</span><br><span class="line">1111</span><br><span class="line">1112</span><br><span class="line">1113</span><br><span class="line">1114</span><br><span class="line">1115</span><br><span class="line">1116</span><br><span class="line">1117</span><br><span class="line">1118</span><br><span class="line">1119</span><br><span class="line">1120</span><br><span class="line">1121</span><br><span class="line">1122</span><br><span class="line">1123</span><br><span class="line">1124</span><br><span class="line">1125</span><br><span class="line">1126</span><br><span class="line">1127</span><br><span class="line">1128</span><br><span class="line">1129</span><br><span class="line">1130</span><br><span class="line">1131</span><br><span class="line">1132</span><br><span class="line">1133</span><br><span class="line">1134</span><br><span class="line">1135</span><br><span class="line">1136</span><br><span class="line">1137</span><br><span class="line">1138</span><br><span class="line">1139</span><br><span class="line">1140</span><br><span class="line">1141</span><br><span class="line">1142</span><br><span class="line">1143</span><br><span class="line">1144</span><br><span class="line">1145</span><br><span class="line">1146</span><br><span class="line">1147</span><br><span class="line">1148</span><br><span class="line">1149</span><br><span class="line">1150</span><br><span class="line">1151</span><br><span class="line">1152</span><br><span class="line">1153</span><br><span class="line">1154</span><br><span class="line">1155</span><br><span class="line">1156</span><br><span class="line">1157</span><br><span class="line">1158</span><br><span class="line">1159</span><br><span class="line">1160</span><br><span class="line">1161</span><br><span class="line">1162</span><br><span class="line">1163</span><br><span class="line">1164</span><br><span class="line">1165</span><br><span class="line">1166</span><br><span class="line">1167</span><br><span class="line">1168</span><br><span class="line">1169</span><br><span class="line">1170</span><br><span class="line">1171</span><br><span class="line">1172</span><br><span class="line">1173</span><br><span class="line">1174</span><br><span class="line">1175</span><br><span class="line">1176</span><br><span class="line">1177</span><br><span class="line">1178</span><br><span class="line">1179</span><br><span class="line">1180</span><br><span class="line">1181</span><br><span class="line">1182</span><br><span class="line">1183</span><br><span class="line">1184</span><br><span class="line">1185</span><br><span class="line">1186</span><br><span class="line">1187</span><br><span class="line">1188</span><br><span class="line">1189</span><br><span class="line">1190</span><br><span class="line">1191</span><br><span class="line">1192</span><br><span class="line">1193</span><br><span class="line">1194</span><br><span class="line">1195</span><br><span class="line">1196</span><br><span class="line">1197</span><br><span class="line">1198</span><br><span class="line">1199</span><br><span class="line">1200</span><br><span class="line">1201</span><br><span class="line">1202</span><br><span class="line">1203</span><br><span class="line">1204</span><br><span class="line">1205</span><br><span class="line">1206</span><br><span class="line">1207</span><br><span class="line">1208</span><br><span class="line">1209</span><br><span class="line">1210</span><br><span class="line">1211</span><br><span class="line">1212</span><br><span class="line">1213</span><br><span class="line">1214</span><br><span class="line">1215</span><br><span class="line">1216</span><br><span class="line">1217</span><br><span class="line">1218</span><br><span class="line">1219</span><br><span class="line">1220</span><br><span class="line">1221</span><br><span class="line">1222</span><br><span class="line">1223</span><br><span class="line">1224</span><br><span class="line">1225</span><br><span class="line">1226</span><br><span class="line">1227</span><br><span class="line">1228</span><br><span class="line">1229</span><br><span class="line">1230</span><br><span class="line">1231</span><br><span class="line">1232</span><br><span class="line">1233</span><br><span class="line">1234</span><br><span class="line">1235</span><br><span class="line">1236</span><br><span class="line">1237</span><br><span class="line">1238</span><br><span class="line">1239</span><br><span class="line">1240</span><br><span class="line">1241</span><br><span class="line">1242</span><br><span class="line">1243</span><br><span class="line">1244</span><br><span class="line">1245</span><br><span class="line">1246</span><br><span class="line">1247</span><br><span class="line">1248</span><br><span class="line">1249</span><br><span class="line">1250</span><br><span class="line">1251</span><br><span class="line">1252</span><br><span class="line">1253</span><br><span class="line">1254</span><br><span class="line">1255</span><br><span class="line">1256</span><br><span class="line">1257</span><br><span class="line">1258</span><br><span class="line">1259</span><br><span class="line">1260</span><br><span class="line">1261</span><br><span class="line">1262</span><br><span class="line">1263</span><br><span class="line">1264</span><br><span class="line">1265</span><br><span class="line">1266</span><br><span class="line">1267</span><br><span class="line">1268</span><br><span class="line">1269</span><br><span class="line">1270</span><br><span class="line">1271</span><br><span class="line">1272</span><br><span class="line">1273</span><br><span class="line">1274</span><br><span class="line">1275</span><br><span class="line">1276</span><br><span class="line">1277</span><br><span class="line">1278</span><br><span class="line">1279</span><br><span class="line">1280</span><br><span class="line">1281</span><br><span class="line">1282</span><br><span class="line">1283</span><br><span class="line">1284</span><br><span class="line">1285</span><br><span class="line">1286</span><br><span class="line">1287</span><br><span class="line">1288</span><br><span class="line">1289</span><br><span class="line">1290</span><br><span class="line">1291</span><br><span class="line">1292</span><br><span class="line">1293</span><br><span class="line">1294</span><br><span class="line">1295</span><br><span class="line">1296</span><br><span class="line">1297</span><br><span class="line">1298</span><br><span class="line">1299</span><br><span class="line">1300</span><br><span class="line">1301</span><br><span class="line">1302</span><br><span class="line">1303</span><br><span class="line">1304</span><br><span class="line">1305</span><br><span class="line">1306</span><br><span class="line">1307</span><br><span class="line">1308</span><br><span class="line">1309</span><br><span class="line">1310</span><br><span class="line">1311</span><br><span class="line">1312</span><br><span class="line">1313</span><br><span class="line">1314</span><br><span class="line">1315</span><br><span class="line">1316</span><br><span class="line">1317</span><br><span class="line">1318</span><br><span class="line">1319</span><br><span class="line">1320</span><br><span class="line">1321</span><br><span class="line">1322</span><br><span class="line">1323</span><br><span class="line">1324</span><br><span class="line">1325</span><br><span class="line">1326</span><br><span class="line">1327</span><br><span class="line">1328</span><br><span class="line">1329</span><br><span class="line">1330</span><br><span class="line">1331</span><br><span class="line">1332</span><br><span class="line">1333</span><br><span class="line">1334</span><br><span class="line">1335</span><br><span class="line">1336</span><br><span class="line">1337</span><br><span class="line">1338</span><br><span class="line">1339</span><br><span class="line">1340</span><br><span class="line">1341</span><br><span class="line">1342</span><br><span class="line">1343</span><br><span class="line">1344</span><br><span class="line">1345</span><br><span class="line">1346</span><br><span class="line">1347</span><br><span class="line">1348</span><br><span class="line">1349</span><br><span class="line">1350</span><br><span class="line">1351</span><br><span class="line">1352</span><br><span class="line">1353</span><br><span class="line">1354</span><br><span class="line">1355</span><br><span class="line">1356</span><br><span class="line">1357</span><br><span class="line">1358</span><br><span class="line">1359</span><br><span class="line">1360</span><br><span class="line">1361</span><br><span class="line">1362</span><br><span class="line">1363</span><br><span class="line">1364</span><br><span class="line">1365</span><br><span class="line">1366</span><br><span class="line">1367</span><br><span class="line">1368</span><br><span class="line">1369</span><br><span class="line">1370</span><br><span class="line">1371</span><br><span class="line">1372</span><br><span class="line">1373</span><br><span class="line">1374</span><br><span class="line">1375</span><br><span class="line">1376</span><br><span class="line">1377</span><br><span class="line">1378</span><br><span class="line">1379</span><br><span class="line">1380</span><br><span class="line">1381</span><br><span class="line">1382</span><br><span class="line">1383</span><br><span class="line">1384</span><br><span class="line">1385</span><br><span class="line">1386</span><br><span class="line">1387</span><br><span class="line">1388</span><br><span class="line">1389</span><br><span class="line">1390</span><br><span class="line">1391</span><br><span class="line">1392</span><br><span class="line">1393</span><br><span class="line">1394</span><br><span class="line">1395</span><br><span class="line">1396</span><br><span class="line">1397</span><br><span class="line">1398</span><br><span class="line">1399</span><br><span class="line">1400</span><br><span class="line">1401</span><br><span class="line">1402</span><br><span class="line">1403</span><br><span class="line">1404</span><br><span class="line">1405</span><br><span class="line">1406</span><br><span class="line">1407</span><br><span class="line">1408</span><br><span class="line">1409</span><br><span class="line">1410</span><br><span class="line">1411</span><br><span class="line">1412</span><br><span class="line">1413</span><br><span class="line">1414</span><br><span class="line">1415</span><br><span class="line">1416</span><br><span class="line">1417</span><br><span class="line">1418</span><br><span class="line">1419</span><br><span class="line">1420</span><br><span class="line">1421</span><br><span class="line">1422</span><br><span class="line">1423</span><br><span class="line">1424</span><br><span class="line">1425</span><br><span class="line">1426</span><br><span class="line">1427</span><br><span class="line">1428</span><br><span class="line">1429</span><br><span class="line">1430</span><br><span class="line">1431</span><br><span class="line">1432</span><br><span class="line">1433</span><br><span class="line">1434</span><br><span class="line">1435</span><br><span class="line">1436</span><br><span class="line">1437</span><br><span class="line">1438</span><br><span class="line">1439</span><br><span class="line">1440</span><br><span class="line">1441</span><br><span class="line">1442</span><br><span class="line">1443</span><br><span class="line">1444</span><br><span class="line">1445</span><br><span class="line">1446</span><br><span class="line">1447</span><br><span class="line">1448</span><br><span class="line">1449</span><br><span class="line">1450</span><br><span class="line">1451</span><br><span class="line">1452</span><br><span class="line">1453</span><br><span class="line">1454</span><br><span class="line">1455</span><br><span class="line">1456</span><br><span class="line">1457</span><br><span class="line">1458</span><br><span class="line">1459</span><br><span class="line">1460</span><br><span class="line">1461</span><br><span class="line">1462</span><br><span class="line">1463</span><br><span class="line">1464</span><br><span class="line">1465</span><br><span class="line">1466</span><br><span class="line">1467</span><br><span class="line">1468</span><br><span class="line">1469</span><br><span class="line">1470</span><br><span class="line">1471</span><br><span class="line">1472</span><br><span class="line">1473</span><br><span class="line">1474</span><br><span class="line">1475</span><br><span class="line">1476</span><br><span class="line">1477</span><br><span class="line">1478</span><br><span class="line">1479</span><br><span class="line">1480</span><br><span class="line">1481</span><br><span class="line">1482</span><br><span class="line">1483</span><br><span class="line">1484</span><br><span class="line">1485</span><br><span class="line">1486</span><br><span class="line">1487</span><br><span class="line">1488</span><br><span class="line">1489</span><br><span class="line">1490</span><br><span class="line">1491</span><br><span class="line">1492</span><br><span class="line">1493</span><br><span class="line">1494</span><br><span class="line">1495</span><br><span class="line">1496</span><br><span class="line">1497</span><br><span class="line">1498</span><br><span class="line">1499</span><br><span class="line">1500</span><br><span class="line">1501</span><br><span class="line">1502</span><br><span class="line">1503</span><br><span class="line">1504</span><br><span class="line">1505</span><br><span class="line">1506</span><br><span class="line">1507</span><br><span class="line">1508</span><br><span class="line">1509</span><br><span class="line">1510</span><br><span class="line">1511</span><br><span class="line">1512</span><br><span class="line">1513</span><br><span class="line">1514</span><br><span class="line">1515</span><br><span class="line">1516</span><br><span class="line">1517</span><br><span class="line">1518</span><br><span class="line">1519</span><br><span class="line">1520</span><br><span class="line">1521</span><br><span class="line">1522</span><br><span class="line">1523</span><br><span class="line">1524</span><br><span class="line">1525</span><br><span class="line">1526</span><br><span class="line">1527</span><br><span class="line">1528</span><br><span class="line">1529</span><br><span class="line">1530</span><br><span class="line">1531</span><br><span class="line">1532</span><br><span class="line">1533</span><br><span class="line">1534</span><br><span class="line">1535</span><br><span class="line">1536</span><br><span class="line">1537</span><br><span class="line">1538</span><br><span class="line">1539</span><br><span class="line">1540</span><br><span class="line">1541</span><br><span class="line">1542</span><br><span class="line">1543</span><br><span class="line">1544</span><br><span class="line">1545</span><br><span class="line">1546</span><br></pre></td><td class="code"><pre><code class="hljs java">db2 list tablespaces show detail<br><br>           Tablespaces <span class="hljs-keyword">for</span> Current Database<br><br> <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br> Name                                 = <span class="hljs-type">SYSCATSPACE</span><br> <span class="hljs-variable">Type</span>                                 <span class="hljs-operator">=</span> Database managed <span class="hljs-type">space</span><br> <span class="hljs-variable">Contents</span>                             <span class="hljs-operator">=</span> All permanent data. Regular table space.<br> State                                = <span class="hljs-number">0x0000</span><br>   Detailed explanation:<br>     Normal<br> <span class="hljs-type">Total</span> <span class="hljs-variable">pages</span>                          <span class="hljs-operator">=</span> <span class="hljs-number">401408</span><br> <span class="hljs-type">Useable</span> <span class="hljs-variable">pages</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">401404</span><br> <span class="hljs-type">Used</span> <span class="hljs-variable">pages</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">398888</span><br> <span class="hljs-type">Free</span> <span class="hljs-variable">pages</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">2516</span><br> High water <span class="hljs-title function_">mark</span> <span class="hljs-params">(pages)</span>              = <span class="hljs-number">398888</span><br> Page <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>                    = <span class="hljs-number">4096</span><br> Extent <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>                  = <span class="hljs-number">4</span><br> Prefetch <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>                = <span class="hljs-number">4</span><br> Number <span class="hljs-type">of</span> <span class="hljs-variable">containers</span>                 <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br><br> <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br> Name                                 = <span class="hljs-type">SYSTOOLSTMPSPACE</span><br> <span class="hljs-variable">Type</span>                                 <span class="hljs-operator">=</span> System managed <span class="hljs-type">space</span><br> <span class="hljs-variable">Contents</span>                             <span class="hljs-operator">=</span> User Temporary <span class="hljs-type">data</span><br> <span class="hljs-variable">State</span>                                <span class="hljs-operator">=</span> <span class="hljs-number">0x0000</span><br>   Detailed explanation:<br>     Normal<br> <span class="hljs-type">Total</span> <span class="hljs-variable">pages</span>                          <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br> <span class="hljs-type">Useable</span> <span class="hljs-variable">pages</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br> <span class="hljs-type">Used</span> <span class="hljs-variable">pages</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br> <span class="hljs-type">Free</span> <span class="hljs-variable">pages</span>                           <span class="hljs-operator">=</span> Not applicable<br> High water <span class="hljs-title function_">mark</span> <span class="hljs-params">(pages)</span>              = Not applicable<br> Page <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>                    = <span class="hljs-number">4096</span><br> Extent <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>                  = <span class="hljs-number">4</span><br> Prefetch <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>                = <span class="hljs-number">4</span><br> Number <span class="hljs-type">of</span> <span class="hljs-variable">containers</span>                 <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br><br> <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">2</span><br> Name                                 = <span class="hljs-type">TBS_MXZ</span><br> <span class="hljs-variable">Type</span>                                 <span class="hljs-operator">=</span> Database managed <span class="hljs-type">space</span><br> <span class="hljs-variable">Contents</span>                             <span class="hljs-operator">=</span> All permanent data. Large table space.<br> State                                = <span class="hljs-number">0x0000</span><br>   Detailed explanation:<br>     Normal<br> <span class="hljs-type">Total</span> <span class="hljs-variable">pages</span>                          <span class="hljs-operator">=</span> <span class="hljs-number">58982400</span><br> <span class="hljs-type">Useable</span> <span class="hljs-variable">pages</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">58982112</span><br> <span class="hljs-type">Used</span> <span class="hljs-variable">pages</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">55210560</span><br> <span class="hljs-type">Free</span> <span class="hljs-variable">pages</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">3771552</span><br> High water <span class="hljs-title function_">mark</span> <span class="hljs-params">(pages)</span>              = <span class="hljs-number">55210688</span><br> Page <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>                    = <span class="hljs-number">8192</span><br> Extent <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>                  = <span class="hljs-number">32</span><br> Prefetch <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>                = <span class="hljs-number">256</span><br> Number <span class="hljs-type">of</span> <span class="hljs-variable">containers</span>                 <span class="hljs-operator">=</span> <span class="hljs-number">9</span><br><br> <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">3</span><br> Name                                 = <span class="hljs-type">SYSTOOLSPACE</span><br> <span class="hljs-variable">Type</span>                                 <span class="hljs-operator">=</span> Database managed <span class="hljs-type">space</span><br> <span class="hljs-variable">Contents</span>                             <span class="hljs-operator">=</span> All permanent data. Large table space.<br> State                                = <span class="hljs-number">0x0000</span><br>   Detailed explanation:<br>     Normal<br> <span class="hljs-type">Total</span> <span class="hljs-variable">pages</span>                          <span class="hljs-operator">=</span> <span class="hljs-number">8192</span><br> <span class="hljs-type">Useable</span> <span class="hljs-variable">pages</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">8188</span><br> <span class="hljs-type">Used</span> <span class="hljs-variable">pages</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">620</span><br> <span class="hljs-type">Free</span> <span class="hljs-variable">pages</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">7568</span><br> High water <span class="hljs-title function_">mark</span> <span class="hljs-params">(pages)</span>              = <span class="hljs-number">620</span><br> Page <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>                    = <span class="hljs-number">4096</span><br> Extent <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>                  = <span class="hljs-number">4</span><br> Prefetch <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>                = <span class="hljs-number">4</span><br> Number <span class="hljs-type">of</span> <span class="hljs-variable">containers</span>                 <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br><br> <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">4</span><br> Name                                 = <span class="hljs-type">TBS_PAS</span><br> <span class="hljs-variable">Type</span>                                 <span class="hljs-operator">=</span> Database managed <span class="hljs-type">space</span><br> <span class="hljs-variable">Contents</span>                             <span class="hljs-operator">=</span> All permanent data. Large table space.<br> State                                = <span class="hljs-number">0x0000</span><br>   Detailed explanation:<br>     Normal<br> <span class="hljs-type">Total</span> <span class="hljs-variable">pages</span>                          <span class="hljs-operator">=</span> <span class="hljs-number">7864320</span><br> <span class="hljs-type">Useable</span> <span class="hljs-variable">pages</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">7864256</span><br> <span class="hljs-type">Used</span> <span class="hljs-variable">pages</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">2023904</span><br> <span class="hljs-type">Free</span> <span class="hljs-variable">pages</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">5840352</span><br> High water <span class="hljs-title function_">mark</span> <span class="hljs-params">(pages)</span>              = <span class="hljs-number">2023904</span><br> Page <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>                    = <span class="hljs-number">8192</span><br> Extent <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>                  = <span class="hljs-number">32</span><br> Prefetch <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>                = <span class="hljs-number">64</span><br> Number <span class="hljs-type">of</span> <span class="hljs-variable">containers</span>                 <span class="hljs-operator">=</span> <span class="hljs-number">2</span><br><br> <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">5</span><br> Name                                 = <span class="hljs-type">TBS_JKSJ</span><br> <span class="hljs-variable">Type</span>                                 <span class="hljs-operator">=</span> Database managed <span class="hljs-type">space</span><br> <span class="hljs-variable">Contents</span>                             <span class="hljs-operator">=</span> All permanent data. Large table space.<br> State                                = <span class="hljs-number">0x0000</span><br>   Detailed explanation:<br>     Normal<br> <span class="hljs-type">Total</span> <span class="hljs-variable">pages</span>                          <span class="hljs-operator">=</span> <span class="hljs-number">655360</span><br> <span class="hljs-type">Useable</span> <span class="hljs-variable">pages</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">655344</span><br> <span class="hljs-type">Used</span> <span class="hljs-variable">pages</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">505808</span><br> <span class="hljs-type">Free</span> <span class="hljs-variable">pages</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">149536</span><br> High water <span class="hljs-title function_">mark</span> <span class="hljs-params">(pages)</span>              = <span class="hljs-number">516144</span><br> Page <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>                    = <span class="hljs-number">8192</span><br> Extent <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>                  = <span class="hljs-number">16</span><br> Prefetch <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>                = <span class="hljs-number">32</span><br> Number <span class="hljs-type">of</span> <span class="hljs-variable">containers</span>                 <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br><br> <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">6</span><br> Name                                 = <span class="hljs-type">TBS_JXDX</span><br> <span class="hljs-variable">Type</span>                                 <span class="hljs-operator">=</span> Database managed <span class="hljs-type">space</span><br> <span class="hljs-variable">Contents</span>                             <span class="hljs-operator">=</span> All permanent data. Large table space.<br> State                                = <span class="hljs-number">0x0000</span><br>   Detailed explanation:<br>     Normal<br> <span class="hljs-type">Total</span> <span class="hljs-variable">pages</span>                          <span class="hljs-operator">=</span> <span class="hljs-number">7864320</span><br> <span class="hljs-type">Useable</span> <span class="hljs-variable">pages</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">7864256</span><br> <span class="hljs-type">Used</span> <span class="hljs-variable">pages</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">4799008</span><br> <span class="hljs-type">Free</span> <span class="hljs-variable">pages</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">3065248</span><br> High water <span class="hljs-title function_">mark</span> <span class="hljs-params">(pages)</span>              = <span class="hljs-number">4799008</span><br> Page <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>                    = <span class="hljs-number">8192</span><br> Extent <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>                  = <span class="hljs-number">32</span><br> Prefetch <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>                = <span class="hljs-number">64</span><br> Number <span class="hljs-type">of</span> <span class="hljs-variable">containers</span>                 <span class="hljs-operator">=</span> <span class="hljs-number">2</span><br><br> <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">7</span><br> Name                                 = <span class="hljs-type">TBS_NBZZ</span><br> <span class="hljs-variable">Type</span>                                 <span class="hljs-operator">=</span> Database managed <span class="hljs-type">space</span><br> <span class="hljs-variable">Contents</span>                             <span class="hljs-operator">=</span> All permanent data. Large table space.<br> State                                = <span class="hljs-number">0x0000</span><br>   Detailed explanation:<br>     Normal<br> <span class="hljs-type">Total</span> <span class="hljs-variable">pages</span>                          <span class="hljs-operator">=</span> <span class="hljs-number">19660800</span><br> <span class="hljs-type">Useable</span> <span class="hljs-variable">pages</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">19660640</span><br> <span class="hljs-type">Used</span> <span class="hljs-variable">pages</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">17532096</span><br> <span class="hljs-type">Free</span> <span class="hljs-variable">pages</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">2128544</span><br> High water <span class="hljs-title function_">mark</span> <span class="hljs-params">(pages)</span>              = <span class="hljs-number">17532096</span><br> Page <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>                    = <span class="hljs-number">8192</span><br> Extent <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>                  = <span class="hljs-number">32</span><br> Prefetch <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>                = <span class="hljs-number">64</span><br> Number <span class="hljs-type">of</span> <span class="hljs-variable">containers</span>                 <span class="hljs-operator">=</span> <span class="hljs-number">5</span><br><br> <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">8</span><br> Name                                 = <span class="hljs-type">TBS_SYSTMP_32</span><br> <span class="hljs-variable">Type</span>                                 <span class="hljs-operator">=</span> System managed <span class="hljs-type">space</span><br> <span class="hljs-variable">Contents</span>                             <span class="hljs-operator">=</span> System Temporary <span class="hljs-type">data</span><br> <span class="hljs-variable">State</span>                                <span class="hljs-operator">=</span> <span class="hljs-number">0x0000</span><br>   Detailed explanation:<br>     Normal<br> <span class="hljs-type">Total</span> <span class="hljs-variable">pages</span>                          <span class="hljs-operator">=</span> <span class="hljs-number">9</span><br> <span class="hljs-type">Useable</span> <span class="hljs-variable">pages</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">9</span><br> <span class="hljs-type">Used</span> <span class="hljs-variable">pages</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">9</span><br> <span class="hljs-type">Free</span> <span class="hljs-variable">pages</span>                           <span class="hljs-operator">=</span> Not applicable<br> High water <span class="hljs-title function_">mark</span> <span class="hljs-params">(pages)</span>              = Not applicable<br> Page <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>                    = <span class="hljs-number">32768</span><br> Extent <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>                  = <span class="hljs-number">32</span><br> Prefetch <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>                = <span class="hljs-number">32</span><br> Number <span class="hljs-type">of</span> <span class="hljs-variable">containers</span>                 <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br><br> <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">9</span><br> Name                                 = <span class="hljs-type">TBS_IDX</span><br> <span class="hljs-variable">Type</span>                                 <span class="hljs-operator">=</span> Database managed <span class="hljs-type">space</span><br> <span class="hljs-variable">Contents</span>                             <span class="hljs-operator">=</span> All permanent data. Large table space.<br> State                                = <span class="hljs-number">0x0000</span><br>   Detailed explanation:<br>     Normal<br> <span class="hljs-type">Total</span> <span class="hljs-variable">pages</span>                          <span class="hljs-operator">=</span> <span class="hljs-number">10485760</span><br> <span class="hljs-type">Useable</span> <span class="hljs-variable">pages</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">10485696</span><br> <span class="hljs-type">Used</span> <span class="hljs-variable">pages</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">7860992</span><br> <span class="hljs-type">Free</span> <span class="hljs-variable">pages</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">2624704</span><br> High water <span class="hljs-title function_">mark</span> <span class="hljs-params">(pages)</span>              = <span class="hljs-number">7860992</span><br> Page <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>                    = <span class="hljs-number">8192</span><br> Extent <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>                  = <span class="hljs-number">32</span><br> Prefetch <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>                = <span class="hljs-number">64</span><br> Number <span class="hljs-type">of</span> <span class="hljs-variable">containers</span>                 <span class="hljs-operator">=</span> <span class="hljs-number">2</span><br><br> <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">10</span><br> Name                                 = <span class="hljs-type">TBS_LSB</span><br> <span class="hljs-variable">Type</span>                                 <span class="hljs-operator">=</span> Database managed <span class="hljs-type">space</span><br> <span class="hljs-variable">Contents</span>                             <span class="hljs-operator">=</span> All permanent data. Large table space.<br> State                                = <span class="hljs-number">0x0000</span><br>   Detailed explanation:<br>     Normal<br> <span class="hljs-type">Total</span> <span class="hljs-variable">pages</span>                          <span class="hljs-operator">=</span> <span class="hljs-number">1310720</span><br> <span class="hljs-type">Useable</span> <span class="hljs-variable">pages</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">1310704</span><br> <span class="hljs-type">Used</span> <span class="hljs-variable">pages</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">74496</span><br> <span class="hljs-type">Free</span> <span class="hljs-variable">pages</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">1236208</span><br> High water <span class="hljs-title function_">mark</span> <span class="hljs-params">(pages)</span>              = <span class="hljs-number">77232</span><br> Page <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>                    = <span class="hljs-number">8192</span><br> Extent <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>                  = <span class="hljs-number">16</span><br> Prefetch <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>                = <span class="hljs-number">32</span><br> Number <span class="hljs-type">of</span> <span class="hljs-variable">containers</span>                 <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br><br> <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">11</span><br> Name                                 = <span class="hljs-type">TBS_SYSTMP_04</span><br> <span class="hljs-variable">Type</span>                                 <span class="hljs-operator">=</span> System managed <span class="hljs-type">space</span><br> <span class="hljs-variable">Contents</span>                             <span class="hljs-operator">=</span> System Temporary <span class="hljs-type">data</span><br> <span class="hljs-variable">State</span>                                <span class="hljs-operator">=</span> <span class="hljs-number">0x0000</span><br>   Detailed explanation:<br>     Normal<br> <span class="hljs-type">Total</span> <span class="hljs-variable">pages</span>                          <span class="hljs-operator">=</span> <span class="hljs-number">12</span><br> <span class="hljs-type">Useable</span> <span class="hljs-variable">pages</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">12</span><br> <span class="hljs-type">Used</span> <span class="hljs-variable">pages</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">12</span><br> <span class="hljs-type">Free</span> <span class="hljs-variable">pages</span>                           <span class="hljs-operator">=</span> Not applicable<br> High water <span class="hljs-title function_">mark</span> <span class="hljs-params">(pages)</span>              = Not applicable<br> Page <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>                    = <span class="hljs-number">4096</span><br> Extent <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>                  = <span class="hljs-number">16</span><br> Prefetch <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>                = <span class="hljs-number">16</span><br> Number <span class="hljs-type">of</span> <span class="hljs-variable">containers</span>                 <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br><br> <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">12</span><br> Name                                 = <span class="hljs-type">TBS_SYSTMP_08</span><br> <span class="hljs-variable">Type</span>                                 <span class="hljs-operator">=</span> System managed <span class="hljs-type">space</span><br> <span class="hljs-variable">Contents</span>                             <span class="hljs-operator">=</span> System Temporary <span class="hljs-type">data</span><br> <span class="hljs-variable">State</span>                                <span class="hljs-operator">=</span> <span class="hljs-number">0x0000</span><br>   Detailed explanation:<br>     Normal<br> <span class="hljs-type">Total</span> <span class="hljs-variable">pages</span>                          <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br> <span class="hljs-type">Useable</span> <span class="hljs-variable">pages</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br> <span class="hljs-type">Used</span> <span class="hljs-variable">pages</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br> <span class="hljs-type">Free</span> <span class="hljs-variable">pages</span>                           <span class="hljs-operator">=</span> Not applicable<br> High water <span class="hljs-title function_">mark</span> <span class="hljs-params">(pages)</span>              = Not applicable<br> Page <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>                    = <span class="hljs-number">8192</span><br> Extent <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>                  = <span class="hljs-number">32</span><br> Prefetch <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>                = <span class="hljs-number">32</span><br> Number <span class="hljs-type">of</span> <span class="hljs-variable">containers</span>                 <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br><br> <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">13</span><br> Name                                 = <span class="hljs-type">TBS_USERTMP_08</span><br> <span class="hljs-variable">Type</span>                                 <span class="hljs-operator">=</span> System managed <span class="hljs-type">space</span><br> <span class="hljs-variable">Contents</span>                             <span class="hljs-operator">=</span> User Temporary <span class="hljs-type">data</span><br> <span class="hljs-variable">State</span>                                <span class="hljs-operator">=</span> <span class="hljs-number">0x0000</span><br>   Detailed explanation:<br>     Normal<br> <span class="hljs-type">Total</span> <span class="hljs-variable">pages</span>                          <span class="hljs-operator">=</span> <span class="hljs-number">135189</span><br> <span class="hljs-type">Useable</span> <span class="hljs-variable">pages</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">135189</span><br> <span class="hljs-type">Used</span> <span class="hljs-variable">pages</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">135189</span><br> <span class="hljs-type">Free</span> <span class="hljs-variable">pages</span>                           <span class="hljs-operator">=</span> Not applicable<br> High water <span class="hljs-title function_">mark</span> <span class="hljs-params">(pages)</span>              = Not applicable<br> Page <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>                    = <span class="hljs-number">8192</span><br> Extent <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>                  = <span class="hljs-number">32</span><br> Prefetch <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>                = <span class="hljs-number">32</span><br> Number <span class="hljs-type">of</span> <span class="hljs-variable">containers</span>                 <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br><br> <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">14</span><br> Name                                 = <span class="hljs-type">TBS_USERTMP_32</span><br> <span class="hljs-variable">Type</span>                                 <span class="hljs-operator">=</span> System managed <span class="hljs-type">space</span><br> <span class="hljs-variable">Contents</span>                             <span class="hljs-operator">=</span> User Temporary <span class="hljs-type">data</span><br> <span class="hljs-variable">State</span>                                <span class="hljs-operator">=</span> <span class="hljs-number">0x0000</span><br>   Detailed explanation:<br>     Normal<br> <span class="hljs-type">Total</span> <span class="hljs-variable">pages</span>                          <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br> <span class="hljs-type">Useable</span> <span class="hljs-variable">pages</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br> <span class="hljs-type">Used</span> <span class="hljs-variable">pages</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br> <span class="hljs-type">Free</span> <span class="hljs-variable">pages</span>                           <span class="hljs-operator">=</span> Not applicable<br> High water <span class="hljs-title function_">mark</span> <span class="hljs-params">(pages)</span>              = Not applicable<br> Page <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>                    = <span class="hljs-number">32768</span><br> Extent <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>                  = <span class="hljs-number">32</span><br> Prefetch <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>                = <span class="hljs-number">32</span><br> Number <span class="hljs-type">of</span> <span class="hljs-variable">containers</span>                 <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br><br><br> =======================================================================================================<br><br>[db2inst1<span class="hljs-meta">@localhost</span> PAS_BACKUP]$ db2 list tablespaces<br><br>           Tablespaces <span class="hljs-keyword">for</span> Current Database<br><br> <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br> Name                                 = <span class="hljs-type">SYSCATSPACE</span><br> <span class="hljs-variable">Type</span>                                 <span class="hljs-operator">=</span> Database managed <span class="hljs-type">space</span><br> <span class="hljs-variable">Contents</span>                             <span class="hljs-operator">=</span> All permanent data. Regular table space.<br> State                                = <span class="hljs-number">0x0000</span><br>   Detailed explanation:<br>     Normal<br><br> <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br> Name                                 = <span class="hljs-type">SYSTOOLSTMPSPACE</span><br> <span class="hljs-variable">Type</span>                                 <span class="hljs-operator">=</span> System managed <span class="hljs-type">space</span><br> <span class="hljs-variable">Contents</span>                             <span class="hljs-operator">=</span> User Temporary <span class="hljs-type">data</span><br> <span class="hljs-variable">State</span>                                <span class="hljs-operator">=</span> <span class="hljs-number">0x0000</span><br>   Detailed explanation:<br>     Normal<br><br> <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">2</span><br> Name                                 = <span class="hljs-type">TBS_MXZ</span><br> <span class="hljs-variable">Type</span>                                 <span class="hljs-operator">=</span> Database managed <span class="hljs-type">space</span><br> <span class="hljs-variable">Contents</span>                             <span class="hljs-operator">=</span> All permanent data. Large table space.<br> State                                = <span class="hljs-number">0x0000</span><br>   Detailed explanation:<br>     Normal<br><br> <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">3</span><br> Name                                 = <span class="hljs-type">SYSTOOLSPACE</span><br> <span class="hljs-variable">Type</span>                                 <span class="hljs-operator">=</span> Database managed <span class="hljs-type">space</span><br> <span class="hljs-variable">Contents</span>                             <span class="hljs-operator">=</span> All permanent data. Large table space.<br> State                                = <span class="hljs-number">0x0000</span><br>   Detailed explanation:<br>     Normal<br><br> <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">4</span><br> Name                                 = <span class="hljs-type">TBS_PAS</span><br> <span class="hljs-variable">Type</span>                                 <span class="hljs-operator">=</span> Database managed <span class="hljs-type">space</span><br> <span class="hljs-variable">Contents</span>                             <span class="hljs-operator">=</span> All permanent data. Large table space.<br> State                                = <span class="hljs-number">0x0000</span><br>   Detailed explanation:<br>     Normal<br><br> <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">5</span><br> Name                                 = <span class="hljs-type">TBS_JKSJ</span><br> <span class="hljs-variable">Type</span>                                 <span class="hljs-operator">=</span> Database managed <span class="hljs-type">space</span><br> <span class="hljs-variable">Contents</span>                             <span class="hljs-operator">=</span> All permanent data. Large table space.<br> State                                = <span class="hljs-number">0x0000</span><br>   Detailed explanation:<br>     Normal<br><br> <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">6</span><br> Name                                 = <span class="hljs-type">TBS_JXDX</span><br> <span class="hljs-variable">Type</span>                                 <span class="hljs-operator">=</span> Database managed <span class="hljs-type">space</span><br> <span class="hljs-variable">Contents</span>                             <span class="hljs-operator">=</span> All permanent data. Large table space.<br> State                                = <span class="hljs-number">0x0000</span><br>   Detailed explanation:<br>     Normal<br><br> <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">7</span><br> Name                                 = <span class="hljs-type">TBS_NBZZ</span><br> <span class="hljs-variable">Type</span>                                 <span class="hljs-operator">=</span> Database managed <span class="hljs-type">space</span><br> <span class="hljs-variable">Contents</span>                             <span class="hljs-operator">=</span> All permanent data. Large table space.<br> State                                = <span class="hljs-number">0x0000</span><br>   Detailed explanation:<br>     Normal<br><br> <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">8</span><br> Name                                 = <span class="hljs-type">TBS_SYSTMP_32</span><br> <span class="hljs-variable">Type</span>                                 <span class="hljs-operator">=</span> System managed <span class="hljs-type">space</span><br> <span class="hljs-variable">Contents</span>                             <span class="hljs-operator">=</span> System Temporary <span class="hljs-type">data</span><br> <span class="hljs-variable">State</span>                                <span class="hljs-operator">=</span> <span class="hljs-number">0x0000</span><br>   Detailed explanation:<br>     Normal<br><br> <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">9</span><br> Name                                 = <span class="hljs-type">TBS_IDX</span><br> <span class="hljs-variable">Type</span>                                 <span class="hljs-operator">=</span> Database managed <span class="hljs-type">space</span><br> <span class="hljs-variable">Contents</span>                             <span class="hljs-operator">=</span> All permanent data. Large table space.<br> State                                = <span class="hljs-number">0x0000</span><br>   Detailed explanation:<br>     Normal<br><br> <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">10</span><br> Name                                 = <span class="hljs-type">TBS_LSB</span><br> <span class="hljs-variable">Type</span>                                 <span class="hljs-operator">=</span> Database managed <span class="hljs-type">space</span><br> <span class="hljs-variable">Contents</span>                             <span class="hljs-operator">=</span> All permanent data. Large table space.<br> State                                = <span class="hljs-number">0x0000</span><br>   Detailed explanation:<br>     Normal<br><br> <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">11</span><br> Name                                 = <span class="hljs-type">TBS_SYSTMP_04</span><br> <span class="hljs-variable">Type</span>                                 <span class="hljs-operator">=</span> System managed <span class="hljs-type">space</span><br> <span class="hljs-variable">Contents</span>                             <span class="hljs-operator">=</span> System Temporary <span class="hljs-type">data</span><br> <span class="hljs-variable">State</span>                                <span class="hljs-operator">=</span> <span class="hljs-number">0x0000</span><br>   Detailed explanation:<br>     Normal<br><br> <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">12</span><br> Name                                 = <span class="hljs-type">TBS_SYSTMP_08</span><br> <span class="hljs-variable">Type</span>                                 <span class="hljs-operator">=</span> System managed <span class="hljs-type">space</span><br> <span class="hljs-variable">Contents</span>                             <span class="hljs-operator">=</span> System Temporary <span class="hljs-type">data</span><br> <span class="hljs-variable">State</span>                                <span class="hljs-operator">=</span> <span class="hljs-number">0x0000</span><br>   Detailed explanation:<br>     Normal<br><br> <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">13</span><br> Name                                 = <span class="hljs-type">TBS_USERTMP_08</span><br> <span class="hljs-variable">Type</span>                                 <span class="hljs-operator">=</span> System managed <span class="hljs-type">space</span><br> <span class="hljs-variable">Contents</span>                             <span class="hljs-operator">=</span> User Temporary <span class="hljs-type">data</span><br> <span class="hljs-variable">State</span>                                <span class="hljs-operator">=</span> <span class="hljs-number">0x0000</span><br>   Detailed explanation:<br>     Normal<br><br> <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                        <span class="hljs-operator">=</span> <span class="hljs-number">14</span><br> Name                                 = <span class="hljs-type">TBS_USERTMP_32</span><br> <span class="hljs-variable">Type</span>                                 <span class="hljs-operator">=</span> System managed <span class="hljs-type">space</span><br> <span class="hljs-variable">Contents</span>                             <span class="hljs-operator">=</span> User Temporary <span class="hljs-type">data</span><br> <span class="hljs-variable">State</span>                                <span class="hljs-operator">=</span> <span class="hljs-number">0x0000</span><br>   Detailed explanation:<br>     Normal<br><br><br><br><br> =================================================================<br>[db2inst1<span class="hljs-meta">@localhost</span> PAS_BACKUP]$ db2 get snapshot <span class="hljs-keyword">for</span> tablespaces on ykspas3<br><br>             Tablespace Snapshot<br><br>First database <span class="hljs-type">connect</span> <span class="hljs-variable">timestamp</span>           <span class="hljs-operator">=</span> <span class="hljs-number">2022</span>-08-<span class="hljs-number">02</span> 08:09:<span class="hljs-number">18.739628</span><br>Last <span class="hljs-type">reset</span> <span class="hljs-variable">timestamp</span>                       <span class="hljs-operator">=</span><br><span class="hljs-type">Snapshot</span> <span class="hljs-variable">timestamp</span>                         <span class="hljs-operator">=</span> <span class="hljs-number">2022</span>-08-<span class="hljs-number">02</span> <span class="hljs-number">14</span>:<span class="hljs-number">19</span>:<span class="hljs-number">43.798840</span><br><span class="hljs-type">Database</span> <span class="hljs-variable">name</span>                              <span class="hljs-operator">=</span> YKSPAS3<br><span class="hljs-type">Database</span> <span class="hljs-variable">path</span>                              <span class="hljs-operator">=</span> /home/db2inst1/db2inst1/NODE0000/SQL00002/<br>Input <span class="hljs-type">database</span> <span class="hljs-variable">alias</span>                       <span class="hljs-operator">=</span> YKSPAS3<br>Number of <span class="hljs-type">accessed</span> <span class="hljs-variable">tablespaces</span>             <span class="hljs-operator">=</span> <span class="hljs-number">15</span><br><br><br><span class="hljs-type">Tablespace</span> <span class="hljs-variable">name</span>                            <span class="hljs-operator">=</span> SYSCATSPACE<br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                            <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">Type</span>                          <span class="hljs-operator">=</span> Database managed space<br>  Tablespace <span class="hljs-type">Content</span> <span class="hljs-variable">Type</span>                  <span class="hljs-operator">=</span> All permanent data. Regular table space.<br>  Tablespace Page <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>             = <span class="hljs-number">4096</span><br>  Tablespace Extent <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>           = <span class="hljs-number">4</span><br>  Automatic Prefetch <span class="hljs-type">size</span> <span class="hljs-variable">enabled</span>          <span class="hljs-operator">=</span> Yes<br>  Buffer pool ID currently <span class="hljs-type">in</span> <span class="hljs-variable">use</span>          <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br>  Buffer pool ID <span class="hljs-type">next</span> <span class="hljs-variable">startup</span>              <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br>  Using <span class="hljs-type">automatic</span> <span class="hljs-variable">storage</span>                  <span class="hljs-operator">=</span> Yes<br>  Auto-<span class="hljs-type">resize</span> <span class="hljs-variable">enabled</span>                      <span class="hljs-operator">=</span> Yes<br>  File <span class="hljs-type">system</span> <span class="hljs-variable">caching</span>                      <span class="hljs-operator">=</span> No<br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">State</span>                         <span class="hljs-operator">=</span> 0x<span class="hljs-string">&#x27;00000000&#x27;</span><br>   Detailed explanation:<br>     Normal<br>  Tablespace Prefetch <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>         = <span class="hljs-number">4</span><br>  Total number <span class="hljs-type">of</span> <span class="hljs-variable">pages</span>                    <span class="hljs-operator">=</span> <span class="hljs-number">401408</span><br>  Number of <span class="hljs-type">usable</span> <span class="hljs-variable">pages</span>                   <span class="hljs-operator">=</span> <span class="hljs-number">401404</span><br>  Number of <span class="hljs-type">used</span> <span class="hljs-variable">pages</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">398888</span><br>  Number of pending <span class="hljs-type">free</span> <span class="hljs-variable">pages</span>             <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number of <span class="hljs-type">free</span> <span class="hljs-variable">pages</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">2516</span><br>  High water <span class="hljs-title function_">mark</span> <span class="hljs-params">(pages)</span>                  = <span class="hljs-number">398888</span><br>  Initial tablespace <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>          = <span class="hljs-number">33554432</span><br>  Current tablespace <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>          = <span class="hljs-number">1644167168</span><br>  Maximum tablespace <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>          = NONE<br>  Increase <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>                    = AUTOMATIC<br>  Time of last <span class="hljs-type">successful</span> <span class="hljs-variable">resize</span>           <span class="hljs-operator">=</span><br>  Last resize <span class="hljs-type">attempt</span> <span class="hljs-variable">failed</span>               <span class="hljs-operator">=</span> No<br>  <span class="hljs-type">Rebalancer</span> <span class="hljs-variable">Mode</span>                          <span class="hljs-operator">=</span> No Rebalancing<br>  Storage paths have <span class="hljs-type">been</span> <span class="hljs-variable">dropped</span>          <span class="hljs-operator">=</span> No<br>  Minimum <span class="hljs-type">Recovery</span> <span class="hljs-variable">Time</span>                    <span class="hljs-operator">=</span><br>  Number <span class="hljs-type">of</span> <span class="hljs-variable">quiescers</span>                      <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number <span class="hljs-type">of</span> <span class="hljs-variable">containers</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br><br>  <span class="hljs-type">Container</span> <span class="hljs-variable">Name</span>                           <span class="hljs-operator">=</span> /home/yksbf/db2inst1/NODE0000/YKSPAS3/T0000000/C0000000.CAT<br>      <span class="hljs-type">Container</span> <span class="hljs-variable">ID</span>                         <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      <span class="hljs-type">Container</span> <span class="hljs-variable">Type</span>                       <span class="hljs-operator">=</span> File (extent sized tag)<br>      Total Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>             <span class="hljs-operator">=</span> <span class="hljs-number">401408</span><br>      Usable Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>            <span class="hljs-operator">=</span> <span class="hljs-number">401404</span><br>      <span class="hljs-type">Stripe</span> <span class="hljs-variable">Set</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Container <span class="hljs-type">is</span> <span class="hljs-variable">accessible</span>              <span class="hljs-operator">=</span> Yes<br><br>  Table space map:<br><br>   Range  Stripe Stripe  Max         Max  Start  End    Adj.   Containers<br>   Number Set    Offset  Extent      Page Stripe Stripe<br>   [   <span class="hljs-number">0</span>] [   <span class="hljs-number">0</span>]      <span class="hljs-number">0</span>  <span class="hljs-number">100350</span>    <span class="hljs-number">401403</span>      <span class="hljs-number">0</span> <span class="hljs-number">100350</span>   <span class="hljs-number">0</span>    <span class="hljs-number">1</span> (<span class="hljs-number">0</span>)<br><br>  Buffer pool data <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>           <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool data <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>          <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary data <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>   <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary data <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>  <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool data <span class="hljs-type">page</span> <span class="hljs-variable">reads</span>        <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool <span class="hljs-type">data</span> <span class="hljs-variable">writes</span>                  <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool data <span class="hljs-type">page</span> <span class="hljs-variable">writes</span>       <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool index <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>          <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool index <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>         <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary index <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>  <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary index <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span> <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool index <span class="hljs-type">page</span> <span class="hljs-variable">reads</span>       <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool <span class="hljs-type">index</span> <span class="hljs-variable">writes</span>                 <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool index <span class="hljs-type">page</span> <span class="hljs-variable">writes</span>      <span class="hljs-operator">=</span> Not Collected<br>  Total buffer pool read <span class="hljs-title function_">time</span> <span class="hljs-params">(millisec)</span>   = Not Collected<br>  Total buffer pool write <span class="hljs-title function_">time</span> <span class="hljs-params">(millisec)</span>  = Not Collected<br>  Total elapsed asynchronous <span class="hljs-type">read</span> <span class="hljs-variable">time</span>     <span class="hljs-operator">=</span> Not Collected<br>  Total elapsed asynchronous <span class="hljs-type">write</span> <span class="hljs-variable">time</span>    <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous data <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>          <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous index <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>         <span class="hljs-operator">=</span> Not Collected<br>  No victim <span class="hljs-type">buffers</span> <span class="hljs-variable">available</span>              <span class="hljs-operator">=</span> Not Collected<br>  <span class="hljs-type">Direct</span> <span class="hljs-variable">reads</span>                             <span class="hljs-operator">=</span> Not Collected<br>  <span class="hljs-type">Direct</span> <span class="hljs-variable">writes</span>                            <span class="hljs-operator">=</span> Not Collected<br>  Direct <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>                     <span class="hljs-operator">=</span> Not Collected<br>  Direct <span class="hljs-type">write</span> <span class="hljs-variable">requests</span>                    <span class="hljs-operator">=</span> Not Collected<br>  Direct reads elapsed <span class="hljs-title function_">time</span> <span class="hljs-params">(ms)</span>           = Not Collected<br>  Direct write elapsed <span class="hljs-title function_">time</span> <span class="hljs-params">(ms)</span>           = Not Collected<br>  Number of <span class="hljs-type">files</span> <span class="hljs-variable">closed</span>                   <span class="hljs-operator">=</span> Not Collected<br><br><br><span class="hljs-type">Tablespace</span> <span class="hljs-variable">name</span>                            <span class="hljs-operator">=</span> SYSTOOLSTMPSPACE<br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                            <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">Type</span>                          <span class="hljs-operator">=</span> System managed space<br>  Tablespace <span class="hljs-type">Content</span> <span class="hljs-variable">Type</span>                  <span class="hljs-operator">=</span> User Temporary data<br>  Tablespace Page <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>             = <span class="hljs-number">4096</span><br>  Tablespace Extent <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>           = <span class="hljs-number">4</span><br>  Automatic Prefetch <span class="hljs-type">size</span> <span class="hljs-variable">enabled</span>          <span class="hljs-operator">=</span> Yes<br>  Buffer pool ID currently <span class="hljs-type">in</span> <span class="hljs-variable">use</span>          <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br>  Buffer pool ID <span class="hljs-type">next</span> <span class="hljs-variable">startup</span>              <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br>  Using <span class="hljs-type">automatic</span> <span class="hljs-variable">storage</span>                  <span class="hljs-operator">=</span> Yes<br>  File <span class="hljs-type">system</span> <span class="hljs-variable">caching</span>                      <span class="hljs-operator">=</span> Yes<br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">State</span>                         <span class="hljs-operator">=</span> 0x<span class="hljs-string">&#x27;00000000&#x27;</span><br>   Detailed explanation:<br>     Normal<br>  Tablespace Prefetch <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>         = <span class="hljs-number">4</span><br>  Total number <span class="hljs-type">of</span> <span class="hljs-variable">pages</span>                    <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number of <span class="hljs-type">usable</span> <span class="hljs-variable">pages</span>                   <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number of <span class="hljs-type">used</span> <span class="hljs-variable">pages</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Storage paths have <span class="hljs-type">been</span> <span class="hljs-variable">dropped</span>          <span class="hljs-operator">=</span> No<br>  Minimum <span class="hljs-type">Recovery</span> <span class="hljs-variable">Time</span>                    <span class="hljs-operator">=</span><br>  Number <span class="hljs-type">of</span> <span class="hljs-variable">quiescers</span>                      <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number <span class="hljs-type">of</span> <span class="hljs-variable">containers</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br><br>  <span class="hljs-type">Container</span> <span class="hljs-variable">Name</span>                           <span class="hljs-operator">=</span> /home/yksbf/db2inst1/NODE0000/YKSPAS3/T0000001/C0000000.UTM<br>      <span class="hljs-type">Container</span> <span class="hljs-variable">ID</span>                         <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      <span class="hljs-type">Container</span> <span class="hljs-variable">Type</span>                       <span class="hljs-operator">=</span> Path<br>      Total Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>             <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Usable Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>            <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      <span class="hljs-type">Stripe</span> <span class="hljs-variable">Set</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Container <span class="hljs-type">is</span> <span class="hljs-variable">accessible</span>              <span class="hljs-operator">=</span> Yes<br><br>  Buffer pool data <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>           <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool data <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>          <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary data <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>   <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary data <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>  <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool data <span class="hljs-type">page</span> <span class="hljs-variable">reads</span>        <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool <span class="hljs-type">data</span> <span class="hljs-variable">writes</span>                  <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool data <span class="hljs-type">page</span> <span class="hljs-variable">writes</span>       <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool index <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>          <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool index <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>         <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary index <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>  <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary index <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span> <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool index <span class="hljs-type">page</span> <span class="hljs-variable">reads</span>       <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool <span class="hljs-type">index</span> <span class="hljs-variable">writes</span>                 <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool index <span class="hljs-type">page</span> <span class="hljs-variable">writes</span>      <span class="hljs-operator">=</span> Not Collected<br>  Total buffer pool read <span class="hljs-title function_">time</span> <span class="hljs-params">(millisec)</span>   = Not Collected<br>  Total buffer pool write <span class="hljs-title function_">time</span> <span class="hljs-params">(millisec)</span>  = Not Collected<br>  Total elapsed asynchronous <span class="hljs-type">read</span> <span class="hljs-variable">time</span>     <span class="hljs-operator">=</span> Not Collected<br>  Total elapsed asynchronous <span class="hljs-type">write</span> <span class="hljs-variable">time</span>    <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous data <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>          <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous index <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>         <span class="hljs-operator">=</span> Not Collected<br>  No victim <span class="hljs-type">buffers</span> <span class="hljs-variable">available</span>              <span class="hljs-operator">=</span> Not Collected<br>  <span class="hljs-type">Direct</span> <span class="hljs-variable">reads</span>                             <span class="hljs-operator">=</span> Not Collected<br>  <span class="hljs-type">Direct</span> <span class="hljs-variable">writes</span>                            <span class="hljs-operator">=</span> Not Collected<br>  Direct <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>                     <span class="hljs-operator">=</span> Not Collected<br>  Direct <span class="hljs-type">write</span> <span class="hljs-variable">requests</span>                    <span class="hljs-operator">=</span> Not Collected<br>  Direct reads elapsed <span class="hljs-title function_">time</span> <span class="hljs-params">(ms)</span>           = Not Collected<br>  Direct write elapsed <span class="hljs-title function_">time</span> <span class="hljs-params">(ms)</span>           = Not Collected<br>  Number of <span class="hljs-type">files</span> <span class="hljs-variable">closed</span>                   <span class="hljs-operator">=</span> Not Collected<br><br><br><span class="hljs-type">Tablespace</span> <span class="hljs-variable">name</span>                            <span class="hljs-operator">=</span> TBS_MXZ<br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                            <span class="hljs-operator">=</span> <span class="hljs-number">2</span><br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">Type</span>                          <span class="hljs-operator">=</span> Database managed space<br>  Tablespace <span class="hljs-type">Content</span> <span class="hljs-variable">Type</span>                  <span class="hljs-operator">=</span> All permanent data. Large table space.<br>  Tablespace Page <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>             = <span class="hljs-number">8192</span><br>  Tablespace Extent <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>           = <span class="hljs-number">32</span><br>  Automatic Prefetch <span class="hljs-type">size</span> <span class="hljs-variable">enabled</span>          <span class="hljs-operator">=</span> No<br>  Tablespace Prefetch <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>         = <span class="hljs-number">256</span><br>  Buffer pool ID currently <span class="hljs-type">in</span> <span class="hljs-variable">use</span>          <span class="hljs-operator">=</span> <span class="hljs-number">2</span><br>  Buffer pool ID <span class="hljs-type">next</span> <span class="hljs-variable">startup</span>              <span class="hljs-operator">=</span> <span class="hljs-number">2</span><br>  Using <span class="hljs-type">automatic</span> <span class="hljs-variable">storage</span>                  <span class="hljs-operator">=</span> No<br>  Auto-<span class="hljs-type">resize</span> <span class="hljs-variable">enabled</span>                      <span class="hljs-operator">=</span> No<br>  File <span class="hljs-type">system</span> <span class="hljs-variable">caching</span>                      <span class="hljs-operator">=</span> No<br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">State</span>                         <span class="hljs-operator">=</span> 0x<span class="hljs-string">&#x27;00000000&#x27;</span><br>   Detailed explanation:<br>     Normal<br>  Total number <span class="hljs-type">of</span> <span class="hljs-variable">pages</span>                    <span class="hljs-operator">=</span> <span class="hljs-number">58982400</span><br>  Number of <span class="hljs-type">usable</span> <span class="hljs-variable">pages</span>                   <span class="hljs-operator">=</span> <span class="hljs-number">58982112</span><br>  Number of <span class="hljs-type">used</span> <span class="hljs-variable">pages</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">55398464</span><br>  Number of pending <span class="hljs-type">free</span> <span class="hljs-variable">pages</span>             <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number of <span class="hljs-type">free</span> <span class="hljs-variable">pages</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">3583648</span><br>  High water <span class="hljs-title function_">mark</span> <span class="hljs-params">(pages)</span>                  = <span class="hljs-number">55398528</span><br>  Current tablespace <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>          = <span class="hljs-number">483183820800</span><br>  <span class="hljs-type">Rebalancer</span> <span class="hljs-variable">Mode</span>                          <span class="hljs-operator">=</span> No Rebalancing<br>  Minimum <span class="hljs-type">Recovery</span> <span class="hljs-variable">Time</span>                    <span class="hljs-operator">=</span><br>  Number <span class="hljs-type">of</span> <span class="hljs-variable">quiescers</span>                      <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number <span class="hljs-type">of</span> <span class="hljs-variable">containers</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">9</span><br><br>  <span class="hljs-type">Container</span> <span class="hljs-variable">Name</span>                           <span class="hljs-operator">=</span> /home/db2inst1/YKSPAS3/PAS_DATA/TBS_MXZ1<br>      <span class="hljs-type">Container</span> <span class="hljs-variable">ID</span>                         <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      <span class="hljs-type">Container</span> <span class="hljs-variable">Type</span>                       <span class="hljs-operator">=</span> File (extent sized tag)<br>      Total Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>             <span class="hljs-operator">=</span> <span class="hljs-number">3932160</span><br>      Usable Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>            <span class="hljs-operator">=</span> <span class="hljs-number">3932128</span><br>      <span class="hljs-type">Stripe</span> <span class="hljs-variable">Set</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Container <span class="hljs-type">is</span> <span class="hljs-variable">accessible</span>              <span class="hljs-operator">=</span> Yes<br><br>  <span class="hljs-type">Container</span> <span class="hljs-variable">Name</span>                           <span class="hljs-operator">=</span> /home/db2inst1/YKSPAS3/PAS_DATA/TBS_MXZ2<br>      <span class="hljs-type">Container</span> <span class="hljs-variable">ID</span>                         <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br>      <span class="hljs-type">Container</span> <span class="hljs-variable">Type</span>                       <span class="hljs-operator">=</span> File (extent sized tag)<br>      Total Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>             <span class="hljs-operator">=</span> <span class="hljs-number">3932160</span><br>      Usable Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>            <span class="hljs-operator">=</span> <span class="hljs-number">3932128</span><br>      <span class="hljs-type">Stripe</span> <span class="hljs-variable">Set</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Container <span class="hljs-type">is</span> <span class="hljs-variable">accessible</span>              <span class="hljs-operator">=</span> Yes<br><br>  <span class="hljs-type">Container</span> <span class="hljs-variable">Name</span>                           <span class="hljs-operator">=</span> /home/db2inst1/YKSPAS3/PAS_DATA/TBS_MXZ3<br>      <span class="hljs-type">Container</span> <span class="hljs-variable">ID</span>                         <span class="hljs-operator">=</span> <span class="hljs-number">2</span><br>      <span class="hljs-type">Container</span> <span class="hljs-variable">Type</span>                       <span class="hljs-operator">=</span> File (extent sized tag)<br>      Total Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>             <span class="hljs-operator">=</span> <span class="hljs-number">3932160</span><br>      Usable Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>            <span class="hljs-operator">=</span> <span class="hljs-number">3932128</span><br>      <span class="hljs-type">Stripe</span> <span class="hljs-variable">Set</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Container <span class="hljs-type">is</span> <span class="hljs-variable">accessible</span>              <span class="hljs-operator">=</span> Yes<br><br>  <span class="hljs-type">Container</span> <span class="hljs-variable">Name</span>                           <span class="hljs-operator">=</span> /home/db2inst1/YKSPAS3/PAS_DATA/TBS_MXZ4<br>      <span class="hljs-type">Container</span> <span class="hljs-variable">ID</span>                         <span class="hljs-operator">=</span> <span class="hljs-number">3</span><br>      <span class="hljs-type">Container</span> <span class="hljs-variable">Type</span>                       <span class="hljs-operator">=</span> File (extent sized tag)<br>      Total Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>             <span class="hljs-operator">=</span> <span class="hljs-number">3932160</span><br>      Usable Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>            <span class="hljs-operator">=</span> <span class="hljs-number">3932128</span><br>      <span class="hljs-type">Stripe</span> <span class="hljs-variable">Set</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Container <span class="hljs-type">is</span> <span class="hljs-variable">accessible</span>              <span class="hljs-operator">=</span> Yes<br><br>  <span class="hljs-type">Container</span> <span class="hljs-variable">Name</span>                           <span class="hljs-operator">=</span> /home/db2inst1/YKSPAS3/PAS_DATA/TBS_MXZ5<br>      <span class="hljs-type">Container</span> <span class="hljs-variable">ID</span>                         <span class="hljs-operator">=</span> <span class="hljs-number">4</span><br>      <span class="hljs-type">Container</span> <span class="hljs-variable">Type</span>                       <span class="hljs-operator">=</span> File (extent sized tag)<br>      Total Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>             <span class="hljs-operator">=</span> <span class="hljs-number">3932160</span><br>      Usable Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>            <span class="hljs-operator">=</span> <span class="hljs-number">3932128</span><br>      <span class="hljs-type">Stripe</span> <span class="hljs-variable">Set</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Container <span class="hljs-type">is</span> <span class="hljs-variable">accessible</span>              <span class="hljs-operator">=</span> Yes<br><br>  <span class="hljs-type">Container</span> <span class="hljs-variable">Name</span>                           <span class="hljs-operator">=</span> /home/db2inst1/YKSPAS3/PAS_DATA/TBS_MXZ6<br>      <span class="hljs-type">Container</span> <span class="hljs-variable">ID</span>                         <span class="hljs-operator">=</span> <span class="hljs-number">5</span><br>      <span class="hljs-type">Container</span> <span class="hljs-variable">Type</span>                       <span class="hljs-operator">=</span> File (extent sized tag)<br>      Total Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>             <span class="hljs-operator">=</span> <span class="hljs-number">11796480</span><br>      Usable Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>            <span class="hljs-operator">=</span> <span class="hljs-number">11796448</span><br>      <span class="hljs-type">Stripe</span> <span class="hljs-variable">Set</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Container <span class="hljs-type">is</span> <span class="hljs-variable">accessible</span>              <span class="hljs-operator">=</span> Yes<br><br>  <span class="hljs-type">Container</span> <span class="hljs-variable">Name</span>                           <span class="hljs-operator">=</span> /home/db2inst1/YKSPAS3/PAS_DATA/TBS_MXZ7<br>      <span class="hljs-type">Container</span> <span class="hljs-variable">ID</span>                         <span class="hljs-operator">=</span> <span class="hljs-number">6</span><br>      <span class="hljs-type">Container</span> <span class="hljs-variable">Type</span>                       <span class="hljs-operator">=</span> File (extent sized tag)<br>      Total Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>             <span class="hljs-operator">=</span> <span class="hljs-number">7864320</span><br>      Usable Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>            <span class="hljs-operator">=</span> <span class="hljs-number">7864288</span><br>      <span class="hljs-type">Stripe</span> <span class="hljs-variable">Set</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Container <span class="hljs-type">is</span> <span class="hljs-variable">accessible</span>              <span class="hljs-operator">=</span> Yes<br><br>  <span class="hljs-type">Container</span> <span class="hljs-variable">Name</span>                           <span class="hljs-operator">=</span> /home/db2inst1/YKSPAS3/PAS_DATA/TBS_MXZ8<br>      <span class="hljs-type">Container</span> <span class="hljs-variable">ID</span>                         <span class="hljs-operator">=</span> <span class="hljs-number">7</span><br>      <span class="hljs-type">Container</span> <span class="hljs-variable">Type</span>                       <span class="hljs-operator">=</span> File (extent sized tag)<br>      Total Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>             <span class="hljs-operator">=</span> <span class="hljs-number">11796480</span><br>      Usable Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>            <span class="hljs-operator">=</span> <span class="hljs-number">11796448</span><br>      <span class="hljs-type">Stripe</span> <span class="hljs-variable">Set</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Container <span class="hljs-type">is</span> <span class="hljs-variable">accessible</span>              <span class="hljs-operator">=</span> Yes<br><br>  <span class="hljs-type">Container</span> <span class="hljs-variable">Name</span>                           <span class="hljs-operator">=</span> /home/db2inst1/YKSPAS3/PAS_DATA/TBS_MXZ9<br>      <span class="hljs-type">Container</span> <span class="hljs-variable">ID</span>                         <span class="hljs-operator">=</span> <span class="hljs-number">8</span><br>      <span class="hljs-type">Container</span> <span class="hljs-variable">Type</span>                       <span class="hljs-operator">=</span> File (extent sized tag)<br>      Total Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>             <span class="hljs-operator">=</span> <span class="hljs-number">7864320</span><br>      Usable Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>            <span class="hljs-operator">=</span> <span class="hljs-number">7864288</span><br>      <span class="hljs-type">Stripe</span> <span class="hljs-variable">Set</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Container <span class="hljs-type">is</span> <span class="hljs-variable">accessible</span>              <span class="hljs-operator">=</span> Yes<br><br>  Table space map:<br><br>   Range  Stripe Stripe  Max         Max  Start  End    Adj.   Containers<br>   Number Set    Offset  Extent      Page Stripe Stripe<br>   [   <span class="hljs-number">0</span>] [   <span class="hljs-number">0</span>]      <span class="hljs-number">0</span>  <span class="hljs-number">983031</span>  <span class="hljs-number">31457023</span>      <span class="hljs-number">0</span> <span class="hljs-number">122878</span>   <span class="hljs-number">0</span>    <span class="hljs-number">8</span> (<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>)<br>   [   <span class="hljs-number">1</span>] [   <span class="hljs-number">0</span>]      <span class="hljs-number">0</span>  <span class="hljs-number">983034</span>  <span class="hljs-number">31457119</span> <span class="hljs-number">122879</span> <span class="hljs-number">122879</span>   <span class="hljs-number">0</span>    <span class="hljs-number">3</span> (<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>)<br>   [   <span class="hljs-number">2</span>] [   <span class="hljs-number">0</span>]      <span class="hljs-number">0</span> <span class="hljs-number">1474550</span>  <span class="hljs-number">47185631</span> <span class="hljs-number">122880</span> <span class="hljs-number">245758</span>   <span class="hljs-number">0</span>    <span class="hljs-number">4</span> (<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>)<br>   [   <span class="hljs-number">3</span>] [   <span class="hljs-number">0</span>]      <span class="hljs-number">0</span> <span class="hljs-number">1843190</span>  <span class="hljs-number">58982111</span> <span class="hljs-number">245759</span> <span class="hljs-number">368638</span>   <span class="hljs-number">0</span>    <span class="hljs-number">3</span> (<span class="hljs-number">5</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>)<br><br>  Buffer pool data <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>           <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool data <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>          <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary data <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>   <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary data <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>  <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool data <span class="hljs-type">page</span> <span class="hljs-variable">reads</span>        <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool <span class="hljs-type">data</span> <span class="hljs-variable">writes</span>                  <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool data <span class="hljs-type">page</span> <span class="hljs-variable">writes</span>       <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool index <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>          <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool index <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>         <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary index <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>  <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary index <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span> <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool index <span class="hljs-type">page</span> <span class="hljs-variable">reads</span>       <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool <span class="hljs-type">index</span> <span class="hljs-variable">writes</span>                 <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool index <span class="hljs-type">page</span> <span class="hljs-variable">writes</span>      <span class="hljs-operator">=</span> Not Collected<br>  Total buffer pool read <span class="hljs-title function_">time</span> <span class="hljs-params">(millisec)</span>   = Not Collected<br>  Total buffer pool write <span class="hljs-title function_">time</span> <span class="hljs-params">(millisec)</span>  = Not Collected<br>  Total elapsed asynchronous <span class="hljs-type">read</span> <span class="hljs-variable">time</span>     <span class="hljs-operator">=</span> Not Collected<br>  Total elapsed asynchronous <span class="hljs-type">write</span> <span class="hljs-variable">time</span>    <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous data <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>          <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous index <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>         <span class="hljs-operator">=</span> Not Collected<br>  No victim <span class="hljs-type">buffers</span> <span class="hljs-variable">available</span>              <span class="hljs-operator">=</span> Not Collected<br>  <span class="hljs-type">Direct</span> <span class="hljs-variable">reads</span>                             <span class="hljs-operator">=</span> Not Collected<br>  <span class="hljs-type">Direct</span> <span class="hljs-variable">writes</span>                            <span class="hljs-operator">=</span> Not Collected<br>  Direct <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>                     <span class="hljs-operator">=</span> Not Collected<br>  Direct <span class="hljs-type">write</span> <span class="hljs-variable">requests</span>                    <span class="hljs-operator">=</span> Not Collected<br>  Direct reads elapsed <span class="hljs-title function_">time</span> <span class="hljs-params">(ms)</span>           = Not Collected<br>  Direct write elapsed <span class="hljs-title function_">time</span> <span class="hljs-params">(ms)</span>           = Not Collected<br>  Number of <span class="hljs-type">files</span> <span class="hljs-variable">closed</span>                   <span class="hljs-operator">=</span> Not Collected<br><br><br><span class="hljs-type">Tablespace</span> <span class="hljs-variable">name</span>                            <span class="hljs-operator">=</span> SYSTOOLSPACE<br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                            <span class="hljs-operator">=</span> <span class="hljs-number">3</span><br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">Type</span>                          <span class="hljs-operator">=</span> Database managed space<br>  Tablespace <span class="hljs-type">Content</span> <span class="hljs-variable">Type</span>                  <span class="hljs-operator">=</span> All permanent data. Large table space.<br>  Tablespace Page <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>             = <span class="hljs-number">4096</span><br>  Tablespace Extent <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>           = <span class="hljs-number">4</span><br>  Automatic Prefetch <span class="hljs-type">size</span> <span class="hljs-variable">enabled</span>          <span class="hljs-operator">=</span> Yes<br>  Buffer pool ID currently <span class="hljs-type">in</span> <span class="hljs-variable">use</span>          <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br>  Buffer pool ID <span class="hljs-type">next</span> <span class="hljs-variable">startup</span>              <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br>  Using <span class="hljs-type">automatic</span> <span class="hljs-variable">storage</span>                  <span class="hljs-operator">=</span> Yes<br>  Auto-<span class="hljs-type">resize</span> <span class="hljs-variable">enabled</span>                      <span class="hljs-operator">=</span> Yes<br>  File <span class="hljs-type">system</span> <span class="hljs-variable">caching</span>                      <span class="hljs-operator">=</span> No<br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">State</span>                         <span class="hljs-operator">=</span> 0x<span class="hljs-string">&#x27;00000000&#x27;</span><br>   Detailed explanation:<br>     Normal<br>  Tablespace Prefetch <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>         = <span class="hljs-number">4</span><br>  Total number <span class="hljs-type">of</span> <span class="hljs-variable">pages</span>                    <span class="hljs-operator">=</span> <span class="hljs-number">8192</span><br>  Number of <span class="hljs-type">usable</span> <span class="hljs-variable">pages</span>                   <span class="hljs-operator">=</span> <span class="hljs-number">8188</span><br>  Number of <span class="hljs-type">used</span> <span class="hljs-variable">pages</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">620</span><br>  Number of pending <span class="hljs-type">free</span> <span class="hljs-variable">pages</span>             <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number of <span class="hljs-type">free</span> <span class="hljs-variable">pages</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">7568</span><br>  High water <span class="hljs-title function_">mark</span> <span class="hljs-params">(pages)</span>                  = <span class="hljs-number">620</span><br>  Initial tablespace <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>          = <span class="hljs-number">33554432</span><br>  Current tablespace <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>          = <span class="hljs-number">33554432</span><br>  Maximum tablespace <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>          = NONE<br>  Increase <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>                    = AUTOMATIC<br>  Time of last <span class="hljs-type">successful</span> <span class="hljs-variable">resize</span>           <span class="hljs-operator">=</span><br>  Last resize <span class="hljs-type">attempt</span> <span class="hljs-variable">failed</span>               <span class="hljs-operator">=</span> No<br>  <span class="hljs-type">Rebalancer</span> <span class="hljs-variable">Mode</span>                          <span class="hljs-operator">=</span> No Rebalancing<br>  Storage paths have <span class="hljs-type">been</span> <span class="hljs-variable">dropped</span>          <span class="hljs-operator">=</span> No<br>  Minimum <span class="hljs-type">Recovery</span> <span class="hljs-variable">Time</span>                    <span class="hljs-operator">=</span><br>  Number <span class="hljs-type">of</span> <span class="hljs-variable">quiescers</span>                      <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number <span class="hljs-type">of</span> <span class="hljs-variable">containers</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br><br>  <span class="hljs-type">Container</span> <span class="hljs-variable">Name</span>                           <span class="hljs-operator">=</span> /home/yksbf/db2inst1/NODE0000/YKSPAS3/T0000003/C0000000.LRG<br>      <span class="hljs-type">Container</span> <span class="hljs-variable">ID</span>                         <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      <span class="hljs-type">Container</span> <span class="hljs-variable">Type</span>                       <span class="hljs-operator">=</span> File (extent sized tag)<br>      Total Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>             <span class="hljs-operator">=</span> <span class="hljs-number">8192</span><br>      Usable Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>            <span class="hljs-operator">=</span> <span class="hljs-number">8188</span><br>      <span class="hljs-type">Stripe</span> <span class="hljs-variable">Set</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Container <span class="hljs-type">is</span> <span class="hljs-variable">accessible</span>              <span class="hljs-operator">=</span> Yes<br><br>  Table space map:<br><br>   Range  Stripe Stripe  Max         Max  Start  End    Adj.   Containers<br>   Number Set    Offset  Extent      Page Stripe Stripe<br>   [   <span class="hljs-number">0</span>] [   <span class="hljs-number">0</span>]      <span class="hljs-number">0</span>    <span class="hljs-number">2046</span>      <span class="hljs-number">8187</span>      <span class="hljs-number">0</span>   <span class="hljs-number">2046</span>   <span class="hljs-number">0</span>    <span class="hljs-number">1</span> (<span class="hljs-number">0</span>)<br><br>  Buffer pool data <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>           <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool data <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>          <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary data <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>   <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary data <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>  <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool data <span class="hljs-type">page</span> <span class="hljs-variable">reads</span>        <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool <span class="hljs-type">data</span> <span class="hljs-variable">writes</span>                  <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool data <span class="hljs-type">page</span> <span class="hljs-variable">writes</span>       <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool index <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>          <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool index <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>         <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary index <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>  <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary index <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span> <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool index <span class="hljs-type">page</span> <span class="hljs-variable">reads</span>       <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool <span class="hljs-type">index</span> <span class="hljs-variable">writes</span>                 <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool index <span class="hljs-type">page</span> <span class="hljs-variable">writes</span>      <span class="hljs-operator">=</span> Not Collected<br>  Total buffer pool read <span class="hljs-title function_">time</span> <span class="hljs-params">(millisec)</span>   = Not Collected<br>  Total buffer pool write <span class="hljs-title function_">time</span> <span class="hljs-params">(millisec)</span>  = Not Collected<br>  Total elapsed asynchronous <span class="hljs-type">read</span> <span class="hljs-variable">time</span>     <span class="hljs-operator">=</span> Not Collected<br>  Total elapsed asynchronous <span class="hljs-type">write</span> <span class="hljs-variable">time</span>    <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous data <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>          <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous index <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>         <span class="hljs-operator">=</span> Not Collected<br>  No victim <span class="hljs-type">buffers</span> <span class="hljs-variable">available</span>              <span class="hljs-operator">=</span> Not Collected<br>  <span class="hljs-type">Direct</span> <span class="hljs-variable">reads</span>                             <span class="hljs-operator">=</span> Not Collected<br>  <span class="hljs-type">Direct</span> <span class="hljs-variable">writes</span>                            <span class="hljs-operator">=</span> Not Collected<br>  Direct <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>                     <span class="hljs-operator">=</span> Not Collected<br>  Direct <span class="hljs-type">write</span> <span class="hljs-variable">requests</span>                    <span class="hljs-operator">=</span> Not Collected<br>  Direct reads elapsed <span class="hljs-title function_">time</span> <span class="hljs-params">(ms)</span>           = Not Collected<br>  Direct write elapsed <span class="hljs-title function_">time</span> <span class="hljs-params">(ms)</span>           = Not Collected<br>  Number of <span class="hljs-type">files</span> <span class="hljs-variable">closed</span>                   <span class="hljs-operator">=</span> Not Collected<br><br><br><span class="hljs-type">Tablespace</span> <span class="hljs-variable">name</span>                            <span class="hljs-operator">=</span> TBS_PAS<br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                            <span class="hljs-operator">=</span> <span class="hljs-number">4</span><br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">Type</span>                          <span class="hljs-operator">=</span> Database managed space<br>  Tablespace <span class="hljs-type">Content</span> <span class="hljs-variable">Type</span>                  <span class="hljs-operator">=</span> All permanent data. Large table space.<br>  Tablespace Page <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>             = <span class="hljs-number">8192</span><br>  Tablespace Extent <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>           = <span class="hljs-number">32</span><br>  Automatic Prefetch <span class="hljs-type">size</span> <span class="hljs-variable">enabled</span>          <span class="hljs-operator">=</span> No<br>  Tablespace Prefetch <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>         = <span class="hljs-number">64</span><br>  Buffer pool ID currently <span class="hljs-type">in</span> <span class="hljs-variable">use</span>          <span class="hljs-operator">=</span> <span class="hljs-number">2</span><br>  Buffer pool ID <span class="hljs-type">next</span> <span class="hljs-variable">startup</span>              <span class="hljs-operator">=</span> <span class="hljs-number">2</span><br>  Using <span class="hljs-type">automatic</span> <span class="hljs-variable">storage</span>                  <span class="hljs-operator">=</span> No<br>  Auto-<span class="hljs-type">resize</span> <span class="hljs-variable">enabled</span>                      <span class="hljs-operator">=</span> No<br>  File <span class="hljs-type">system</span> <span class="hljs-variable">caching</span>                      <span class="hljs-operator">=</span> No<br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">State</span>                         <span class="hljs-operator">=</span> 0x<span class="hljs-string">&#x27;00000000&#x27;</span><br>   Detailed explanation:<br>     Normal<br>  Total number <span class="hljs-type">of</span> <span class="hljs-variable">pages</span>                    <span class="hljs-operator">=</span> <span class="hljs-number">7864320</span><br>  Number of <span class="hljs-type">usable</span> <span class="hljs-variable">pages</span>                   <span class="hljs-operator">=</span> <span class="hljs-number">7864256</span><br>  Number of <span class="hljs-type">used</span> <span class="hljs-variable">pages</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">2028416</span><br>  Number of pending <span class="hljs-type">free</span> <span class="hljs-variable">pages</span>             <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number of <span class="hljs-type">free</span> <span class="hljs-variable">pages</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">5835840</span><br>  High water <span class="hljs-title function_">mark</span> <span class="hljs-params">(pages)</span>                  = <span class="hljs-number">2028416</span><br>  Current tablespace <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>          = <span class="hljs-number">64424509440</span><br>  <span class="hljs-type">Rebalancer</span> <span class="hljs-variable">Mode</span>                          <span class="hljs-operator">=</span> No Rebalancing<br>  Minimum <span class="hljs-type">Recovery</span> <span class="hljs-variable">Time</span>                    <span class="hljs-operator">=</span><br>  Number <span class="hljs-type">of</span> <span class="hljs-variable">quiescers</span>                      <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number <span class="hljs-type">of</span> <span class="hljs-variable">containers</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">2</span><br><br>  <span class="hljs-type">Container</span> <span class="hljs-variable">Name</span>                           <span class="hljs-operator">=</span> /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_DATA/TBS_PAS1<br>      <span class="hljs-type">Container</span> <span class="hljs-variable">ID</span>                         <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      <span class="hljs-type">Container</span> <span class="hljs-variable">Type</span>                       <span class="hljs-operator">=</span> File (extent sized tag)<br>      Total Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>             <span class="hljs-operator">=</span> <span class="hljs-number">3932160</span><br>      Usable Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>            <span class="hljs-operator">=</span> <span class="hljs-number">3932128</span><br>      <span class="hljs-type">Stripe</span> <span class="hljs-variable">Set</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Container <span class="hljs-type">is</span> <span class="hljs-variable">accessible</span>              <span class="hljs-operator">=</span> Yes<br><br>  <span class="hljs-type">Container</span> <span class="hljs-variable">Name</span>                           <span class="hljs-operator">=</span> /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_DATA/TBS_PAS2<br>      <span class="hljs-type">Container</span> <span class="hljs-variable">ID</span>                         <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br>      <span class="hljs-type">Container</span> <span class="hljs-variable">Type</span>                       <span class="hljs-operator">=</span> File (extent sized tag)<br>      Total Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>             <span class="hljs-operator">=</span> <span class="hljs-number">3932160</span><br>      Usable Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>            <span class="hljs-operator">=</span> <span class="hljs-number">3932128</span><br>      <span class="hljs-type">Stripe</span> <span class="hljs-variable">Set</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Container <span class="hljs-type">is</span> <span class="hljs-variable">accessible</span>              <span class="hljs-operator">=</span> Yes<br><br>  Table space map:<br><br>   Range  Stripe Stripe  Max         Max  Start  End    Adj.   Containers<br>   Number Set    Offset  Extent      Page Stripe Stripe<br>   [   <span class="hljs-number">0</span>] [   <span class="hljs-number">0</span>]      <span class="hljs-number">0</span>  <span class="hljs-number">245757</span>   <span class="hljs-number">7864255</span>      <span class="hljs-number">0</span> <span class="hljs-number">122878</span>   <span class="hljs-number">0</span>    <span class="hljs-number">2</span> (<span class="hljs-number">0</span>,<span class="hljs-number">1</span>)<br><br>  Buffer pool data <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>           <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool data <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>          <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary data <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>   <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary data <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>  <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool data <span class="hljs-type">page</span> <span class="hljs-variable">reads</span>        <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool <span class="hljs-type">data</span> <span class="hljs-variable">writes</span>                  <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool data <span class="hljs-type">page</span> <span class="hljs-variable">writes</span>       <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool index <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>          <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool index <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>         <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary index <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>  <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary index <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span> <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool index <span class="hljs-type">page</span> <span class="hljs-variable">reads</span>       <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool <span class="hljs-type">index</span> <span class="hljs-variable">writes</span>                 <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool index <span class="hljs-type">page</span> <span class="hljs-variable">writes</span>      <span class="hljs-operator">=</span> Not Collected<br>  Total buffer pool read <span class="hljs-title function_">time</span> <span class="hljs-params">(millisec)</span>   = Not Collected<br>  Total buffer pool write <span class="hljs-title function_">time</span> <span class="hljs-params">(millisec)</span>  = Not Collected<br>  Total elapsed asynchronous <span class="hljs-type">read</span> <span class="hljs-variable">time</span>     <span class="hljs-operator">=</span> Not Collected<br>  Total elapsed asynchronous <span class="hljs-type">write</span> <span class="hljs-variable">time</span>    <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous data <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>          <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous index <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>         <span class="hljs-operator">=</span> Not Collected<br>  No victim <span class="hljs-type">buffers</span> <span class="hljs-variable">available</span>              <span class="hljs-operator">=</span> Not Collected<br>  <span class="hljs-type">Direct</span> <span class="hljs-variable">reads</span>                             <span class="hljs-operator">=</span> Not Collected<br>  <span class="hljs-type">Direct</span> <span class="hljs-variable">writes</span>                            <span class="hljs-operator">=</span> Not Collected<br>  Direct <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>                     <span class="hljs-operator">=</span> Not Collected<br>  Direct <span class="hljs-type">write</span> <span class="hljs-variable">requests</span>                    <span class="hljs-operator">=</span> Not Collected<br>  Direct reads elapsed <span class="hljs-title function_">time</span> <span class="hljs-params">(ms)</span>           = Not Collected<br>  Direct write elapsed <span class="hljs-title function_">time</span> <span class="hljs-params">(ms)</span>           = Not Collected<br>  Number of <span class="hljs-type">files</span> <span class="hljs-variable">closed</span>                   <span class="hljs-operator">=</span> Not Collected<br><br><br><span class="hljs-type">Tablespace</span> <span class="hljs-variable">name</span>                            <span class="hljs-operator">=</span> TBS_JKSJ<br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                            <span class="hljs-operator">=</span> <span class="hljs-number">5</span><br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">Type</span>                          <span class="hljs-operator">=</span> Database managed space<br>  Tablespace <span class="hljs-type">Content</span> <span class="hljs-variable">Type</span>                  <span class="hljs-operator">=</span> All permanent data. Large table space.<br>  Tablespace Page <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>             = <span class="hljs-number">8192</span><br>  Tablespace Extent <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>           = <span class="hljs-number">16</span><br>  Automatic Prefetch <span class="hljs-type">size</span> <span class="hljs-variable">enabled</span>          <span class="hljs-operator">=</span> No<br>  Tablespace Prefetch <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>         = <span class="hljs-number">32</span><br>  Buffer pool ID currently <span class="hljs-type">in</span> <span class="hljs-variable">use</span>          <span class="hljs-operator">=</span> <span class="hljs-number">2</span><br>  Buffer pool ID <span class="hljs-type">next</span> <span class="hljs-variable">startup</span>              <span class="hljs-operator">=</span> <span class="hljs-number">2</span><br>  Using <span class="hljs-type">automatic</span> <span class="hljs-variable">storage</span>                  <span class="hljs-operator">=</span> No<br>  Auto-<span class="hljs-type">resize</span> <span class="hljs-variable">enabled</span>                      <span class="hljs-operator">=</span> No<br>  File <span class="hljs-type">system</span> <span class="hljs-variable">caching</span>                      <span class="hljs-operator">=</span> No<br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">State</span>                         <span class="hljs-operator">=</span> 0x<span class="hljs-string">&#x27;00000000&#x27;</span><br>   Detailed explanation:<br>     Normal<br>  Total number <span class="hljs-type">of</span> <span class="hljs-variable">pages</span>                    <span class="hljs-operator">=</span> <span class="hljs-number">655360</span><br>  Number of <span class="hljs-type">usable</span> <span class="hljs-variable">pages</span>                   <span class="hljs-operator">=</span> <span class="hljs-number">655344</span><br>  Number of <span class="hljs-type">used</span> <span class="hljs-variable">pages</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">508512</span><br>  Number of pending <span class="hljs-type">free</span> <span class="hljs-variable">pages</span>             <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number of <span class="hljs-type">free</span> <span class="hljs-variable">pages</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">146832</span><br>  High water <span class="hljs-title function_">mark</span> <span class="hljs-params">(pages)</span>                  = <span class="hljs-number">508912</span><br>  Current tablespace <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>          = <span class="hljs-number">5368709120</span><br>  <span class="hljs-type">Rebalancer</span> <span class="hljs-variable">Mode</span>                          <span class="hljs-operator">=</span> No Rebalancing<br>  Minimum <span class="hljs-type">Recovery</span> <span class="hljs-variable">Time</span>                    <span class="hljs-operator">=</span><br>  Number <span class="hljs-type">of</span> <span class="hljs-variable">quiescers</span>                      <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number <span class="hljs-type">of</span> <span class="hljs-variable">containers</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br><br>  <span class="hljs-type">Container</span> <span class="hljs-variable">Name</span>                           <span class="hljs-operator">=</span> /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_DATA/TBS_JKSJ1<br>      <span class="hljs-type">Container</span> <span class="hljs-variable">ID</span>                         <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      <span class="hljs-type">Container</span> <span class="hljs-variable">Type</span>                       <span class="hljs-operator">=</span> File (extent sized tag)<br>      Total Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>             <span class="hljs-operator">=</span> <span class="hljs-number">655360</span><br>      Usable Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>            <span class="hljs-operator">=</span> <span class="hljs-number">655344</span><br>      <span class="hljs-type">Stripe</span> <span class="hljs-variable">Set</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Container <span class="hljs-type">is</span> <span class="hljs-variable">accessible</span>              <span class="hljs-operator">=</span> Yes<br><br>  Table space map:<br><br>   Range  Stripe Stripe  Max         Max  Start  End    Adj.   Containers<br>   Number Set    Offset  Extent      Page Stripe Stripe<br>   [   <span class="hljs-number">0</span>] [   <span class="hljs-number">0</span>]      <span class="hljs-number">0</span>   <span class="hljs-number">40958</span>    <span class="hljs-number">655343</span>      <span class="hljs-number">0</span>  <span class="hljs-number">40958</span>   <span class="hljs-number">0</span>    <span class="hljs-number">1</span> (<span class="hljs-number">0</span>)<br><br>  Buffer pool data <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>           <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool data <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>          <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary data <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>   <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary data <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>  <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool data <span class="hljs-type">page</span> <span class="hljs-variable">reads</span>        <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool <span class="hljs-type">data</span> <span class="hljs-variable">writes</span>                  <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool data <span class="hljs-type">page</span> <span class="hljs-variable">writes</span>       <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool index <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>          <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool index <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>         <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary index <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>  <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary index <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span> <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool index <span class="hljs-type">page</span> <span class="hljs-variable">reads</span>       <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool <span class="hljs-type">index</span> <span class="hljs-variable">writes</span>                 <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool index <span class="hljs-type">page</span> <span class="hljs-variable">writes</span>      <span class="hljs-operator">=</span> Not Collected<br>  Total buffer pool read <span class="hljs-title function_">time</span> <span class="hljs-params">(millisec)</span>   = Not Collected<br>  Total buffer pool write <span class="hljs-title function_">time</span> <span class="hljs-params">(millisec)</span>  = Not Collected<br>  Total elapsed asynchronous <span class="hljs-type">read</span> <span class="hljs-variable">time</span>     <span class="hljs-operator">=</span> Not Collected<br>  Total elapsed asynchronous <span class="hljs-type">write</span> <span class="hljs-variable">time</span>    <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous data <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>          <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous index <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>         <span class="hljs-operator">=</span> Not Collected<br>  No victim <span class="hljs-type">buffers</span> <span class="hljs-variable">available</span>              <span class="hljs-operator">=</span> Not Collected<br>  <span class="hljs-type">Direct</span> <span class="hljs-variable">reads</span>                             <span class="hljs-operator">=</span> Not Collected<br>  <span class="hljs-type">Direct</span> <span class="hljs-variable">writes</span>                            <span class="hljs-operator">=</span> Not Collected<br>  Direct <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>                     <span class="hljs-operator">=</span> Not Collected<br>  Direct <span class="hljs-type">write</span> <span class="hljs-variable">requests</span>                    <span class="hljs-operator">=</span> Not Collected<br>  Direct reads elapsed <span class="hljs-title function_">time</span> <span class="hljs-params">(ms)</span>           = Not Collected<br>  Direct write elapsed <span class="hljs-title function_">time</span> <span class="hljs-params">(ms)</span>           = Not Collected<br>  Number of <span class="hljs-type">files</span> <span class="hljs-variable">closed</span>                   <span class="hljs-operator">=</span> Not Collected<br><br><br><span class="hljs-type">Tablespace</span> <span class="hljs-variable">name</span>                            <span class="hljs-operator">=</span> TBS_JXDX<br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                            <span class="hljs-operator">=</span> <span class="hljs-number">6</span><br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">Type</span>                          <span class="hljs-operator">=</span> Database managed space<br>  Tablespace <span class="hljs-type">Content</span> <span class="hljs-variable">Type</span>                  <span class="hljs-operator">=</span> All permanent data. Large table space.<br>  Tablespace Page <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>             = <span class="hljs-number">8192</span><br>  Tablespace Extent <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>           = <span class="hljs-number">32</span><br>  Automatic Prefetch <span class="hljs-type">size</span> <span class="hljs-variable">enabled</span>          <span class="hljs-operator">=</span> No<br>  Tablespace Prefetch <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>         = <span class="hljs-number">64</span><br>  Buffer pool ID currently <span class="hljs-type">in</span> <span class="hljs-variable">use</span>          <span class="hljs-operator">=</span> <span class="hljs-number">2</span><br>  Buffer pool ID <span class="hljs-type">next</span> <span class="hljs-variable">startup</span>              <span class="hljs-operator">=</span> <span class="hljs-number">2</span><br>  Using <span class="hljs-type">automatic</span> <span class="hljs-variable">storage</span>                  <span class="hljs-operator">=</span> No<br>  Auto-<span class="hljs-type">resize</span> <span class="hljs-variable">enabled</span>                      <span class="hljs-operator">=</span> No<br>  File <span class="hljs-type">system</span> <span class="hljs-variable">caching</span>                      <span class="hljs-operator">=</span> No<br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">State</span>                         <span class="hljs-operator">=</span> 0x<span class="hljs-string">&#x27;00000000&#x27;</span><br>   Detailed explanation:<br>     Normal<br>  Total number <span class="hljs-type">of</span> <span class="hljs-variable">pages</span>                    <span class="hljs-operator">=</span> <span class="hljs-number">7864320</span><br>  Number of <span class="hljs-type">usable</span> <span class="hljs-variable">pages</span>                   <span class="hljs-operator">=</span> <span class="hljs-number">7864256</span><br>  Number of <span class="hljs-type">used</span> <span class="hljs-variable">pages</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">4821632</span><br>  Number of pending <span class="hljs-type">free</span> <span class="hljs-variable">pages</span>             <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number of <span class="hljs-type">free</span> <span class="hljs-variable">pages</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">3042624</span><br>  High water <span class="hljs-title function_">mark</span> <span class="hljs-params">(pages)</span>                  = <span class="hljs-number">4821632</span><br>  Current tablespace <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>          = <span class="hljs-number">64424509440</span><br>  <span class="hljs-type">Rebalancer</span> <span class="hljs-variable">Mode</span>                          <span class="hljs-operator">=</span> No Rebalancing<br>  Minimum <span class="hljs-type">Recovery</span> <span class="hljs-variable">Time</span>                    <span class="hljs-operator">=</span><br>  Number <span class="hljs-type">of</span> <span class="hljs-variable">quiescers</span>                      <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number <span class="hljs-type">of</span> <span class="hljs-variable">containers</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">2</span><br><br>  <span class="hljs-type">Container</span> <span class="hljs-variable">Name</span>                           <span class="hljs-operator">=</span> /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_DATA/TBS_JXDX1<br>      <span class="hljs-type">Container</span> <span class="hljs-variable">ID</span>                         <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      <span class="hljs-type">Container</span> <span class="hljs-variable">Type</span>                       <span class="hljs-operator">=</span> File (extent sized tag)<br>      Total Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>             <span class="hljs-operator">=</span> <span class="hljs-number">3932160</span><br>      Usable Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>            <span class="hljs-operator">=</span> <span class="hljs-number">3932128</span><br>      <span class="hljs-type">Stripe</span> <span class="hljs-variable">Set</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Container <span class="hljs-type">is</span> <span class="hljs-variable">accessible</span>              <span class="hljs-operator">=</span> Yes<br><br>  <span class="hljs-type">Container</span> <span class="hljs-variable">Name</span>                           <span class="hljs-operator">=</span> /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_DATA/TBS_JXDX2<br>      <span class="hljs-type">Container</span> <span class="hljs-variable">ID</span>                         <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br>      <span class="hljs-type">Container</span> <span class="hljs-variable">Type</span>                       <span class="hljs-operator">=</span> File (extent sized tag)<br>      Total Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>             <span class="hljs-operator">=</span> <span class="hljs-number">3932160</span><br>      Usable Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>            <span class="hljs-operator">=</span> <span class="hljs-number">3932128</span><br>      <span class="hljs-type">Stripe</span> <span class="hljs-variable">Set</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Container <span class="hljs-type">is</span> <span class="hljs-variable">accessible</span>              <span class="hljs-operator">=</span> Yes<br><br>  Table space map:<br><br>   Range  Stripe Stripe  Max         Max  Start  End    Adj.   Containers<br>   Number Set    Offset  Extent      Page Stripe Stripe<br>   [   <span class="hljs-number">0</span>] [   <span class="hljs-number">0</span>]      <span class="hljs-number">0</span>  <span class="hljs-number">245757</span>   <span class="hljs-number">7864255</span>      <span class="hljs-number">0</span> <span class="hljs-number">122878</span>   <span class="hljs-number">0</span>    <span class="hljs-number">2</span> (<span class="hljs-number">0</span>,<span class="hljs-number">1</span>)<br><br>  Buffer pool data <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>           <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool data <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>          <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary data <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>   <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary data <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>  <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool data <span class="hljs-type">page</span> <span class="hljs-variable">reads</span>        <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool <span class="hljs-type">data</span> <span class="hljs-variable">writes</span>                  <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool data <span class="hljs-type">page</span> <span class="hljs-variable">writes</span>       <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool index <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>          <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool index <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>         <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary index <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>  <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary index <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span> <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool index <span class="hljs-type">page</span> <span class="hljs-variable">reads</span>       <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool <span class="hljs-type">index</span> <span class="hljs-variable">writes</span>                 <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool index <span class="hljs-type">page</span> <span class="hljs-variable">writes</span>      <span class="hljs-operator">=</span> Not Collected<br>  Total buffer pool read <span class="hljs-title function_">time</span> <span class="hljs-params">(millisec)</span>   = Not Collected<br>  Total buffer pool write <span class="hljs-title function_">time</span> <span class="hljs-params">(millisec)</span>  = Not Collected<br>  Total elapsed asynchronous <span class="hljs-type">read</span> <span class="hljs-variable">time</span>     <span class="hljs-operator">=</span> Not Collected<br>  Total elapsed asynchronous <span class="hljs-type">write</span> <span class="hljs-variable">time</span>    <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous data <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>          <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous index <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>         <span class="hljs-operator">=</span> Not Collected<br>  No victim <span class="hljs-type">buffers</span> <span class="hljs-variable">available</span>              <span class="hljs-operator">=</span> Not Collected<br>  <span class="hljs-type">Direct</span> <span class="hljs-variable">reads</span>                             <span class="hljs-operator">=</span> Not Collected<br>  <span class="hljs-type">Direct</span> <span class="hljs-variable">writes</span>                            <span class="hljs-operator">=</span> Not Collected<br>  Direct <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>                     <span class="hljs-operator">=</span> Not Collected<br>  Direct <span class="hljs-type">write</span> <span class="hljs-variable">requests</span>                    <span class="hljs-operator">=</span> Not Collected<br>  Direct reads elapsed <span class="hljs-title function_">time</span> <span class="hljs-params">(ms)</span>           = Not Collected<br>  Direct write elapsed <span class="hljs-title function_">time</span> <span class="hljs-params">(ms)</span>           = Not Collected<br>  Number of <span class="hljs-type">files</span> <span class="hljs-variable">closed</span>                   <span class="hljs-operator">=</span> Not Collected<br><br><br><span class="hljs-type">Tablespace</span> <span class="hljs-variable">name</span>                            <span class="hljs-operator">=</span> TBS_NBZZ<br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                            <span class="hljs-operator">=</span> <span class="hljs-number">7</span><br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">Type</span>                          <span class="hljs-operator">=</span> Database managed space<br>  Tablespace <span class="hljs-type">Content</span> <span class="hljs-variable">Type</span>                  <span class="hljs-operator">=</span> All permanent data. Large table space.<br>  Tablespace Page <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>             = <span class="hljs-number">8192</span><br>  Tablespace Extent <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>           = <span class="hljs-number">32</span><br>  Automatic Prefetch <span class="hljs-type">size</span> <span class="hljs-variable">enabled</span>          <span class="hljs-operator">=</span> No<br>  Tablespace Prefetch <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>         = <span class="hljs-number">64</span><br>  Buffer pool ID currently <span class="hljs-type">in</span> <span class="hljs-variable">use</span>          <span class="hljs-operator">=</span> <span class="hljs-number">2</span><br>  Buffer pool ID <span class="hljs-type">next</span> <span class="hljs-variable">startup</span>              <span class="hljs-operator">=</span> <span class="hljs-number">2</span><br>  Using <span class="hljs-type">automatic</span> <span class="hljs-variable">storage</span>                  <span class="hljs-operator">=</span> No<br>  Auto-<span class="hljs-type">resize</span> <span class="hljs-variable">enabled</span>                      <span class="hljs-operator">=</span> No<br>  File <span class="hljs-type">system</span> <span class="hljs-variable">caching</span>                      <span class="hljs-operator">=</span> No<br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">State</span>                         <span class="hljs-operator">=</span> 0x<span class="hljs-string">&#x27;00000000&#x27;</span><br>   Detailed explanation:<br>     Normal<br>  Total number <span class="hljs-type">of</span> <span class="hljs-variable">pages</span>                    <span class="hljs-operator">=</span> <span class="hljs-number">19660800</span><br>  Number of <span class="hljs-type">usable</span> <span class="hljs-variable">pages</span>                   <span class="hljs-operator">=</span> <span class="hljs-number">19660640</span><br>  Number of <span class="hljs-type">used</span> <span class="hljs-variable">pages</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">17548480</span><br>  Number of pending <span class="hljs-type">free</span> <span class="hljs-variable">pages</span>             <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number of <span class="hljs-type">free</span> <span class="hljs-variable">pages</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">2112160</span><br>  High water <span class="hljs-title function_">mark</span> <span class="hljs-params">(pages)</span>                  = <span class="hljs-number">17548480</span><br>  Current tablespace <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>          = <span class="hljs-number">161061273600</span><br>  <span class="hljs-type">Rebalancer</span> <span class="hljs-variable">Mode</span>                          <span class="hljs-operator">=</span> No Rebalancing<br>  Minimum <span class="hljs-type">Recovery</span> <span class="hljs-variable">Time</span>                    <span class="hljs-operator">=</span><br>  Number <span class="hljs-type">of</span> <span class="hljs-variable">quiescers</span>                      <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number <span class="hljs-type">of</span> <span class="hljs-variable">containers</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">5</span><br><br>  <span class="hljs-type">Container</span> <span class="hljs-variable">Name</span>                           <span class="hljs-operator">=</span> /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_DATA/TBS_NBZZ1<br>      <span class="hljs-type">Container</span> <span class="hljs-variable">ID</span>                         <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      <span class="hljs-type">Container</span> <span class="hljs-variable">Type</span>                       <span class="hljs-operator">=</span> File (extent sized tag)<br>      Total Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>             <span class="hljs-operator">=</span> <span class="hljs-number">3932160</span><br>      Usable Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>            <span class="hljs-operator">=</span> <span class="hljs-number">3932128</span><br>      <span class="hljs-type">Stripe</span> <span class="hljs-variable">Set</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Container <span class="hljs-type">is</span> <span class="hljs-variable">accessible</span>              <span class="hljs-operator">=</span> Yes<br><br>  <span class="hljs-type">Container</span> <span class="hljs-variable">Name</span>                           <span class="hljs-operator">=</span> /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_DATA/TBS_NBZZ2<br>      <span class="hljs-type">Container</span> <span class="hljs-variable">ID</span>                         <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br>      <span class="hljs-type">Container</span> <span class="hljs-variable">Type</span>                       <span class="hljs-operator">=</span> File (extent sized tag)<br>      Total Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>             <span class="hljs-operator">=</span> <span class="hljs-number">3932160</span><br>      Usable Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>            <span class="hljs-operator">=</span> <span class="hljs-number">3932128</span><br>      <span class="hljs-type">Stripe</span> <span class="hljs-variable">Set</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Container <span class="hljs-type">is</span> <span class="hljs-variable">accessible</span>              <span class="hljs-operator">=</span> Yes<br><br>  <span class="hljs-type">Container</span> <span class="hljs-variable">Name</span>                           <span class="hljs-operator">=</span> /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_DATA/TBS_NBZZ3<br>      <span class="hljs-type">Container</span> <span class="hljs-variable">ID</span>                         <span class="hljs-operator">=</span> <span class="hljs-number">2</span><br>      <span class="hljs-type">Container</span> <span class="hljs-variable">Type</span>                       <span class="hljs-operator">=</span> File (extent sized tag)<br>      Total Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>             <span class="hljs-operator">=</span> <span class="hljs-number">3932160</span><br>      Usable Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>            <span class="hljs-operator">=</span> <span class="hljs-number">3932128</span><br>      <span class="hljs-type">Stripe</span> <span class="hljs-variable">Set</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Container <span class="hljs-type">is</span> <span class="hljs-variable">accessible</span>              <span class="hljs-operator">=</span> Yes<br><br>  <span class="hljs-type">Container</span> <span class="hljs-variable">Name</span>                           <span class="hljs-operator">=</span> /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_DATA/TBS_NBZZ4<br>      <span class="hljs-type">Container</span> <span class="hljs-variable">ID</span>                         <span class="hljs-operator">=</span> <span class="hljs-number">3</span><br>      <span class="hljs-type">Container</span> <span class="hljs-variable">Type</span>                       <span class="hljs-operator">=</span> File (extent sized tag)<br>      Total Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>             <span class="hljs-operator">=</span> <span class="hljs-number">3932160</span><br>      Usable Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>            <span class="hljs-operator">=</span> <span class="hljs-number">3932128</span><br>      <span class="hljs-type">Stripe</span> <span class="hljs-variable">Set</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Container <span class="hljs-type">is</span> <span class="hljs-variable">accessible</span>              <span class="hljs-operator">=</span> Yes<br><br>  <span class="hljs-type">Container</span> <span class="hljs-variable">Name</span>                           <span class="hljs-operator">=</span> /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_DATA/TBS_NBZZ5<br>      <span class="hljs-type">Container</span> <span class="hljs-variable">ID</span>                         <span class="hljs-operator">=</span> <span class="hljs-number">4</span><br>      <span class="hljs-type">Container</span> <span class="hljs-variable">Type</span>                       <span class="hljs-operator">=</span> File (extent sized tag)<br>      Total Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>             <span class="hljs-operator">=</span> <span class="hljs-number">3932160</span><br>      Usable Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>            <span class="hljs-operator">=</span> <span class="hljs-number">3932128</span><br>      <span class="hljs-type">Stripe</span> <span class="hljs-variable">Set</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Container <span class="hljs-type">is</span> <span class="hljs-variable">accessible</span>              <span class="hljs-operator">=</span> Yes<br><br>  Table space map:<br><br>   Range  Stripe Stripe  Max         Max  Start  End    Adj.   Containers<br>   Number Set    Offset  Extent      Page Stripe Stripe<br>   [   <span class="hljs-number">0</span>] [   <span class="hljs-number">0</span>]      <span class="hljs-number">0</span>  <span class="hljs-number">614394</span>  <span class="hljs-number">19660639</span>      <span class="hljs-number">0</span> <span class="hljs-number">122878</span>   <span class="hljs-number">0</span>    <span class="hljs-number">5</span> (<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>)<br><br>  Buffer pool data <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>           <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool data <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>          <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary data <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>   <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary data <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>  <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool data <span class="hljs-type">page</span> <span class="hljs-variable">reads</span>        <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool <span class="hljs-type">data</span> <span class="hljs-variable">writes</span>                  <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool data <span class="hljs-type">page</span> <span class="hljs-variable">writes</span>       <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool index <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>          <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool index <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>         <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary index <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>  <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary index <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span> <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool index <span class="hljs-type">page</span> <span class="hljs-variable">reads</span>       <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool <span class="hljs-type">index</span> <span class="hljs-variable">writes</span>                 <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool index <span class="hljs-type">page</span> <span class="hljs-variable">writes</span>      <span class="hljs-operator">=</span> Not Collected<br>  Total buffer pool read <span class="hljs-title function_">time</span> <span class="hljs-params">(millisec)</span>   = Not Collected<br>  Total buffer pool write <span class="hljs-title function_">time</span> <span class="hljs-params">(millisec)</span>  = Not Collected<br>  Total elapsed asynchronous <span class="hljs-type">read</span> <span class="hljs-variable">time</span>     <span class="hljs-operator">=</span> Not Collected<br>  Total elapsed asynchronous <span class="hljs-type">write</span> <span class="hljs-variable">time</span>    <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous data <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>          <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous index <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>         <span class="hljs-operator">=</span> Not Collected<br>  No victim <span class="hljs-type">buffers</span> <span class="hljs-variable">available</span>              <span class="hljs-operator">=</span> Not Collected<br>  <span class="hljs-type">Direct</span> <span class="hljs-variable">reads</span>                             <span class="hljs-operator">=</span> Not Collected<br>  <span class="hljs-type">Direct</span> <span class="hljs-variable">writes</span>                            <span class="hljs-operator">=</span> Not Collected<br>  Direct <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>                     <span class="hljs-operator">=</span> Not Collected<br>  Direct <span class="hljs-type">write</span> <span class="hljs-variable">requests</span>                    <span class="hljs-operator">=</span> Not Collected<br>  Direct reads elapsed <span class="hljs-title function_">time</span> <span class="hljs-params">(ms)</span>           = Not Collected<br>  Direct write elapsed <span class="hljs-title function_">time</span> <span class="hljs-params">(ms)</span>           = Not Collected<br>  Number of <span class="hljs-type">files</span> <span class="hljs-variable">closed</span>                   <span class="hljs-operator">=</span> Not Collected<br><br><br><span class="hljs-type">Tablespace</span> <span class="hljs-variable">name</span>                            <span class="hljs-operator">=</span> TBS_SYSTMP_32<br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                            <span class="hljs-operator">=</span> <span class="hljs-number">8</span><br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">Type</span>                          <span class="hljs-operator">=</span> System managed space<br>  Tablespace <span class="hljs-type">Content</span> <span class="hljs-variable">Type</span>                  <span class="hljs-operator">=</span> System Temporary data<br>  Tablespace Page <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>             = <span class="hljs-number">32768</span><br>  Tablespace Extent <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>           = <span class="hljs-number">32</span><br>  Automatic Prefetch <span class="hljs-type">size</span> <span class="hljs-variable">enabled</span>          <span class="hljs-operator">=</span> No<br>  Tablespace Prefetch <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>         = <span class="hljs-number">32</span><br>  Buffer pool ID currently <span class="hljs-type">in</span> <span class="hljs-variable">use</span>          <span class="hljs-operator">=</span> <span class="hljs-number">3</span><br>  Buffer pool ID <span class="hljs-type">next</span> <span class="hljs-variable">startup</span>              <span class="hljs-operator">=</span> <span class="hljs-number">3</span><br>  Using <span class="hljs-type">automatic</span> <span class="hljs-variable">storage</span>                  <span class="hljs-operator">=</span> No<br>  File <span class="hljs-type">system</span> <span class="hljs-variable">caching</span>                      <span class="hljs-operator">=</span> Yes<br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">State</span>                         <span class="hljs-operator">=</span> 0x<span class="hljs-string">&#x27;00000000&#x27;</span><br>   Detailed explanation:<br>     Normal<br>  Total number <span class="hljs-type">of</span> <span class="hljs-variable">pages</span>                    <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number of <span class="hljs-type">usable</span> <span class="hljs-variable">pages</span>                   <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number of <span class="hljs-type">used</span> <span class="hljs-variable">pages</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Minimum <span class="hljs-type">Recovery</span> <span class="hljs-variable">Time</span>                    <span class="hljs-operator">=</span><br>  Number <span class="hljs-type">of</span> <span class="hljs-variable">quiescers</span>                      <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number <span class="hljs-type">of</span> <span class="hljs-variable">containers</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br><br>  <span class="hljs-type">Container</span> <span class="hljs-variable">Name</span>                           <span class="hljs-operator">=</span> /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_TMP/TBS_SYSTMP_32<br>      <span class="hljs-type">Container</span> <span class="hljs-variable">ID</span>                         <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      <span class="hljs-type">Container</span> <span class="hljs-variable">Type</span>                       <span class="hljs-operator">=</span> Path<br>      Total Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>             <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Usable Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>            <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      <span class="hljs-type">Stripe</span> <span class="hljs-variable">Set</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Container <span class="hljs-type">is</span> <span class="hljs-variable">accessible</span>              <span class="hljs-operator">=</span> Yes<br><br>  Buffer pool data <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>           <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool data <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>          <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary data <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>   <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary data <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>  <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool data <span class="hljs-type">page</span> <span class="hljs-variable">reads</span>        <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool <span class="hljs-type">data</span> <span class="hljs-variable">writes</span>                  <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool data <span class="hljs-type">page</span> <span class="hljs-variable">writes</span>       <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool index <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>          <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool index <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>         <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary index <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>  <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary index <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span> <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool index <span class="hljs-type">page</span> <span class="hljs-variable">reads</span>       <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool <span class="hljs-type">index</span> <span class="hljs-variable">writes</span>                 <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool index <span class="hljs-type">page</span> <span class="hljs-variable">writes</span>      <span class="hljs-operator">=</span> Not Collected<br>  Total buffer pool read <span class="hljs-title function_">time</span> <span class="hljs-params">(millisec)</span>   = Not Collected<br>  Total buffer pool write <span class="hljs-title function_">time</span> <span class="hljs-params">(millisec)</span>  = Not Collected<br>  Total elapsed asynchronous <span class="hljs-type">read</span> <span class="hljs-variable">time</span>     <span class="hljs-operator">=</span> Not Collected<br>  Total elapsed asynchronous <span class="hljs-type">write</span> <span class="hljs-variable">time</span>    <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous data <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>          <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous index <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>         <span class="hljs-operator">=</span> Not Collected<br>  No victim <span class="hljs-type">buffers</span> <span class="hljs-variable">available</span>              <span class="hljs-operator">=</span> Not Collected<br>  <span class="hljs-type">Direct</span> <span class="hljs-variable">reads</span>                             <span class="hljs-operator">=</span> Not Collected<br>  <span class="hljs-type">Direct</span> <span class="hljs-variable">writes</span>                            <span class="hljs-operator">=</span> Not Collected<br>  Direct <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>                     <span class="hljs-operator">=</span> Not Collected<br>  Direct <span class="hljs-type">write</span> <span class="hljs-variable">requests</span>                    <span class="hljs-operator">=</span> Not Collected<br>  Direct reads elapsed <span class="hljs-title function_">time</span> <span class="hljs-params">(ms)</span>           = Not Collected<br>  Direct write elapsed <span class="hljs-title function_">time</span> <span class="hljs-params">(ms)</span>           = Not Collected<br>  Number of <span class="hljs-type">files</span> <span class="hljs-variable">closed</span>                   <span class="hljs-operator">=</span> Not Collected<br><br><br><span class="hljs-type">Tablespace</span> <span class="hljs-variable">name</span>                            <span class="hljs-operator">=</span> TBS_IDX<br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                            <span class="hljs-operator">=</span> <span class="hljs-number">9</span><br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">Type</span>                          <span class="hljs-operator">=</span> Database managed space<br>  Tablespace <span class="hljs-type">Content</span> <span class="hljs-variable">Type</span>                  <span class="hljs-operator">=</span> All permanent data. Large table space.<br>  Tablespace Page <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>             = <span class="hljs-number">8192</span><br>  Tablespace Extent <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>           = <span class="hljs-number">32</span><br>  Automatic Prefetch <span class="hljs-type">size</span> <span class="hljs-variable">enabled</span>          <span class="hljs-operator">=</span> No<br>  Tablespace Prefetch <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>         = <span class="hljs-number">64</span><br>  Buffer pool ID currently <span class="hljs-type">in</span> <span class="hljs-variable">use</span>          <span class="hljs-operator">=</span> <span class="hljs-number">2</span><br>  Buffer pool ID <span class="hljs-type">next</span> <span class="hljs-variable">startup</span>              <span class="hljs-operator">=</span> <span class="hljs-number">2</span><br>  Using <span class="hljs-type">automatic</span> <span class="hljs-variable">storage</span>                  <span class="hljs-operator">=</span> No<br>  Auto-<span class="hljs-type">resize</span> <span class="hljs-variable">enabled</span>                      <span class="hljs-operator">=</span> No<br>  File <span class="hljs-type">system</span> <span class="hljs-variable">caching</span>                      <span class="hljs-operator">=</span> No<br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">State</span>                         <span class="hljs-operator">=</span> 0x<span class="hljs-string">&#x27;00000000&#x27;</span><br>   Detailed explanation:<br>     Normal<br>  Total number <span class="hljs-type">of</span> <span class="hljs-variable">pages</span>                    <span class="hljs-operator">=</span> <span class="hljs-number">10485760</span><br>  Number of <span class="hljs-type">usable</span> <span class="hljs-variable">pages</span>                   <span class="hljs-operator">=</span> <span class="hljs-number">10485696</span><br>  Number of <span class="hljs-type">used</span> <span class="hljs-variable">pages</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">7891584</span><br>  Number of pending <span class="hljs-type">free</span> <span class="hljs-variable">pages</span>             <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number of <span class="hljs-type">free</span> <span class="hljs-variable">pages</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">2594112</span><br>  High water <span class="hljs-title function_">mark</span> <span class="hljs-params">(pages)</span>                  = <span class="hljs-number">7891584</span><br>  Current tablespace <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>          = <span class="hljs-number">85899345920</span><br>  <span class="hljs-type">Rebalancer</span> <span class="hljs-variable">Mode</span>                          <span class="hljs-operator">=</span> No Rebalancing<br>  Minimum <span class="hljs-type">Recovery</span> <span class="hljs-variable">Time</span>                    <span class="hljs-operator">=</span><br>  Number <span class="hljs-type">of</span> <span class="hljs-variable">quiescers</span>                      <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number <span class="hljs-type">of</span> <span class="hljs-variable">containers</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">2</span><br><br>  <span class="hljs-type">Container</span> <span class="hljs-variable">Name</span>                           <span class="hljs-operator">=</span> /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_IDX/TBS_IDX1<br>      <span class="hljs-type">Container</span> <span class="hljs-variable">ID</span>                         <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      <span class="hljs-type">Container</span> <span class="hljs-variable">Type</span>                       <span class="hljs-operator">=</span> File (extent sized tag)<br>      Total Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>             <span class="hljs-operator">=</span> <span class="hljs-number">3932160</span><br>      Usable Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>            <span class="hljs-operator">=</span> <span class="hljs-number">3932128</span><br>      <span class="hljs-type">Stripe</span> <span class="hljs-variable">Set</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Container <span class="hljs-type">is</span> <span class="hljs-variable">accessible</span>              <span class="hljs-operator">=</span> Yes<br><br>  <span class="hljs-type">Container</span> <span class="hljs-variable">Name</span>                           <span class="hljs-operator">=</span> /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_IDX/TBS_IDX2<br>      <span class="hljs-type">Container</span> <span class="hljs-variable">ID</span>                         <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br>      <span class="hljs-type">Container</span> <span class="hljs-variable">Type</span>                       <span class="hljs-operator">=</span> File (extent sized tag)<br>      Total Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>             <span class="hljs-operator">=</span> <span class="hljs-number">6553600</span><br>      Usable Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>            <span class="hljs-operator">=</span> <span class="hljs-number">6553568</span><br>      <span class="hljs-type">Stripe</span> <span class="hljs-variable">Set</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Container <span class="hljs-type">is</span> <span class="hljs-variable">accessible</span>              <span class="hljs-operator">=</span> Yes<br><br>  Table space map:<br><br>   Range  Stripe Stripe  Max         Max  Start  End    Adj.   Containers<br>   Number Set    Offset  Extent      Page Stripe Stripe<br>   [   <span class="hljs-number">0</span>] [   <span class="hljs-number">0</span>]      <span class="hljs-number">0</span>  <span class="hljs-number">245757</span>   <span class="hljs-number">7864255</span>      <span class="hljs-number">0</span> <span class="hljs-number">122878</span>   <span class="hljs-number">0</span>    <span class="hljs-number">2</span> (<span class="hljs-number">0</span>,<span class="hljs-number">1</span>)<br>   [   <span class="hljs-number">1</span>] [   <span class="hljs-number">0</span>]      <span class="hljs-number">0</span>  <span class="hljs-number">327677</span>  <span class="hljs-number">10485695</span> <span class="hljs-number">122879</span> <span class="hljs-number">204798</span>   <span class="hljs-number">0</span>    <span class="hljs-number">1</span> (<span class="hljs-number">1</span>)<br><br>  Buffer pool data <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>           <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool data <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>          <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary data <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>   <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary data <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>  <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool data <span class="hljs-type">page</span> <span class="hljs-variable">reads</span>        <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool <span class="hljs-type">data</span> <span class="hljs-variable">writes</span>                  <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool data <span class="hljs-type">page</span> <span class="hljs-variable">writes</span>       <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool index <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>          <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool index <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>         <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary index <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>  <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary index <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span> <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool index <span class="hljs-type">page</span> <span class="hljs-variable">reads</span>       <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool <span class="hljs-type">index</span> <span class="hljs-variable">writes</span>                 <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool index <span class="hljs-type">page</span> <span class="hljs-variable">writes</span>      <span class="hljs-operator">=</span> Not Collected<br>  Total buffer pool read <span class="hljs-title function_">time</span> <span class="hljs-params">(millisec)</span>   = Not Collected<br>  Total buffer pool write <span class="hljs-title function_">time</span> <span class="hljs-params">(millisec)</span>  = Not Collected<br>  Total elapsed asynchronous <span class="hljs-type">read</span> <span class="hljs-variable">time</span>     <span class="hljs-operator">=</span> Not Collected<br>  Total elapsed asynchronous <span class="hljs-type">write</span> <span class="hljs-variable">time</span>    <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous data <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>          <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous index <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>         <span class="hljs-operator">=</span> Not Collected<br>  No victim <span class="hljs-type">buffers</span> <span class="hljs-variable">available</span>              <span class="hljs-operator">=</span> Not Collected<br>  <span class="hljs-type">Direct</span> <span class="hljs-variable">reads</span>                             <span class="hljs-operator">=</span> Not Collected<br>  <span class="hljs-type">Direct</span> <span class="hljs-variable">writes</span>                            <span class="hljs-operator">=</span> Not Collected<br>  Direct <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>                     <span class="hljs-operator">=</span> Not Collected<br>  Direct <span class="hljs-type">write</span> <span class="hljs-variable">requests</span>                    <span class="hljs-operator">=</span> Not Collected<br>  Direct reads elapsed <span class="hljs-title function_">time</span> <span class="hljs-params">(ms)</span>           = Not Collected<br>  Direct write elapsed <span class="hljs-title function_">time</span> <span class="hljs-params">(ms)</span>           = Not Collected<br>  Number of <span class="hljs-type">files</span> <span class="hljs-variable">closed</span>                   <span class="hljs-operator">=</span> Not Collected<br><br><br><span class="hljs-type">Tablespace</span> <span class="hljs-variable">name</span>                            <span class="hljs-operator">=</span> TBS_LSB<br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                            <span class="hljs-operator">=</span> <span class="hljs-number">10</span><br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">Type</span>                          <span class="hljs-operator">=</span> Database managed space<br>  Tablespace <span class="hljs-type">Content</span> <span class="hljs-variable">Type</span>                  <span class="hljs-operator">=</span> All permanent data. Large table space.<br>  Tablespace Page <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>             = <span class="hljs-number">8192</span><br>  Tablespace Extent <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>           = <span class="hljs-number">16</span><br>  Automatic Prefetch <span class="hljs-type">size</span> <span class="hljs-variable">enabled</span>          <span class="hljs-operator">=</span> No<br>  Tablespace Prefetch <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>         = <span class="hljs-number">32</span><br>  Buffer pool ID currently <span class="hljs-type">in</span> <span class="hljs-variable">use</span>          <span class="hljs-operator">=</span> <span class="hljs-number">2</span><br>  Buffer pool ID <span class="hljs-type">next</span> <span class="hljs-variable">startup</span>              <span class="hljs-operator">=</span> <span class="hljs-number">2</span><br>  Using <span class="hljs-type">automatic</span> <span class="hljs-variable">storage</span>                  <span class="hljs-operator">=</span> No<br>  Auto-<span class="hljs-type">resize</span> <span class="hljs-variable">enabled</span>                      <span class="hljs-operator">=</span> No<br>  File <span class="hljs-type">system</span> <span class="hljs-variable">caching</span>                      <span class="hljs-operator">=</span> No<br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">State</span>                         <span class="hljs-operator">=</span> 0x<span class="hljs-string">&#x27;00000000&#x27;</span><br>   Detailed explanation:<br>     Normal<br>  Total number <span class="hljs-type">of</span> <span class="hljs-variable">pages</span>                    <span class="hljs-operator">=</span> <span class="hljs-number">1310720</span><br>  Number of <span class="hljs-type">usable</span> <span class="hljs-variable">pages</span>                   <span class="hljs-operator">=</span> <span class="hljs-number">1310704</span><br>  Number of <span class="hljs-type">used</span> <span class="hljs-variable">pages</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">74560</span><br>  Number of pending <span class="hljs-type">free</span> <span class="hljs-variable">pages</span>             <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number of <span class="hljs-type">free</span> <span class="hljs-variable">pages</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">1236144</span><br>  High water <span class="hljs-title function_">mark</span> <span class="hljs-params">(pages)</span>                  = <span class="hljs-number">77232</span><br>  Current tablespace <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>          = <span class="hljs-number">10737418240</span><br>  <span class="hljs-type">Rebalancer</span> <span class="hljs-variable">Mode</span>                          <span class="hljs-operator">=</span> No Rebalancing<br>  Minimum <span class="hljs-type">Recovery</span> <span class="hljs-variable">Time</span>                    <span class="hljs-operator">=</span><br>  Number <span class="hljs-type">of</span> <span class="hljs-variable">quiescers</span>                      <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number <span class="hljs-type">of</span> <span class="hljs-variable">containers</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br><br>  <span class="hljs-type">Container</span> <span class="hljs-variable">Name</span>                           <span class="hljs-operator">=</span> /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_DATA/TBS_LSB1<br>      <span class="hljs-type">Container</span> <span class="hljs-variable">ID</span>                         <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      <span class="hljs-type">Container</span> <span class="hljs-variable">Type</span>                       <span class="hljs-operator">=</span> File (extent sized tag)<br>      Total Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>             <span class="hljs-operator">=</span> <span class="hljs-number">1310720</span><br>      Usable Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>            <span class="hljs-operator">=</span> <span class="hljs-number">1310704</span><br>      <span class="hljs-type">Stripe</span> <span class="hljs-variable">Set</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Container <span class="hljs-type">is</span> <span class="hljs-variable">accessible</span>              <span class="hljs-operator">=</span> Yes<br><br>  Table space map:<br><br>   Range  Stripe Stripe  Max         Max  Start  End    Adj.   Containers<br>   Number Set    Offset  Extent      Page Stripe Stripe<br>   [   <span class="hljs-number">0</span>] [   <span class="hljs-number">0</span>]      <span class="hljs-number">0</span>   <span class="hljs-number">81918</span>   <span class="hljs-number">1310703</span>      <span class="hljs-number">0</span>  <span class="hljs-number">81918</span>   <span class="hljs-number">0</span>    <span class="hljs-number">1</span> (<span class="hljs-number">0</span>)<br><br>  Buffer pool data <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>           <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool data <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>          <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary data <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>   <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary data <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>  <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool data <span class="hljs-type">page</span> <span class="hljs-variable">reads</span>        <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool <span class="hljs-type">data</span> <span class="hljs-variable">writes</span>                  <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool data <span class="hljs-type">page</span> <span class="hljs-variable">writes</span>       <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool index <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>          <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool index <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>         <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary index <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>  <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary index <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span> <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool index <span class="hljs-type">page</span> <span class="hljs-variable">reads</span>       <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool <span class="hljs-type">index</span> <span class="hljs-variable">writes</span>                 <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool index <span class="hljs-type">page</span> <span class="hljs-variable">writes</span>      <span class="hljs-operator">=</span> Not Collected<br>  Total buffer pool read <span class="hljs-title function_">time</span> <span class="hljs-params">(millisec)</span>   = Not Collected<br>  Total buffer pool write <span class="hljs-title function_">time</span> <span class="hljs-params">(millisec)</span>  = Not Collected<br>  Total elapsed asynchronous <span class="hljs-type">read</span> <span class="hljs-variable">time</span>     <span class="hljs-operator">=</span> Not Collected<br>  Total elapsed asynchronous <span class="hljs-type">write</span> <span class="hljs-variable">time</span>    <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous data <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>          <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous index <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>         <span class="hljs-operator">=</span> Not Collected<br>  No victim <span class="hljs-type">buffers</span> <span class="hljs-variable">available</span>              <span class="hljs-operator">=</span> Not Collected<br>  <span class="hljs-type">Direct</span> <span class="hljs-variable">reads</span>                             <span class="hljs-operator">=</span> Not Collected<br>  <span class="hljs-type">Direct</span> <span class="hljs-variable">writes</span>                            <span class="hljs-operator">=</span> Not Collected<br>  Direct <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>                     <span class="hljs-operator">=</span> Not Collected<br>  Direct <span class="hljs-type">write</span> <span class="hljs-variable">requests</span>                    <span class="hljs-operator">=</span> Not Collected<br>  Direct reads elapsed <span class="hljs-title function_">time</span> <span class="hljs-params">(ms)</span>           = Not Collected<br>  Direct write elapsed <span class="hljs-title function_">time</span> <span class="hljs-params">(ms)</span>           = Not Collected<br>  Number of <span class="hljs-type">files</span> <span class="hljs-variable">closed</span>                   <span class="hljs-operator">=</span> Not Collected<br><br><br><span class="hljs-type">Tablespace</span> <span class="hljs-variable">name</span>                            <span class="hljs-operator">=</span> TBS_SYSTMP_04<br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                            <span class="hljs-operator">=</span> <span class="hljs-number">11</span><br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">Type</span>                          <span class="hljs-operator">=</span> System managed space<br>  Tablespace <span class="hljs-type">Content</span> <span class="hljs-variable">Type</span>                  <span class="hljs-operator">=</span> System Temporary data<br>  Tablespace Page <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>             = <span class="hljs-number">4096</span><br>  Tablespace Extent <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>           = <span class="hljs-number">16</span><br>  Automatic Prefetch <span class="hljs-type">size</span> <span class="hljs-variable">enabled</span>          <span class="hljs-operator">=</span> No<br>  Tablespace Prefetch <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>         = <span class="hljs-number">16</span><br>  Buffer pool ID currently <span class="hljs-type">in</span> <span class="hljs-variable">use</span>          <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br>  Buffer pool ID <span class="hljs-type">next</span> <span class="hljs-variable">startup</span>              <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br>  Using <span class="hljs-type">automatic</span> <span class="hljs-variable">storage</span>                  <span class="hljs-operator">=</span> No<br>  File <span class="hljs-type">system</span> <span class="hljs-variable">caching</span>                      <span class="hljs-operator">=</span> Yes<br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">State</span>                         <span class="hljs-operator">=</span> 0x<span class="hljs-string">&#x27;00000000&#x27;</span><br>   Detailed explanation:<br>     Normal<br>  Total number <span class="hljs-type">of</span> <span class="hljs-variable">pages</span>                    <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number of <span class="hljs-type">usable</span> <span class="hljs-variable">pages</span>                   <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number of <span class="hljs-type">used</span> <span class="hljs-variable">pages</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Minimum <span class="hljs-type">Recovery</span> <span class="hljs-variable">Time</span>                    <span class="hljs-operator">=</span><br>  Number <span class="hljs-type">of</span> <span class="hljs-variable">quiescers</span>                      <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number <span class="hljs-type">of</span> <span class="hljs-variable">containers</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br><br>  <span class="hljs-type">Container</span> <span class="hljs-variable">Name</span>                           <span class="hljs-operator">=</span> /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_TMP/TBS_SYSTMP_04<br>      <span class="hljs-type">Container</span> <span class="hljs-variable">ID</span>                         <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      <span class="hljs-type">Container</span> <span class="hljs-variable">Type</span>                       <span class="hljs-operator">=</span> Path<br>      Total Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>             <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Usable Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>            <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      <span class="hljs-type">Stripe</span> <span class="hljs-variable">Set</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Container <span class="hljs-type">is</span> <span class="hljs-variable">accessible</span>              <span class="hljs-operator">=</span> Yes<br><br>  Buffer pool data <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>           <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool data <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>          <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary data <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>   <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary data <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>  <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool data <span class="hljs-type">page</span> <span class="hljs-variable">reads</span>        <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool <span class="hljs-type">data</span> <span class="hljs-variable">writes</span>                  <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool data <span class="hljs-type">page</span> <span class="hljs-variable">writes</span>       <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool index <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>          <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool index <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>         <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary index <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>  <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary index <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span> <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool index <span class="hljs-type">page</span> <span class="hljs-variable">reads</span>       <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool <span class="hljs-type">index</span> <span class="hljs-variable">writes</span>                 <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool index <span class="hljs-type">page</span> <span class="hljs-variable">writes</span>      <span class="hljs-operator">=</span> Not Collected<br>  Total buffer pool read <span class="hljs-title function_">time</span> <span class="hljs-params">(millisec)</span>   = Not Collected<br>  Total buffer pool write <span class="hljs-title function_">time</span> <span class="hljs-params">(millisec)</span>  = Not Collected<br>  Total elapsed asynchronous <span class="hljs-type">read</span> <span class="hljs-variable">time</span>     <span class="hljs-operator">=</span> Not Collected<br>  Total elapsed asynchronous <span class="hljs-type">write</span> <span class="hljs-variable">time</span>    <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous data <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>          <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous index <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>         <span class="hljs-operator">=</span> Not Collected<br>  No victim <span class="hljs-type">buffers</span> <span class="hljs-variable">available</span>              <span class="hljs-operator">=</span> Not Collected<br>  <span class="hljs-type">Direct</span> <span class="hljs-variable">reads</span>                             <span class="hljs-operator">=</span> Not Collected<br>  <span class="hljs-type">Direct</span> <span class="hljs-variable">writes</span>                            <span class="hljs-operator">=</span> Not Collected<br>  Direct <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>                     <span class="hljs-operator">=</span> Not Collected<br>  Direct <span class="hljs-type">write</span> <span class="hljs-variable">requests</span>                    <span class="hljs-operator">=</span> Not Collected<br>  Direct reads elapsed <span class="hljs-title function_">time</span> <span class="hljs-params">(ms)</span>           = Not Collected<br>  Direct write elapsed <span class="hljs-title function_">time</span> <span class="hljs-params">(ms)</span>           = Not Collected<br>  Number of <span class="hljs-type">files</span> <span class="hljs-variable">closed</span>                   <span class="hljs-operator">=</span> Not Collected<br><br><br><span class="hljs-type">Tablespace</span> <span class="hljs-variable">name</span>                            <span class="hljs-operator">=</span> TBS_SYSTMP_08<br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                            <span class="hljs-operator">=</span> <span class="hljs-number">12</span><br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">Type</span>                          <span class="hljs-operator">=</span> System managed space<br>  Tablespace <span class="hljs-type">Content</span> <span class="hljs-variable">Type</span>                  <span class="hljs-operator">=</span> System Temporary data<br>  Tablespace Page <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>             = <span class="hljs-number">8192</span><br>  Tablespace Extent <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>           = <span class="hljs-number">32</span><br>  Automatic Prefetch <span class="hljs-type">size</span> <span class="hljs-variable">enabled</span>          <span class="hljs-operator">=</span> No<br>  Tablespace Prefetch <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>         = <span class="hljs-number">32</span><br>  Buffer pool ID currently <span class="hljs-type">in</span> <span class="hljs-variable">use</span>          <span class="hljs-operator">=</span> <span class="hljs-number">2</span><br>  Buffer pool ID <span class="hljs-type">next</span> <span class="hljs-variable">startup</span>              <span class="hljs-operator">=</span> <span class="hljs-number">2</span><br>  Using <span class="hljs-type">automatic</span> <span class="hljs-variable">storage</span>                  <span class="hljs-operator">=</span> No<br>  File <span class="hljs-type">system</span> <span class="hljs-variable">caching</span>                      <span class="hljs-operator">=</span> Yes<br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">State</span>                         <span class="hljs-operator">=</span> 0x<span class="hljs-string">&#x27;00000000&#x27;</span><br>   Detailed explanation:<br>     Normal<br>  Total number <span class="hljs-type">of</span> <span class="hljs-variable">pages</span>                    <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number of <span class="hljs-type">usable</span> <span class="hljs-variable">pages</span>                   <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number of <span class="hljs-type">used</span> <span class="hljs-variable">pages</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Minimum <span class="hljs-type">Recovery</span> <span class="hljs-variable">Time</span>                    <span class="hljs-operator">=</span><br>  Number <span class="hljs-type">of</span> <span class="hljs-variable">quiescers</span>                      <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number <span class="hljs-type">of</span> <span class="hljs-variable">containers</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br><br>  <span class="hljs-type">Container</span> <span class="hljs-variable">Name</span>                           <span class="hljs-operator">=</span> /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_TMP/TBS_SYSTMP_08<br>      <span class="hljs-type">Container</span> <span class="hljs-variable">ID</span>                         <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      <span class="hljs-type">Container</span> <span class="hljs-variable">Type</span>                       <span class="hljs-operator">=</span> Path<br>      Total Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>             <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Usable Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>            <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      <span class="hljs-type">Stripe</span> <span class="hljs-variable">Set</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Container <span class="hljs-type">is</span> <span class="hljs-variable">accessible</span>              <span class="hljs-operator">=</span> Yes<br><br>  Buffer pool data <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>           <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool data <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>          <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary data <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>   <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary data <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>  <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool data <span class="hljs-type">page</span> <span class="hljs-variable">reads</span>        <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool <span class="hljs-type">data</span> <span class="hljs-variable">writes</span>                  <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool data <span class="hljs-type">page</span> <span class="hljs-variable">writes</span>       <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool index <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>          <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool index <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>         <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary index <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>  <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary index <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span> <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool index <span class="hljs-type">page</span> <span class="hljs-variable">reads</span>       <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool <span class="hljs-type">index</span> <span class="hljs-variable">writes</span>                 <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool index <span class="hljs-type">page</span> <span class="hljs-variable">writes</span>      <span class="hljs-operator">=</span> Not Collected<br>  Total buffer pool read <span class="hljs-title function_">time</span> <span class="hljs-params">(millisec)</span>   = Not Collected<br>  Total buffer pool write <span class="hljs-title function_">time</span> <span class="hljs-params">(millisec)</span>  = Not Collected<br>  Total elapsed asynchronous <span class="hljs-type">read</span> <span class="hljs-variable">time</span>     <span class="hljs-operator">=</span> Not Collected<br>  Total elapsed asynchronous <span class="hljs-type">write</span> <span class="hljs-variable">time</span>    <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous data <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>          <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous index <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>         <span class="hljs-operator">=</span> Not Collected<br>  No victim <span class="hljs-type">buffers</span> <span class="hljs-variable">available</span>              <span class="hljs-operator">=</span> Not Collected<br>  <span class="hljs-type">Direct</span> <span class="hljs-variable">reads</span>                             <span class="hljs-operator">=</span> Not Collected<br>  <span class="hljs-type">Direct</span> <span class="hljs-variable">writes</span>                            <span class="hljs-operator">=</span> Not Collected<br>  Direct <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>                     <span class="hljs-operator">=</span> Not Collected<br>  Direct <span class="hljs-type">write</span> <span class="hljs-variable">requests</span>                    <span class="hljs-operator">=</span> Not Collected<br>  Direct reads elapsed <span class="hljs-title function_">time</span> <span class="hljs-params">(ms)</span>           = Not Collected<br>  Direct write elapsed <span class="hljs-title function_">time</span> <span class="hljs-params">(ms)</span>           = Not Collected<br>  Number of <span class="hljs-type">files</span> <span class="hljs-variable">closed</span>                   <span class="hljs-operator">=</span> Not Collected<br><br><br><span class="hljs-type">Tablespace</span> <span class="hljs-variable">name</span>                            <span class="hljs-operator">=</span> TBS_USERTMP_08<br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                            <span class="hljs-operator">=</span> <span class="hljs-number">13</span><br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">Type</span>                          <span class="hljs-operator">=</span> System managed space<br>  Tablespace <span class="hljs-type">Content</span> <span class="hljs-variable">Type</span>                  <span class="hljs-operator">=</span> User Temporary data<br>  Tablespace Page <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>             = <span class="hljs-number">8192</span><br>  Tablespace Extent <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>           = <span class="hljs-number">32</span><br>  Automatic Prefetch <span class="hljs-type">size</span> <span class="hljs-variable">enabled</span>          <span class="hljs-operator">=</span> No<br>  Tablespace Prefetch <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>         = <span class="hljs-number">32</span><br>  Buffer pool ID currently <span class="hljs-type">in</span> <span class="hljs-variable">use</span>          <span class="hljs-operator">=</span> <span class="hljs-number">2</span><br>  Buffer pool ID <span class="hljs-type">next</span> <span class="hljs-variable">startup</span>              <span class="hljs-operator">=</span> <span class="hljs-number">2</span><br>  Using <span class="hljs-type">automatic</span> <span class="hljs-variable">storage</span>                  <span class="hljs-operator">=</span> No<br>  File <span class="hljs-type">system</span> <span class="hljs-variable">caching</span>                      <span class="hljs-operator">=</span> Yes<br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">State</span>                         <span class="hljs-operator">=</span> 0x<span class="hljs-string">&#x27;00000000&#x27;</span><br>   Detailed explanation:<br>     Normal<br>  Total number <span class="hljs-type">of</span> <span class="hljs-variable">pages</span>                    <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number of <span class="hljs-type">usable</span> <span class="hljs-variable">pages</span>                   <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number of <span class="hljs-type">used</span> <span class="hljs-variable">pages</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Minimum <span class="hljs-type">Recovery</span> <span class="hljs-variable">Time</span>                    <span class="hljs-operator">=</span><br>  Number <span class="hljs-type">of</span> <span class="hljs-variable">quiescers</span>                      <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number <span class="hljs-type">of</span> <span class="hljs-variable">containers</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br><br>  <span class="hljs-type">Container</span> <span class="hljs-variable">Name</span>                           <span class="hljs-operator">=</span> /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_TMP/TBS_USERTMP_08<br>      <span class="hljs-type">Container</span> <span class="hljs-variable">ID</span>                         <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      <span class="hljs-type">Container</span> <span class="hljs-variable">Type</span>                       <span class="hljs-operator">=</span> Path<br>      Total Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>             <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Usable Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>            <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      <span class="hljs-type">Stripe</span> <span class="hljs-variable">Set</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Container <span class="hljs-type">is</span> <span class="hljs-variable">accessible</span>              <span class="hljs-operator">=</span> Yes<br><br>  Buffer pool data <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>           <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool data <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>          <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary data <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>   <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary data <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>  <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool data <span class="hljs-type">page</span> <span class="hljs-variable">reads</span>        <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool <span class="hljs-type">data</span> <span class="hljs-variable">writes</span>                  <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool data <span class="hljs-type">page</span> <span class="hljs-variable">writes</span>       <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool index <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>          <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool index <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>         <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary index <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>  <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary index <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span> <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool index <span class="hljs-type">page</span> <span class="hljs-variable">reads</span>       <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool <span class="hljs-type">index</span> <span class="hljs-variable">writes</span>                 <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool index <span class="hljs-type">page</span> <span class="hljs-variable">writes</span>      <span class="hljs-operator">=</span> Not Collected<br>  Total buffer pool read <span class="hljs-title function_">time</span> <span class="hljs-params">(millisec)</span>   = Not Collected<br>  Total buffer pool write <span class="hljs-title function_">time</span> <span class="hljs-params">(millisec)</span>  = Not Collected<br>  Total elapsed asynchronous <span class="hljs-type">read</span> <span class="hljs-variable">time</span>     <span class="hljs-operator">=</span> Not Collected<br>  Total elapsed asynchronous <span class="hljs-type">write</span> <span class="hljs-variable">time</span>    <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous data <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>          <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous index <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>         <span class="hljs-operator">=</span> Not Collected<br>  No victim <span class="hljs-type">buffers</span> <span class="hljs-variable">available</span>              <span class="hljs-operator">=</span> Not Collected<br>  <span class="hljs-type">Direct</span> <span class="hljs-variable">reads</span>                             <span class="hljs-operator">=</span> Not Collected<br>  <span class="hljs-type">Direct</span> <span class="hljs-variable">writes</span>                            <span class="hljs-operator">=</span> Not Collected<br>  Direct <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>                     <span class="hljs-operator">=</span> Not Collected<br>  Direct <span class="hljs-type">write</span> <span class="hljs-variable">requests</span>                    <span class="hljs-operator">=</span> Not Collected<br>  Direct reads elapsed <span class="hljs-title function_">time</span> <span class="hljs-params">(ms)</span>           = Not Collected<br>  Direct write elapsed <span class="hljs-title function_">time</span> <span class="hljs-params">(ms)</span>           = Not Collected<br>  Number of <span class="hljs-type">files</span> <span class="hljs-variable">closed</span>                   <span class="hljs-operator">=</span> Not Collected<br><br><br><span class="hljs-type">Tablespace</span> <span class="hljs-variable">name</span>                            <span class="hljs-operator">=</span> TBS_USERTMP_32<br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">ID</span>                            <span class="hljs-operator">=</span> <span class="hljs-number">14</span><br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">Type</span>                          <span class="hljs-operator">=</span> System managed space<br>  Tablespace <span class="hljs-type">Content</span> <span class="hljs-variable">Type</span>                  <span class="hljs-operator">=</span> User Temporary data<br>  Tablespace Page <span class="hljs-title function_">size</span> <span class="hljs-params">(bytes)</span>             = <span class="hljs-number">32768</span><br>  Tablespace Extent <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>           = <span class="hljs-number">32</span><br>  Automatic Prefetch <span class="hljs-type">size</span> <span class="hljs-variable">enabled</span>          <span class="hljs-operator">=</span> No<br>  Tablespace Prefetch <span class="hljs-title function_">size</span> <span class="hljs-params">(pages)</span>         = <span class="hljs-number">32</span><br>  Buffer pool ID currently <span class="hljs-type">in</span> <span class="hljs-variable">use</span>          <span class="hljs-operator">=</span> <span class="hljs-number">3</span><br>  Buffer pool ID <span class="hljs-type">next</span> <span class="hljs-variable">startup</span>              <span class="hljs-operator">=</span> <span class="hljs-number">3</span><br>  Using <span class="hljs-type">automatic</span> <span class="hljs-variable">storage</span>                  <span class="hljs-operator">=</span> No<br>  File <span class="hljs-type">system</span> <span class="hljs-variable">caching</span>                      <span class="hljs-operator">=</span> Yes<br>  <span class="hljs-type">Tablespace</span> <span class="hljs-variable">State</span>                         <span class="hljs-operator">=</span> 0x<span class="hljs-string">&#x27;00000000&#x27;</span><br>   Detailed explanation:<br>     Normal<br>  Total number <span class="hljs-type">of</span> <span class="hljs-variable">pages</span>                    <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number of <span class="hljs-type">usable</span> <span class="hljs-variable">pages</span>                   <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number of <span class="hljs-type">used</span> <span class="hljs-variable">pages</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Minimum <span class="hljs-type">Recovery</span> <span class="hljs-variable">Time</span>                    <span class="hljs-operator">=</span><br>  Number <span class="hljs-type">of</span> <span class="hljs-variable">quiescers</span>                      <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>  Number <span class="hljs-type">of</span> <span class="hljs-variable">containers</span>                     <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br><br>  <span class="hljs-type">Container</span> <span class="hljs-variable">Name</span>                           <span class="hljs-operator">=</span> /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_TMP/TBS_USERTMP_32<br>      <span class="hljs-type">Container</span> <span class="hljs-variable">ID</span>                         <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      <span class="hljs-type">Container</span> <span class="hljs-variable">Type</span>                       <span class="hljs-operator">=</span> Path<br>      Total Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>             <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Usable Pages <span class="hljs-type">in</span> <span class="hljs-variable">Container</span>            <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      <span class="hljs-type">Stripe</span> <span class="hljs-variable">Set</span>                           <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br>      Container <span class="hljs-type">is</span> <span class="hljs-variable">accessible</span>              <span class="hljs-operator">=</span> Yes<br><br>  Buffer pool data <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>           <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool data <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>          <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary data <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>   <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary data <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>  <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool data <span class="hljs-type">page</span> <span class="hljs-variable">reads</span>        <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool <span class="hljs-type">data</span> <span class="hljs-variable">writes</span>                  <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool data <span class="hljs-type">page</span> <span class="hljs-variable">writes</span>       <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool index <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>          <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool index <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span>         <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary index <span class="hljs-type">logical</span> <span class="hljs-variable">reads</span>  <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool temporary index <span class="hljs-type">physical</span> <span class="hljs-variable">reads</span> <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool index <span class="hljs-type">page</span> <span class="hljs-variable">reads</span>       <span class="hljs-operator">=</span> Not Collected<br>  Buffer pool <span class="hljs-type">index</span> <span class="hljs-variable">writes</span>                 <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous pool index <span class="hljs-type">page</span> <span class="hljs-variable">writes</span>      <span class="hljs-operator">=</span> Not Collected<br>  Total buffer pool read <span class="hljs-title function_">time</span> <span class="hljs-params">(millisec)</span>   = Not Collected<br>  Total buffer pool write <span class="hljs-title function_">time</span> <span class="hljs-params">(millisec)</span>  = Not Collected<br>  Total elapsed asynchronous <span class="hljs-type">read</span> <span class="hljs-variable">time</span>     <span class="hljs-operator">=</span> Not Collected<br>  Total elapsed asynchronous <span class="hljs-type">write</span> <span class="hljs-variable">time</span>    <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous data <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>          <span class="hljs-operator">=</span> Not Collected<br>  Asynchronous index <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>         <span class="hljs-operator">=</span> Not Collected<br>  No victim <span class="hljs-type">buffers</span> <span class="hljs-variable">available</span>              <span class="hljs-operator">=</span> Not Collected<br>  <span class="hljs-type">Direct</span> <span class="hljs-variable">reads</span>                             <span class="hljs-operator">=</span> Not Collected<br>  <span class="hljs-type">Direct</span> <span class="hljs-variable">writes</span>                            <span class="hljs-operator">=</span> Not Collected<br>  Direct <span class="hljs-type">read</span> <span class="hljs-variable">requests</span>                     <span class="hljs-operator">=</span> Not Collected<br>  Direct <span class="hljs-type">write</span> <span class="hljs-variable">requests</span>                    <span class="hljs-operator">=</span> Not Collected<br>  Direct reads elapsed <span class="hljs-title function_">time</span> <span class="hljs-params">(ms)</span>           = Not Collected<br>  Direct write elapsed <span class="hljs-title function_">time</span> <span class="hljs-params">(ms)</span>           = Not Collected<br>  Number of <span class="hljs-type">files</span> <span class="hljs-variable">closed</span>                   <span class="hljs-operator">=</span> Not Collected<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>数据库</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DB2</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>DB2数据库SQLCODE速查对应表</title>
    <link href="/articles/36398/"/>
    <url>/articles/36398/</url>
    
    <content type="html"><![CDATA[<p><font color="#00BB00" size="15">SQLCODE速查表</font></p><span class="label label-primary">DB2</span> <span class="label label-info">SQLCODE</span><span id="more"></span><hr /><table><thead><tr><th>sqlcode</th><th>sqlstate</th><th>DB2错误信息（按sqlcode排序）</th></tr></thead><tbody><tr><td>0</td><td>0</td><td>SQL语句成功完成</td></tr><tr><td></td><td>01xxx</td><td>SQL语句成功完成，但是有警告</td></tr><tr><td>12</td><td>1545</td><td>未限定的列名被解释为一个有相互关系的引用</td></tr><tr><td>98</td><td>1568</td><td>动态SQL语句用分号结束</td></tr><tr><td>100</td><td>2000</td><td>没有找到满足SQL语句的行</td></tr><tr><td>110</td><td>1561</td><td>用DATA CAPTURE定义的表的更新操作不能发送到原来的子系统</td></tr><tr><td>111</td><td>1590</td><td>为2型索引设置了SUBPAGES语句</td></tr><tr><td>117</td><td>1525</td><td>要插入的值的个数不等于被插入表的列数</td></tr><tr><td>162</td><td>1514</td><td>指定的表空间被置为检查挂起状态</td></tr><tr><td>203</td><td>1552</td><td>使用非唯一的名字来解决命名的限定列</td></tr><tr><td>204</td><td>1532</td><td>命名的对象未在DB2中定义</td></tr><tr><td>206</td><td>1533</td><td>命名的列不在SQL语句中指定的任何表中存在</td></tr><tr><td>218</td><td>1537</td><td>因为SQL语句引用一个远程对象，不能为该SQL语句执行EXPLAIN</td></tr><tr><td>219</td><td>1532</td><td>命名的PLAN TABLE不存在</td></tr><tr><td>220</td><td>1546</td><td>不正确定义PLAN TABLE，检查命名列的定义</td></tr><tr><td>236</td><td>1005</td><td>SQLDA中的SQLN的值至少应于所描述的列的个数一样大</td></tr><tr><td>237</td><td>1594</td><td>至少有一个被描述的列应该是单值类型，因此扩展的SQLVAR条目需要另外的空间</td></tr><tr><td>238</td><td>1005</td><td>至少应有一个被描述的列是一个LOB，因此扩展的SQLVAR条目需要另外的空间</td></tr><tr><td>239</td><td>1005</td><td>至少应有一个被描述的列应是单值类型，因此扩展的SQLVAR条目需要另外的空间</td></tr><tr><td>304</td><td>1515</td><td>该值不能被分配给宿主变量，因为该值不再数据类型的范围之内</td></tr><tr><td>331</td><td>1520</td><td>不能被翻译的字符串，因此被设置为NULL</td></tr><tr><td>339</td><td>1569</td><td>由于与DB2 2.2版本的子系统连接，所以可能存在字符转换问题</td></tr><tr><td>394</td><td>1629</td><td>使用优化提示来选择访问路径</td></tr><tr><td>395</td><td>1628</td><td>设置了无效的优化提示，原因代码指定了为什么，忽略优化提示</td></tr><tr><td>402</td><td>1521</td><td>未知的位置</td></tr><tr><td>403</td><td>1522</td><td>本地不存在CREAT ALIAS对象</td></tr><tr><td>434</td><td>1608</td><td>在DB2未来发布的版本中将不支持指定的特性，IBM建议你停止使用这些特性</td></tr><tr><td>445</td><td>1004</td><td>值被CAST函数截取</td></tr><tr><td>462</td><td>01Hxx</td><td>由用户定义的函数或存储过程发出的警告</td></tr><tr><td>464</td><td>1609</td><td>命名的存储过程超出了它可能返回的查询结果集的个数限制</td></tr><tr><td>466</td><td>1610</td><td>指定由命名的存储过程返回的查询结果集的个数。成功完成</td></tr><tr><td>494</td><td>1614</td><td>由存储过程返回的结果集的个数超过了由ASSOCIATE LOCATORS语句指定的结果集定位器的个数</td></tr><tr><td>495</td><td>1616</td><td>因为倒台SQL的成本估算超出了在ELST中指定的警告阀值，所以发出警告</td></tr><tr><td>535</td><td>1591</td><td>请求一个主健的定位更新，或请求一个使用自我引出 约束的表的删除操作</td></tr><tr><td>541</td><td>1543</td><td>命名外健是一个重复的引用约束</td></tr><tr><td>551</td><td>1548</td><td>命名的授权ID缺少在命名的DB2对象上执行命名操作的权限</td></tr><tr><td>552</td><td>1542</td><td>命名的授权ID缺少执行命名操作的权限</td></tr><tr><td>558</td><td>1516</td><td>已经被授权该PUBLIC，因此WITH GRANT OPTION不可用</td></tr><tr><td>561</td><td>1523</td><td>对ALTER REFERENCES INDEX 和TRIGGER特权，PUBLIC AT ALL LOCATION无效</td></tr><tr><td>562</td><td>1560</td><td>因为GRANTEE已经拥有这些特权，所以一个或更多的特权被忽略</td></tr><tr><td>585</td><td>1625</td><td>模式名指定了不止一次</td></tr><tr><td>599</td><td>1596</td><td>没有为长字符数据类型（BLOB，CLOB和DBCLOB）建立比较函数</td></tr><tr><td>610</td><td>1566</td><td>由于建立了一个指定为DEFER YES的索引，指定的对象处于PENDING状态，或者因为使用了ALTER INDEX改变关键值的范围，所以指定的对象处于PENDING状态</td></tr><tr><td>625</td><td>1518</td><td>因为删除了主健索引，所以表定义被标注为不完整</td></tr><tr><td>626</td><td>1529</td><td>删除了加强UNIQUE约束的索引，唯一性不在被加强</td></tr><tr><td>645</td><td>1528</td><td>因为建立的索引中没有包含NULL，所以WHERE NOT NULL被忽略</td></tr><tr><td>650</td><td>1538</td><td>不能更改或者建立已命名的表为从属表</td></tr><tr><td>653</td><td>1551</td><td>在已指定的分区表空间中尚没有建立指定的分区索引，所以分区索引不可得</td></tr><tr><td>655</td><td>1597</td><td>为CREATE或ALTER STOGROUP语句指定特定或者非特定的卷ID，在DB2较新发布的版本中（版本6以后）将不再支持他们</td></tr><tr><td>658</td><td>1600</td><td>当建立目录索引时，不能指定SUBPAGES语句，SUBPAGES将被忽略，并缺省为1</td></tr><tr><td>664</td><td>1540</td><td>分区索引的限制关键字超出了最大值</td></tr><tr><td>738</td><td>1530</td><td>已命名的对象的更改可能像只读系统中对象的改变要求一样</td></tr><tr><td>799</td><td>157</td><td>SET语句中引用的特定寄存器不存在，将忽略 SET请求</td></tr><tr><td>802</td><td>1519</td><td>数据溢出或者因除法异常而引起的数据异常错误</td></tr><tr><td>806</td><td>1553</td><td>ISOLATION（RR）与LOCKSIZE PAGE 冲突</td></tr><tr><td>807</td><td>1554</td><td>由于十进制乘法导致溢出</td></tr><tr><td>863</td><td>1539</td><td>连接成功，但是只支持SBCS</td></tr><tr><td>2000</td><td>56094</td><td>SUBPAGES不等于1的1型索引不能成为数据共享环境中的缓冲池组依赖者</td></tr><tr><td>2002</td><td>1624</td><td>因为指定的缓冲池不允许超高速缓存，GNPCACHE指定被忽略</td></tr><tr><td>2007</td><td>1602</td><td>因为DB2子系统的参数禁用“提示(hiats）”所以不能指定优化提示</td></tr><tr><td>30100</td><td>1558</td><td>分布式协议错误被检测到，提供原来的SQLCODE和SQLSTATE</td></tr><tr><td>-7</td><td>42601</td><td>SQL语句中由非法字符</td></tr><tr><td>-10</td><td>42603</td><td>字符串常量非正常终止；检查到有遗漏的引号标志</td></tr><tr><td>-29</td><td>42601</td><td>需要INTO语句</td></tr><tr><td>-60</td><td>42815</td><td>某特定数据类型的长度或者标量规范无效</td></tr><tr><td>-84</td><td>42612</td><td>不能执行SQL语句，因为该语句对动态SQL无效或者对OS&#x2F;390的DB2无效</td></tr><tr><td>-97</td><td>42601</td><td>在单位类型、用户自定义的函数以及过程中不能使用带有CAST的LONG VARCHAR或LONGVARGRAPHIC</td></tr><tr><td>-101</td><td>54001</td><td>SQL语句超出了已确定的DB2限制：例如，表的数目太多，语句中的字节太多</td></tr><tr><td>-102</td><td>54002</td><td>字符串常量太长</td></tr><tr><td>-103</td><td>42604</td><td>无效数学文字</td></tr><tr><td>-104</td><td>42601</td><td>SQL语句中遇到非法符号</td></tr><tr><td>-105</td><td>42604</td><td>无效的字符串格式；通常引用一个格式不正确的图形字符串</td></tr><tr><td>-107</td><td>42622</td><td>对象名太长</td></tr><tr><td>-108</td><td>42601</td><td>RENAME语句中指定的名字有错误，不能使用限定词</td></tr><tr><td>-109</td><td>42601</td><td>指定了无效语句；例如CREATE VIEW不能包含ORDER BY 语句</td></tr><tr><td>-110</td><td>42606</td><td>遇到了无效的十六进制的文字</td></tr><tr><td>-111</td><td>42901</td><td>指定的列函数没有给出列名</td></tr><tr><td>-112</td><td>42607</td><td>无效的列函数语法；列函数不能运行与其他的列函数之上</td></tr><tr><td>-113</td><td>42602</td><td>遇到无效字符</td></tr><tr><td>-114</td><td>42961</td><td>该语句的位置名称必须与当前服务器匹配，但是却没有匹配</td></tr><tr><td>-115</td><td>42601</td><td>因为比较运算符没有伴着一个表达式或者列表，遇到了无效谓词</td></tr><tr><td>-117</td><td>42802</td><td>待插入的数值的个数于被插入的行中的列数不相等</td></tr><tr><td>-118</td><td>42902</td><td>数据修改语句(UPDATE或DELETE）和FROM语句中的表和视图命名不合法</td></tr><tr><td>-119</td><td>42803</td><td>HAVING语句中的列的列表与GROUP BY语句中的列列表不匹配</td></tr><tr><td>-120</td><td>42903</td><td>不允许WHERE语句、SET语句、VALUES语句或者SET ASSIGNMENT语句引用列函数</td></tr><tr><td>-121</td><td>42701</td><td>在INSERT或UPDATE语句中，某一列被非法引用了两次</td></tr><tr><td>-122</td><td>42803</td><td>非法使用了列函数。因为没有用于一个列函数的所有列不再GROUP BY语句中</td></tr><tr><td>-123</td><td>42601</td><td>特定位置的参数必须是一个常数或者一个关键词</td></tr><tr><td>-125</td><td>42805</td><td>ORDER BY语句中指定了无效数字，该数字要么小于1要么大于选定的列数</td></tr><tr><td>-126</td><td>42829</td><td>不能为一个UPDATE语句指定ORDER BY语句</td></tr><tr><td>-127</td><td>42905</td><td>在子选择中DISTINCT只能指定一次</td></tr><tr><td>-128</td><td>42601</td><td>SQL谓词中NULL使用不当</td></tr><tr><td>-129</td><td>54004</td><td>SQL语句中包含的表多于15个</td></tr><tr><td>-130</td><td>22019</td><td>ESCAPE语句必须为一个字符</td></tr><tr><td></td><td>22025</td><td>无效的ESCAPE模式</td></tr><tr><td>-131</td><td>42818</td><td>LIKE谓词只能用于字符数据</td></tr><tr><td>-132</td><td>42824</td><td>LIKE语句、ESCAPE语句、LOCATE函数或POSSTR函数中有无效运算对象</td></tr><tr><td>-133</td><td>42906</td><td>无效相关子查询引用</td></tr><tr><td>-134</td><td>42907</td><td>大于255字节的列被不正确使用</td></tr><tr><td>-136</td><td>54005</td><td>排序关键字的长度大于4000字节</td></tr><tr><td>-137</td><td>54006</td><td>被连接的字符串太大；字符的最大值为32767；图形的最大值为16382</td></tr><tr><td>-138</td><td>22011</td><td>SUBSTR列函数的第二个或第三个操作符无效</td></tr><tr><td>-142</td><td>42612</td><td>不支持的SQL语句。该语句可能在另外的RDBMS上有效，也有可能在其他的上下文中有效（例如，VALUES只能在触发器中出现）</td></tr><tr><td>-144</td><td>58003</td><td>指定的段号无效</td></tr><tr><td>-147</td><td>42809</td><td>某一源函数不能更改。要改变源函数，必须删除该源函数并重新建立他</td></tr><tr><td>-148</td><td>42809</td><td>RENAME和ALTER无法执行。RENAME不能对视图或者活动RI.ST表重新命名。ALTER不能用于改变列的长度，因为该列参与了RI、一个用户退出程序、全局的临时表或打开DATACAPTURE CHANGES表的列</td></tr><tr><td>-150</td><td>42807</td><td>触发活动的INSERT，UPDATE或DELETE语句中指定了无效的视图更新或一个无效的转换表</td></tr><tr><td>-151</td><td>42808</td><td>试图更新一个不可更新的视图的列、一个DB2 CATALOG表的列或者一个ROWID列</td></tr><tr><td>-152</td><td>42809</td><td>DROP CHECK试图删除一个参照约束，或者DROP FOREIGN试图删除一个检查约束</td></tr><tr><td>-153</td><td>42908</td><td>无效的视图建立请求，必须为旋转列表中列出的列出的未命名的列或者重复的列提供一个名字</td></tr><tr><td>-154</td><td>42909</td><td>不能用UNION、UNION ALL或者一个远程表建立视图</td></tr><tr><td>-156</td><td>42809</td><td>在视图上建立索引是非法的，或者在ALTER TABLE，CREATE TRIGGER，DROP TABLE或LOCK TABLE语句上指定一个不是表的其他对象这是无效的</td></tr><tr><td>-157</td><td>42810</td><td>必须在FOREIGN KEY语句中指定一个表名</td></tr><tr><td>-158</td><td>42811</td><td>视图的列和选择列表中的列不相匹配</td></tr><tr><td>-159</td><td>42089</td><td>无效DROP或COMMENT ON语句</td></tr><tr><td>-160</td><td>42813</td><td>对该视图的WITH CHECK OPTION无效</td></tr><tr><td>-161</td><td>44000</td><td>正被更新的视图WITH CHECK OPTION语句使得这行不能被插入或更新</td></tr><tr><td>-164</td><td>42502</td><td>用户没有建立这个视图的权限</td></tr><tr><td>-170</td><td>42605</td><td>标量函数指定了无效的参数个数</td></tr><tr><td>-171</td><td>42815</td><td>标量函数指定了无效的数据类型长度或者无效数值</td></tr><tr><td>-173</td><td>42801</td><td>在非只读型的游标上不能指定隔离级别UR</td></tr><tr><td>-180</td><td>22007</td><td>DATE、TIME、TIMESTAMP值的字符串表示法的语法不对</td></tr><tr><td>-181</td><td>22001</td><td>不是有效的DATE、TIME、TIMESTAMP值</td></tr><tr><td>-182</td><td>42816</td><td>在算术表达式中的日期&#x2F;时间值无效</td></tr><tr><td>-183</td><td>22008</td><td>在算术表达式中返回的日期&#x2F;时间值的结果不在有效值的范围内</td></tr><tr><td>-184</td><td>42610</td><td>没有正确使用日期&#x2F;时间值的参数标记</td></tr><tr><td>-185</td><td>57008</td><td>没有定义本定的日期&#x2F;时间出口</td></tr><tr><td>-186</td><td>22505</td><td>改变本定的日期&#x2F;时间出口引发这个程序的长度无效</td></tr><tr><td>-187</td><td>22506</td><td>MVS返回无效的当前日期&#x2F;时间</td></tr><tr><td>-188</td><td>22503</td><td>字符串表示无效</td></tr><tr><td>-189</td><td>22522</td><td>指定的编码字符集的ID无效或没有定义</td></tr><tr><td>-190</td><td>42837</td><td>不能象所设定的那样改变（ALTER）列。只能改变（ALTER）VARCHAR列的长度</td></tr><tr><td>-191</td><td>22504</td><td>字符串中包含了无效的混合数据</td></tr><tr><td>-197</td><td>42877</td><td>当两个或多个表被联合在一起排序时，限定的列名不能在ORDER BY语句中使用</td></tr><tr><td>-198</td><td>42617</td><td>试图对空的字符串发布一个PREPARE或EXECUTE IMMEDIATE语句</td></tr><tr><td>-199</td><td>42601</td><td>SQL语句中使用了非法关键词</td></tr><tr><td>-203</td><td>42702</td><td>模糊列引用</td></tr><tr><td>-204</td><td>42704</td><td>没有定义的对象名</td></tr><tr><td>-205</td><td>42703</td><td>指定的表的列名无效</td></tr><tr><td>-206</td><td>42703</td><td>列名没有在FROM语句所引用的任何表中，或者没有在定义触发器所在的表中</td></tr><tr><td>-208</td><td>42707</td><td>不能ORDER BY指定列，应为该列不在选择列表中</td></tr><tr><td>-212</td><td>42712</td><td>指定的表名在触发器中不允许多次使用，只能使用一次</td></tr><tr><td>-214</td><td>42822</td><td>DISTINCT、ORDER BY 引起的无效表达式</td></tr><tr><td>-219</td><td>42704</td><td>因为PLAN_TABLE不存在，EXPLAIN无法执行</td></tr><tr><td>-220</td><td>55002</td><td>遇到无效的PLAN_TABLE列</td></tr><tr><td>-221</td><td>55002</td><td>如果为PLAN_TABLE定义了可供选择的列，那么，必须定义所有的列</td></tr><tr><td>-229</td><td>42708</td><td>指定的现场找不到</td></tr><tr><td>-240</td><td>428B4</td><td>LOCK TABLE语句的PART子句无效</td></tr><tr><td>-250</td><td>42718</td><td>没有定义本地位置名</td></tr><tr><td>-251</td><td>42602</td><td>记号无效</td></tr><tr><td>-300</td><td>22024</td><td>宿主变量或参数中的字符串不是以NULL为终止</td></tr><tr><td>-301</td><td>42895</td><td>无效的宿主变量数据类型</td></tr><tr><td>-302</td><td>22001</td><td>输入的变量值对指定的列无效</td></tr><tr><td></td><td>22003</td><td>输入的变量值对指定的列而言太大</td></tr><tr><td>-303</td><td>42806</td><td>因为数据类型不兼容，不能分配数值</td></tr><tr><td>-304</td><td>22003</td><td>因为数据超出了范围，不能分配数值</td></tr><tr><td>-305</td><td>22002</td><td>没有NULL指示符变量</td></tr><tr><td>-309</td><td>22512</td><td>因为引用的宿主变量被设置成NULL，所以谓词无效</td></tr><tr><td>-310</td><td>22501</td><td>十进制的宿主变量或参数包含非十进制数据</td></tr><tr><td>-311</td><td>22501</td><td>输入的宿主变量长度无效，或者时负值或者太大</td></tr><tr><td>-312</td><td>42618</td><td>没有定义宿主变量或者宿主变量不可用</td></tr><tr><td>-313</td><td>7001</td><td>宿主变量的个数不等于参数标识的个数</td></tr><tr><td>-314</td><td>42714</td><td>模糊的宿主变量引用</td></tr><tr><td>-327</td><td>22525</td><td>在最后分区的关键字范围内，不能插入行</td></tr><tr><td>-330</td><td>22021</td><td>不能成功的翻译字符串</td></tr><tr><td>-331</td><td>22021</td><td>字符串不能分配到宿主变量，因为其不能成功的被翻译</td></tr><tr><td>-332</td><td>57017</td><td>不能为两个命名的编码字符集的ID定义翻译规则</td></tr><tr><td>-333</td><td>56010</td><td>子类型无效导致翻译失败</td></tr><tr><td>-338</td><td>42972</td><td>ON语句无效，必须引用连接的列</td></tr><tr><td>-339</td><td>56082</td><td>访问DB2 2.2版本的子系统被拒绝，原因时ASCII到EBCDIC翻译不能进行</td></tr><tr><td>-350</td><td>42962</td><td>无效的大对象规范</td></tr><tr><td>-351</td><td>56084</td><td>SELECT列表中有不支持的数据类型</td></tr><tr><td>-352</td><td>56084</td><td>输入列表中有不支持的数据类型</td></tr><tr><td>-355</td><td>42993</td><td>LOB列太大，以至不能被记录在日志中</td></tr><tr><td>-372</td><td>428C1</td><td>每个表只允许有一个ROWID列</td></tr><tr><td>-390</td><td>42887</td><td>在上下文中指定的函数无效</td></tr><tr><td>-392</td><td>42855</td><td>自从前一次FETCH以来，指定游标的SQLDA已被不恰当的改变</td></tr><tr><td>-396</td><td>38505</td><td>在最后的访问过程中，视图执行SQL语句</td></tr><tr><td>-397</td><td>428D3</td><td>在某一列上不恰当的指定了GENERATED因为该列不是ROWID数据类型</td></tr><tr><td>-398</td><td>428D2</td><td>为某一个宿主变量请求LOCATOR，但是该宿主变量不是一个LOB</td></tr><tr><td>-399</td><td>22511</td><td>在INSERT语句中为ROWID列指定的值无效</td></tr><tr><td>-400</td><td>54027</td><td>在DB2编目中定义的用户自定义索引不能超过100个</td></tr><tr><td>-401</td><td>42818</td><td>算术操作符或比较操作符的操作对象不是兼容的</td></tr><tr><td>-402</td><td>42819</td><td>算术函数不能用于字符或日期时间数据</td></tr><tr><td>-404</td><td>22001</td><td>SQL语句指定的字符串太长</td></tr><tr><td>-405</td><td>42820</td><td>数值文字超出了范围</td></tr><tr><td>-406</td><td>22003</td><td>计算出的或者倒出的数值超出了范围</td></tr><tr><td>-407</td><td>23502</td><td>不能把NULL值插到定义为NOT NULL的列中</td></tr><tr><td>-408</td><td>42821</td><td>数值不能被更新或插入，因为他与列的数据类型不兼容</td></tr><tr><td>-409</td><td>42607</td><td>COUNT函数指定的运算对象无效</td></tr><tr><td>-410</td><td>42820</td><td>浮点文字笔30个字符的最大允许长度长</td></tr><tr><td>-411</td><td>56040</td><td>CURRENT SQLID使用无效</td></tr><tr><td>-412</td><td>42823</td><td>在子查询的选择列表中遇到了多个列</td></tr><tr><td>-413</td><td>22003</td><td>当转换为一个数字型数据类型时，数据溢出</td></tr><tr><td>-414</td><td>42824</td><td>LIKE谓词不能运行于用数字或日期时间类型定义的列</td></tr><tr><td>-415</td><td>42825</td><td>为UNION操作指定的选择列表不是联合兼容的</td></tr><tr><td>-416</td><td>42907</td><td>包含UNION操作符的SQL语句不允许有长的字符串列</td></tr><tr><td>-417</td><td>42609</td><td>两参数标识符作为运算对象被指定在同一谓词的两边</td></tr><tr><td>-418</td><td>42610</td><td>参数标识符使用无效</td></tr><tr><td>-419</td><td>42911</td><td>十进制除法无效</td></tr><tr><td>-420</td><td>22018</td><td>字符串自变量值不符合函数的要求</td></tr><tr><td>-421</td><td>42826</td><td>UNION操作的选择列表中没有提供相同数目的列</td></tr><tr><td>-423</td><td>0F001</td><td>为LOB或结果集定位器指定的值无效</td></tr><tr><td>-426</td><td>2D528</td><td>在不允许更新的应用服务器不允许执行COMMIT语句</td></tr><tr><td>-427</td><td>2D529</td><td>在不允许更新的应用服务器不允许执行ROLLBACK语句</td></tr><tr><td>-430</td><td>38503</td><td>在用户自定义的函数或存储过程中遇到了错误</td></tr><tr><td>-433</td><td>22001</td><td>指定的值太长</td></tr><tr><td>-435</td><td>428B3</td><td>无效的应用定义的SQLSTATE</td></tr><tr><td>-438</td><td>xxxxx</td><td>使用了RAISE_ERROR函数的应用发出了一个错误</td></tr><tr><td>-440</td><td>42884</td><td>存储过程或用户自定义函数的参数列表参数个数于预期的个数不匹配</td></tr><tr><td>-441</td><td>42601</td><td>与标量函数一起使用DISTINCT或ALL是不正确的用法</td></tr><tr><td>-443</td><td>42601</td><td>指定的外部函数返回错误的SQLSTATE</td></tr><tr><td>-444</td><td>42724</td><td>与被称为存储过程或用户自定义函数有关的程序不能找到</td></tr><tr><td>-449</td><td>42878</td><td>对存储过程或用户自定义的 函数，CREATE或ALTER语句不正确（缺失EXTERNAL NAME 子句)</td></tr><tr><td>-450</td><td>39501</td><td>存储过程或用户自定义函数写入存储器的值超过了参数声明的长度</td></tr><tr><td>-451</td><td>42815</td><td>CREATE FUNCTION中指定了不正确的数据类型</td></tr><tr><td>-453</td><td>42880</td><td>用户自定义函数中的RETURNS语句无效</td></tr><tr><td>-454</td><td>42723</td><td>指定的函数识别标记与已存在的另一函数的识别标记冲突</td></tr><tr><td>-455</td><td>42882</td><td>模式名不比配</td></tr><tr><td>-456</td><td>42710</td><td>为用户自定义函数指定的函数名已经存在</td></tr><tr><td>-457</td><td>42939</td><td>用户自定义函数或用户自定义类型正试图使用系统中定义的函数或者类型所用的名称</td></tr><tr><td>-458</td><td>42883</td><td>没有找到函数</td></tr><tr><td>-463</td><td>39001</td><td>特定的外部例程返回无效的SQLSTATE</td></tr><tr><td>-469</td><td>42886</td><td>参数定义为OUT或INOUT的CALL语句必须提供宿主变量</td></tr><tr><td>-470</td><td>39002</td><td>指定了NULL参数，但是该例程却不支持NULL</td></tr><tr><td>-471</td><td>55023</td><td>存储过程或用户自定义函数失败：提供原因代码</td></tr><tr><td>-472</td><td>24517</td><td>外部的函数程序使游标处于打开状态</td></tr><tr><td>-473</td><td>42918</td><td>用户自定义数据类型命名不能和系统定义的数据类型一样</td></tr><tr><td>-475</td><td>42866</td><td>结果类型不能被转换成RETURNS类型</td></tr><tr><td>-476</td><td>42725</td><td>在其模式中该函数不是独一无二的</td></tr><tr><td>-478</td><td>42893</td><td>不能DROP或REVOKE特定的对象，因为其他对象依赖于该对象</td></tr><tr><td>-480</td><td>51030</td><td>直到存储过程已经被CALL后，DESCRIBE PROCEDURE和ASSOCIATE LOCATORS才能被发布</td></tr><tr><td>-482</td><td>51030</td><td>存储过程不返回到任何一个定位器</td></tr><tr><td>-483</td><td>42885</td><td>CREATE FUNCTION语句中的参数个数与源函数中的参数个数不匹配</td></tr><tr><td>-487</td><td>38001</td><td>选择了NO SQL选项建立指定的存储过程或用户自定义函数，但却视图发布SQL语句</td></tr><tr><td>-491</td><td>42601</td><td>CREATE FUNCTION语句无效，因为该语句没有RETURNS语句或者因为该语句没有指定有效的SOURCE或者EXTERNAL语句</td></tr><tr><td>-492</td><td>42879</td><td>指定函数的指定参数的个数有错误</td></tr><tr><td>-495</td><td>57051</td><td>语句的估计处理器成本超出了资源限制</td></tr><tr><td>-496</td><td>51033</td><td>语句无法执行，因为当前服务器与调用存储过程的服务器不同</td></tr><tr><td>-497</td><td>54041</td><td>指定的数据库超过了32767 OBID的上限，或者CREATE DATABASE语句使之达到了32511DBID的上限</td></tr><tr><td>-499</td><td>24516</td><td>指定的游标已被分配到结果集，该结果集来自已经指定的存储过程</td></tr><tr><td>-500</td><td>24501</td><td>因为连接被破坏，WITH HOLD游标被关闭</td></tr><tr><td>-501</td><td>24501</td><td>在试图获取数据或关闭一个游标前必须打开一个游标</td></tr><tr><td>-502</td><td>24502</td><td>在没有关闭游标前不能再次打开游标</td></tr><tr><td>-503</td><td>42912</td><td>因为列在游标的FOR UPDATE OF语句中没有被指定，该游标用于获取该列，所以不能更新该列</td></tr><tr><td>-504</td><td>34000</td><td>不能引用一个游标，因为他不是定义到程序里的</td></tr><tr><td>-507</td><td>24501</td><td>在试图更新或者删除WHERE CURRENT OF前，必须打开游标</td></tr><tr><td>-508</td><td>24504</td><td>因为被引用的游标当前不是处于数据行上，所以不能被更新或删除</td></tr><tr><td>-509</td><td>42827</td><td>除了在游标上指定的那个表（该表由WHERE CURRENT OF语句引用的）以外，再也不能从别的表上更新数据</td></tr><tr><td>-510</td><td>42828</td><td>表或视图不能被修改</td></tr><tr><td>-511</td><td>42829</td><td>对不可修改的表或视图，FOR UPDATE OF语句无效</td></tr><tr><td>-512</td><td>56023</td><td>对远程对象的无效引用</td></tr><tr><td>-513</td><td>42924</td><td>一个别名不能再被定义成另外的别名</td></tr><tr><td>-514</td><td>26501</td><td>游标尚没有被准备</td></tr><tr><td>-516</td><td>26501</td><td>试图描述未准备好的SQL语句</td></tr><tr><td>-517</td><td>7005</td><td>因为SQL语句尚没有准备好，游标无效</td></tr><tr><td>-518</td><td>7003</td><td>试图执行尚没有准备好的SQL语句</td></tr><tr><td>-519</td><td>24506</td><td>当为游标的SQL语句发布一个准备语句是，游标不能是打开的</td></tr><tr><td>-525</td><td>51015</td><td>不能在已指定的程序包中执行SQL语句，因为在绑定时间内该程序包无效</td></tr><tr><td>-526</td><td>42995</td><td>在给定的上下文中，不能使用全局的临时表</td></tr><tr><td>-530</td><td>23503</td><td>对特定的约束名指定了无效的外健值</td></tr><tr><td>-531</td><td>23504</td><td>从版本5开始，父关键字的多行更新将试图删除一个外关键字依赖的父关键字值，在版本5以前，当引用主关键值外健值当前存在时，试图更新该主健值</td></tr><tr><td>-532</td><td>23504</td><td>删除操作违反了已指定的参照约束</td></tr><tr><td>-533</td><td>21501</td><td>多行插入无效，试图将多行插到自我引用的表中</td></tr><tr><td>-534</td><td>21502</td><td>可改变主健列值的更新语句不能在同一时刻用于更新多行</td></tr><tr><td>-535</td><td>21502</td><td>当从自我引用表中删除数据或者更新主健列时，不能指定WHERE CURRENT OF。不是版本5的子系统才调用该代码</td></tr><tr><td>-536</td><td>42914</td><td>因为某一特定表的参照约束存在，所以删除语句无效</td></tr><tr><td>-537</td><td>42709</td><td>在外健语句或主健语句的规范中，每个列的出现不能多于一次</td></tr><tr><td>-538</td><td>42830</td><td>无效的外健；不符合引用的表没有主健</td></tr><tr><td>-539</td><td>42888</td><td>不能定义外健，因为被引用的表没有主健</td></tr><tr><td>-540</td><td>57001</td><td>表定义不完整，直到为主健建立了唯一索引或UNIQUE语句、或者包含GENERATED BYDEFAULT属性的ROWID列</td></tr><tr><td>-542</td><td>42831</td><td>可以为空的列不允许作为主健的一部分包含在内</td></tr><tr><td>-543</td><td>23511</td><td>因为该表是指定了SET NULL删除规则的参照约束的父表而且检查约束不允许NULL，所以DELETE不能发生</td></tr><tr><td>-544</td><td>23512</td><td>不能用ALTER添加检查约束，因为已存在的某行与该检查约束冲突</td></tr><tr><td>-545</td><td>23513</td><td>INSERT或者UPDATE导致检查约束冲突</td></tr><tr><td>-546</td><td>42621</td><td>在CREATE或ALTER TABLE中指定的检查约束无效</td></tr><tr><td>-548</td><td>42621</td><td>因为指定的列而引起的检查约束无效</td></tr><tr><td>-549</td><td>42509</td><td>DYNAMICRULES（BIND）计划或程序包的无效SQL语句</td></tr><tr><td>-551</td><td>42501</td><td>用户试图对不拥有权限的特定的对象进行操作，或者表不存在</td></tr><tr><td>-552</td><td>42502</td><td>用户试图执行未被授权的操作</td></tr><tr><td>-553</td><td>42503</td><td>不能指定CURRENT SQLID，因为用户尚没有被允许改变那个ID</td></tr><tr><td>-554</td><td>42502</td><td>不能对你本身赋予一个权限</td></tr><tr><td>-555</td><td>42502</td><td>不能对你本身撤销一个权限</td></tr><tr><td>-556</td><td>42504</td><td>不能撤销用户没有拥有的权限</td></tr><tr><td>-557</td><td>42852</td><td>指定了不一致的授予或撤销关键词</td></tr><tr><td>-558</td><td>56025</td><td>为授予或撤销语句指定了无效的语句（一个或一组）</td></tr><tr><td>-559</td><td>57002</td><td>DB2权限机制已经禁用，授予或者撤销不能被发布</td></tr><tr><td>-567</td><td>42501</td><td>指定的权限ID缺少对指定的程序包的绑定权限</td></tr><tr><td>-571</td><td>25000</td><td>不允许多点更新</td></tr><tr><td>-573</td><td>42890</td><td>不能定义参照约束，因为已指定的父表中在指定的列上没有唯一健</td></tr><tr><td>-574</td><td>42864</td><td>指定的缺省与列定义冲突</td></tr><tr><td>-577</td><td>38002</td><td>试图修改用户自定义函数中的数据或者存储过程中的数据，但这些对象的建立没有选择MODIFIES SQL DATA选项</td></tr><tr><td>-579</td><td>38004</td><td>试图修改用户自定义函数中的数据或者存储过程中的数据，但这些对象的建立没有选择READ SQL DATA选项，也没有选择MODIFIES SQL DATA选项</td></tr><tr><td>-580</td><td>42625</td><td>CASE表达式中的结果表达式不能都是空的</td></tr><tr><td>-581</td><td>42804</td><td>CASE表达式中的结果表达式为不兼容的数据类型</td></tr><tr><td>-582</td><td>42625</td><td>SEARCHED－WHEN－CLAUSE中的查找条件指定了一个限定的、IN或EXISTS谓词</td></tr><tr><td>-583</td><td>42845</td><td>指定的函数失败，因为他不是决定性的，或者可能有外部动作</td></tr><tr><td>-585</td><td>42732</td><td>在当前路径中模式名不止一次出现</td></tr><tr><td>-586</td><td>42907</td><td>CURRENT PATH专用寄存器在长度上不能超过254字符</td></tr><tr><td>-587</td><td>428C6</td><td>项目引用的列表必须是同一个家族</td></tr><tr><td>-590</td><td>42734</td><td>在命名的存储过程或用户自定义的函数中的参数必须是独一无二的</td></tr><tr><td>-592</td><td>42510</td><td>没有授权权限，让你在WLM环境中建立的存储过程或者用户自定义函数</td></tr><tr><td>-601</td><td>42710</td><td>试图创建（或重命名）已经存在的对象</td></tr><tr><td>-602</td><td>54008</td><td>CREATE INDEX语句中指定的列太多</td></tr><tr><td>-603</td><td>23515</td><td>因为发现有重复值，所以不能建立唯一的索引</td></tr><tr><td>-604</td><td>42611</td><td>在CREATE或ALTER TABLE语句中的为数据类型指定的长度、精度以及标度无效</td></tr><tr><td>-607</td><td>42832</td><td>指定的INSERT、UPDATE或DELETE语句不能被发布，应为这些语句对DB2 CATLOG表执行写操作</td></tr><tr><td>-611</td><td>53088</td><td>当LOCKSIZE是TABLE或者TABLESPACE时，LOCKMAX必须为0</td></tr><tr><td>-612</td><td>42711</td><td>在同一个表、索引或试图中不允许有重复列名</td></tr><tr><td>-613</td><td>54008</td><td>主健或UNIQUE约束太长或者包含了太多的列</td></tr><tr><td>-614</td><td>54008</td><td>已经超过了索引的内部健长度的最大长度（255）限制</td></tr><tr><td>-615</td><td>55006</td><td>不能删除这个程序包，因为该程序包目前正在执行</td></tr><tr><td>-616</td><td>42893</td><td>指定的对象不能被删除，因为其他对象依赖于该对象</td></tr><tr><td>-617</td><td>56089</td><td>对于DB2版本6，1型索引无效。对于以前的版本，1型索引不能用LOCKSIZE ROW或LARGE表空间定义</td></tr><tr><td>-618</td><td>42832</td><td>对DB2 CATALOG表的请求操作时不允许的</td></tr><tr><td>-619</td><td>55011</td><td>DSNDB07不能修改，除非他先被停止了</td></tr><tr><td>-620</td><td>53001</td><td>对在DSNDB07中的表空间不允许指定该关键词</td></tr><tr><td>-621</td><td>58001</td><td>遇到了重复的DBID，遇到了系统问题</td></tr><tr><td>-622</td><td>56031</td><td>不能指定FOR MIXED DATA因为没有安装混合数据选项</td></tr><tr><td>-623</td><td>55012</td><td>不能为单一的表定义多个族索引</td></tr><tr><td>-624</td><td>42889</td><td>不能为单一的表定义多个主健</td></tr><tr><td>-625</td><td>55014</td><td>用主健定义的表要求唯一索引</td></tr><tr><td>-626</td><td>55015</td><td>不能发布ALTER语句来改变PRIQTY SECQTY或ERASE，除非先停止了表空间</td></tr><tr><td>-627</td><td>55016</td><td>不能发布ALTER语句来改变PRIQTY SECQTY或ERASE，除非先把表空间定义为使用存储器组的表空间</td></tr><tr><td>-628</td><td>42613</td><td>指定语句时相互排斥的（例如，不能分区一个分段的表空间）</td></tr><tr><td>-629</td><td>42834</td><td>因为该外健不能包含空值，所以SET NULL无效</td></tr><tr><td>-630</td><td>56089</td><td>不能为1型索引指定WHERE NOT NULL</td></tr><tr><td>-631</td><td>54008</td><td>无效的外健；要么是比254个字节长，要么包含的列数多于40</td></tr><tr><td>-632</td><td>42915</td><td>指定的删除规则禁止把这个表定义为已制定表的从属表</td></tr><tr><td>-633</td><td>42915</td><td>无效删除规则；必须使用特定的强制删除规则</td></tr><tr><td>-634</td><td>42915</td><td>在这种情况下，DELETE CASCADE不允许</td></tr><tr><td>-635</td><td>42915</td><td>删除规则不能有差异或者不能为SET NULL</td></tr><tr><td>-636</td><td>56016</td><td>在分区索引健的升序或降序规范中，分区所以必须与该规范一致</td></tr><tr><td>-637</td><td>42614</td><td>遇到重复的关键词</td></tr><tr><td>-638</td><td>42601</td><td>在CREATE TABLE语句中缺少列定义</td></tr><tr><td>-639</td><td>56027</td><td>带有SET NULL的删除规则的外健的可空列不能是分区索引的列</td></tr><tr><td>-640</td><td>56089</td><td>不能为这个表空间指定LOCKSIZE ROW，因为在该表空间中的表上定义了1型索引</td></tr><tr><td>-642</td><td>54021</td><td>唯一约束包含太多的列</td></tr><tr><td>-643</td><td>54024</td><td>检查约束超出了3800个字符的最大长度</td></tr><tr><td>-644</td><td>42615</td><td>在SQL语句中为关键词指定的值无效</td></tr><tr><td>-646</td><td>55017</td><td>在指定的分区表空间或者缺省表空间中不能创建表，因为指定的表空间已经包含了一个表</td></tr><tr><td>-647</td><td>57003</td><td>指定的缓冲池无效，因为他没有被激活</td></tr><tr><td>-650</td><td>56090</td><td>ALTER INDEX不能被执行；提供了原因代码</td></tr><tr><td>-651</td><td>54025</td><td>如果CREARE或ALTER TABLE被允许，表对象的描述词（object descriptor,OBD）将超过最大值（32KB）</td></tr><tr><td>-652</td><td>23506</td><td>遇到了EDITRPROC或VALIDPROC冲突</td></tr><tr><td>-653</td><td>57004</td><td>在分区表空间中的表不可用，因为分区索引尚未被创建</td></tr><tr><td>-655</td><td>56036</td><td>在卷的列表中，STOGROUP不能指定为特定的或不特定（“*”）的卷</td></tr><tr><td>-658</td><td>42917</td><td>当试图删除指定的对象时，无法删除该对象，该对象的删除必须通过删除与之相关联的对象完成</td></tr><tr><td>-660</td><td>53035</td><td>不正确的分区索引规范，必须为族索引定义有限制的关键字</td></tr><tr><td>-661</td><td>53036</td><td>分区索引没有指定恰当的分区数目</td></tr><tr><td>-662</td><td>53037</td><td>试图在未分区的表空间（分段的或简单的）上建立分区索引</td></tr><tr><td>-663</td><td>53038</td><td>为分区索引指定的关键字限制值是一个无效数字</td></tr><tr><td>-665</td><td>53039</td><td>为ALTER TABLESOACE语句指定了无效的PART语句</td></tr><tr><td>-666</td><td>57005</td><td>SQL语句不能被处理，因为指定的函数当前正处于进行过程中</td></tr><tr><td>-667</td><td>42917</td><td>不能明确的删除分区表空间的族索引，必须除去分区表空间来去掉分区索引</td></tr><tr><td>-668</td><td>56018</td><td>不能向用EDITPROC定义的表中添加列</td></tr><tr><td>-669</td><td>42917</td><td>不能显式的删除分区表空间中的表，必须删除分区表空间来删除表</td></tr><tr><td>-670</td><td>54010</td><td>表的记录长度超过了页面的大小</td></tr><tr><td>-671</td><td>53040</td><td>不能更改指定的表空间的缓冲池，因为这将改变表空间的页面大小</td></tr><tr><td>-672</td><td>55035</td><td>在命名的表上不允许DROP</td></tr><tr><td>-676</td><td>53041</td><td>只有4KB的缓冲池可被用于一个索引</td></tr><tr><td>-677</td><td>57011</td><td>缓冲池扩展失败，由于可用的虚拟内存的大小不足</td></tr><tr><td>-678</td><td>53045</td><td>为才分区索引中指定的限制健提供的值与数据类型不符</td></tr><tr><td>-679</td><td>57006</td><td>不能创建某一个特定对象，因为该对象的一个drop目前正在挂起</td></tr><tr><td>-680</td><td>54011</td><td>对DB2表不能超过750列</td></tr><tr><td>-681</td><td>23507</td><td>列违反了指定的FIELDPROC</td></tr><tr><td>-682</td><td>57010</td><td>不能载入FIELDPROC</td></tr><tr><td>-683</td><td>42842</td><td>列、单值类型、函数或者过程无效，因为不兼容语句。例如，指定的INTEGER具有FORBITDATA选项</td></tr><tr><td>-684</td><td>54012</td><td>指定的文字列表不能超过254个字节</td></tr><tr><td>-685</td><td>58002</td><td>FIELDPROC返回一个无效的域描述</td></tr><tr><td>-686</td><td>53043</td><td>用FIELDPROC定义的一个列不能与一个使用不同的FIELDPROC定义的列作比较</td></tr><tr><td>-687</td><td>53044</td><td>列不能与一个非兼容字段类型的列比较</td></tr><tr><td>-688</td><td>58002</td><td>返回不正确的数据</td></tr><tr><td>-689</td><td>54011</td><td>从属表定义了太多的列</td></tr><tr><td>-690</td><td>23508</td><td>数据定义的控制支持拒绝这个语句</td></tr><tr><td>-691</td><td>57018</td><td>命名的注册表不存在</td></tr><tr><td>-692</td><td>57018</td><td>命名的索引不存在，但命名的注册表需要该索引</td></tr><tr><td>-693</td><td>55003</td><td>命名的注册表&#x2F;索引的命名列无效</td></tr><tr><td>-694</td><td>57023</td><td>DROP正在命名的注册表上挂起</td></tr><tr><td>-696</td><td>42898</td><td>由于相关的名字或者转换表的名字使用不正确，指定的触发器无效</td></tr><tr><td>-697</td><td>42899</td><td>FOR EACH语句被指定，因此与OLD合NEW相关的名字是不允许的，或者不能为一个BEFORE触发器指定OLD_TABLE和NEW_TABLE</td></tr><tr><td>-713</td><td>42815</td><td>指定的专用寄存器是无效的</td></tr><tr><td>-715</td><td>56064</td><td>命名的程序不能被运行，因为他依赖与你所安装的DB2版本的部件，但是你的数据中心没有安装这个部件</td></tr><tr><td>-716</td><td>56065</td><td>命名的程序使用这个版本的不正确的发行版本做了预编译</td></tr><tr><td>-717</td><td>56066</td><td>BIND失败，因为他依赖与你所安装的DB2版本的部件，但是你的数据中心没有安装这个部件</td></tr><tr><td>-718</td><td>56067</td><td>REBIND失败，因为IBMREQD列无效</td></tr><tr><td>-719</td><td>42710</td><td>不能BIND ADD一个已经存在的程序包</td></tr><tr><td>-720</td><td>42710</td><td>不能BIND REPLACE一个已经存在的程序包版本</td></tr><tr><td>-721</td><td>42710</td><td>程序包的一致性记号必须是独一无二的</td></tr><tr><td>-722</td><td>42704</td><td>绑定错误，因为指定的程序包不存在</td></tr><tr><td>-723</td><td>9000</td><td>一个触发的SQL语句接受到一个错误</td></tr><tr><td>-724</td><td>54038</td><td>达到了（16）级联间接的SQL语句的最大项目</td></tr><tr><td>-725</td><td>42721</td><td>对专门指定的寄存器提供了一个无效值</td></tr><tr><td>-726</td><td>55030</td><td>因为SYSPKSYSTEM条目，不能绑定这个程序包</td></tr><tr><td>-728</td><td>56080</td><td>指定的数据类型不能与私有协议发布一起使用</td></tr><tr><td>-729</td><td>429B1</td><td>用COMMIT ON RETURN定义的存储过程不能用作嵌套的CALL过程的目标</td></tr><tr><td>-730</td><td>56053</td><td>在只读的共享数据库中为表定义的参照完整性无效</td></tr><tr><td>-731</td><td>56054</td><td>VSAM数据集必须用SHAREOPTION（1.3）定义</td></tr><tr><td>-732</td><td>56055</td><td>被定义为只读型数据库却拥有没有定义空间或者索引空间的DB2子系统</td></tr><tr><td>-733</td><td>56056</td><td>只读共享数据库的定义不一致</td></tr><tr><td>-734</td><td>56057</td><td>一旦一个数据库被定义为ROSHARE READ，他将不能被更改为其他不同的ROSHARE状态</td></tr><tr><td>-735</td><td>55004</td><td>用DBID名称标识的数据库不再是一个只读共享数据库</td></tr><tr><td>-736</td><td>53014</td><td>命名的DBID无效</td></tr><tr><td>-737</td><td>53056</td><td>在这种状况下，不能建立一个隐含的表空间</td></tr><tr><td>-739</td><td>56088</td><td>因为同时指定了ALLOW PARALLEL和MODIELES SQL DATA这两个语句，因此已设定的函数将不能再被更改</td></tr><tr><td>-740</td><td>51034</td><td>在这种方式下不能用MODIELES SQL DATA定义指定的函数</td></tr><tr><td>-741</td><td>55030</td><td>已经为命名的共享组成员的数据定义了工作文件数据库</td></tr><tr><td>-742</td><td>53004</td><td>DSNDB07是隐含的工作文件数据库</td></tr><tr><td>-746</td><td>57053</td><td>在特定的触发器、存储过程或函数中的SQL语句违反嵌套SQL限制</td></tr><tr><td>-747</td><td>57054</td><td>指定的表是不可用的除非为LOB数据列建立起必须的辅助表</td></tr><tr><td>-748</td><td>54042</td><td>在指定的辅助表上已经有一个索引</td></tr><tr><td>-750</td><td>42986</td><td>不能对已指定的表重新命名,因为他至少在一个现存的视图或触发器中被引用</td></tr><tr><td>-751</td><td>42987</td><td>存储过程或用户自定义的函数试图执行一个不允许执行的SQL语句。DB2的线程被置于MUST_ROLLBACK状态</td></tr><tr><td>-752</td><td>0A001</td><td>无效CONNECT语句</td></tr><tr><td>-763</td><td>560A1</td><td>无效的表空间名</td></tr><tr><td>-764</td><td>560A2</td><td>LOB表空间必须与其相关的基表空间同在一个数据库中</td></tr><tr><td>-765</td><td>560A3</td><td>表和数据库不兼容</td></tr><tr><td>-766</td><td>560A4</td><td>不能对辅助表进行请求的操作</td></tr><tr><td>-767</td><td>42626</td><td>CREATE INDEX失败，因为在辅助表中为索引指定了列，或者因为没有为非辅助表的索引指定列</td></tr><tr><td>-768</td><td>560A50</td><td>不能为指定的列或者指定的分区建立辅助表，因为其辅助表已经存在</td></tr><tr><td>-769</td><td>53096</td><td>CREATE AUX TABLE的规格与基表不匹配</td></tr><tr><td>-770</td><td>530A6</td><td>指定的表必须有一个ROWID列，那么该表才可以包含一个LOB列</td></tr><tr><td>-771</td><td>428C7</td><td>无效的ROWID列规范</td></tr><tr><td>-797</td><td>42987</td><td>CREATE TRIGGER包含不被支持的语法</td></tr><tr><td>-798</td><td>428C9</td><td>不能把一个值插入到用GENERATED ALWAYS定义的ROWID列</td></tr><tr><td>-802</td><td>22012</td><td>某一特定操作发生了异常错误。被零除</td></tr><tr><td></td><td>22003</td><td>某一特定操作发生了异常错误。但不是被零除</td></tr><tr><td>-803</td><td>23505</td><td>不能插入行，因为这将违反唯一索引的约束</td></tr><tr><td>-804</td><td>7002</td><td>SQLDA的调用参数列表有误</td></tr><tr><td>-805</td><td>51002</td><td>在计划中没有发现DBRM或程序包名</td></tr><tr><td>-807</td><td>23509</td><td>对已指定的环境和连接，该程序包不可用</td></tr><tr><td>-808</td><td>8001</td><td>CONECT语句与程序中的第一个CONNECT语句不一致</td></tr><tr><td>-811</td><td>21000</td><td>当多行作为一内嵌的选择语句的返回结果是，必须使用游标</td></tr><tr><td>-812</td><td>22508</td><td>在CURRENT PACKAGESET中的ID集合是空白的，语句不能被执行</td></tr><tr><td>-815</td><td>42920</td><td>在一个内置选择语句或者一个基本谓词的子查询中，显式的或隐含的指定了GROUP BY或HAVING语句</td></tr><tr><td>-817</td><td>25000</td><td>执行SQL语句将可能导致禁止更新用户数据或DB2编目</td></tr><tr><td>-818</td><td>5103</td><td>计划&lt;－&gt;载入组件的时间戳不匹配，在执行计划中没有从同一个预编译中建立DBRM，该预编译是作为组件载入的</td></tr><tr><td>-819</td><td>58004</td><td>视图不能重建，因为在DB2编目中存储的分析树长度为0</td></tr><tr><td>-820</td><td>58004</td><td>在这个DB2版本的DB2编目中遇到了无效值</td></tr><tr><td>-822</td><td>51004</td><td>在SQLDA中遇到了无效地址</td></tr><tr><td>-840</td><td>54004</td><td>在选择列表或插入列表中返回的项目太多</td></tr><tr><td>-842</td><td>8002</td><td>到指定位置的连接已经存在</td></tr><tr><td>-843</td><td>8003</td><td>SET CONNECTION或RELEASE语句无法执行，因为连接不存在</td></tr><tr><td>-870</td><td>58026</td><td>宿主变量描述符的个数不等于语句中宿主变量的个数</td></tr><tr><td>-872</td><td>51302</td><td>这个子系统已指定了有效的CCSID</td></tr><tr><td>-873</td><td>53090</td><td>同一SQL语句中，不能同时引用EBCDIC表中的定义的列和ASCII表中定义的列</td></tr><tr><td>-874</td><td>53901</td><td>指定对象的编码方案与其表空间的编码方案不匹配</td></tr><tr><td>-875</td><td>42988</td><td>指定的操作符不能用于ASCII数据</td></tr><tr><td>-876</td><td>53092</td><td>不能为指定的原因创建对象：提供了原因代码</td></tr><tr><td>-877</td><td>53093</td><td>数据库或表空间不允许用ASCII，必须使用EBCDIC</td></tr><tr><td>-878</td><td>53094</td><td>该PLAN——TABLE不能是ASCII，必须使用EBCDIC</td></tr><tr><td>-879</td><td>53095</td><td>指定对象的CREATE或ALTER语句不能将列、单值类型，某个存储过程或用户自定义函数的参数定义为以下类型：MAXED DATA，GRAPHIC，VARGRAPHIC，LONGVARGRAPHIC，因为系统没有为指定的编码方案定义相应的CCSID</td></tr><tr><td>-900</td><td>8003</td><td>应用处理没有连接到应用服务器，语句不能被执行</td></tr><tr><td>-901</td><td>58004</td><td>遇到时断时续的系统错误，该错误不能抑制后继的SQL语句的执行</td></tr><tr><td>-902</td><td>58005</td><td>内部控制块的指针错误，要求重新绑定</td></tr><tr><td>-904</td><td>57011</td><td>指定的资源不可用</td></tr><tr><td>-905</td><td>57014</td><td>超出了资源上限</td></tr><tr><td>-906</td><td>51005</td><td>因为重大错误，SQL语句无法执行</td></tr><tr><td>-908</td><td>23510</td><td>当前资源限制设施的规范或者自动重绑定的系统参数不允许BIND，REBIND，AUTOREBIND</td></tr><tr><td>-909</td><td>57007</td><td>对象已被删除</td></tr><tr><td>-910</td><td>57007</td><td>因为在该对象上挂起DROP，所以不能访问该对象</td></tr><tr><td>-911</td><td>40001</td><td>当前工作单元已被回滚</td></tr><tr><td>-913</td><td>57033</td><td>因为死锁或超时导致不成功执行</td></tr><tr><td>-917</td><td>42969</td><td>绑定程序包已经失败</td></tr><tr><td>-918</td><td>51021</td><td>SQL语句不能被执行，因为连接丢失</td></tr><tr><td>-919</td><td>56045</td><td>需要一个ROLLBACK</td></tr><tr><td>-922</td><td>42505</td><td>连接权限失败。试图从TSO、CICS或IMS访问DB2，同时相应的连接设施处于非活动的状态</td></tr><tr><td>-923</td><td>57015</td><td>因为DB2不可用，所以不能建立连接</td></tr><tr><td>-924</td><td>58006</td><td>遇到了DB2内部的连接错误：提供了原因代码</td></tr><tr><td>-925</td><td>2D521</td><td>SQL的COMMIT语句不能从CICS或IMS&#x2F;TM发布</td></tr><tr><td>-926</td><td>2D521</td><td>SQL的ROLLBACK语句不能从CICS或IMS&#x2F;TM发布</td></tr><tr><td>-927</td><td>51006</td><td>当正在连接的环境没有建立时，语言接口被调用。利用DSN命令激发该程序</td></tr><tr><td>-929</td><td>58002</td><td>数据获取退出已经失败（DPROP）</td></tr><tr><td>-939</td><td>51021</td><td>由于远程服务器的未请求的回滚，要求一个回滚</td></tr><tr><td>-947</td><td>56038</td><td>SQL语句失败，因为更新不能被传播（DPROP）</td></tr><tr><td>-948</td><td>56062</td><td>DDF没有启动，分布式操作无效</td></tr><tr><td>-950</td><td>42705</td><td>在SQL语句中指定的位置在SYSIBM.LOCATIONS中没有定义</td></tr><tr><td>-965</td><td>51021</td><td>存储过程非正常终止（在DB2 6之前的版本）</td></tr><tr><td>-981</td><td>57015</td><td>当前不是处于允许SQL的状态时，试图在RRSAF中执行SQL</td></tr><tr><td>-991</td><td>57015</td><td>调用连接不能建立一个到DB2的隐含或开放连接</td></tr><tr><td>-2001</td><td>53089</td><td>为储存过程指定的宿主变量参数的个数不等于预期的参数个数</td></tr><tr><td>-20003</td><td>560A7</td><td>不能为GRECP中的表空间或索引指定GBPCACHE NONE</td></tr><tr><td>-20004</td><td>560A8</td><td>对于WORKFILE对象。8KB或16Kb的缓冲池页面大小无效</td></tr><tr><td>-20005</td><td>54035</td><td>指定的对象类型超出了内部的ID极限</td></tr><tr><td>-20006</td><td>53097</td><td>当没有指定WLM环境时，LOB不能被指定为参数</td></tr><tr><td>-20070</td><td>53098</td><td>不能非LOB列建立一个辅助表</td></tr><tr><td>-20071</td><td>53099</td><td>必须指定WLM环境名</td></tr><tr><td>-20072</td><td>56052</td><td>指定的权限ID不拥有在触发器程序包上执行BIND所需的权限</td></tr><tr><td>-20073</td><td>42927</td><td>不能按照指定的要求更改命名的函数，因为在现存的视图定义中引用了该函数</td></tr><tr><td>-20074</td><td>42939</td><td>不能建立指定的对象，因为“SYS”是一个保留的前缀</td></tr><tr><td>-20100</td><td>56059</td><td>在被触发的SQL语句中有BIND错误，指定了错误的SQLCODE和SQLSTATE</td></tr><tr><td>-20101</td><td>56059</td><td>由于指定的原因代码，该函数失败</td></tr><tr><td>-20102</td><td>42849</td><td>在CREATE或ALTER FUNCTION语句中不能使用指定的选项</td></tr><tr><td>-20104</td><td>42856</td><td>更改一个CCSID失败</td></tr><tr><td>-20106</td><td>42945</td><td>不能改变表空间或数据库的CCSID，因为现存的试图引用</td></tr><tr><td>-30000</td><td>58008</td><td>DRDA分布协议错误；处理可以继续</td></tr><tr><td>-30002</td><td>57057</td><td>使用DRDA的分布式客户把OPEN语句连接到PREPARE，但PREPARE接受到一个SQLCODE为＋495的警告</td></tr><tr><td>-30020</td><td>58009</td><td>DRDA分布协议错误；对话被解除</td></tr><tr><td>-30021</td><td>58010</td><td>DRDA分布协议错误；处理不能继续</td></tr><tr><td>-30030</td><td>58013</td><td>违反分布协议：COMMIT不成功，对话被解除（AS）</td></tr><tr><td>-30040</td><td>57012</td><td>因为不能得到资源，执行失败，处理可以继续（AS）</td></tr><tr><td>-30041</td><td>57013</td><td>因为不能得到资源，执行失败，处理不能成功的继续（AS）</td></tr><tr><td>-30050</td><td>58011</td><td>执行不成功，在BIND过程中不能执行语句</td></tr><tr><td>-30051</td><td>58012</td><td>特定的BIND过程不是处于活动状态（远程BIND），从而导致失败</td></tr><tr><td>-30052</td><td>42932</td><td>程序准备的假设错误</td></tr><tr><td>-30053</td><td>42506</td><td>程序包的拥有者遭遇授权失败</td></tr><tr><td>-30060</td><td>8004</td><td>RBD遭遇授权失败</td></tr><tr><td>-30061</td><td>8004</td><td>指定了无效或者没有存在的RDB</td></tr><tr><td>-30070</td><td>58014</td><td>目标子系统不支持这个命令</td></tr><tr><td>-30071</td><td>58015</td><td>目标子系统不支持这个对象</td></tr><tr><td>-30072</td><td>58016</td><td>目标子系统不支持这个参数</td></tr><tr><td>-30073</td><td>58017</td><td>目标子系统不支持这个参数值</td></tr><tr><td>-30074</td><td>58018</td><td>应答信息不被支持</td></tr><tr><td>-30080</td><td>8001</td><td>SNA通信错误</td></tr><tr><td>-30081</td><td>58019</td><td>TCP&#x2F;IP通信错误</td></tr><tr><td>-30082</td><td>8001</td><td>由于安全冲突、通信失败：提供了原因代码</td></tr><tr><td>-30090</td><td>25000</td><td>指定的操作对远程执行失败</td></tr><tr><td>-30104</td><td>56095</td><td>在绑定选项与绑定值中有错误</td></tr><tr><td>-30105</td><td>56096</td><td>指定的绑定选项不兼容</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>数据库</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DB2</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>DB2数据库备份记录查询</title>
    <link href="/articles/64563/"/>
    <url>/articles/64563/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p>有一天手动备份数据库，想看下数据库备份时间，于是找到了<em><strong>db2 list history backup all for 数据库</strong></em>命令。</p>          </div><span class="label label-primary">DB2</span> <span class="label label-danger">backup</span><span id="more"></span><hr /><p>直接DB2CMD执行：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">db2 <span class="hljs-keyword">connect</span> <span class="hljs-keyword">to</span> 数据库 <span class="hljs-keyword">user</span> pas <span class="hljs-keyword">using</span> pas<br>db2 list history backup <span class="hljs-keyword">all</span> <span class="hljs-keyword">for</span> 数据库<br></code></pre></td></tr></table></figure><p>结果：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">Op Obj <span class="hljs-type">Timestamp</span>+<span class="hljs-keyword">Sequence</span> <span class="hljs-keyword">Type</span> Dev Earliest <span class="hljs-keyword">Log</span> <span class="hljs-keyword">Current</span> <span class="hljs-keyword">Log</span>  Backup ID<br> <span class="hljs-comment">-- --- ------------------ ---- --- ------------ ------------ --------------</span><br>  B  D  <span class="hljs-number">20220802175839001</span>   F    D  S0000000.<span class="hljs-keyword">LOG</span> S0000000.<span class="hljs-keyword">LOG</span><br> <span class="hljs-comment">----------------------------------------------------------------------------</span><br>  Contains <span class="hljs-number">9</span> <span class="hljs-keyword">tablespace</span>(s):<br><br> <span class="hljs-number">00001</span> SYSCATSPACE<br> <span class="hljs-number">00002</span> TBS_MXZ<br> <span class="hljs-number">00003</span> SYSTOOLSPACE<br> <span class="hljs-number">00004</span> TBS_PAS<br> <span class="hljs-number">00005</span> TBS_JKSJ<br> <span class="hljs-number">00006</span> TBS_JXDX<br> <span class="hljs-number">00007</span> TBS_NBZZ<br> <span class="hljs-number">00008</span> TBS_IDX<br> <span class="hljs-number">00009</span> TBS_LSB<br> <span class="hljs-comment">----------------------------------------------------------------------------</span><br>    <span class="hljs-keyword">Comment</span>: DB2 BACKUP YKSPAS3 OFFLINE<br> <span class="hljs-keyword">Start</span> <span class="hljs-type">Time</span>: <span class="hljs-number">20220802175839</span><br>   <span class="hljs-keyword">End</span> <span class="hljs-type">Time</span>: <span class="hljs-number">20220802231447</span><br>     Status: A<br> <span class="hljs-comment">----------------------------------------------------------------------------</span><br>  EID: <span class="hljs-number">48531</span> <span class="hljs-keyword">Location</span>: /home/db2inst1/SNPAS/PAS_BACKUP/PAS_BACKUP20220731<br></code></pre></td></tr></table></figure><ul><li>Start Time: 开始时间</li><li>End Time: 结束时间</li></ul><div class="post_cus_note">拓展</div><p>查看数据库备份是否可用：</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">db2ckbkp -h <span class="hljs-regexp">/home/</span>db2inst1<span class="hljs-regexp">/SNPAS/</span>PAS_BACKUP/PAS_BACKUP20220731<br></code></pre></td></tr></table></figure><p>-h 后面是数据库备份文件，如果是可用的备份文件最后会有successful。</p>]]></content>
    
    
    <categories>
      
      <category>数据库</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DB2</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python实现PDF转WORD的方式</title>
    <link href="/articles/11221/"/>
    <url>/articles/11221/</url>
    
    <content type="html"><![CDATA[<span class="label label-primary">Python</span> <span class="label label-info">Python实战</span><h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><div class="note note-primary">            <p>网上的PDF转WORD都是收费的，写了好几年的Python了，打算想搞一个开源工具网站，其中的一个常用功能之一就是PDF转WORD，所以想探索一下所有的转换方式，<font color='red' size=4.5>持续更新中。。。。。。</font></p>          </div><span id="more"></span><hr /><h3 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h3><table><thead><tr><th align="center">id</th><th align="center">name</th><th align="center">Version</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">Python</td><td align="center">3.7</td></tr></tbody></table><h3 id="结果比较"><a href="#结果比较" class="headerlink" title="结果比较"></a>结果比较</h3><h3 id="详解"><a href="#详解" class="headerlink" title="详解"></a>详解</h3><p>记录一下所有的包，有需要的可以进行参考。</p><h4 id="pdf2docx"><a href="#pdf2docx" class="headerlink" title="pdf2docx"></a>pdf2docx</h4><blockquote><p>官网</p></blockquote><p><a href="https://www.cnpython.com/pypi/pdf2docx#">https://www.cnpython.com/pypi/pdf2docx#</a></p><blockquote><p>代码</p></blockquote><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs lua">import <span class="hljs-built_in">os</span><br>from pdf2docx import Converter<br><br>data_folder = <span class="hljs-built_in">os</span>.<span class="hljs-built_in">path</span>.join(<span class="hljs-built_in">os</span>.getcwd(), <span class="hljs-string">&#x27;pdf&#x27;</span>)<br>pdf_file = <span class="hljs-built_in">os</span>.<span class="hljs-built_in">path</span>.join(data_folder, <span class="hljs-string">&#x27;阿里云数据库.pdf&#x27;</span>)<br><span class="hljs-built_in">print</span>(pdf_file)<br>word_file = <span class="hljs-string">&#x27;%s-pdf2docx.docx&#x27;</span> % <span class="hljs-built_in">os</span>.<span class="hljs-built_in">path</span>.splitext(pdf_file)[<span class="hljs-number">0</span>]<br><span class="hljs-built_in">print</span>(word_file)<br>c = Converter(pdf_file)<br>c.convert(word_file)<br>c.<span class="hljs-built_in">close</span>()<br></code></pre></td></tr></table></figure><h4 id="LibreOffice"><a href="#LibreOffice" class="headerlink" title="LibreOffice"></a>LibreOffice</h4><blockquote><p>官网</p></blockquote><p><a href="https://www.libreoffice.org/">https://www.libreoffice.org/</a></p><h4 id="PyPDF2"><a href="#PyPDF2" class="headerlink" title="PyPDF2"></a>PyPDF2</h4><blockquote><p>官网</p></blockquote><p><a href="https://pypdf2.readthedocs.io/en/latest/">https://pypdf2.readthedocs.io/en/latest/</a></p><h4 id="PDFMiner"><a href="#PDFMiner" class="headerlink" title="PDFMiner"></a>PDFMiner</h4><blockquote><p>官网</p></blockquote><p><a href="https://www.unixuser.org/~euske/python/pdfminer/programming.html">https://www.unixuser.org/~euske/python/pdfminer/programming.html</a></p><h3 id="结束语"><a href="#结束语" class="headerlink" title="结束语"></a>结束语</h3><p><font size=5.5 color='red'><em><strong>坚持每天学习。。。。。。</strong></em></font></p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Python实战</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python学习之Collections</title>
    <link href="/articles/51993/"/>
    <url>/articles/51993/</url>
    
    <content type="html"><![CDATA[<span class="label label-default">Python实战</span> <span class="label label-danger">Collections</span><div class="note note-primary">            <p>写代码的时候，Collections包算是常用的一个，里面的有一些数据结构还是非常好用的，本篇总结一下Collections包的常用内容，包含OrderedDict、deque、ChainMap、defaultdict、Counter等内容。</p>          </div><span id="more"></span><hr /><h3 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h3><table><thead><tr><th align="center">id</th><th align="center">name</th><th align="center">Version</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">Python</td><td align="center">3.7</td></tr></tbody></table><h3 id="类型"><a href="#类型" class="headerlink" title="类型"></a>类型</h3><ul><li>OrderedDict：有序dict</li><li>deque：队列</li><li>ChainMap：链式MAP</li><li>defaultdict：自带默认值的dict</li><li>Counter：计数器</li></ul>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Python包</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux学习之增强篇-nc</title>
    <link href="/articles/20869/"/>
    <url>/articles/20869/</url>
    
    <content type="html"><![CDATA[<h3 id="1、简介"><a href="#1、简介" class="headerlink" title="1、简介"></a>1、简介</h3><div class="note note-danger">            <p>文件传输，而且还可以装逼的神器：nc（netcat）。</p>          </div><span class="label label-default">Linux</span> <span class="label label-primary">nc</span><span id="more"></span><hr /><p>目前这个命令主要用来实现Linux服务器之间文件传输，当然还有其他用于传输文件的命令，比如：scp、rz&amp;&amp;sz、rsync（主要用于文件自动化同步）等等，小文件的话用nc就挺好用，小推荐一下。</p><h3 id="2、推荐指数"><a href="#2、推荐指数" class="headerlink" title="2、推荐指数"></a>2、推荐指数</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">🌟🌟🌟<br></code></pre></td></tr></table></figure><h3 id="3、安装"><a href="#3、安装" class="headerlink" title="3、安装"></a>3、安装</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 查看是否有命令</span><br><span class="hljs-built_in">which</span> nc<br><br><span class="hljs-comment"># 安装</span><br>install -y nc<br></code></pre></td></tr></table></figure><h3 id="4、使用方法"><a href="#4、使用方法" class="headerlink" title="4、使用方法"></a>4、使用方法</h3><p>介绍文件传输以及扫描端口2大功能。</p><h4 id="4-1、传输文件"><a href="#4-1、传输文件" class="headerlink" title="4.1、传输文件"></a>4.1、传输文件</h4><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-comment"># 发送端：</span><br>nc -v ip port &lt; <span class="hljs-keyword">test</span>.txt<br><br><span class="hljs-comment">#接收端：</span><br>nc -lp port &gt; <span class="hljs-keyword">test</span>.txt<br></code></pre></td></tr></table></figure><ul><li>l：监听模式</li><li>v：显示过程详情<br>其中，ip为接收端ip地址，port为自定义端口。</li></ul><h4 id="4-2、扫描端口"><a href="#4-2、扫描端口" class="headerlink" title="4.2、扫描端口"></a>4.2、扫描端口</h4><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">nc</span> -nv -w -l -z <span class="hljs-built_in">ip</span> port<br></code></pre></td></tr></table></figure><ul><li>n：扫描的目标是个ip地址</li><li>l：监听模式</li><li>v：显示过程详情</li><li>w：设置超时时间</li><li>z 表示 进行端口扫描</li></ul><h4 id="4-3、参数"><a href="#4-3、参数" class="headerlink" title="4.3、参数"></a>4.3、参数</h4><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs inform7">nc --help<br><br>usage: nc <span class="hljs-comment">[-46DdhklnrStUuvzC]</span> <span class="hljs-comment">[-i interval]</span> <span class="hljs-comment">[-p source_port]</span><br>  <span class="hljs-comment">[-s source_ip_address]</span> <span class="hljs-comment">[-T ToS]</span> <span class="hljs-comment">[-w timeout]</span> <span class="hljs-comment">[-X proxy_version]</span><br>  <span class="hljs-comment">[-x proxy_address<span class="hljs-comment">[:port]</span>]</span> <span class="hljs-comment">[hostname]</span> <span class="hljs-comment">[port<span class="hljs-comment">[s]</span>]</span><br></code></pre></td></tr></table></figure><p>参数挺多的，<em><strong>man nc</strong></em>查看明细。</p><p>参考菜鸟命令介绍：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs diff"><span class="hljs-deletion">-g&lt;网关&gt; 设置路由器跃程通信网关，最多可设置8个。</span><br><span class="hljs-deletion">-G&lt;指向器数目&gt; 设置来源路由指向器，其数值为4的倍数。</span><br><span class="hljs-deletion">-h 在线帮助。</span><br><span class="hljs-deletion">-i&lt;延迟秒数&gt; 设置时间间隔，以便传送信息及扫描通信端口。</span><br><span class="hljs-deletion">-l 使用监听模式，管控传入的资料。</span><br><span class="hljs-deletion">-n 直接使用IP地址，而不通过域名服务器。</span><br><span class="hljs-deletion">-o&lt;输出文件&gt; 指定文件名称，把往来传输的数据以16进制字码倾倒成该文件保存。</span><br><span class="hljs-deletion">-p&lt;通信端口&gt; 设置本地主机使用的通信端口。</span><br><span class="hljs-deletion">-r 乱数指定本地与远端主机的通信端口。</span><br><span class="hljs-deletion">-s&lt;来源位址&gt; 设置本地主机送出数据包的IP地址。</span><br><span class="hljs-deletion">-u 使用UDP传输协议。</span><br><span class="hljs-deletion">-v 显示指令执行过程。</span><br><span class="hljs-deletion">-w&lt;超时秒数&gt; 设置等待连线的时间。</span><br><span class="hljs-deletion">-z 使用0输入/输出模式，只在扫描通信端口时使用。</span><br></code></pre></td></tr></table></figure><h3 id="5、其他"><a href="#5、其他" class="headerlink" title="5、其他"></a>5、其他</h3><p>其他的功能暂时没怎么探索。</p><h3 id="6、学习参考"><a href="#6、学习参考" class="headerlink" title="6、学习参考"></a>6、学习参考</h3><p>菜鸟nc介绍：<a href="https://www.runoob.com/linux/linux-comm-nc.html">https://www.runoob.com/linux/linux-comm-nc.html</a></p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Linux增强篇</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>DB2的表备份SQL</title>
    <link href="/articles/63086/"/>
    <url>/articles/63086/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p>今天修改DB2的表数据CKZH进行delete，想的是对这个表先进行一个备份，于是想到create table as select * from这个的语法，发现DB2没有这个，但是有表结构+数据复制这样的模式，记录一下日后可能用得到。</p>          </div><span class="label label-primary">DB2</span> <span class="label label-default">存储过程</span> <span class="label label-danger">自动备份</span><span id="more"></span><hr /><p>模式：表结构 + 数据</p><blockquote><p>表结构</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs SQL"><span class="hljs-keyword">CREATE TABLE</span> [目标表] <span class="hljs-keyword">AS</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> [原表]) DEFINITION <span class="hljs-keyword">ONLY</span>;<br></code></pre></td></tr></table></figure><p>直接对表进行一个复制，参数如下：<br>目标表：创建的目标表<br>原表：复制的表结构原始表</p><blockquote><p>插入数据</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs SQL"><span class="hljs-keyword">INSERT INTO</span> JXDX_CKZH_20220516<br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> JXDX_CKZH<br><span class="hljs-comment">-- WHERE</span><br></code></pre></td></tr></table></figure><p>WHERE后面加的是插入数据的限制，没有限制就去掉WHERE就行。</p>]]></content>
    
    
    <categories>
      
      <category>数据库</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DB2</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ElementUI的tree组件子选父不选提交数据问题</title>
    <link href="/articles/35413/"/>
    <url>/articles/35413/</url>
    
    <content type="html"><![CDATA[<h4 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h4><p>最近也写了一段时间的VUE了，用的就是Element-UI组件，今天使用tree组件的时候，发现<em><strong>el-tree</strong></em>控件中子节点未全部选中，提交树形数据时，后台API接收数据时没有发现父节点，完了在前端console打印了一下log，发现<em><strong>el-tree</strong></em>组件没有提交处于半选择状态的节点ID，记录一下解决方案。</p><span class="label label-info">VUE</span> <span class="label label-primary">Element-UI</span><span id="more"></span><hr /><h4 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h4><p>Element-UI组件中el-tree控件中子节点未全部选中时，父节点ID在提交时不会传给后台接口，导致后台获取不到父节点ID，所以后台API数据中没有半选择的父节点ID数据。</p><h4 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h4><p>直接上代码：</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-keyword">const</span> checked = <span class="hljs-keyword">this</span>.$<span class="hljs-built_in">ref</span>s.menuTree.getCheckedKeys() <span class="hljs-comment">// 全选状态ID</span><br><span class="hljs-keyword">const</span> halfChecked = <span class="hljs-keyword">this</span>.$<span class="hljs-built_in">ref</span>s.menuTree.getHalfCheckedKeys() <span class="hljs-comment">// 半选状态ID</span><br><br><span class="hljs-comment">// 合并数据方式一</span><br><span class="hljs-keyword">const</span> keys = [...checked, ...halfChecked]<br><span class="hljs-comment">// 合并数据方式二</span><br><span class="hljs-keyword">const</span> keys = checked.concat(halfChecked)<br></code></pre></td></tr></table></figure><p>提交的部分就自己写了，主要就是封装axios成功方法，Promise去获取数据。</p>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VUE</tag>
      
      <tag>Element-UI</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JavaScript获取屏幕浏览器高宽</title>
    <link href="/articles/56199/"/>
    <url>/articles/56199/</url>
    
    <content type="html"><![CDATA[<div class="note note-info">            <p>对于写前端代码的，经常会计算一些css样式，获取屏幕浏览器高宽也是家庭便饭，记录一下。</p>          </div><span class="label label-info">Hashcat</span><span id="more"></span><hr /><p>全局变量，直接上代码：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-comment">// 浏览器可用高度、宽度</span><br>document<span class="hljs-selector-class">.body</span><span class="hljs-selector-class">.scrollHeight</span><br>document<span class="hljs-selector-class">.body</span><span class="hljs-selector-class">.scrollWidth</span><br><br><span class="hljs-comment">// HTML页面的可用高度、宽度</span><br>document<span class="hljs-selector-class">.body</span><span class="hljs-selector-class">.clientHeight</span><br>document<span class="hljs-selector-class">.body</span>.clientWidth<br></code></pre></td></tr></table></figure><p>学习参考：</p><ul><li><a href="https://www.jianshu.com/p/e324cbd5ed3d">https://www.jianshu.com/p/e324cbd5ed3d</a></li><li><a href="https://blog.csdn.net/grkcsdn/article/details/118556380">https://blog.csdn.net/grkcsdn/article/details/118556380</a></li><li><a href="https://www.jb51.net/article/106472.htm">https://www.jb51.net/article/106472.htm</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VUE</tag>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>劳动节【&lt;font color=&quot;red&quot; size=&quot;15&quot;&gt;中国节&lt;/font&gt;】</title>
    <link href="/articles/42150/"/>
    <url>/articles/42150/</url>
    
    <content type="html"><![CDATA[<p><img src="/img_index/index/20220501-001.jpg"></p><span id="more"></span><hr /><p><font size=6.5 color='red'>持续更新中。。。。。。</font></p><p>封城中，2022年第三次疫情了，记录一下。</p><table><thead><tr><th align="center">时间</th><th align="center">地点</th></tr></thead><tbody><tr><td align="center">2022-05-01</td><td align="center">满洲里</td></tr><tr><td align="center">2025-05-01</td><td align="center">哈尔滨【亲子游】</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>生活记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>节日</tag>
      
      <tag>中国节</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>VUE插件driver.js闪一下问题</title>
    <link href="/articles/2813/"/>
    <url>/articles/2813/</url>
    
    <content type="html"><![CDATA[<h4 id="1、背景"><a href="#1、背景" class="headerlink" title="1、背景"></a>1、背景</h4><p>前几天搞了一个VUE页面功能向导，那个是在单独的页面，今天把driver.js引入到一些有功能的页面，启动的时候页面就闪了一下，没有向导功能，google了一下，发现原来是VUE渲染的问题。</p><span class="label label-primary">VUE</span> <span class="label label-info">插件</span><span id="more"></span><hr /><h4 id="2、解决方案"><a href="#2、解决方案" class="headerlink" title="2、解决方案"></a>2、解决方案</h4><p>解决问题的代码，在启动的时候加上setTimeout延迟，就可以了。</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript"><span class="hljs-built_in">setTimeout</span>(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;<br>  this.startGuide()<br>&#125;, <span class="hljs-number">900</span>)<br></code></pre></td></tr></table></figure><p>因为我把向导封装成组件了，其他的页面也可以进行引用，所以我用watch监听父组件传递的值，详细的请参考完整代码。</p><h4 id="3、新问题"><a href="#3、新问题" class="headerlink" title="3、新问题"></a>3、新问题</h4><p>解决上面闪一下不加载的问题，但是浏览器控制台会有警告日志：<br>[Violation] Forced reflow while executing JavaScript took 131ms<br>还没解决，后续解决了更新。</p><h4 id="4、完成代码"><a href="#4、完成代码" class="headerlink" title="4、完成代码"></a>4、完成代码</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;app-container&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Driver</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;driver.js&#x27;</span> <span class="hljs-comment">// import driver.js</span></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;driver.js/dist/driver.min.css&#x27;</span> <span class="hljs-comment">// import driver.js css</span></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> excelMergeSteps <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./steps/excelMergeSteps.js&#x27;</span> <span class="hljs-comment">// import steps js config</span></span><br><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Guide&#x27;</span>,</span><br><span class="language-javascript">  <span class="hljs-attr">emits</span>: [<span class="hljs-string">&#x27;close-guide&#x27;</span>],</span><br><span class="language-javascript">  <span class="hljs-attr">components</span>: &#123;&#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">props</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-attr">guide</span>: &#123;</span><br><span class="language-javascript">      <span class="hljs-attr">type</span>: <span class="hljs-title class_">Boolean</span>,</span><br><span class="language-javascript">      <span class="hljs-attr">require</span>: <span class="hljs-literal">true</span>,</span><br><span class="language-javascript">      <span class="hljs-attr">default</span>: <span class="hljs-literal">false</span>,</span><br><span class="language-javascript">      <span class="hljs-title function_">validator</span>(<span class="hljs-params">value</span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-keyword">return</span> [<span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>].<span class="hljs-title function_">includes</span>(value)</span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">    &#125;,</span><br><span class="language-javascript">    <span class="hljs-attr">content</span>: &#123;</span><br><span class="language-javascript">      <span class="hljs-attr">type</span>: <span class="hljs-title class_">String</span>,</span><br><span class="language-javascript">      <span class="hljs-attr">require</span>: <span class="hljs-literal">true</span>,</span><br><span class="language-javascript">      <span class="hljs-attr">default</span>: <span class="hljs-string">&#x27;&#x27;</span></span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">    <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">      <span class="hljs-attr">driver</span>: <span class="hljs-literal">null</span></span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">computed</span>: &#123;&#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">watch</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-attr">guide</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">guide</span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;</span><br><span class="language-javascript">          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">startGuide</span>()</span><br><span class="language-javascript">        &#125;, <span class="hljs-number">900</span>)</span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-title function_">created</span>(<span class="hljs-params"></span>) &#123;&#125;,</span><br><span class="language-javascript">  <span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">    <span class="hljs-comment">// parameter config</span></span><br><span class="language-javascript">    <span class="hljs-comment">// 官网API：https://www.npmjs.com/package/driver.js</span></span><br><span class="language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">driver</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Driver</span>(&#123;</span><br><span class="language-javascript">      <span class="hljs-attr">className</span>: <span class="hljs-string">&#x27;scoped-class&#x27;</span>, <span class="hljs-comment">// className to wrap driver.js popover</span></span><br><span class="language-javascript">      <span class="hljs-attr">animate</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// 是否设置动画</span></span><br><span class="language-javascript">      <span class="hljs-attr">opacity</span>: <span class="hljs-number">0.7</span>, <span class="hljs-comment">// 背景不透明度（0表示只有弹出框，没有覆盖）</span></span><br><span class="language-javascript">      <span class="hljs-attr">padding</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">// 元素与边缘之间的距离</span></span><br><span class="language-javascript">      <span class="hljs-attr">allowClose</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// 单击覆盖是否应关闭</span></span><br><span class="language-javascript">      <span class="hljs-attr">overlayClickNext</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// 点击覆盖是否应该下一步移动</span></span><br><span class="language-javascript">      <span class="hljs-attr">stageBackground</span>: <span class="hljs-string">&#x27;#ffffff&#x27;</span>, <span class="hljs-comment">// default: #ffffff，突出显示元素的背景色</span></span><br><span class="language-javascript">      <span class="hljs-attr">showButtons</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// 页脚中是否显示控制按钮</span></span><br><span class="language-javascript">      <span class="hljs-attr">keyboardControl</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// 允许通过键盘进行控制（退出关闭，箭头键移动）</span></span><br><span class="language-javascript">      <span class="hljs-attr">doneBtnText</span>: <span class="hljs-string">&#x27;完成&#x27;</span>, <span class="hljs-comment">// 完成按钮文本</span></span><br><span class="language-javascript">      <span class="hljs-attr">closeBtnText</span>: <span class="hljs-string">&#x27;关闭&#x27;</span>, <span class="hljs-comment">// 关闭按钮文本</span></span><br><span class="language-javascript">      <span class="hljs-attr">prevBtnText</span>: <span class="hljs-string">&#x27;上一步&#x27;</span>, <span class="hljs-comment">// 上一步按钮文本</span></span><br><span class="language-javascript">      <span class="hljs-attr">nextBtnText</span>: <span class="hljs-string">&#x27;下一步&#x27;</span>, <span class="hljs-comment">// 下一步按钮文本</span></span><br><span class="language-javascript">      <span class="hljs-attr">onHighlightStarted</span>: <span class="hljs-function">(<span class="hljs-params">Element</span>) =&gt;</span> &#123;&#125;, <span class="hljs-comment">// 当元素即将高亮显示时调用</span></span><br><span class="language-javascript">      <span class="hljs-attr">onHighlighted</span>: <span class="hljs-function">(<span class="hljs-params">Element</span>) =&gt;</span> &#123;&#125;, <span class="hljs-comment">// 当元素完全高亮显示时调用</span></span><br><span class="language-javascript">      <span class="hljs-attr">onDeselected</span>: <span class="hljs-function">(<span class="hljs-params">Element</span>) =&gt;</span> &#123; <span class="hljs-comment">// 取消选择元素时调用</span></span><br><span class="language-javascript">        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">onDeselected</span>(<span class="hljs-title class_">Element</span>)</span><br><span class="language-javascript">      &#125;,</span><br><span class="language-javascript">      <span class="hljs-attr">onReset</span>: <span class="hljs-function">(<span class="hljs-params">Element</span>) =&gt;</span> &#123;&#125;, <span class="hljs-comment">// 将要清除覆盖时调用</span></span><br><span class="language-javascript">      <span class="hljs-attr">onNext</span>: <span class="hljs-function">(<span class="hljs-params">Element</span>) =&gt;</span> &#123;&#125;, <span class="hljs-comment">// 在任何步骤上移动到下一步时调用</span></span><br><span class="language-javascript">      <span class="hljs-attr">onPrevious</span>: <span class="hljs-function">(<span class="hljs-params">Element</span>) =&gt;</span> &#123;&#125; <span class="hljs-comment">// 在任何步骤上移动到上一步时调用</span></span><br><span class="language-javascript">    &#125;)</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-title function_">startGuide</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-keyword">let</span> data = &#123;&#125;</span><br><span class="language-javascript">      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span> === <span class="hljs-string">&#x27;excelMerge&#x27;</span>) &#123;</span><br><span class="language-javascript">        data = excelMergeSteps</span><br><span class="language-javascript">      &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span></span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">driver</span>.<span class="hljs-title function_">defineSteps</span>(data)</span><br><span class="language-javascript">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">driver</span>.<span class="hljs-title function_">start</span>()</span><br><span class="language-javascript">    &#125;,</span><br><span class="language-javascript">    <span class="hljs-title function_">onDeselected</span>(<span class="hljs-params">element</span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-variable language_">this</span>.$emit(<span class="hljs-string">&#x27;close-guide&#x27;</span>)</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VUE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>VUE插件之driver.js</title>
    <link href="/articles/29277/"/>
    <url>/articles/29277/</url>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>在开发OpenTool开源工具的时候，在个人中心部分有一个向导，上网查了一下用driver.js，记录一下各项用到的内容，挺好用的VUE插件，推荐。</p>          </div><span class="label label-primary">VUE</span> <span class="label label-info">插件</span><span id="more"></span><hr /><h4 id="1、作用"><a href="#1、作用" class="headerlink" title="1、作用"></a>1、作用</h4><p>用于开发Web页面功能操作向导，官网介绍的很明确，而且也没啥难点，直接贴上代码了。</p><h4 id="2、安装"><a href="#2、安装" class="headerlink" title="2、安装"></a>2、安装</h4><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">npm <span class="hljs-keyword">install</span> -S driver.js<br></code></pre></td></tr></table></figure><h4 id="3、VUE代码"><a href="#3、VUE代码" class="headerlink" title="3、VUE代码"></a>3、VUE代码</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;app-container&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;guide-opr-container&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">icon</span>=<span class="hljs-string">&quot;el-icon-position&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;primary&quot;</span> @<span class="hljs-attr">click.prevent.stop</span>=<span class="hljs-string">&quot;guide&quot;</span>&gt;</span><br>        开启向导<br>      <span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;guide-data-container&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;guide-data-container&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">aside</span>&gt;</span><br>        The guide page is useful for some people who entered the project for the first time. You can briefly introduce the<br>        features of the project<br>      <span class="hljs-tag">&lt;/<span class="hljs-name">aside</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Driver</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;driver.js&#x27;</span> <span class="hljs-comment">// import driver.js</span></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;driver.js/dist/driver.min.css&#x27;</span> <span class="hljs-comment">// import driver.js css</span></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> steps <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./guide/steps.js&#x27;</span></span><br><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Guide&#x27;</span>,</span><br><span class="language-javascript">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">    <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">      <span class="hljs-attr">driver</span>: <span class="hljs-literal">null</span></span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">    <span class="hljs-comment">// parameter config</span></span><br><span class="language-javascript">    <span class="hljs-comment">// 官网API：https://www.npmjs.com/package/driver.js</span></span><br><span class="language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">driver</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Driver</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">className</span>: <span class="hljs-string">&#x27;scoped-class&#x27;</span>, <span class="hljs-comment">// className to wrap driver.js popover</span></span><br><span class="language-javascript">        <span class="hljs-attr">animate</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// 是否设置动画</span></span><br><span class="language-javascript">        <span class="hljs-attr">opacity</span>: <span class="hljs-number">0.7</span>, <span class="hljs-comment">// 背景不透明度（0表示只有弹出框，没有覆盖）</span></span><br><span class="language-javascript">        <span class="hljs-attr">padding</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">// 元素与边缘之间的距离</span></span><br><span class="language-javascript">        <span class="hljs-attr">allowClose</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// 单击覆盖是否应关闭</span></span><br><span class="language-javascript">        <span class="hljs-attr">overlayClickNext</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// 点击覆盖是否应该下一步移动</span></span><br><span class="language-javascript">        <span class="hljs-attr">stageBackground</span>: <span class="hljs-string">&#x27;#ffffff&#x27;</span>, <span class="hljs-comment">// default: #ffffff，突出显示元素的背景色</span></span><br><span class="language-javascript">        <span class="hljs-attr">showButtons</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// 页脚中是否显示控制按钮</span></span><br><span class="language-javascript">        <span class="hljs-attr">keyboardControl</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// 允许通过键盘进行控制（退出关闭，箭头键移动）</span></span><br><span class="language-javascript">        <span class="hljs-attr">doneBtnText</span>: <span class="hljs-string">&#x27;完成&#x27;</span>, <span class="hljs-comment">// 完成按钮文本</span></span><br><span class="language-javascript">        <span class="hljs-attr">closeBtnText</span>: <span class="hljs-string">&#x27;关闭&#x27;</span>, <span class="hljs-comment">// 关闭按钮文本</span></span><br><span class="language-javascript">        <span class="hljs-attr">prevBtnText</span>: <span class="hljs-string">&#x27;上一步&#x27;</span>, <span class="hljs-comment">// 上一步按钮文本</span></span><br><span class="language-javascript">        <span class="hljs-attr">nextBtnText</span>: <span class="hljs-string">&#x27;下一步&#x27;</span>, <span class="hljs-comment">// 下一步按钮文本</span></span><br><span class="language-javascript">        <span class="hljs-attr">onHighlightStarted</span>: <span class="hljs-function">(<span class="hljs-params">Element</span>) =&gt;</span> &#123;&#125;, <span class="hljs-comment">// 当元素即将高亮显示时调用</span></span><br><span class="language-javascript">        <span class="hljs-attr">onHighlighted</span>: <span class="hljs-function">(<span class="hljs-params">Element</span>) =&gt;</span> &#123;&#125;, <span class="hljs-comment">// 当元素完全高亮显示时调用</span></span><br><span class="language-javascript">        <span class="hljs-attr">onDeselected</span>: <span class="hljs-function">(<span class="hljs-params">Element</span>) =&gt;</span> &#123; <span class="hljs-comment">// 取消选择元素时调用</span></span><br><span class="language-javascript">          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">onDeselected</span>(<span class="hljs-title class_">Element</span>)</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">onReset</span>: <span class="hljs-function">(<span class="hljs-params">Element</span>) =&gt;</span> &#123;&#125;, <span class="hljs-comment">// 将要清除覆盖时调用</span></span><br><span class="language-javascript">        <span class="hljs-attr">onNext</span>: <span class="hljs-function">(<span class="hljs-params">Element</span>) =&gt;</span> &#123;&#125;, <span class="hljs-comment">// 在任何步骤上移动到下一步时调用</span></span><br><span class="language-javascript">        <span class="hljs-attr">onPrevious</span>: <span class="hljs-function">(<span class="hljs-params">Element</span>) =&gt;</span> &#123;&#125; <span class="hljs-comment">// 在任何步骤上移动到上一步时调用</span></span><br><span class="language-javascript">    &#125;)</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-title function_">guide</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">driver</span>.<span class="hljs-title function_">defineSteps</span>(steps)</span><br><span class="language-javascript">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">driver</span>.<span class="hljs-title function_">start</span>()</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="language-css"></span><br><span class="language-css"><span class="hljs-selector-class">.guide-data-container</span> &#123;</span><br><span class="language-css">  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">&#125;</span><br><span class="language-css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="4、Steps代码"><a href="#4、Steps代码" class="headerlink" title="4、Steps代码"></a>4、Steps代码</h4><p>需要在同等目录下建立一个guide文件夹，再建立一个steps.js文件，用来存放向导的数据，根据不同的模块定制不同的js文件。</p><figure class="highlight nsis"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs nsis">const steps = [<br>  &#123;<br>    element: <span class="hljs-string">&#x27;#sidebar-container&#x27;</span>,<br>    popover: &#123;<br>      title: <span class="hljs-string">&#x27;系统菜单&#x27;</span>,<br>      description: <span class="hljs-string">&#x27;系统功能菜单列表，分为一级菜单、二级菜单&#x27;</span>,<br>      position: <span class="hljs-string">&#x27;right&#x27;</span>, // position: <span class="hljs-literal">left</span>, <span class="hljs-literal">left</span>-center, <span class="hljs-literal">left</span>-<span class="hljs-literal">bottom</span>, <span class="hljs-literal">top</span>,<br>      // <span class="hljs-literal">top</span>-center, <span class="hljs-literal">top</span>-<span class="hljs-literal">right</span>, <span class="hljs-literal">right</span>, <span class="hljs-literal">right</span>-center, <span class="hljs-literal">right</span>-<span class="hljs-literal">bottom</span>,<br>      // <span class="hljs-literal">bottom</span>, <span class="hljs-literal">bottom</span>-center, <span class="hljs-literal">bottom</span>-<span class="hljs-literal">right</span>, mid-center<br>      offset: <span class="hljs-number">20</span><br>    &#125;,<br>    padding: <span class="hljs-number">0</span><br>  &#125;,<br>  &#123;<br>    element: <span class="hljs-string">&#x27;#guide-opr-container&#x27;</span>,<br>    popover: &#123;<br>      title: <span class="hljs-string">&#x27;导航菜单&#x27;</span>,<br>      description: <span class="hljs-string">&#x27;打开&amp;&amp;关闭导航菜单&#x27;</span>,<br>      position: <span class="hljs-string">&#x27;bottom&#x27;</span>, // position: <span class="hljs-literal">left</span>, <span class="hljs-literal">left</span>-center, <span class="hljs-literal">left</span>-<span class="hljs-literal">bottom</span>, <span class="hljs-literal">top</span>,<br>      // <span class="hljs-literal">top</span>-center, <span class="hljs-literal">top</span>-<span class="hljs-literal">right</span>, <span class="hljs-literal">right</span>, <span class="hljs-literal">right</span>-center, <span class="hljs-literal">right</span>-<span class="hljs-literal">bottom</span>,<br>      // <span class="hljs-literal">bottom</span>, <span class="hljs-literal">bottom</span>-center, <span class="hljs-literal">bottom</span>-<span class="hljs-literal">right</span>, mid-center<br>      offset: <span class="hljs-number">20</span><br>    &#125;,<br>    padding: <span class="hljs-number">0</span><br>  &#125;,<br>  &#123;<br>    element: <span class="hljs-string">&#x27;#guide-data-container&#x27;</span>,<br>    popover: &#123;<br>      title: <span class="hljs-string">&#x27;数据域&#x27;</span>,<br>      description: <span class="hljs-string">&#x27;系统定制功能的数据展示域&#x27;</span>,<br>      position: <span class="hljs-string">&#x27;bottom&#x27;</span>,<br>      offset: <span class="hljs-number">0</span><br>    &#125;,<br>    padding: <span class="hljs-number">0</span><br>  &#125;<br>]<br><br>export default steps<br></code></pre></td></tr></table></figure><h4 id="5、学习参考"><a href="#5、学习参考" class="headerlink" title="5、学习参考"></a>5、学习参考</h4><p>driver.js官网：<a href="https://kamranahmed.info/driver.js/#single-element-no-popover">https://kamranahmed.info/driver.js/#single-element-no-popover</a><br>npm查询：<a href="https://www.npmjs.com/package/driver.js">https://www.npmjs.com/package/driver.js</a></p>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VUE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>VUE之Props传值参数</title>
    <link href="/articles/52857/"/>
    <url>/articles/52857/</url>
    
    <content type="html"><![CDATA[<span class="label label-info">总结一下VUE关于Props的传值</span><span id="more"></span><hr /><h4 id="1、定义"><a href="#1、定义" class="headerlink" title="1、定义"></a>1、定义</h4><ul><li>用于父组件对子组件之间的值传递，属于单向传递（父组件-&gt;子组件），不可逆。</li><li>如果对父组件传递过来的值进行赋值，会报错，子组件如想返回父组件传递值，可以用emit。</li></ul><h4 id="2、用途"><a href="#2、用途" class="headerlink" title="2、用途"></a>2、用途</h4><p>如定义，就是父组件-&gt;子组件的值传递。</p><h4 id="3、语法糖"><a href="#3、语法糖" class="headerlink" title="3、语法糖"></a>3、语法糖</h4><p>父组件：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs stata">&lt;excel-<span class="hljs-keyword">merge</span>-<span class="hljs-keyword">opr</span><br>  :show=<span class="hljs-string">&quot;mergeDialogStatus&quot;</span><br>  :<span class="hljs-keyword">list</span>=<span class="hljs-string">&quot;selectList&quot;</span><br>  @<span class="hljs-keyword">close</span>-<span class="hljs-keyword">file</span>-<span class="hljs-keyword">merge</span>=<span class="hljs-string">&quot;closeFileMerge&quot;</span><br>/&gt;<br></code></pre></td></tr></table></figure><p>子组件：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">props: &#123;<br>  <span class="hljs-keyword">show</span>: &#123;<br>    <span class="hljs-keyword">type</span>: <span class="hljs-type">Boolean</span>,<br>    require: <span class="hljs-keyword">true</span>,<br>    <span class="hljs-keyword">default</span>: <span class="hljs-keyword">false</span>,<br>    <span class="hljs-keyword">validator</span>(<span class="hljs-keyword">value</span>) &#123;<br>      <span class="hljs-keyword">return</span> [<span class="hljs-keyword">true</span>, <span class="hljs-keyword">false</span>].includes(<span class="hljs-keyword">value</span>)<br>    &#125;<br>  &#125;,<br>  list: &#123;<br>    <span class="hljs-keyword">type</span>: <span class="hljs-keyword">Array</span>,<br>    require: <span class="hljs-keyword">true</span>,<br>    <span class="hljs-keyword">default</span>: <span class="hljs-keyword">function</span>() &#123;&#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li><p>type<br>数据类型，也就是JS的数据类型：<br>String<br>Number<br>Boolean<br>Array<br>Object<br>Date<br>Function<br>Symbol</p></li><li><p>require<br>是否必须传入，可选值：true false</p></li><li><p>default<br>默认值</p></li><li><p>validator<br>传入值校验</p></li></ul><h4 id="4、学习参考"><a href="#4、学习参考" class="headerlink" title="4、学习参考"></a>4、学习参考</h4><p>官网API：<a href="https://v3.cn.vuejs.org/guide/component-props.html#prop-%E7%B1%BB%E5%9E%8B">https://v3.cn.vuejs.org/guide/component-props.html#prop-%E7%B1%BB%E5%9E%8B</a></p>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VUE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ElementUI-table-tree全部展开与关闭</title>
    <link href="/articles/21429/"/>
    <url>/articles/21429/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p>ElementUI官网的table组件有个tree模式，就是类似于树模式的table表格样式，这个功能用于菜单展示挺好看也挺好用。</p>          </div><span class="label label-default">VUE</span> <span class="label label-danger">Element-UI</span><span id="more"></span><hr /><p>直接上代码：</p><figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br></pre></td><td class="code"><pre><code class="hljs handlebars"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;app-container&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-comment">&lt;!-- 按钮 --&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">el-row</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;btn-create&quot;</span> <span class="hljs-attr">:size</span>=<span class="hljs-string">&quot;btnBaseAttrs.size&quot;</span> <span class="hljs-attr">:plain</span>=<span class="hljs-string">&quot;btnBaseAttrs.plain&quot;</span> <span class="hljs-attr">:round</span>=<span class="hljs-string">&quot;btnBaseAttrs.round&quot;</span> <span class="hljs-attr">:disabled</span>=<span class="hljs-string">&quot;btnDisabled&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;openAddMenu&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">svg-icon</span> <span class="hljs-attr">icon-class</span>=<span class="hljs-string">&quot;i_add&quot;</span> /&gt;</span>  新增</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;btn-tip&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;success&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn-margin&quot;</span> <span class="hljs-attr">:plain</span>=<span class="hljs-string">&quot;btnBaseAttrs.plain&quot;</span> <span class="hljs-attr">:round</span>=<span class="hljs-string">&quot;btnBaseAttrs.round&quot;</span> <span class="hljs-attr">:size</span>=<span class="hljs-string">&quot;btnBaseAttrs.size&quot;</span> <span class="hljs-attr">:disabled</span>=<span class="hljs-string">&quot;btnDisabled&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;openTip()&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">svg-icon</span> <span class="hljs-attr">icon-class</span>=<span class="hljs-string">&quot;i_sm&quot;</span> /&gt;</span>  字段说明</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-comment">&lt;!-- 是否展开 --&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">menu-expand</span> <span class="hljs-attr">:expand</span>=<span class="hljs-string">&quot;expandStatus&quot;</span> @<span class="hljs-attr">menu-expand-status</span>=<span class="hljs-string">&quot;menuExpandStatus&quot;</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">el-row</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">    <span class="hljs-comment">&lt;!--Table表格--&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;data-container&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;table-sty&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">el-table</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;multipleSourceTableRef&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">:data</span>=<span class="hljs-string">&quot;tableData&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">:row-key</span>=<span class="hljs-string">&quot;tableAttrs.rowKey&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">:size</span>=<span class="hljs-string">&quot;tableAttrs.size&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">:fit</span>=<span class="hljs-string">&quot;tableAttrs.fit&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">:show-header</span>=<span class="hljs-string">&quot;tableAttrs.showHeader&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">:highlight-current-row</span>=<span class="hljs-string">&quot;tableAttrs.hcr&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">:border</span>=<span class="hljs-string">&quot;tableAttrs.border&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 100%;margin-bottom: 20px;&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">:default-expand-all</span>=<span class="hljs-string">&quot;tableAttrs.expand&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">:default-sort</span>=<span class="hljs-string">&quot;&#123; prop: &#x27;id&#x27;, order: &#x27;asc&#x27; &#125;&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">:empty-text</span>=<span class="hljs-string">&quot;tableAttrs.emptyText&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">:header-cell-style</span>=<span class="hljs-string">&quot;setTableHeaderStyle&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">:row-style</span>=<span class="hljs-string">&quot;setTableRowStyle&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">:tree-props</span>=<span class="hljs-string">&quot;tableAttrs.treeProps&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">:expand-row-keys</span>=<span class="hljs-string">&quot;tableOneKeys&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      &gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">fixed</span>=<span class="hljs-string">&quot;left&quot;</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;菜单ID&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;180&quot;</span> <span class="hljs-attr">:align</span>=<span class="hljs-string">&quot;tableRowAttrs.align&quot;</span> <span class="hljs-attr">sortable</span> <span class="hljs-attr">:show-overflow-tooltip</span>=<span class="hljs-string">&quot;tableRowAttrs.sot&quot;</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;RTX名称&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;180&quot;</span> <span class="hljs-attr">:align</span>=<span class="hljs-string">&quot;tableRowAttrs.align&quot;</span> <span class="hljs-attr">sortable</span> <span class="hljs-attr">:show-overflow-tooltip</span>=<span class="hljs-string">&quot;tableRowAttrs.sot&quot;</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;title&quot;</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;中文名称&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;180&quot;</span> <span class="hljs-attr">:align</span>=<span class="hljs-string">&quot;tableRowAttrs.align&quot;</span> <span class="hljs-attr">sortable</span> <span class="hljs-attr">:show-overflow-tooltip</span>=<span class="hljs-string">&quot;tableRowAttrs.sot&quot;</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;path&quot;</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;请求地址&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;180&quot;</span> <span class="hljs-attr">:header-align</span>=<span class="hljs-string">&quot;tableRowAttrs.headerAlign&quot;</span> <span class="hljs-attr">align</span>=<span class="hljs-string">&quot;left&quot;</span> <span class="hljs-attr">sortable</span> <span class="hljs-attr">:show-overflow-tooltip</span>=<span class="hljs-string">&quot;tableRowAttrs.sot&quot;</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;icon&quot;</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;菜单图标&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;180&quot;</span> <span class="hljs-attr">:align</span>=<span class="hljs-string">&quot;tableRowAttrs.align&quot;</span> <span class="hljs-attr">sortable</span> <span class="hljs-attr">:show-overflow-tooltip</span>=<span class="hljs-string">&quot;tableRowAttrs.sot&quot;</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;level&quot;</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;级别&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;180&quot;</span> <span class="hljs-attr">:align</span>=<span class="hljs-string">&quot;tableRowAttrs.align&quot;</span> <span class="hljs-attr">sortable</span> <span class="hljs-attr">:show-overflow-tooltip</span>=<span class="hljs-string">&quot;tableRowAttrs.sot&quot;</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;上级菜单信息&quot;</span> <span class="hljs-attr">:align</span>=<span class="hljs-string">&quot;tableRowAttrs.align&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;pid&quot;</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;上级菜单ID&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;180&quot;</span> <span class="hljs-attr">:align</span>=<span class="hljs-string">&quot;tableRowAttrs.align&quot;</span> <span class="hljs-attr">sortable</span> <span class="hljs-attr">:show-overflow-tooltip</span>=<span class="hljs-string">&quot;tableRowAttrs.sot&quot;</span> /&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;pname&quot;</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;上级菜单RTX&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;180&quot;</span> <span class="hljs-attr">:align</span>=<span class="hljs-string">&quot;tableRowAttrs.align&quot;</span> <span class="hljs-attr">sortable</span> <span class="hljs-attr">:show-overflow-tooltip</span>=<span class="hljs-string">&quot;tableRowAttrs.sot&quot;</span> /&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;ptitle&quot;</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;上级菜单名称&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;180&quot;</span> <span class="hljs-attr">:align</span>=<span class="hljs-string">&quot;tableRowAttrs.align&quot;</span> <span class="hljs-attr">sortable</span> <span class="hljs-attr">:show-overflow-tooltip</span>=<span class="hljs-string">&quot;tableRowAttrs.sot&quot;</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;开发者配置信息&quot;</span> <span class="hljs-attr">:align</span>=<span class="hljs-string">&quot;tableRowAttrs.align&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;component&quot;</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;组件&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;180&quot;</span> <span class="hljs-attr">:align</span>=<span class="hljs-string">&quot;tableRowAttrs.align&quot;</span> <span class="hljs-attr">sortable</span> <span class="hljs-attr">:show-overflow-tooltip</span>=<span class="hljs-string">&quot;tableRowAttrs.sot&quot;</span> /&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;redirect&quot;</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;重定向&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;180&quot;</span> <span class="hljs-attr">:align</span>=<span class="hljs-string">&quot;tableRowAttrs.align&quot;</span> <span class="hljs-attr">sortable</span> <span class="hljs-attr">:show-overflow-tooltip</span>=<span class="hljs-string">&quot;tableRowAttrs.sot&quot;</span> /&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;Hidden属性&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;180&quot;</span> <span class="hljs-attr">:align</span>=<span class="hljs-string">&quot;tableRowAttrs.align&quot;</span> <span class="hljs-attr">sortable</span> <span class="hljs-attr">:show-overflow-tooltip</span>=<span class="hljs-string">&quot;tableRowAttrs.sot&quot;</span> /&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;noCache&quot;</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;noCache属性&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;180&quot;</span> <span class="hljs-attr">:align</span>=<span class="hljs-string">&quot;tableRowAttrs.align&quot;</span> <span class="hljs-attr">sortable</span> <span class="hljs-attr">:show-overflow-tooltip</span>=<span class="hljs-string">&quot;tableRowAttrs.sot&quot;</span> /&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;affix&quot;</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;Affix属性&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;180&quot;</span> <span class="hljs-attr">:align</span>=<span class="hljs-string">&quot;tableRowAttrs.align&quot;</span> <span class="hljs-attr">sortable</span> <span class="hljs-attr">:show-overflow-tooltip</span>=<span class="hljs-string">&quot;tableRowAttrs.sot&quot;</span> /&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;breadcrumb&quot;</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;Breadcrumb属性&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;180&quot;</span> <span class="hljs-attr">:align</span>=<span class="hljs-string">&quot;tableRowAttrs.align&quot;</span> <span class="hljs-attr">sortable</span> <span class="hljs-attr">:show-overflow-tooltip</span>=<span class="hljs-string">&quot;tableRowAttrs.sot&quot;</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;创建时间&quot;</span> <span class="hljs-attr">:header-align</span>=<span class="hljs-string">&quot;tableRowAttrs.headerAlign&quot;</span> <span class="hljs-attr">:align</span>=<span class="hljs-string">&quot;tableRowAttrs.align&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;240&quot;</span> <span class="hljs-attr">sortable</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">slot-scope</span>=<span class="hljs-string">&quot;scope&quot;</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;el-icon-time&quot;</span> /&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;margin-left: 20px&quot;</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">scope.row.create_time</span> &#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;create_rtx&quot;</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;创建者RTX&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;180&quot;</span> <span class="hljs-attr">:align</span>=<span class="hljs-string">&quot;tableRowAttrs.align&quot;</span> <span class="hljs-attr">:show-overflow-tooltip</span>=<span class="hljs-string">&quot;tableRowAttrs.sot&quot;</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">fixed</span>=<span class="hljs-string">&quot;right&quot;</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;操作&quot;</span> <span class="hljs-attr">:align</span>=<span class="hljs-string">&quot;tableRowAttrs.align&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;200&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">slot-scope</span>=<span class="hljs-string">&quot;scope&quot;</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">el-tooltip</span> <span class="hljs-attr">effect</span>=<span class="hljs-string">&quot;dark&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;详情&quot;</span> <span class="hljs-attr">placement</span>=<span class="hljs-string">&quot;top&quot;</span>&gt;</span></span><br><span class="language-xml">              <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;el-icon-document&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;rowHandleEdit(scope.$index, scope.row, &#x27;detail&#x27;)&quot;</span> /&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">el-tooltip</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">el-tooltip</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;icon-item&quot;</span> <span class="hljs-attr">effect</span>=<span class="hljs-string">&quot;dark&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;编辑&quot;</span> <span class="hljs-attr">placement</span>=<span class="hljs-string">&quot;top&quot;</span>&gt;</span></span><br><span class="language-xml">              <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;el-icon-edit&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;rowHandleEdit(scope.$index, scope.row, &#x27;info&#x27;)&quot;</span> /&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">el-tooltip</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">fixed</span>=<span class="hljs-string">&quot;right&quot;</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;状态管理&quot;</span> <span class="hljs-attr">:align</span>=<span class="hljs-string">&quot;tableRowAttrs.align&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;200&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">slot-scope</span>=<span class="hljs-string">&quot;scope&quot;</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">menu-status</span> <span class="hljs-attr">:row</span>=<span class="hljs-string">&quot;scope.row&quot;</span> /&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">el-table</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">    <span class="hljs-comment">&lt;!-- 暂定table、tree 2种显示模式，不做page分页 --&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">    <span class="hljs-comment">&lt;!-- 提示说明 --&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">menu-tip</span> <span class="hljs-attr">:show</span>=<span class="hljs-string">&quot;tipDialogStatus&quot;</span> @<span class="hljs-attr">close-tip</span>=<span class="hljs-string">&quot;closeTip&quot;</span> /&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">    <span class="hljs-comment">&lt;!-- 新增 --&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">menu-add</span> <span class="hljs-attr">:show</span>=<span class="hljs-string">&quot;addDialogStatus&quot;</span> @<span class="hljs-attr">close-add-menu</span>=<span class="hljs-string">&quot;closeAddMenu&quot;</span> /&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">    <span class="hljs-comment">&lt;!-- 详情 --&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">menu-detail</span> <span class="hljs-attr">:show</span>=<span class="hljs-string">&quot;detailDialogStatus&quot;</span> <span class="hljs-attr">:row-md5</span>=<span class="hljs-string">&quot;oprSelectRtx&quot;</span> @<span class="hljs-attr">close-detail-menu</span>=<span class="hljs-string">&quot;closeDetailMenu&quot;</span> /&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">    <span class="hljs-comment">&lt;!-- 编辑 --&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">menu-set</span> <span class="hljs-attr">:show</span>=<span class="hljs-string">&quot;setDialogStatus&quot;</span> <span class="hljs-attr">:row-md5</span>=<span class="hljs-string">&quot;oprSelectRtx&quot;</span> @<span class="hljs-attr">close-set-menu</span>=<span class="hljs-string">&quot;closeSetMenu&quot;</span> /&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> store <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/store&#x27;</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123; getMenuList &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/api/manage&#x27;</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> <span class="hljs-title class_">MenuExpand</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/components/manage/MenuExpand&#x27;</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> <span class="hljs-title class_">MenuTip</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/components/manage/MenuTip&#x27;</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> <span class="hljs-title class_">MenuDetail</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/components/manage/MenuDetail&#x27;</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> <span class="hljs-title class_">MenuAdd</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/components/manage/MenuAdd&#x27;</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> <span class="hljs-title class_">MenuSet</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/components/manage/MenuSet&#x27;</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> <span class="hljs-title class_">MenuStatus</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/components/manage/MenuStatus&#x27;</span></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Menu&#x27;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">emits</span>: [],</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">components</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-string">&#x27;menu-expand&#x27;</span>: <span class="hljs-title class_">MenuExpand</span>,</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-string">&#x27;menu-tip&#x27;</span>: <span class="hljs-title class_">MenuTip</span>,</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-string">&#x27;menu-detail&#x27;</span>: <span class="hljs-title class_">MenuDetail</span>,</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-string">&#x27;menu-add&#x27;</span>: <span class="hljs-title class_">MenuAdd</span>,</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-string">&#x27;menu-set&#x27;</span>: <span class="hljs-title class_">MenuSet</span>,</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-string">&#x27;menu-status&#x27;</span>: <span class="hljs-title class_">MenuStatus</span></span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">props</span>: &#123;&#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">btnDisabled</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// 按钮禁用状态</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">expandStatus</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// 是否展开</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">// button attributes</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">btnBaseAttrs</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">size</span>: <span class="hljs-string">&#x27;medium&#x27;</span>, <span class="hljs-comment">// 大小 medium / small / mini / &#x27;&#x27;</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;primary&#x27;</span>, <span class="hljs-comment">// 类型 primary / success / warning / danger / info / text</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">plain</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// 是否为朴素按钮</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">round</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// 是否为圆角按钮</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">circle</span>: <span class="hljs-literal">false</span> <span class="hljs-comment">// 是否为圆形按钮</span></span></span><br><span class="language-javascript"><span class="language-xml">      &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">// switch attrs</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">switchAttrs</span>: &#123; <span class="hljs-comment">// switch attrs</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">disabled</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// 是否禁用</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">width</span>: <span class="hljs-number">40</span>, <span class="hljs-comment">// 宽度（像素），默认40</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">activeText</span>: <span class="hljs-string">&#x27;展开&#x27;</span>, <span class="hljs-comment">// 打开时的文字描述</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">inactiveText</span>: <span class="hljs-string">&#x27;关闭&#x27;</span>, <span class="hljs-comment">// 关闭时的文字描述</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">activeValue</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// 打开时的value</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">inactiveValue</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// 打开时的value</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">activeColor</span>: <span class="hljs-string">&#x27;#ff4949&#x27;</span>, <span class="hljs-comment">// 打开时的背景色</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">inactiveColor</span>: <span class="hljs-string">&#x27;#13ce66&#x27;</span> <span class="hljs-comment">// 关闭时的背景色</span></span></span><br><span class="language-javascript"><span class="language-xml">      &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">// table attributes</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">tableAttrs</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">rowKey</span>: <span class="hljs-string">&#x27;id&#x27;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">stripe</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// 是否为斑马纹 true/false</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">border</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// 是否带有纵向边框 true/false</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">size</span>: <span class="hljs-string">&#x27;medium&#x27;</span>, <span class="hljs-comment">// 尺寸 medium / small / mini / &#x27;&#x27;</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">fit</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// 列的宽度是否自撑开 true/false</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">showHeader</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// 是否显示表头 true/false</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">hcr</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// 是否要高亮当前行highlight-current-row true/false</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">height</span>: <span class="hljs-number">450</span>, <span class="hljs-comment">// 高度</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">maxHeight</span>: <span class="hljs-number">450</span>, <span class="hljs-comment">// 最大高度(属性为Table指定最大高度，此时若表格所需的高度大于最大高度，则会显示一个滚动条。)</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">expand</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// default-expand-all 是否默认展开所有行，当 Table 包含展开行存在或者为树形表格时有效</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">treeProps</span>: &#123; <span class="hljs-attr">children</span>: <span class="hljs-string">&#x27;children&#x27;</span> &#125;, <span class="hljs-comment">// treeProps</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">showSum</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// 表尾合计</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">sumText</span>: <span class="hljs-string">&#x27;统计&#x27;</span>, <span class="hljs-comment">// 合计行第一列的文</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">emptyText</span>: <span class="hljs-string">&#x27;暂无数据&#x27;</span> <span class="hljs-comment">// 空数据时显示的文本内容</span></span></span><br><span class="language-javascript"><span class="language-xml">      &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">// table row: label column-key prop width min-width sortable</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">tableRowAttrs</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;selection&#x27;</span>, <span class="hljs-comment">// selection多选框 / index索引 / expand可展开的按钮</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">index</span>: <span class="hljs-number">1</span>, <span class="hljs-comment">// 如果设置了 type=index，可以通过传递 index 属性来自定义索引</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">fixed</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// 列固定，值有left、right，默认为left</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">resizable</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// 对应列是否可以通过拖动改变宽度 true/false</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">align</span>: <span class="hljs-string">&#x27;center&#x27;</span>, <span class="hljs-comment">// 对齐方式 left / center / right</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">headerAlign</span>: <span class="hljs-string">&#x27;center&#x27;</span>, <span class="hljs-comment">// 表头对齐方式，若不设置该项，则使用表格的对齐方式 left / center / right</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">sot</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">// showOverflowTooltip 多余的内容会在hover时以tooltip的形式显示出来</span></span></span><br><span class="language-javascript"><span class="language-xml">      &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">tableData</span>: [], <span class="hljs-comment">// table data</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">tableOneKeys</span>: [], <span class="hljs-comment">// 一级菜单的key，格式为[&#123;id: 1&#125;, &#123;id: 2&#125;...]，用于开关闭菜单折叠</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">tipDialogStatus</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// tip</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">oprSelectRtx</span>: <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-comment">// 当前选择数据的RTX</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">deleteConfirm</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// 删除确认dialog状态</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">detailDialogStatus</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// 详情dialog</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">setDialogStatus</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// 编辑dialog</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">addDialogStatus</span>: <span class="hljs-literal">false</span> <span class="hljs-comment">// 新增dialog</span></span></span><br><span class="language-javascript"><span class="language-xml">    &#125;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">computed</span>: &#123;&#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">watch</span>: &#123;&#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">created</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getMenuList</span>()</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>) &#123;&#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">methods</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">getMenuList</span>(<span class="hljs-params"></span>) &#123; <span class="hljs-comment">// 请求后台API初始化表格数据</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">// 初始化选择参数</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">oprSelectRtx</span> = <span class="hljs-string">&#x27;&#x27;</span></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">// list列表参数</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">const</span> data = &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-string">&#x27;rtx_id&#x27;</span>: store.<span class="hljs-property">getters</span>.<span class="hljs-property">rtx_id</span></span></span><br><span class="language-javascript"><span class="language-xml">      &#125;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-title function_">getMenuList</span>(data).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-keyword">const</span> &#123; status_id, data &#125; = response</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-keyword">if</span> (status_id === <span class="hljs-number">100</span> || status_id === <span class="hljs-number">101</span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-variable language_">this</span>.<span class="hljs-property">tableData</span> = data.<span class="hljs-property">list</span></span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-variable language_">this</span>.<span class="hljs-property">tableOneKeys</span> = data.<span class="hljs-property">keys</span></span></span><br><span class="language-javascript"><span class="language-xml">          &#125;</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-title function_">resolve</span>(response)</span></span><br><span class="language-javascript"><span class="language-xml">        &#125;).<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-variable language_">this</span>.<span class="hljs-property">loading</span> = <span class="hljs-literal">false</span></span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-title function_">reject</span>(error)</span></span><br><span class="language-javascript"><span class="language-xml">        &#125;)</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;)</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">setTableHeaderStyle</span>(<span class="hljs-params"></span>) &#123; <span class="hljs-comment">// table title样式</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">background</span>: <span class="hljs-string">&#x27;#eee&#x27;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">color</span>: <span class="hljs-string">&#x27;#606266&#x27;</span></span></span><br><span class="language-javascript"><span class="language-xml">      &#125;</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">setTableRowStyle</span>(<span class="hljs-params">&#123; row, rowIndex &#125;</span>) &#123; <span class="hljs-comment">// table row样式</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">if</span> (row &amp;&amp; row.<span class="hljs-property">level</span> === <span class="hljs-string">&#x27;1&#x27;</span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-attr">background</span>: <span class="hljs-string">&#x27;#FFEE99&#x27;</span>, <span class="hljs-comment">// 42B984 FFFF00</span></span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-attr">color</span>: <span class="hljs-string">&#x27;#000000&#x27;</span></span></span><br><span class="language-javascript"><span class="language-xml">        &#125;</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">rowHandleEdit</span>(<span class="hljs-params">index, row, type</span>) &#123; <span class="hljs-comment">// table row 编辑详情</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">if</span> (!row || !type || !row.<span class="hljs-property">md5_id</span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span></span></span><br><span class="language-javascript"><span class="language-xml">      &#125;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">oprSelectRtx</span> = row.<span class="hljs-property">md5_id</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">if</span> (type === <span class="hljs-string">&#x27;detail&#x27;</span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-variable language_">this</span>.<span class="hljs-property">detailDialogStatus</span> = <span class="hljs-literal">true</span></span></span><br><span class="language-javascript"><span class="language-xml">      &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (type === <span class="hljs-string">&#x27;info&#x27;</span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-variable language_">this</span>.<span class="hljs-property">setDialogStatus</span> = <span class="hljs-literal">true</span></span></span><br><span class="language-javascript"><span class="language-xml">      &#125;</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">closeDetailMenu</span>(<span class="hljs-params"></span>) &#123; <span class="hljs-comment">// 关闭菜单详情dg</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">detailDialogStatus</span> = <span class="hljs-literal">false</span></span></span><br><span class="language-javascript"><span class="language-xml">    &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">closeSetMenu</span>(<span class="hljs-params">isRefresh</span>) &#123; <span class="hljs-comment">// 关闭编辑菜单dg</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">setDialogStatus</span> = <span class="hljs-literal">false</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">if</span> (isRefresh) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getMenuList</span>()</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">openAddMenu</span>(<span class="hljs-params"></span>) &#123; <span class="hljs-comment">// 打开新增菜单dg</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">addDialogStatus</span> = <span class="hljs-literal">true</span></span></span><br><span class="language-javascript"><span class="language-xml">    &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">closeAddMenu</span>(<span class="hljs-params">isRefresh</span>) &#123; <span class="hljs-comment">// 关闭新增菜单dg</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">addDialogStatus</span> = <span class="hljs-literal">false</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">if</span> (isRefresh) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getMenuList</span>()</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">menuExpandStatus</span>(<span class="hljs-params">status</span>) &#123; <span class="hljs-comment">// 打开/关闭table 子菜单</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">expandStatus</span> = status</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">tableOneKeys</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">multipleSourceTableRef</span>.<span class="hljs-title function_">toggleRowExpansion</span>(item, status)</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;)</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">openTip</span>(<span class="hljs-params"></span>) &#123; <span class="hljs-comment">// 开启tip</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">tipDialogStatus</span> = <span class="hljs-literal">true</span></span></span><br><span class="language-javascript"><span class="language-xml">    &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">closeTip</span>(<span class="hljs-params"></span>) &#123; <span class="hljs-comment">// 关闭tip</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">tipDialogStatus</span> = <span class="hljs-literal">false</span></span></span><br><span class="language-javascript"><span class="language-xml">    &#125;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;</span></span><br><span class="language-javascript"><span class="language-xml">&#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="language-css"></span></span><br><span class="language-css"><span class="language-xml"><span class="hljs-selector-class">.btn-margin</span> &#123;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">20px</span>;</span></span><br><span class="language-css"><span class="language-xml">&#125;</span></span><br><span class="language-css"><span class="language-xml"></span></span><br><span class="language-css"><span class="language-xml"><span class="hljs-selector-class">.table-sty</span> &#123;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">25px</span>;</span></span><br><span class="language-css"><span class="language-xml">&#125;</span></span><br><span class="language-css"><span class="language-xml"></span></span><br><span class="language-css"><span class="language-xml"><span class="hljs-selector-class">.icon-item</span> &#123;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">45px</span>;</span></span><br><span class="language-css"><span class="language-xml">&#125;</span></span><br><span class="language-css"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VUE</tag>
      
      <tag>Element-UI</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python版本工具Conda常用命令</title>
    <link href="/articles/56751/"/>
    <url>/articles/56751/</url>
    
    <content type="html"><![CDATA[<span class="label label-default">Python</span> <span class="label label-info">Conda</span><div class="note note-primary">            <p>搞Python都知道玩Python必须得有虚拟环境，那么常用的工具主要有Conda、Virtualenv、Pipenv、Pyflow。。。。。。还有其他的，常用的就是列举的那些了，经过长时间的使用，还是觉得Conda最好用，本篇记录一下Conda常用的命令，，<font color='red' size=4.5>Conda很强发大。。。。。。</font></p>          </div><span id="more"></span><hr /><p>本篇记录Conda的常用命令，安装略。</p><h4 id="创建虚拟环境"><a href="#创建虚拟环境" class="headerlink" title="创建虚拟环境"></a>创建虚拟环境</h4><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver"><span class="hljs-comment"># 创建环境，-n为--name的缩写参数</span><br>conda <span class="hljs-built_in">create</span> <span class="hljs-comment">--name env_name</span><br>conda <span class="hljs-built_in">create</span> -n env_name<br><br><span class="hljs-comment"># 创建指定python3.7版本环境</span><br>conda <span class="hljs-built_in">create</span> -n env_name python=<span class="hljs-number">3.7</span><br><br><span class="hljs-comment"># 创建指定python版本下包含某些包</span><br>conda <span class="hljs-built_in">create</span> -n env_name python=<span class="hljs-number">3.7</span> XXXX XXXX XXXX<br><br><span class="hljs-comment"># 克隆其他环境</span><br>conda <span class="hljs-built_in">create</span> -n new_env_name <span class="hljs-comment">--clone old_env_name</span><br></code></pre></td></tr></table></figure><h4 id="激活-退出"><a href="#激活-退出" class="headerlink" title="激活&#x2F;退出"></a>激活&#x2F;退出</h4><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs maxima">conda <span class="hljs-built_in">activate</span> env_name<br>conda <span class="hljs-built_in">deactivate</span><br></code></pre></td></tr></table></figure><h4 id="列举环境"><a href="#列举环境" class="headerlink" title="列举环境"></a>列举环境</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs routeros">conda <span class="hljs-built_in">info</span> -e / conda <span class="hljs-built_in">info</span> --envs<br>conda env list<br></code></pre></td></tr></table></figure><h4 id="删除环境"><a href="#删除环境" class="headerlink" title="删除环境"></a>删除环境</h4><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs lua">conda <span class="hljs-built_in">remove</span> -n env_name <span class="hljs-comment">--all</span><br></code></pre></td></tr></table></figure><h4 id="安装-卸载包"><a href="#安装-卸载包" class="headerlink" title="安装&#x2F;卸载包"></a>安装&#x2F;卸载包</h4><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">conda</span> install xxx<span class="hljs-meta"> [-n env_name]</span><br><span class="hljs-attribute">conda</span> uninstall xxx<span class="hljs-meta"> [-n env_name]</span><br><br><span class="hljs-comment"># 激活环境</span><br><span class="hljs-attribute">conda</span> activate env_name<br><span class="hljs-comment"># pip安装/卸载</span><br><span class="hljs-attribute">pip</span> install/uninstall xxxx<br></code></pre></td></tr></table></figure><p>[]括号内容为非必需填写，如果不加为当前环境。</p><h4 id="导出虚拟环境"><a href="#导出虚拟环境" class="headerlink" title="导出虚拟环境"></a>导出虚拟环境</h4><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-comment"># 导出</span><br>conda <span class="hljs-keyword">list</span> -e [-n env_name] &gt; requirements.txt<br><span class="hljs-comment"># 安装</span><br>conda <span class="hljs-keyword">install</span> --yes --<span class="hljs-keyword">file</span> requirements.txt<br></code></pre></td></tr></table></figure><h4 id="分享虚拟环境"><a href="#分享虚拟环境" class="headerlink" title="分享虚拟环境"></a>分享虚拟环境</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 导出当前虚拟环境</span><br>conda <span class="hljs-built_in">env</span> <span class="hljs-built_in">export</span> &gt; environment.yml<br><br><span class="hljs-comment"># 创建保存的虚拟环境</span><br>conda <span class="hljs-built_in">env</span> create -f environment.yml<br></code></pre></td></tr></table></figure><h4 id="帮助"><a href="#帮助" class="headerlink" title="帮助"></a>帮助</h4><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs applescript"><span class="hljs-comment"># 总览命令帮助</span><br>conda <span class="hljs-comment">--help</span><br><br><span class="hljs-comment"># 命令详情帮助</span><br>conda xxxx <span class="hljs-comment">--help</span><br></code></pre></td></tr></table></figure><p>Conda的功能非常强大，上面只列举的最、最、最常用的命令而已，想详细了解就得花点时间去学了，不过对于日常开发的话学的命令没那么多，整理完成，收工，睡觉去了。</p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Conda</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Element-UI【Form组件】unpected-width报错的解决</title>
    <link href="/articles/16084/"/>
    <url>/articles/16084/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p>在使用Element-UI的Form组件时候，发现控制台报了一个<em><strong>Error：[ElementForm]unpected width</strong></em></p>          </div><span class="label label-info">VUE</span> <span class="label label-primary">Element-UI</span><span id="more"></span><hr /><p>报错：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs stylus">vue<span class="hljs-selector-class">.esm</span><span class="hljs-selector-class">.js</span>:<span class="hljs-number">1897</span> Error: <span class="hljs-selector-attr">[ElementForm]</span>unpected <span class="hljs-attribute">width</span><br>    at VueComponent<span class="hljs-selector-class">.getLabelWidthIndex</span> (element-ui<span class="hljs-selector-class">.common</span><span class="hljs-selector-class">.js</span>:<span class="hljs-number">23014</span>)<br>    at VueComponent<span class="hljs-selector-class">.deregisterLabelWidth</span> (element-ui<span class="hljs-selector-class">.common</span><span class="hljs-selector-class">.js</span>:<span class="hljs-number">23027</span>)<br>    at VueComponent<span class="hljs-selector-class">.updateLabelWidth</span> (element-ui<span class="hljs-selector-class">.common</span><span class="hljs-selector-class">.js</span>:<span class="hljs-number">23226</span>)<br>    at VueComponent<span class="hljs-selector-class">.beforeDestroy</span> (element-ui<span class="hljs-selector-class">.common</span><span class="hljs-selector-class">.js</span>:<span class="hljs-number">23253</span>)<br>    at invokeWithErrorHandling (vue<span class="hljs-selector-class">.esm</span><span class="hljs-selector-class">.js</span>:<span class="hljs-number">1863</span>)<br>    at callHook (vue<span class="hljs-selector-class">.esm</span><span class="hljs-selector-class">.js</span>:<span class="hljs-number">4222</span>)<br>    at VueComponent<span class="hljs-selector-class">.Vue</span>.<span class="hljs-variable">$destroy</span> (vue<span class="hljs-selector-class">.esm</span><span class="hljs-selector-class">.js</span>:<span class="hljs-number">3981</span>)<br>    at destroy (vue<span class="hljs-selector-class">.esm</span><span class="hljs-selector-class">.js</span>:<span class="hljs-number">3168</span>)<br>    at invokeDestroyHook (vue<span class="hljs-selector-class">.esm</span><span class="hljs-selector-class">.js</span>:<span class="hljs-number">6119</span>)<br>    at invokeDestroyHook (vue<span class="hljs-selector-class">.esm</span><span class="hljs-selector-class">.js</span>:<span class="hljs-number">6124</span>)<br></code></pre></td></tr></table></figure><p>使用<em><strong>el-form</strong></em>组件的时候，设置labelWidth设为auto时，如果el-form-item内容如果你用了v-show会提示上面的错误，可以v-if替换成v-show，每次重新渲染组件，这样就可以了。</p>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VUE</tag>
      
      <tag>Element-UI</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hashcat的学习</title>
    <link href="/articles/14167/"/>
    <url>/articles/14167/</url>
    
    <content type="html"><![CDATA[<div class="note note-info">            <p>业余时间学习一下密码破解，以后能搞个程序破解个WIFI也是好的啊，哈哈哈～</p>          </div><span id="more"></span><hr /><p><img src="/articles/14167/article_hashcat.jpg"></p><ul><li>官网：<a href="https://hashcat.net/hashcat/">https://hashcat.net/hashcat/</a></li><li>Github：<a href="https://github.com/hashcat/hashcat">https://github.com/hashcat/hashcat</a></li></ul><p><font color='red' size=5.5>自我学习中。。。。</font>！！！。</p>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
    </categories>
    
    
    <tags>
      
      <tag>命令工具</tag>
      
      <tag>Hashcat</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>VUE之scripts的学习</title>
    <link href="/articles/20773/"/>
    <url>/articles/20773/</url>
    
    <content type="html"><![CDATA[<p>学习记录以下关于vue script脚本命令的学习。</p><span id="more"></span><hr /><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-attr">&quot;scripts&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;dev&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;vue-cli-service serve --open --mode development&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;lint&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;eslint --ext .js,.vue src&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;build:prod&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;vue-cli-service build --report&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;build:dev&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;vue-cli-service build --report --mode development&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;preview&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;node build/index.js --preview&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;new&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;plop&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;svgo&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;svgo -f src/icons/svg --config=src/icons/svgo.yml&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;test:unit&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;jest --clearCache &amp;&amp; vue-cli-service test:unit&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;test:ci&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;npm run lint &amp;&amp; npm run test:unit&quot;</span><br><span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br></code></pre></td></tr></table></figure><blockquote><p>dev</p></blockquote><p>开发模式启动we服务</p><blockquote><p>lint</p></blockquote><p>检查代码是否符合eslint语法标准</p><blockquote><p>build:prod</p></blockquote><p>打包生产环境</p><blockquote><p>build:dev</p></blockquote><p>打包开发环境</p><blockquote><p>new</p></blockquote><p>新建一个view&#x2F;router&#x2F;store，pop是一个插件，感觉挺不错的</p><blockquote><p>test:unit</p></blockquote><p>单元测试</p><blockquote><p>test:ci</p></blockquote><p>语法检查 + 单元测试</p><p><font size=5.5 color='red'><em><strong>坚持每天学习。。。。。。</strong></em></font></p>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VUE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>VUE之.env.xxxx环境的应用</title>
    <link href="/articles/55138/"/>
    <url>/articles/55138/</url>
    
    <content type="html"><![CDATA[<p>最近一段时间在写VUE前端项目，发现有.env.development、.env.production，于是查了下官网，学习总结一下。</p><span id="more"></span><hr /><ul><li><p>.env 全局默认配置文件，不论什么环境都会加载合并</p></li><li><p>.env.development 开发环境下的配置文件</p></li><li><p>.env.production 生产环境下的配置文件</p></li></ul><p>加载顺序：.env -&gt; .env.development  或者 .env -&gt; .env.production<br>后续加载配置文件中的变量会覆盖.env环境中同名的变量，而且上述的文件中可以添加变量，添加的变量在项目中可以通过process.env.XXXXX获取。</p><p>注意：</p><div class="note note-warning">            <p>属性名必须以VUE_APP_开头，比如VUE_APP_XXX</p>          </div><p>开发环境.env.development文件示例：</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-comment"># base</span><br><span class="hljs-attr">NODE_ENV</span> = <span class="hljs-string">&#x27;development&#x27;</span><br><span class="hljs-attr">PORT</span> = <span class="hljs-number">10002</span><br><br><span class="hljs-comment"># api</span><br><span class="hljs-attr">VUE_APP_BASE_API</span> = <span class="hljs-string">&#x27;http://127.0.0.1:9999/&#x27;</span><br><span class="hljs-attr">VUE_APP_AVATAR_API</span> = <span class="hljs-string">&#x27;/user/avatar&#x27;</span><br></code></pre></td></tr></table></figure><p>生产环境.env.production文件示例：</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-comment"># base</span><br><span class="hljs-attr">NODE_ENV</span> = <span class="hljs-string">&#x27;production&#x27;</span><br><span class="hljs-attr">PORT</span> = <span class="hljs-number">10001</span><br><br><span class="hljs-comment"># api</span><br><span class="hljs-attr">VUE_APP_BASE_API</span> = <span class="hljs-string">&#x27;http://121.4.56.169:9999/&#x27;</span><br><span class="hljs-attr">VUE_APP_AVATAR_API</span> = <span class="hljs-string">&#x27;/user/avatar&#x27;</span><br></code></pre></td></tr></table></figure><p>官网详细介绍：<a href="https://cli.vuejs.org/zh/guide/mode-and-env.html#%E6%A8%A1%E5%BC%8F">https://cli.vuejs.org/zh/guide/mode-and-env.html#%E6%A8%A1%E5%BC%8F</a></p><p><font size=5.5 color='red'><em><strong>坚持每天学习。。。。。。</strong></em></font></p>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VUE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>DB2死锁的处理过程</title>
    <link href="/articles/18147/"/>
    <url>/articles/18147/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p>之前项目主要用Mysql、PostgreSQL，这两天DB2数据库发生-668代码问题，有个表锁死了，大概解决了一天，记录一下。提前说明一下，关于-668以及存在解决方案了，这个文章只是为了记录解决的一个过程，尝试各种方法吧。</p>          </div><span class="label label-warning">DB2</span> <span class="label label-info">死锁</span><span id="more"></span><hr /><p>学习参考：</p><ul><li><a href="http://www.mirocn.com/info/details_156.html">http://www.mirocn.com/info/details_156.html</a></li><li><a href="https://www.cnblogs.com/ruingy/p/3605487.html">https://www.cnblogs.com/ruingy/p/3605487.html</a></li><li><a href="https://zhuanlan.zhihu.com/p/201010573">https://zhuanlan.zhihu.com/p/201010573</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>数据库</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DB2</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Gitea代码库的环境搭建</title>
    <link href="/articles/3042/"/>
    <url>/articles/3042/</url>
    
    <content type="html"><![CDATA[<h3 id="1、简介"><a href="#1、简介" class="headerlink" title="1、简介"></a>1、简介</h3><div class="note note-primary">            <p>最近基于项目管理文件的事情进行了一些探索，发现github不止可以用来更新、存储代码，也可以作为一个文件仓库存放项目的各类文件，对Github、Gitlab、Gogs、Gitea、Gitee进行了一些学习，也查下了网上对Gitea的呼吁声蛮大的，决定对测试服务器上进行部署使用，看看使用的效果咋样。<br><font color='red' size=4.5>学习对Gitea的安装与使用</font>！！！。</p>          </div><span class="label label-danger">Git</span> <span class="label label-info">Gitea</span> <span class="label label-primary">文件仓库</span><span id="more"></span><hr /><p>面对项目上建立文件管理仓库，首先想到的就是gitub，平常用这个管理代码项目也居多，但是对于安装集中式管理还是分布式管理当时也纠结了一下，对于统一管理SVN也还是不错的，但是个人更倾向与GIT，下面对于遇到的概念或者安装、部署都做一个记录说明。</p><h3 id="2、版本管理"><a href="#2、版本管理" class="headerlink" title="2、版本管理"></a>2、版本管理</h3><h4 id="集中式版本控制"><a href="#集中式版本控制" class="headerlink" title="集中式版本控制"></a>集中式版本控制</h4><p>集中管理的服务器保存所有文件的修订版本，同步更新的时候，需要要先从中央服务器取得最新的版本，然后继续各种处理，最后，再把更新的内容推送给中央服务器。<br>典型的代表SVN，下面是结构图：<br><img src="/articles/3042/svn.png"></p><h4 id="分布式版本控制"><a href="#分布式版本控制" class="headerlink" title="分布式版本控制"></a>分布式版本控制</h4><p>分布式版本控制系统根本没有“中央服务器”，每个人的电脑上都是一个完整的版本库。既然每个人电脑上都有一个完整的版本库，那多个人如何协作呢？比方说你在自己电脑上改了文件A，你的同事也在他的电脑上改了文件A，这时，你们俩之间只需把各自的修改推送给对方，就可以互相看到对方的修改了。<br><img src="/articles/3042/git.png"></p><h3 id="3、仓库的选择"><a href="#3、仓库的选择" class="headerlink" title="3、仓库的选择"></a>3、仓库的选择</h3><p>之前的单位用的就是Gitlab用来管理内部代码，功能也十分优秀，但是对于几个人维护的项目有点过于强大，所以选择了Gitea小型，够用而且速度没得说。</p><h4 id="Github"><a href="#Github" class="headerlink" title="Github"></a>Github</h4><p>全球最大的代码托管平台。</p><h4 id="Gitlab"><a href="#Gitlab" class="headerlink" title="Gitlab"></a>Gitlab</h4><p>是一个用于仓库管理系统的开源项目，使用Git作为代码管理工具，并在此基础上搭建起来的Web服务。</p><h4 id="Gogs"><a href="#Gogs" class="headerlink" title="Gogs"></a>Gogs</h4><p>目标是打造一个最简单、最快速和最轻松的方式搭建自助 Git 服务。使用 Go 语言开发，并且支持所有平台，包括 Linux、Mac OS X、Windows 以及 ARM 平台。</p><h4 id="Gitea"><a href="#Gitea" class="headerlink" title="Gitea"></a>Gitea</h4><p>Gogs的一个分支（28.8K）。</p><h4 id="Gitee"><a href="#Gitee" class="headerlink" title="Gitee"></a>Gitee</h4><p>是开源中国（OSChina）推出的基于Git的代码托管服务，包括三个版本，分别是：社区版、企业版和高校版。</p><h3 id="4、资源下载"><a href="#4、资源下载" class="headerlink" title="4、资源下载"></a>4、资源下载</h3><p>对于安装部署Gitea环境，需要提前准备好数据库、GitForWindows、Gitea这3个软件就可以，在项目上我选择了MariaDB数据库。</p><ul><li>Gitea：<a href="https://dl.gitea.io/gitea">https://dl.gitea.io/gitea</a></li><li>Mariadb数据库：<a href="https://mariadb.org/download/?t=mariadb&o=true&p=mariadb&r=5.5.68">https://mariadb.org/download/?t=mariadb&amp;o=true&amp;p=mariadb&amp;r=5.5.68</a></li><li>Git客户端：<a href="https://gitforwindows.org/">https://gitforwindows.org/</a></li></ul><p>为了方便大家统一进行下载，也准备了网盘下载地址：<br>链接: <a href="https://pan.baidu.com/s/1AUolZ1FrqLXvnVU1vRr2OA">https://pan.baidu.com/s/1AUolZ1FrqLXvnVU1vRr2OA</a><br>提取码: pa3s</p><h3 id="5、安装"><a href="#5、安装" class="headerlink" title="5、安装"></a>5、安装</h3><blockquote><p>数据库</p></blockquote><p>安装略。<br>初始化语句：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">database</span> gitea <span class="hljs-keyword">default</span> <span class="hljs-type">character</span> <span class="hljs-keyword">set</span> utf8 <span class="hljs-keyword">collate</span> utf8_general_ci;<br><span class="hljs-keyword">create</span> <span class="hljs-keyword">user</span> <span class="hljs-string">&#x27;gitea&#x27;</span>@<span class="hljs-string">&#x27;%&#x27;</span> identified <span class="hljs-keyword">by</span> <span class="hljs-string">&#x27;123456&#x27;</span>;<br><span class="hljs-keyword">grant</span> <span class="hljs-keyword">all</span> <span class="hljs-keyword">privileges</span> <span class="hljs-keyword">on</span> gitea.* <span class="hljs-keyword">to</span> <span class="hljs-string">&#x27;gitea&#x27;</span>@<span class="hljs-string">&#x27;%&#x27;</span>;<br>flush  <span class="hljs-keyword">privileges</span>;<br></code></pre></td></tr></table></figure><blockquote><p>GitForWindows</p></blockquote><p>略。</p><p>以上数据库与GitForWindows请自行安装部署，也很简单。</p><blockquote><p>Gitea</p></blockquote><p>Windows安装部署：<br>1.文件放在D:\gitea<br>2.启动：双击下载文件</p><p>可选操作：加入系统服务。<br>添加服务：sc create gitea start&#x3D; auto binPath&#x3D; “&quot;D:\gitea\gitea.exe&quot; web –config \”D:\gitea\custom\conf\app.ini&quot;“<br>删除服务：sc delete gitea</p><p>Linux安装部署：<br>1.下载<br>2.文件放在&#x2F;opt&#x2F;www&#x2F;gitea&#x2F;gitea<br>3.修改权限<br>chmod 777 gitea-1.x.x-linux-amd64<br>4.启动 &amp;&amp; 后台启动<br>nohup &#x2F;opt&#x2F;www&#x2F;gitea&#x2F;gitea web &gt; &#x2F;dev&#x2F;null 2&gt;&amp;1 &amp;</p><p>5.其它方式：<br><a href="https://docs.gitea.io/zh-cn/linux-service/">https://docs.gitea.io/zh-cn/linux-service/</a></p><h3 id="6、Gitea命令参数"><a href="#6、Gitea命令参数" class="headerlink" title="6、Gitea命令参数"></a>6、Gitea命令参数</h3><p>以下是Gitea命令参数的详情，常用的就是web、dump这2个命令，详情请参考官网：<a href="https://docs.gitea.io/zh-cn/command-line/">https://docs.gitea.io/zh-cn/command-line/</a></p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">COMMANDS:<br>   web              Start Gitea web server 启动服务<br>   serv             This <span class="hljs-keyword">command</span> <span class="hljs-title">should</span> <span class="hljs-title">only</span> <span class="hljs-title">be</span> <span class="hljs-title">called</span> <span class="hljs-title">by</span> <span class="hljs-title">SSH</span> <span class="hljs-title">shell</span><br>   hook             Delegate commands <span class="hljs-built_in">to</span> corresponding Git hooks<br>   dump             Dump Gitea <span class="hljs-built_in">files</span> <span class="hljs-keyword">and</span> database 备份<br>   cert             Generate self-signed certificate<br>   admin            Command <span class="hljs-built_in">line</span> interface <span class="hljs-built_in">to</span> perform common administrative operations<br>   generate         Command <span class="hljs-built_in">line</span> interface <span class="hljs-keyword">for</span> running generators<br>   migrate          Migrate <span class="hljs-keyword">the</span> database<br>   <span class="hljs-built_in">keys</span>             This <span class="hljs-keyword">command</span> <span class="hljs-title">queries</span> <span class="hljs-title">the</span> <span class="hljs-title">Gitea</span> <span class="hljs-title">database</span> <span class="hljs-title">to</span> <span class="hljs-title">get</span> <span class="hljs-title">the</span> <span class="hljs-title">authorized</span> <span class="hljs-title">command</span> <span class="hljs-title">for</span> <span class="hljs-title">a</span> <span class="hljs-title">given</span> <span class="hljs-title">ssh</span> <span class="hljs-title">key</span> <span class="hljs-title">fingerprint</span><br>   <span class="hljs-built_in">convert</span>          Convert <span class="hljs-keyword">the</span> database<br>   doctor           Diagnose problems<br>   manager          Manage <span class="hljs-keyword">the</span> running gitea <span class="hljs-built_in">process</span><br>   embedded         Extract embedded resources<br>   migrate-storage  Migrate <span class="hljs-keyword">the</span> storage<br>   docs             Output CLI documentation<br>   dump-repo        Dump <span class="hljs-keyword">the</span> repository <span class="hljs-built_in">from</span> git/github/gitea/gitlab dump其他仓库<br>   restore-repo     Restore <span class="hljs-keyword">the</span> repository <span class="hljs-built_in">from</span> disk<br>   help, h          Shows <span class="hljs-keyword">a</span> list <span class="hljs-keyword">of</span> commands <span class="hljs-keyword">or</span> help <span class="hljs-keyword">for</span> <span class="hljs-literal">one</span> <span class="hljs-keyword">command</span><br></code></pre></td></tr></table></figure><h3 id="7、访问"><a href="#7、访问" class="headerlink" title="7、访问"></a>7、访问</h3><p>访问本机地址：127.0.0.1:3000<br>默认端口：3000</p><p>初始化gitea，进行下一步系统配置。</p><h3 id="8、配置"><a href="#8、配置" class="headerlink" title="8、配置"></a>8、配置</h3><blockquote><p>数据库配置</p></blockquote><p><img src="/articles/3042/pz1.png"></p><blockquote><p>基本配置</p></blockquote><p><img src="/articles/3042/pz2.png"></p><blockquote><p>可选配置</p></blockquote><p><img src="/articles/3042/pz3.png"></p><blockquote><p>用户配置</p></blockquote><p><img src="/articles/3042/pz4.png"></p><blockquote><p>管理配置</p></blockquote><p><img src="/articles/3042/pz5.png"></p><h3 id="9、目录说明"><a href="#9、目录说明" class="headerlink" title="9、目录说明"></a>9、目录说明</h3><p>Gitea系统初始化成功会让自动建立一个管理员，对于上述配置后对应的目录也会自动生成。</p><blockquote><p>custom</p></blockquote><p>配置文件目录，包含项目全局、数据库、仓库存储位置、访问服务、服务等各项配置。</p><blockquote><p>data</p></blockquote><p>数据存放目录。</p><blockquote><p>log</p></blockquote><p>日志存储目录。</p><blockquote><p>gitea执行文件</p></blockquote><p>用于启动服务。</p><h3 id="10、Gitea应用"><a href="#10、Gitea应用" class="headerlink" title="10、Gitea应用"></a>10、Gitea应用</h3><p>具体Gitea的使用也没什么难度，主要就是创建仓库、维护等操作，对于管理员有个管理权限，部署成功后接下来就是对Gitea的探索。<br>创建仓库：</p><ul><li>拥有者</li><li>仓库名称</li><li>描述</li><li>模板</li><li>工单标签</li><li>.gitignore</li><li>授权许可</li><li>默认分支</li><li>签名信任模型</li></ul><p><img src="/articles/3042/create.png"></p><h3 id="11、Git使用"><a href="#11、Git使用" class="headerlink" title="11、Git使用"></a>11、Git使用</h3><p>本来不打算介绍Git的使用了，但是把基础的操作功能记录下，对于初学者也可能比较友好，在Github上搞几个项目Git命令自然而然就会了，基础的功能还是比较好记的，有兴趣的人可以查查官网，命令超级多，而且参数也不少。</p><blockquote><p>GIT初始化仓库</p></blockquote><p>方式一：</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">gitea创建仓库<br>git <span class="hljs-keyword">clone</span> <span class="hljs-title">仓库URL</span><br></code></pre></td></tr></table></figure><p>方式二：</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs csharp">git <span class="hljs-keyword">init</span> 仓库名称<br>git remote <span class="hljs-keyword">add</span> origin 仓库URL<br></code></pre></td></tr></table></figure><blockquote><p>GIT提交暂缓区</p></blockquote><p>全量提交：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">git <span class="hljs-built_in">add</span> .<br></code></pre></td></tr></table></figure><p>指定文件：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">git <span class="hljs-built_in">add</span> 指定文件<br></code></pre></td></tr></table></figure><blockquote><p>GIT提交本地仓库</p></blockquote><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">git</span> commit -m “提交内容”<br></code></pre></td></tr></table></figure><blockquote><p>GIT提交远程仓库与更新</p></blockquote><p>提交远程仓库：</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs maxima">git <span class="hljs-built_in">push</span> -u <span class="hljs-built_in">origin</span> master<br></code></pre></td></tr></table></figure><p>更新远程仓库：</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">git pull origin <span class="hljs-literal">master</span><br></code></pre></td></tr></table></figure><p>这里主要介绍Gitea安装与使用，对于git命令的学习请参考下列学习地址。</p><h3 id="12、学习参考"><a href="#12、学习参考" class="headerlink" title="12、学习参考"></a>12、学习参考</h3><ul><li>GIT官网：<a href="https://git-scm.com/book/zh/v2">https://git-scm.com/book/zh/v2</a></li><li>GIT基础学习：<a href="https://www.runoob.com/manual/git-guide/">https://www.runoob.com/manual/git-guide/</a></li><li>GIT菜鸟：<a href="https://www.runoob.com/git/git-basic-operations.html">https://www.runoob.com/git/git-basic-operations.html</a></li></ul><p><font color='red' size=4.5>每天坚持学习！</font></p>]]></content>
    
    
    <categories>
      
      <category>服务器</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>git</tag>
      
      <tag>gitea</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ES6Async与Await方法的学习</title>
    <link href="/articles/17064/"/>
    <url>/articles/17064/</url>
    
    <content type="html"><![CDATA[<h4 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h4><p>很简单，一句话：<br>async用于异步方法，await用于等待异步方法执行完成。</p><p>所以，await必须搭配async异步方法使用。</p><span id="more"></span><hr /><span class="label label-primary">VUE</span> <span class="label label-info">ES6</span><h4 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h4><blockquote><p>async</p></blockquote><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs arcade">async <span class="hljs-keyword">function</span> <span class="hljs-title function_">demo</span>(<span class="hljs-params"></span>) &#123;<br>　　<span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;hello world&#x27;</span>;<br>&#125;<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(demo())<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">&#x27;run...&#x27;</span>)<br><br>运行结果：<br>run...<br>hello world<br></code></pre></td></tr></table></figure><p>async函数返回的是一个promise对象，对返回值可以进行then…catch操作。</p><blockquote><p>await</p></blockquote><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs arcade">async <span class="hljs-keyword">function</span> <span class="hljs-title function_">demo2</span>(<span class="hljs-params"></span>) &#123;<br>　　 const res = await demo1()<br>    <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">&#x27;inner run....&#x27;</span>)<br>&#125;<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(demo2())<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">&#x27;run...&#x27;</span>)<br><br><br>运行结果：<br>run...<br>hello world<br>inner run....<br></code></pre></td></tr></table></figure><p>await只能在async方面的里面使用，让后面的执行语句或方法要等待当前await方法的结果后才能再执行。</p>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VUE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Flask请求参数的总结</title>
    <link href="/articles/40970/"/>
    <url>/articles/40970/</url>
    
    <content type="html"><![CDATA[<span class="label label-danger">总结一下Flask框架接收请求参数的所有方法</span><span id="more"></span><hr /><p>日常写项目用Flask比较多，不管是写成前端集成的还是单独作为API项目性能都还是很不错的，对Flask API接收参数做一个总结，记录一下。<br>首先，引用flask对象的request。</p><h4 id="GET请求"><a href="#GET请求" class="headerlink" title="GET请求"></a>GET请求</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> request<br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/user/info&#x27;</span>, methods=[<span class="hljs-string">&#x27;GET&#x27;</span>]</span>)</span><br><span class="hljs-meta">@cross_origin(<span class="hljs-params">supports_credentials=<span class="hljs-literal">True</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">info</span>():<br>    <span class="hljs-built_in">print</span>(request.args)<br>    <span class="hljs-built_in">print</span>(request.values)<br></code></pre></td></tr></table></figure><blockquote><p>requests.args</p></blockquote><p>平常开发用这个获取get参数比较多，数据类型：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">ImmutableMultiDict</span><span class="hljs-params">([(<span class="hljs-string">&#x27;rtx&#x27;</span>, <span class="hljs-string">&#x27;mingliang.gao&#x27;</span>)</span></span>])<br></code></pre></td></tr></table></figure><blockquote><p>request.values</p></blockquote><p>也可以用这个获取参数，但是values同时获取get以及post请求的参数，数据类型：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">CombinedMultiDict</span><span class="hljs-params">([ImmutableMultiDict([(<span class="hljs-string">&#x27;rtx&#x27;</span>, <span class="hljs-string">&#x27;mingliang.gao&#x27;</span>)</span></span>]), <span class="hljs-built_in">ImmutableMultiDict</span>(<span class="hljs-selector-attr">[]</span>)])<br></code></pre></td></tr></table></figure><h4 id="POST请求"><a href="#POST请求" class="headerlink" title="POST请求"></a>POST请求</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-keyword">from</span> flask import request<br><br>@app.route(<span class="hljs-string">&#x27;/user/info&#x27;</span>, methods=[<span class="hljs-string">&#x27;GET&#x27;</span>])<br>@cross_origin(<span class="hljs-attribute">supports_credentials</span>=<span class="hljs-literal">True</span>)<br>def <span class="hljs-built_in">info</span>():<br>    <span class="hljs-built_in">print</span>(request.form)<br>    <span class="hljs-built_in">print</span>(request.data)<br>    <span class="hljs-built_in">print</span>(request.get_json())<br></code></pre></td></tr></table></figure><blockquote><p>requests.form</p></blockquote><p>主要是对于前端form表单的参数获取，数据类型：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">ImmutableMultiDict</span><span class="hljs-params">([])</span></span><br></code></pre></td></tr></table></figure><blockquote><p>request.data</p></blockquote><p>json数据的获取方式之一，但是数据是byte类型，不建议使用。</p><blockquote><p>request.get_json()</p></blockquote><p>json数据最常用的方式，直接就是dict类型。</p><h4 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> request<br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/file/&#x27;</span>, methods=[<span class="hljs-string">&#x27;GET&#x27;</span>]</span>)</span><br><span class="hljs-meta">@cross_origin(<span class="hljs-params">supports_credentials=<span class="hljs-literal">True</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">file</span>():<br>    <span class="hljs-built_in">print</span>(request.files)<br></code></pre></td></tr></table></figure><blockquote><p>requests.files</p></blockquote><p>用files去获取请求的文件，数据流是二进制文件，stream写入文件。</p><h4 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h4><blockquote><p>requests.method</p></blockquote><p>用来获取当前请求的方法，get、post等。</p><blockquote><p>requests.url</p></blockquote><p>请求的URL地址。</p><blockquote><p>requests.headers</p></blockquote><p>http请求的headers内容，可以直接用get方法进行数据获取，例如：request.headers.get(‘rtx-id’)。</p><blockquote><p>requests.blueprint</p></blockquote><p>获取请求的蓝图。</p><blockquote><p>requests.endpoint</p></blockquote><p>请求方法的endpoint。</p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Flask</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python项目API请求CORS跨域的问题</title>
    <link href="/articles/44368/"/>
    <url>/articles/44368/</url>
    
    <content type="html"><![CDATA[<span class="label label-info">Python</span> <span class="label label-primary">CORS</span><div class="note note-primary">            <p>记录一下前端请求后台造成<em><strong>CORS</strong></em>跨域的问题，本文以Python为开发语言，讲述解决跨域的问题，其他后台API语言也都类似。</p>          </div><span id="more"></span><hr /><p>之前的项目差不多都是使用Jijia2模板去搞的web服务，最近新起了一个新项目，打算采用VUE框架写前端，主要使用到了VUE-Element-Admin这个框架，是一位字节跳动的大佬开发的，具体的详情可以去学习：<a href="https://panjiachen.github.io/vue-element-admin-site/zh/">https://panjiachen.github.io/vue-element-admin-site/zh/</a><br>基于这个前端框架去开发自己的系统，用的Flask去写接口，启动2个项目之后，发现前端get数据失败，打开控制台去看：</p><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs oxygene">Access <span class="hljs-keyword">to</span> XMLHttpRequest at <span class="hljs-string">&#x27;http://127.0.0.1:9999/user/info?token=098f6bcd4621d373cade4e832627b4f8&#x27;</span> <span class="hljs-keyword">from</span> origin <span class="hljs-string">&#x27;http://localhost:10000&#x27;</span> <span class="hljs-keyword">has</span> been blocked <span class="hljs-keyword">by</span> CORS policy: Response <span class="hljs-keyword">to</span> preflight request doesn<span class="hljs-string">&#x27;t pass access control check: The &#x27;</span>Access-Control-Allow-Origin<span class="hljs-string">&#x27; header has a value &#x27;</span>http:<span class="hljs-comment">//localhost:9527&#x27; that is not equal to the supplied origin.</span><br></code></pre></td></tr></table></figure><p>大致的错误就是CORS跨域请求的问题。</p><div class="post_cus_note">解决方案</div><blockquote><p>安装</p></blockquote><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">pip <span class="hljs-keyword">install</span> flask_cros<br></code></pre></td></tr></table></figure><blockquote><p>全局资源</p></blockquote><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs stylus">from flask_cors import CORS, cross_origin<br><br><br>app = <span class="hljs-built_in">Flask</span>(__name__)<br>app<span class="hljs-selector-class">.config</span><span class="hljs-selector-attr">[<span class="hljs-string">&#x27;SECRET_KEY&#x27;</span>]</span> = <span class="hljs-string">&#x27;PythonNB&#x27;</span><br><span class="hljs-function"><span class="hljs-title">CORS</span><span class="hljs-params">(app, supports_credentials=True)</span></span><br></code></pre></td></tr></table></figure><blockquote><p>蓝图资源</p></blockquote><p>这里主要使用了蓝图。</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-keyword">from</span> flask_cors import CORS<br><br><span class="hljs-built_in"></span><br><span class="hljs-built_in">user </span>= Blueprint(<span class="hljs-string">&#x27;user&#x27;</span>, __name__, <span class="hljs-attribute">url_prefix</span>=<span class="hljs-string">&#x27;/user&#x27;</span>)<br>CORS(user, <span class="hljs-attribute">supports_credentials</span>=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><blockquote><p>特定资源</p></blockquote><p>在特定的方法上加上修饰器。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> flask_cors <span class="hljs-keyword">import</span> cross_origin<br><br><span class="hljs-meta">@cross_origin(<span class="hljs-params">supports_credentials=<span class="hljs-literal">True</span></span>)</span><br></code></pre></td></tr></table></figure><p>本人的前端功底比较弱，但是发现学完vue之后，不管是语法还是UI界面都是很不错的，有想学习前端的同学还是推荐学习vue的，<font size=6.5 color='red'>坚持每天学习，爱变编程。</font></p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Flask</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ES6之扩展运算符三个点</title>
    <link href="/articles/3828/"/>
    <url>/articles/3828/</url>
    
    <content type="html"><![CDATA[<p>最近也写了不少的VUE的代码，发现…这个新的运算符用的还是比较多的，总结记录下。<br>总结一句话：<br><font size=6.5 color='red'>把参数对象中可以遍历的属性都取出来放在新的对象中，实现多个对象扁平化。</font></p><span class="label label-primary">VUE</span> <span class="label label-info">ES6</span><span id="more"></span><hr /><p>不多说，直接看例子：</p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs autoit"><span class="hljs-keyword">const</span> arr1 = [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>]<span class="hljs-comment">;</span><br><span class="hljs-keyword">const</span> arr2 = [<span class="hljs-string">&#x27;c&#x27;</span>]<span class="hljs-comment">;</span><br><span class="hljs-keyword">const</span> arr3 = [<span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>]<span class="hljs-comment">;</span><br>console.<span class="hljs-built_in">log</span>([...arr1, ...arr2, ...arr3])<br><br><span class="hljs-meta"># 结果：</span><br>[ <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span> ]<br></code></pre></td></tr></table></figure><p>以此类推，开发中最常用就是把abc字符串等数据换成Object对象的数据，不过记住原理，万变不离其宗。<br>再来个对象的例子加深下印象：</p><figure class="highlight sml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sml"><span class="hljs-keyword">let</span> obj1 = &#123; name: <span class="hljs-symbol">&#x27;mingliang</span>.gao&#x27; &#125;<br><span class="hljs-keyword">let</span> obj2 = &#123; sex: <span class="hljs-symbol">&#x27;man&#x27;</span> &#125;<br><span class="hljs-keyword">let</span> obj = &#123; ...obj1, ...obj2 &#125;<br>console.log(obj)<br><br># 结果：<br>&#123; name: <span class="hljs-symbol">&#x27;mingliang</span>.gao&#x27;, sex: <span class="hljs-symbol">&#x27;man&#x27;</span> &#125;<br></code></pre></td></tr></table></figure><p>学习参考：<a href="https://es6.ruanyifeng.com/#docs/array">https://es6.ruanyifeng.com/#docs/array</a></p>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VUE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>快速清空大文件</title>
    <link href="/articles/27322/"/>
    <url>/articles/27322/</url>
    
    <content type="html"><![CDATA[<span class="label label-info">Linux快速清空大文件</span><span id="more"></span><hr /><h4 id="1-echo"><a href="#1-echo" class="headerlink" title="1.echo"></a>1.echo</h4><figure class="highlight openscad"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs openscad"><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;&quot;</span> &gt; filename.<span class="hljs-built_in">log</span><br></code></pre></td></tr></table></figure><h4 id="2-cat"><a href="#2-cat" class="headerlink" title="2.cat"></a>2.cat</h4><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">cat /dev/<span class="hljs-keyword">null</span> &gt; <span class="hljs-keyword">access</span>.<span class="hljs-keyword">log</span><br></code></pre></td></tr></table></figure><h4 id="3-dd"><a href="#3-dd" class="headerlink" title="3.dd"></a>3.dd</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">dd <span class="hljs-attribute">if</span>=/dev/null <span class="hljs-attribute">of</span>=access.log<br></code></pre></td></tr></table></figure><p>清空的原理就是重定向，方法很多，不局限。</p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Linux其他篇</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Javascript对象属性的遍历</title>
    <link href="/articles/27964/"/>
    <url>/articles/27964/</url>
    
    <content type="html"><![CDATA[<span class="label label-info">7种Javascript对象属性遍历的方法</span><span id="more"></span><hr /><blockquote><p>测试数据</p></blockquote><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">var <span class="hljs-type">name</span> = <span class="hljs-string">&#x27;mingliang.gao&#x27;</span>;<br>var demo = &#123;<br>    <span class="hljs-type">name</span>,<br>    <span class="hljs-keyword">language</span>: <span class="hljs-string">&#x27;js&#x27;</span>,<br>    say() &#123;<br>        <span class="hljs-keyword">return</span> (<span class="hljs-string">&#x27;name: &#x27;</span>, <span class="hljs-type">name</span>, <span class="hljs-string">&#x27;language: &#x27;</span>, <span class="hljs-keyword">language</span>)<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="方法一：for…in"><a href="#方法一：for…in" class="headerlink" title="方法一：for…in"></a>方法一：for…in</h4><p>for…in循环遍历对象自身的和继承的可枚举属性（不含 Symbol 属性）。</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs maxima"><span class="hljs-keyword">for</span> (<span class="hljs-built_in">let</span> k <span class="hljs-keyword">in</span> <span class="hljs-built_in">demo</span>)&#123;<br>    console.<span class="hljs-built_in">log</span>(k)<br>&#125;<br></code></pre></td></tr></table></figure><p>结果：</p><figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sqf"><span class="hljs-built_in">name</span><br><span class="hljs-built_in">language</span><br><span class="hljs-built_in">say</span><br></code></pre></td></tr></table></figure><h4 id="方法二：Object-keys-obj"><a href="#方法二：Object-keys-obj" class="headerlink" title="方法二：Object.keys(obj)"></a>方法二：Object.keys(obj)</h4><p>Object.keys返回一个数组，包括对象自身的（不含继承的）所有可枚举属性（不含 Symbol 属性）的键名。</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(Object.keys(demo))<br></code></pre></td></tr></table></figure><p>结果：</p><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs scheme">[ <span class="hljs-symbol">&#x27;name</span>&#x27;, <span class="hljs-symbol">&#x27;language</span>&#x27;, <span class="hljs-symbol">&#x27;say</span>&#x27; ]<br></code></pre></td></tr></table></figure><h4 id="方法三：Object-getOwnPropertyNames-obj"><a href="#方法三：Object-getOwnPropertyNames-obj" class="headerlink" title="方法三：Object.getOwnPropertyNames(obj)"></a>方法三：Object.getOwnPropertyNames(obj)</h4><p>Object.getOwnPropertyNames返回一个数组，包含对象自身的所有属性（不含 Symbol 属性，但是包括不可枚举属性）的键名。</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(Object.getOwnPropertyNames(demo))<br></code></pre></td></tr></table></figure><p>结果：</p><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs scheme">[ <span class="hljs-symbol">&#x27;name</span>&#x27;, <span class="hljs-symbol">&#x27;language</span>&#x27;, <span class="hljs-symbol">&#x27;say</span>&#x27; ]<br></code></pre></td></tr></table></figure><h4 id="方法四：Object-getOwnPropertySymbols-obj"><a href="#方法四：Object-getOwnPropertySymbols-obj" class="headerlink" title="方法四：Object.getOwnPropertySymbols(obj)"></a>方法四：Object.getOwnPropertySymbols(obj)</h4><p>Object.getOwnPropertySymbols返回一个数组，包含对象自身的所有 Symbol 属性的键名。</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(Object.getOwnPropertySymbols(demo))<br></code></pre></td></tr></table></figure><p>结果：</p><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs scheme">[ <span class="hljs-symbol">&#x27;name</span>&#x27;, <span class="hljs-symbol">&#x27;language</span>&#x27;, <span class="hljs-symbol">&#x27;say</span>&#x27; ]<br></code></pre></td></tr></table></figure><h4 id="方法五：Reflect-ownKeys-obj"><a href="#方法五：Reflect-ownKeys-obj" class="headerlink" title="方法五：Reflect.ownKeys(obj)"></a>方法五：Reflect.ownKeys(obj)</h4><p>Reflect.ownKeys返回一个数组，包含对象自身的（不含继承的）所有键名，不管键名是 Symbol 或字符串，也不管是否可枚举。</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(Reflect.ownKeys(demo))<br></code></pre></td></tr></table></figure><p>结果：</p><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs scheme">[ <span class="hljs-symbol">&#x27;name</span>&#x27;, <span class="hljs-symbol">&#x27;language</span>&#x27;, <span class="hljs-symbol">&#x27;say</span>&#x27; ]<br></code></pre></td></tr></table></figure><h4 id="方法六：getOwnPropertyDescriptor-obj-‘属性名’"><a href="#方法六：getOwnPropertyDescriptor-obj-‘属性名’" class="headerlink" title="方法六：getOwnPropertyDescriptor(obj, ‘属性名’)"></a>方法六：getOwnPropertyDescriptor(obj, ‘属性名’)</h4><p>对象的每个属性都有一个描述对象（Descriptor），Object.getOwnPropertyDescriptor方法可以获取该属性的描述对象。</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(getOwnPropertyDescriptor(demo, <span class="hljs-string">&#x27;name&#x27;</span>))<br></code></pre></td></tr></table></figure><p>结果：</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs nix">&#123; <span class="hljs-params">value:</span> &#x27;mingliang.gao&#x27;,<br>  <span class="hljs-params">writable:</span> <span class="hljs-literal">true</span>,<br>  <span class="hljs-params">enumerable:</span> <span class="hljs-literal">true</span>,<br>  <span class="hljs-params">configurable:</span> <span class="hljs-literal">true</span> &#125;<br></code></pre></td></tr></table></figure><h4 id="方法七：解构赋值"><a href="#方法七：解构赋值" class="headerlink" title="方法七：解构赋值"></a>方法七：解构赋值</h4><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs maxima"><span class="hljs-built_in">let</span> &#123; name, language, say, ...<span class="hljs-built_in">args</span> &#125; = <span class="hljs-built_in">demo</span>;<br>console.<span class="hljs-built_in">log</span>(language)<br>console.<span class="hljs-built_in">log</span>(say)<br>console.<span class="hljs-built_in">log</span>(<span class="hljs-built_in">args</span>)<br></code></pre></td></tr></table></figure><p>结果：</p><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mel">mingliang.gao<br><span class="hljs-keyword">python</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Javascript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Oracle密码过期的处理</title>
    <link href="/articles/32323/"/>
    <url>/articles/32323/</url>
    
    <content type="html"><![CDATA[<div class="note note-info">            <p>今天下午处理了一下Oracle账户过期的问题，记录一下处理的过程，密码过期+杀死死锁。</p>          </div><span class="label label-info">Oracle</span> <span class="label label-primary">密码过期</span><span id="more"></span><hr /><h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>4号刚休完元旦的假期下午来到项目上，发现系统的调度停止了，修改系统状态又重新了一次，发现还是报错，第一个调度都跑不过去，这记录一下，后面杀死死锁进程要考。<br>因为在节前psql已经提示账户密码马上过期了，需要重制密码，没有理会，所以第一时间想到了是这个原因造成的，于是打开plsq输入登录密码，已经登录不上去了，问题已经确定了，那么就针对问题处理问题。</p><h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><p>具体Oracle数据库运维没什么经验，增删改查用的还是多，但是涉及到操作了，还是要谨慎一些，问了自己的好朋友、同事，以及结合baidu，处理了这次密码过期造成的问题。不多说，看下处理过程。</p><h4 id="切换oracle用户"><a href="#切换oracle用户" class="headerlink" title="切换oracle用户"></a>切换oracle用户</h4><p>登录服务器，切换到oracle用户，执行<em><strong>sqlplus &#x2F; as sysdba</strong></em>操纵，如果能顺利登录Oracle数据库，直接下下个阶段。<br>我这的Oracle数据库部署的有问题，执行sqlplus发现提示一些错误，具体的错误就不写了，反正就是当时这个Oracle环境遍历没有配置好。打开&#x2F;home&#x2F;oracle&#x2F;.bash_profile环境变量文件，发现以及配置如下内容：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs routeros">umask 022<br><span class="hljs-attribute">ORACLE_HOSTNAME</span>=aespas<br><span class="hljs-attribute">ORACLE_BASE</span>=/u01/app/oracle<br><span class="hljs-attribute">ORACLE_HOME</span>=<span class="hljs-variable">$ORACLE_BASE</span>/product/11.2.0/dbhome_1<br><span class="hljs-built_in">export</span> <span class="hljs-attribute">ORACLE_SID</span>=aespas<br><span class="hljs-attribute">PATH</span>=<span class="hljs-variable">$PATH</span>:$HOME/bin:$ORACLE_HOME/bin:$ORACLE_HOME/jdk/bin<br><br><span class="hljs-built_in">export</span> PATH<br><span class="hljs-built_in">export</span> ORACLE_HOME<br><span class="hljs-attribute">LC_ALL</span>=<span class="hljs-string">&quot;en_US&quot;</span><br><span class="hljs-attribute">LANG</span>=<span class="hljs-string">&quot;en_US&quot;</span><br><span class="hljs-built_in">export</span> <span class="hljs-attribute">NLS_LANG</span>=<span class="hljs-string">&quot;AMERICAN_AMERICA.ZHS16GBK&quot;</span><br><span class="hljs-built_in">export</span> <span class="hljs-attribute">NLS_DATE_FORMAT</span>=<span class="hljs-string">&#x27;YYYY-MM-DD HH24:MI:SS&#x27;</span><br></code></pre></td></tr></table></figure><p>需要执行一下命令使环境变量生效：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">source</span> /home/oracle/.bash_profile<br></code></pre></td></tr></table></figure><h4 id="修改密码"><a href="#修改密码" class="headerlink" title="修改密码"></a>修改密码</h4><ul><li>登录Oracle</li></ul><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs actionscript">sqlplus / <span class="hljs-keyword">as</span> sysdba<br></code></pre></td></tr></table></figure><ul><li>查看指定的用户</li></ul><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs axapta"><span class="hljs-keyword">select</span> username, profile <span class="hljs-keyword">from</span> dba_users <span class="hljs-keyword">where</span> username = <span class="hljs-string">&#x27;PAS&#x27;</span>;<br></code></pre></td></tr></table></figure><ul><li>查看用户指定profile密码有效期设置</li></ul><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">select * <span class="hljs-keyword">from</span> dba_profiles s where s.<span class="hljs-attribute">profile</span>=<span class="hljs-string">&#x27;DEFAULT&#x27;</span> <span class="hljs-keyword">AND</span> <span class="hljs-attribute">resource_name</span>=<span class="hljs-string">&#x27;PASSWORD_LIFE_TIME&#x27;</span>;<br></code></pre></td></tr></table></figure><ul><li>密码有效期由默认的180天修改成“无限制”</li></ul><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">ALTER</span> PROFILE <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">LIMIT</span> PASSWORD_LIFE_TIME UNLIMITED;<br></code></pre></td></tr></table></figure><ul><li>重新设置密码</li></ul><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">ALTER <span class="hljs-keyword">USER</span> <span class="hljs-title">PAS</span> identified by pas<br></code></pre></td></tr></table></figure><h4 id="杀死死锁"><a href="#杀死死锁" class="headerlink" title="杀死死锁"></a>杀死死锁</h4><ul><li>查看哪些表锁住了</li></ul><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">select b.owner,b.object_name,<span class="hljs-keyword">a</span>.session_id,<span class="hljs-keyword">a</span>.locked_mode<br><span class="hljs-built_in">from</span> v$locked_object <span class="hljs-keyword">a</span>,dba_objects b<br>where b.object_id = <span class="hljs-keyword">a</span>.object_id;̨̨̨̨̨<br></code></pre></td></tr></table></figure><ul><li>查看锁死的会话</li></ul><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">select</span> b.username,b.sid,b.serial#,logon_time<br><span class="hljs-keyword">from</span> v$locked_object a,v$<span class="hljs-keyword">session</span> b<br><span class="hljs-keyword">where</span> a.session_id = b.sid <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> b.logon_time;<br></code></pre></td></tr></table></figure><ul><li>杀死锁死的会话</li></ul><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">alter</span> <span class="hljs-keyword">system</span> kill <span class="hljs-keyword">session</span> <span class="hljs-string">&#x27;sid,serial&#x27;</span>;<br></code></pre></td></tr></table></figure><p>其中sid、serial为上一步查询的锁死会话。</p><h4 id="运行调度"><a href="#运行调度" class="headerlink" title="运行调度"></a>运行调度</h4><p>重新运行系统的调度</p><h3 id="注意要点"><a href="#注意要点" class="headerlink" title="注意要点"></a>注意要点</h3><ul><li>sqlplus登录数据库的所有sql建议手动输入，不要粘贴复制。</li></ul>]]></content>
    
    
    <categories>
      
      <category>数据库</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Oracle</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pycharm新文件模板配置</title>
    <link href="/articles/10539/"/>
    <url>/articles/10539/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p><font color='red' size=4.5>分享一下关于Pycharm文件创建File and Code Template的配置。</font></p>          </div><span class="label label-default">Python</span> <span class="label label-primary">Pycharm</span><span id="more"></span><hr /><p>今天元旦了，吃过饭后晚上还是写了会代码，用Pycharm写项目每次创建新文件的时候，都有一些文件初始化的默认内容，本人Pycharm File and Code Template配置：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><span class="hljs-section"># -<span class="hljs-emphasis">*- coding: utf-8 -*</span>-</span><br><br><span class="hljs-section">&quot;&quot;&quot;</span><br><span class="hljs-section">------------------------------------------------</span><br><br>describe:<br><br>base<span class="hljs-emphasis">_info:</span><br><span class="hljs-emphasis">    <span class="hljs-strong">__author__</span> = &quot;PyGo&quot;</span><br><span class="hljs-emphasis">    <span class="hljs-strong">__time__</span> = &quot;$&#123;DATE&#125;&quot;</span><br><span class="hljs-emphasis">    <span class="hljs-strong">__version__</span> = &quot;v.1.0.0&quot;</span><br><span class="hljs-emphasis">    <span class="hljs-strong">__mail__</span> = &quot;gaoming971366@163.com&quot;</span><br><span class="hljs-emphasis">    <span class="hljs-strong">__project__</span> = &quot;$&#123;PROJECT_</span>NAME&#125;&quot;<br><br>usage:<br><br>design:<br><br>reference urls:<br><br>python version:<br><span class="hljs-code">    python3</span><br><span class="hljs-code"></span><br><br>Enjoy the good time everyday！！!<br>Life is short, I use python.<br><br>------------------------------------------------<br>&quot;&quot;&quot;<br><br><span class="hljs-section"># ------------------------------------------------------------</span><br><span class="hljs-section"># usage: /usr/bin/python $&#123;NAME&#125;.py</span><br><span class="hljs-section"># ------------------------------------------------------------</span><br><br><br><br><br><br><br><br><br>if <span class="hljs-strong">__name__</span> == &#x27;<span class="hljs-strong">__main__</span>&#x27;:<br><span class="hljs-code">    pass</span><br></code></pre></td></tr></table></figure><p>常用的变量如下：</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-variable">$ </span>&#123;PROJECT_NAME&#125; - 项目的名称。<br><span class="hljs-variable">$ </span>&#123;NAME&#125; - 在文件创建过程中在“新建文件”对话框中指定的新文件的名称。<br><span class="hljs-variable">$ </span>&#123;USER&#125; - 当前用户的登录名。<br><span class="hljs-variable">$ </span>&#123;DATE&#125; - 当前的系统日期。<br><span class="hljs-variable">$ </span>&#123;TIME&#125; - 当前系统时间。<br><span class="hljs-variable">$ </span>&#123;YEAR&#125; - 今年。<br><span class="hljs-variable">$ </span>&#123;MONTH&#125; - 当月。<br><span class="hljs-variable">$ </span>&#123;DAY&#125; - 当月的当天。<br><span class="hljs-variable">$ </span>&#123;HOUR&#125; - 目前的小时。<br><span class="hljs-variable">$ </span>&#123;MINUTE&#125; - 当前分钟。<br><span class="hljs-variable">$ </span>&#123;PRODUCT_NAME&#125; - 将在其中创建文件的IDE的名称。<br><span class="hljs-variable">$ </span>&#123;MONTH_NAME_SHORT&#125; - 月份名称的前<span class="hljs-number">3</span>个字母。 示例：<span class="hljs-number">1</span>月，<span class="hljs-number">2</span>月等<br><span class="hljs-variable">$ </span>&#123;MONTH_NAME_FULL&#125; - 一个月的全名。 示例：<span class="hljs-number">1</span>月，<span class="hljs-number">2</span>月等<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
    </categories>
    
    
    <tags>
      
      <tag>IDE</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>弥留之城的爱丽丝</title>
    <link href="/articles/41087/"/>
    <url>/articles/41087/</url>
    
    <content type="html"><![CDATA[<span class="label label-default">死亡游戏</span> <span class="label label-info">悬疑</span> <span class="label label-danger">惊悚</span><span id="more"></span><hr /><div class="note note-success">            <p><font size="4" color="red"><strong>简介</strong></font><br>目前只有第一季，但是蛮好看的，在第一季最后一节留了彩蛋，等待第二季。</p>          </div><blockquote><p>推荐指数</p></blockquote><pre><code class="hljs">⭐️⭐️⭐️⭐️</code></pre><blockquote><p>主线剧情</p></blockquote><p>男主、女主组队通关现实中的死亡游戏。</p><blockquote><p>观看地址</p></blockquote><p><em><strong>baidu</strong></em>自行下载<br>或者<br>链接: <a href="https://pan.baidu.com/s/1ju1E4FfIMlZs5Acn2Ec8Ag">https://pan.baidu.com/s/1ju1E4FfIMlZs5Acn2Ec8Ag</a><br>提取码: v44f。</p>]]></content>
    
    
    <categories>
      
      <category>影视说</category>
      
    </categories>
    
    
    <tags>
      
      <tag>电视剧</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Github个人Overview展示</title>
    <link href="/articles/61451/"/>
    <url>/articles/61451/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p>前几天看到一个项目，在README.md上有彩色标签、Github个人统计信息，挺有趣的，然后在Github上查到有一个专门的项目用来做这个，学习记录一下。</p>          </div><span id="more"></span><hr/><p>先来看下原本的Github Overview试图：<br><img src="/articles/61451/overview_src.png"></p><p>接下来，对其进行优化。</p><blockquote><p>创建新的Repository</p></blockquote><p>首先，在Github中创建一个新的repository，Owner与Repository name保持一致。比如你的Owner为ABC，那么就创建一个ABC仓库。<br>选择Public、Add a README file选项。</p><blockquote><p>编辑README.md文件</p></blockquote><p>创建好了之后，直接对仓库README.md文件进行编辑，这里简单对标签、GitHub Readme Stats进行举例，详情请查阅官网，本人也是探索阶段。</p><blockquote><p>README.md标签</p></blockquote><p>打开标签牌官网：<a href="https://shields.io/">https://shields.io/</a></p><p><img src="/articles/61451/shields.io.png"></p><p>最简单标签：</p><ul><li>label：标签体的前半部分，比如：Development Language</li><li>message：标签体的后半部分，比如：Python</li><li>color：选择一个颜色，也可以输入十六进制代码</li></ul><p>示例：</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs less">!<span class="hljs-selector-attr">[]</span>(<span class="hljs-attribute">https</span>:<span class="hljs-comment">//img.shields.io/badge/Development%20Language-Python-FF0000)</span><br></code></pre></td></tr></table></figure><p><img src="https://img.shields.io/badge/Development%20Language-Python-FF0000" alt="标签牌"></p><blockquote><p>GitHub统计</p></blockquote><p>官网：<a href="https://github.com/anuraghazra/github-readme-stats/blob/master/docs/readme_cn.md">https://github.com/anuraghazra/github-readme-stats/blob/master/docs/readme_cn.md</a><br>示例：</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli">![GitHub stats]<span class="hljs-params">(https://github-readme-stats.vercel.app/api?<span class="hljs-attr">username</span>=GIS90&amp;<span class="hljs-attr">theme</span>=highcontrast&amp;<span class="hljs-attr">show_icons</span>=true&amp;<span class="hljs-attr">hide</span>=contribs,prs&amp;<span class="hljs-attr">count_private</span>=true)</span><br></code></pre></td></tr></table></figure><p>官网介绍的很明白，请自行查阅。</p><p>看下最终效果：<br><img src="/articles/61451/overview_tar.png"></p><blockquote><p>学习参考</p></blockquote><p>README标签：<a href="https://shields.io/">https://shields.io/</a><br>GitHub统计：<a href="https://github.com/anuraghazra/github-readme-stats/blob/master/docs/readme_cn.md">https://github.com/anuraghazra/github-readme-stats/blob/master/docs/readme_cn.md</a></p><p><font color="red" size="6.5">Enjoy the good life everyday！</font></p>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
    </categories>
    
    
    <tags>
      
      <tag>git</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ES6学习</title>
    <link href="/articles/56016/"/>
    <url>/articles/56016/</url>
    
    <content type="html"><![CDATA[<span class="label label-primary">VUE</span> <span class="label label-info">ES6</span><span id="more"></span><hr /><p>最近学习了VUE3，所有的语法是以ECMAScript6为基础的，参考学习了廖雪峰的ES6教程，<em><strong>URL</strong></em>如下：</p><p><a href="https://es6.ruanyifeng.com/#docs/intro">https://es6.ruanyifeng.com/#docs/intro</a></p>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VUE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>GIT删除tag</title>
    <link href="/articles/53395/"/>
    <url>/articles/53395/</url>
    
    <content type="html"><![CDATA[<div class="note note-info">            <p><font color='red' size=4.5>总结一下GIT删除本地tag以及远程tag的操作！！！。</font></p>          </div><span id="more"></span><hr /><p>示例中以v-2021-12-15-01为tag示例。</p><h4 id="删除本地tag"><a href="#删除本地tag" class="headerlink" title="删除本地tag"></a>删除本地tag</h4><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">git</span> tag -d v-<span class="hljs-number">2021</span>-<span class="hljs-number">12</span>-<span class="hljs-number">15</span>-<span class="hljs-number">01</span><br></code></pre></td></tr></table></figure><p><img src="/articles/53395/loca_del.png"></p><h4 id="删除远程tag"><a href="#删除远程tag" class="headerlink" title="删除远程tag"></a>删除远程tag</h4><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs elixir">git push origin <span class="hljs-symbol">:refs/tags/v-</span><span class="hljs-number">2021</span><span class="hljs-number">-12</span><span class="hljs-number">-15</span><span class="hljs-number">-01</span><br></code></pre></td></tr></table></figure><p><img src="/articles/53395/remote_show.png"></p><h4 id="显示本地tag"><a href="#显示本地tag" class="headerlink" title="显示本地tag"></a>显示本地tag</h4><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">git <span class="hljs-keyword">tag</span> <span class="hljs-title">-l</span><br></code></pre></td></tr></table></figure><p><img src="/articles/53395/local_show.png"></p><h4 id="显示远程tag"><a href="#显示远程tag" class="headerlink" title="显示远程tag"></a>显示远程tag</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">git <span class="hljs-keyword">show</span><span class="hljs-operator">-</span><span class="hljs-keyword">ref</span> <span class="hljs-comment">--tag</span><br></code></pre></td></tr></table></figure><p><img src="/articles/53395/remote_del.png"></p><h4 id="删除多个"><a href="#删除多个" class="headerlink" title="删除多个"></a>删除多个</h4><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs crmsh"><span class="hljs-comment"># 本地</span><br>git <span class="hljs-keyword">tag</span> <span class="hljs-title">-l</span> | grep <span class="hljs-string">&quot;关键字&quot;</span> ｜ grep -v grep | awk -F <span class="hljs-string">&quot;&quot;</span> &#x27;print $<span class="hljs-number">1</span>&#x27; | xargs git <span class="hljs-keyword">tag</span> <span class="hljs-title">-d</span><br><br><span class="hljs-comment"># 远程</span><br>git show-<span class="hljs-keyword">ref</span> --<span class="hljs-keyword">tag</span> <span class="hljs-title">| grep</span> <span class="hljs-string">&quot;关键字&quot;</span> ｜ grep -v grep | awk -F <span class="hljs-string">&quot;&quot;</span> &#x27;print $<span class="hljs-number">1</span>&#x27; | xargs git push origin :refs/tags/<br></code></pre></td></tr></table></figure><p>还没尝试，只是觉得这么可以实现，待测试。</p>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
    </categories>
    
    
    <tags>
      
      <tag>git</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>GIT修改默认分支master改为main</title>
    <link href="/articles/28122/"/>
    <url>/articles/28122/</url>
    
    <content type="html"><![CDATA[<div class="note note-info">            <p>最近git初始化项目，本地都是默认master分支，毕竟发生了“黑人维权”，不管怎么说，github官网发布了消息：GitHub 官方发布信息称，从2020年10月1日起，在 Github平台上创建的所有新的源代码仓库将默认命名为 “main” ，不再是原先的 “master”。<br>我的本地居然还没改，于是，找了下解决办法，配置一下就ok了。</p>          </div><span class="label label-info">git</span> <span class="label label-primary">默认分支</span> <span class="label label-success">github</span><span id="more"></span><hr/><blockquote><p>配置</p></blockquote><p>执行一下的命令，就可以设置默认初始化仓库的时候为main仓库，把这个配置到全局的配置文件中。</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs csharp">git config --<span class="hljs-keyword">global</span> <span class="hljs-keyword">init</span>.defaultBranch main<br></code></pre></td></tr></table></figure><blockquote><p>查看</p></blockquote><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs routeros">$ git<span class="hljs-built_in"> config </span>--global --list<br><br>init.<span class="hljs-attribute">defaultbranch</span>=main<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
    </categories>
    
    
    <tags>
      
      <tag>git</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>DingTalk后台导出人员数据</title>
    <link href="/articles/45420/"/>
    <url>/articles/45420/</url>
    
    <content type="html"><![CDATA[<div class="note note-warning">            <p>程序推送消息需要2个参数，第一个是消息内容，第二个就是消息接受者，利用DingTalk OpenApi，传入的User ID是DingTalk的ID，具体获取方式请查看下列内容。</p>          </div><span class="label label-primary">DingTalk</span><span id="more"></span><hr /><h4 id="1、登录DingTalk官网"><a href="#1、登录DingTalk官网" class="headerlink" title="1、登录DingTalk官网"></a>1、登录DingTalk官网</h4><p>官网地址：<a href="https://www.dingtalk.com/">https://www.dingtalk.com/</a><br>以管理员的角色登录DingTalk，点击快捷入口的通讯录管理。<br><img src="/articles/45420/1.png"></p><h4 id="2、批量导入-导出-修改"><a href="#2、批量导入-导出-修改" class="headerlink" title="2、批量导入&#x2F;导出&#x2F;修改"></a>2、批量导入&#x2F;导出&#x2F;修改</h4><p>选择批量导入&#x2F;导出&#x2F;修改功能。<br><img src="/articles/45420/2.png"></p><h4 id="3、导出数据"><a href="#3、导出数据" class="headerlink" title="3、导出数据"></a>3、导出数据</h4><p>选择导出&#x2F;修改成员功能，设置导出的员工，点击下载。<br><img src="/articles/45420/3.png"></p><h4 id="4、数据展示"><a href="#4、数据展示" class="headerlink" title="4、数据展示"></a>4、数据展示</h4><p>导出的excel数据中，第一列为DingTalk User ID，需要结合表数据的第二列与绩效明细数据进行vlookup。<br><img src="/articles/45420/4.png"></p><h4 id="5、其他"><a href="#5、其他" class="headerlink" title="5、其他"></a>5、其他</h4><ul><li>DingTalk（钉钉）创建企业内部机器人：<a href="http://pygo2.top/articles/32206/">http://pygo2.top/articles/32206/</a></li><li>DingTalk后台导出人员数据：<a href="http://pygo2.top/articles/45420/">http://pygo2.top/articles/45420/</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DingTalk</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>DingTalk（钉钉）创建企业内部机器人</title>
    <link href="/articles/32206/"/>
    <url>/articles/32206/</url>
    
    <content type="html"><![CDATA[<h4 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h4><div class="note note-primary">            <p>工作上的项目有个简单的需求，说有好的什么方式可以实现工资的明细可以自动化推送，经过沟通，打算把方向定位到钉钉上，并不是打广告啊，钉钉在中小型企业，甚至大企业使用程度还是很广的，于是加班加点近几天写了个简单的程序，功能就是调用钉钉openApi实现绩效工资明细自动化推动到行员钉钉。</p>          </div><span class="label label-info">DingTalk</span> <span class="label label-primary">机器人</span><span id="more"></span><hr /><h3 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h3><p>程序的基本功能已经开发完了，但是需要对DingTalk（钉钉）进行一些设置，本篇为讲述DingTalk创建机器人的相关操作，如果有想了解程序的可以看文章末尾的github地址，后续也会对这个程序写个详细的文章出来。</p><ul><li><h4 id="登录DingTalk官网"><a href="#登录DingTalk官网" class="headerlink" title="登录DingTalk官网"></a>登录DingTalk官网</h4><p>  以管理员的方式钉钉开发中后台，依次选择应用开发 &gt; 企业内部开发 &gt; 机器人，点击创建应用。<br>  官网地址：<a href="https://open-dev.dingtalk.com/">https://open-dev.dingtalk.com/</a><br>  <img src="/articles/32206/1.png"></p></li><li><h4 id="配置机器人"><a href="#配置机器人" class="headerlink" title="配置机器人"></a>配置机器人</h4><p>  按要求填写应用名称、应用描述以及图标，创建完之后还是可以进行内容修改的。<br>  <img src="/articles/32206/2.png"></p></li><li><h4 id="查看AppKey与AppSecret"><a href="#查看AppKey与AppSecret" class="headerlink" title="查看AppKey与AppSecret"></a>查看AppKey与AppSecret</h4><p>  回到主页面选择刚创建的机器人，查看基本信息，记录机器人的AppKey与AppSecret，在程序的config.yaml配置文件中需要配置对应的参数。<br>  <img src="/articles/32206/3.png"></p></li><li><h4 id="开通权限"><a href="#开通权限" class="headerlink" title="开通权限"></a>开通权限</h4><p>  选择权限管理 &gt; 机器人 &gt; 企业内机器人发送消息权限，开通这个发消息的权限。<br>  <img src="/articles/32206/4.png"></p></li><li><h4 id="发布机器人"><a href="#发布机器人" class="headerlink" title="发布机器人"></a>发布机器人</h4><p>  选择版本管理与发布，发布需要发消息的机器人。<br>  <img src="/articles/32206/5.png"></p></li></ul><h3 id="学习参考"><a href="#学习参考" class="headerlink" title="学习参考"></a>学习参考</h3><ul><li>企业自建单聊机器人（官网）：<a href="https://developers.dingtalk.com/document/robots/enterprise-created-chatbot">https://developers.dingtalk.com/document/robots/enterprise-created-chatbot</a></li><li>项目地址：<a href="https://github.com/GIS90/dtalk_send_pas">https://github.com/GIS90/dtalk_send_pas</a></li></ul><ul><li>DingTalk（钉钉）创建企业内部机器人：<a href="http://pygo2.top/articles/32206/">http://pygo2.top/articles/32206/</a></li><li>DingTalk后台导出人员数据：<a href="http://pygo2.top/articles/45420/">http://pygo2.top/articles/45420/</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DingTalk</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Vant-Dialog的组件调用方式的注意要点</title>
    <link href="/articles/50291/"/>
    <url>/articles/50291/</url>
    
    <content type="html"><![CDATA[<p>在学习VUE的过程中，使用了移动UI的vant进行实战，在调用Dialog组件的时候，直接在methdod方法中使用没什么问题，但是把vant-dialog用在template标签中，控制台会报出警告，如下：</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">[Vue warn]: <span class="hljs-keyword">Extraneous </span>non-props attributes (<span class="hljs-keyword">show, </span>title, <span class="hljs-keyword">show-cancel-button) </span>were passed to component <span class="hljs-keyword">but </span>could not <span class="hljs-keyword">be </span>automatically inherited <span class="hljs-keyword">because </span>component renders fragment <span class="hljs-keyword">or </span>text root nodes.<br><span class="hljs-built_in">at</span> &lt;<span class="hljs-keyword">Dialog </span><span class="hljs-keyword">show=false </span>onUpdate:<span class="hljs-keyword">show=fn </span>title=<span class="hljs-string">&quot;新增&quot;</span> ... &gt;<br><span class="hljs-built_in">at</span> &lt;Type onVnodeUnmounted=fn ref=Ref&lt; undefined &gt; &gt;<br></code></pre></td></tr></table></figure><span id="more"></span><hr /><p>vant官网提出了dialog的调用方式，函数调用与组件调用。在组件调用方式的时候报以上警告，而且Dialog会直接显示出来，在组件调用的时候需要注意：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs markdown">[<span class="hljs-symbol">Dialog.Component.name</span>]: <span class="hljs-link">Dialog.Component,</span><br>或者<br>van-dialog: Dialog.Component,<br></code></pre></td></tr></table></figure><p>官网以及vant github都有解决的方案。</p>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VUE</tag>
      
      <tag>vant</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Jquery数组删除元素的方法</title>
    <link href="/articles/43302/"/>
    <url>/articles/43302/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p>写项目过程中经常写前端js，记录一下删除数组中指定某个元素的常用方法。</p>          </div><span id="more"></span><hr /><blockquote><p>测试数据</p></blockquote><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">var arr</span> = [<span class="hljs-string">&#x27;a&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>,<span class="hljs-string">&#x27;c&#x27;</span>,<span class="hljs-string">&#x27;d&#x27;</span>];<br></code></pre></td></tr></table></figure><h4 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h4><p><font color="red" size="5.5"><strong>最常用的方法</strong></font></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-selector-tag">var</span> index = arr<span class="hljs-selector-class">.indexOf</span>(<span class="hljs-string">&#x27;c&#x27;</span>)<br><span class="hljs-function"><span class="hljs-title">if</span><span class="hljs-params">(index &gt; -<span class="hljs-number">1</span>)</span></span>&#123;<br>    <span class="hljs-selector-tag">var</span> el = arr<span class="hljs-selector-class">.splice</span>(index, <span class="hljs-number">1</span>)<br>    console<span class="hljs-selector-class">.log</span>(el)<br>&#125;<br></code></pre></td></tr></table></figure><p>结果：</p><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs scheme">[ <span class="hljs-symbol">&#x27;a</span>&#x27; ]<br>[ <span class="hljs-symbol">&#x27;b</span>&#x27;, <span class="hljs-symbol">&#x27;c</span>&#x27;, <span class="hljs-symbol">&#x27;d</span>&#x27; ]<br></code></pre></td></tr></table></figure><p>说明：<br>splice参数有多个，第一个代表删除元素的位置；第二个为删除的个数。</p><h4 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-selector-tag">var</span> index = arr<span class="hljs-selector-class">.indexOf</span>(<span class="hljs-string">&#x27;c&#x27;</span>)<br><span class="hljs-function"><span class="hljs-title">if</span><span class="hljs-params">(index &gt; -<span class="hljs-number">1</span>)</span></span>&#123;<br>    delete arr<span class="hljs-selector-attr">[index]</span><br>    console<span class="hljs-selector-class">.log</span>(arr)<br>&#125;<br></code></pre></td></tr></table></figure><p>结果：</p><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs scheme">[ <span class="hljs-symbol">&#x27;a</span>&#x27;, <span class="hljs-symbol">&#x27;b</span>&#x27;, , <span class="hljs-symbol">&#x27;d</span>&#x27; ]<br></code></pre></td></tr></table></figure><p>说明：<br>使用delete删除元素之后数组长度不变，只是被删除元素变为””了。</p><h4 id="方法三"><a href="#方法三" class="headerlink" title="方法三"></a>方法三</h4><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">var</span> el = arr.<span class="hljs-built_in">pop</span>()<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(el)<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(arr)<br></code></pre></td></tr></table></figure><p>结果：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css">d<br><span class="hljs-selector-attr">[ <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span> ]</span><br></code></pre></td></tr></table></figure><p>说明：<br>pop方法用于删除数组中的最后一项，并且数据返回到新的变量。</p><h4 id="方法四"><a href="#方法四" class="headerlink" title="方法四"></a>方法四</h4><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">var</span> el = arr.shift()<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(el)<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(arr)<br></code></pre></td></tr></table></figure><p>结果：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">a</span><br><span class="hljs-selector-attr">[ <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span> ]</span><br></code></pre></td></tr></table></figure><p>说明：<br>shift方法用于删除数组中的第一项，并且数据返回到新的变量。</p><p>最常用的数据删除元素方法为splice，用indexOf去获取删除元素的位置。</p>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Javascript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Server后端API返回JSON格式说明</title>
    <link href="/articles/40461/"/>
    <url>/articles/40461/</url>
    
    <content type="html"><![CDATA[<p>开发中经常与前端开发或者自己写的前端项目进行数据交换，总结一下自己常用的数据交换格式，以及状态码对应的内容。</p><span class="label label-danger">Linux</span> <span class="label label-info">Python</span><span id="more"></span><hr /><blockquote><p>格式</p></blockquote><p><em><strong>JSON</strong></em>*</p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs prolog">&#123;<br>    <span class="hljs-string">&quot;status_id&quot;</span>: <span class="hljs-number">100</span>,<br>    <span class="hljs-string">&quot;status&quot;</span>: <span class="hljs-string">&quot;成功&quot;</span>,<br>    <span class="hljs-string">&quot;message&quot;</span>: <span class="hljs-string">&quot;请求内容&quot;</span>,<br>    <span class="hljs-string">&quot;data&quot;</span>: [],<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>status_id：状态码</li><li>status：状态内容</li><li>message：错误信息</li><li>data：请求的json数据内容</li></ul><blockquote><p>实例</p></blockquote><table><thead><tr><th align="center">Status_id</th><th align="left">Status</th><th align="left">Msg</th><th align="left">Data</th></tr></thead><tbody><tr><td align="center">100</td><td align="left">success</td><td align="left">请求成功</td><td align="left">{}</td></tr><tr><td align="center">101</td><td align="left">success</td><td align="left">请求成功，查询数据为空</td><td align="left">{}</td></tr><tr><td align="center">201</td><td align="left">failure</td><td align="left">请求方法错误</td><td align="left">{}</td></tr><tr><td align="center">202</td><td align="left">failure</td><td align="left">缺少请求参数</td><td align="left">{}</td></tr><tr><td align="center">203</td><td align="left">failure</td><td align="left">请求参数不合法</td><td align="left">{}</td></tr><tr><td align="center">204</td><td align="left">failure</td><td align="left">请求参数为必须信息</td><td align="left">{}</td></tr><tr><td align="center">205</td><td align="left">failure</td><td align="left">缺少rtx_id信息</td><td align="left">{}</td></tr><tr><td align="center">206</td><td align="left">failure</td><td align="left">缺少上传文件</td><td align="left">{}</td></tr><tr><td align="center">207</td><td align="left">failure</td><td align="left">文件格式不支持</td><td align="left">{}</td></tr><tr><td align="center">208</td><td align="left">failure</td><td align="left">文件内容不符合要求</td><td align="left">{}</td></tr><tr><td align="center">209</td><td align="left">failure</td><td align="left">文件行内容有问题</td><td align="left">{}</td></tr><tr><td align="center">210</td><td align="left">failure</td><td align="left">文件存储失败</td><td align="left">{}</td></tr><tr><td align="center">211</td><td align="left">failure</td><td align="left">参数特殊要求</td><td align="left">{}</td></tr><tr><td align="center">212</td><td align="left">failure</td><td align="left">文件数据已存在</td><td align="left">{}</td></tr><tr><td align="center">213</td><td align="left">failure</td><td align="left">文件导出数据为空</td><td align="left">{}</td></tr><tr><td align="center">301</td><td align="left">failure</td><td align="left">数据已存在，无需重新建立</td><td align="left">{}</td></tr><tr><td align="center">302</td><td align="left">failure</td><td align="left">数据不存在</td><td align="left">{}</td></tr><tr><td align="center">303</td><td align="left">failure</td><td align="left">部分数据处理成功</td><td align="left">{}</td></tr><tr><td align="center">304</td><td align="left">failure</td><td align="left">数据已删除，无需处理</td><td align="left">{}</td></tr><tr><td align="center">305</td><td align="left">failure</td><td align="left">数据已处理，无须二次处理</td><td align="left">{}</td></tr><tr><td align="center">306</td><td align="left">failure</td><td align="left">数据已删除，无须二次删除</td><td align="left">{}</td></tr><tr><td align="center">307</td><td align="left">failure</td><td align="left">数据处理失败</td><td align="left">{}</td></tr><tr><td align="center">308</td><td align="left">failure</td><td align="left">数据不可用</td><td align="left">{}</td></tr><tr><td align="center">3081</td><td align="left">failure</td><td align="left">数据（地址）不可用</td><td align="left">{}</td></tr><tr><td align="center">3082</td><td align="left">failure</td><td align="left">数据（姓名）不可用</td><td align="left">{}</td></tr><tr><td align="center">3083</td><td align="left">failure</td><td align="left">数据（重量）不可用</td><td align="left">{}</td></tr><tr><td align="center">3084</td><td align="left">failure</td><td align="left">数据（电话）不可用</td><td align="left">{}</td></tr><tr><td align="center">309</td><td align="left">failure</td><td align="left">数据创建用户与当前更改用户不一致</td><td align="left">{}</td></tr><tr><td align="center">310</td><td align="left">failure</td><td align="left">非数据相关人员，禁止更新数据</td><td align="left">{}</td></tr><tr><td align="center">401</td><td align="left">failure</td><td align="left">图片格式不支持</td><td align="left">{}</td></tr><tr><td align="center">402</td><td align="left">failure</td><td align="left">图片存储失败</td><td align="left">{}</td></tr><tr><td align="center">403</td><td align="left">failure</td><td align="left">文章创建者与提交者不符合</td><td align="left">{}</td></tr><tr><td align="center">450</td><td align="left">failure</td><td align="left">数据存储失败</td><td align="left">{}</td></tr><tr><td align="center">501</td><td align="left">failure</td><td align="left">Server发生错误，获取数据失败</td><td align="left">{}</td></tr><tr><td align="center">601</td><td align="left">failure</td><td align="left">HTTP请求接口失败</td><td align="left">{}</td></tr><tr><td align="center">602</td><td align="left">failure</td><td align="left">HTTP请求数据为空</td><td align="left">{}</td></tr><tr><td align="center">603</td><td align="left">failure</td><td align="left">HTTP请求数据不可用</td><td align="left">{}</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>服务器</category>
      
    </categories>
    
    
    <tags>
      
      <tag>API</tag>
      
      <tag>JSON</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Vue第三方组件</title>
    <link href="/articles/5638/"/>
    <url>/articles/5638/</url>
    
    <content type="html"><![CDATA[<h4 id="简述"><a href="#简述" class="headerlink" title="简述"></a>简述</h4><div class="note note-primary">            <p>记录学习VUE过程中用到的第三方组件。</p>          </div><span class="label label-danger">VUE</span> <span class="label label-info">第三方组件</span><span id="more"></span><hr /><p>前端框架出现之后，组件化成为了前端开发的趋势，对于开发者来说，尤其是初学者，直接引用别人封装好的组件，在开发成本、样式上会节省一把时间，记录一下VUE学习过程中使用过的第三方组件。<br>至于，优劣势分析会在日后进行分析。</p><table><thead><tr><th align="center">ID</th><th align="center">Name</th><th align="left">Url</th><th align="left">DevTeam</th><th align="left">VUE Support</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">vant</td><td align="left"><a href="https://vant-contrib.gitee.io/">https://vant-contrib.gitee.io/</a></td><td align="left">有赞前端团队</td><td align="left">Vue2, Vue3</td></tr><tr><td align="center">2</td><td align="center">element-ui</td><td align="left"><a href="https://element.eleme.cn/#/zh-CN">https://element.eleme.cn/#/zh-CN</a></td><td align="left">饿了么团队</td><td align="left">Vue2, Vue3</td></tr><tr><td align="center">3</td><td align="center">Bootstrap</td><td align="left"><a href="https://bootstrap-vue.org/">https://bootstrap-vue.org/</a></td><td align="left"></td><td align="left">Vue2, Vue3</td></tr></tbody></table><p>其实都大同小异，搞懂一个其他都差不多了。</p><p><font size=5.5 color='red'><em><strong>持续更新中。。。。。。</strong></em></font></p>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VUE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ATOM安装插件的方式</title>
    <link href="/articles/10421/"/>
    <url>/articles/10421/</url>
    
    <content type="html"><![CDATA[<div class="note note-warning">            <p>之前写过一片关于ATOM的快捷键以及相关的一些基础插件，今日再把安装插件的方式记录一下，还是比较简单的。</p>          </div><span id="more"></span><hr /><p>总结一下插件的安装方式，主要有3种。</p><h4 id="1、-IDE安装"><a href="#1、-IDE安装" class="headerlink" title="1、 IDE安装"></a>1、 IDE安装</h4><p>1.打开Atom-&gt;Perferences，快捷键：command+,<br>2.找到左侧的install菜单，输入你想要安装的Packages插件名&#x2F;Theme名<br><img src="/articles/10421/atom_install1.png"></p><h4 id="2、APM命令安装"><a href="#2、APM命令安装" class="headerlink" title="2、APM命令安装"></a>2、APM命令安装</h4><p>1.打开terminal控制台<br>2.执行以下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 查询是否有apm命令</span><br><span class="hljs-built_in">which</span> apm<br><br><span class="hljs-comment"># 安装</span><br>apm install<br><br><span class="hljs-comment"># 查看插件安装列表</span><br>apm list<br></code></pre></td></tr></table></figure><p>具体的命令查询help，其实大部分安装包的命令都一样，npm、pip等等等，安装install、列表list、卸载uninstall&#x2F;remove。<br><img src="/articles/10421/atom_install2.png"></p><h4 id="3、手动安装"><a href="#3、手动安装" class="headerlink" title="3、手动安装"></a>3、手动安装</h4><p>上面2种安装解决了大部分安装插件的问题，如果在库中没有，需要手动git项目进行安装，步骤如下：<br>1.进入到atom的插件目录（cd ~&#x2F;.atom&#x2F;package），再通过git clone克隆仓库到本地<br>2.cd到插件的目录，执行apm install命令进行插件的安装</p><p><font size=6.5 color='red'>最近有些懈怠了，写写文章、学学习，让自己充实起来，人生需要不断的前进。</font></p>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Atom</tag>
      
      <tag>IDE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Ubuntu-Unable to locate package错误解决办法</title>
    <link href="/articles/53363/"/>
    <url>/articles/53363/</url>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>在Windows Terminal上集成了Ubuntu Terminal，安装小火车sl的时候，出现以下的错误：</p>          </div><p><img src="/articles/53363/article_ubuntu_error.jpg"></p><span class="label label-info">Ubuntu</span><span id="more"></span><hr /><p>Unable to locate package大概意思就是找不到需要安装的包，执行以下命令：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">sudo apt-<span class="hljs-keyword">get</span> <span class="hljs-keyword">update</span><br></code></pre></td></tr></table></figure><p>这个命令会访问apt配置文件中所有的源，会读取源的软件列表保存在本地。以后使用apt、apt-get命令去install的时候会遍历本机保存的软件列表，所以需要定期对软件列表进行update命令更新源的软件列表。<br>在去执行刚才需要安装的命令。</p><div class="post_cus_note">拓展</div><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">sudo apt-<span class="hljs-built_in">get</span> upgrade<br></code></pre></td></tr></table></figure><p>执行upgrade命令会把本机安装的packages与上述update更新的软件列表进行比对，如果版本低于软件列表，会进行更新操作。</p>]]></content>
    
    
    <categories>
      
      <category>服务器</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Ubuntu</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Vue入门系列-VUE全家桶架构图</title>
    <link href="/articles/54029/"/>
    <url>/articles/54029/</url>
    
    <content type="html"><![CDATA[<p>前段时间在慕课网学习了基础的VUE视频，受益匪浅啊，决定把自己从VUE入门的学习过程写一个系列的文章做一个分享，如果学习过程有错误的理解或者有什么记录不对的地方，可以留言进行交流。</p><span class="label label-primary">VUE</span><span id="more"></span><hr /><p><img src="/articles/54029/VUE.jpg"></p><p>从这个架构图上可以看出，我把VUE分为4个部分，分别是：</p><ul><li>基础环境</li><li>VUE基础知识</li><li>VUE其他</li><li>部署<br>最后一个是要做一个实战，实现todolist的功能，后端代码打算用python3实现API对接。</li></ul><p><font size=5.5 color='red'><em><strong>持续更新中。。。。。。</strong></em></font></p>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VUE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>413 Request Entity Too Large</title>
    <link href="/articles/60121/"/>
    <url>/articles/60121/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <h4 id="问题说明"><a href="#问题说明" class="headerlink" title="问题说明"></a>问题说明</h4><p>在发布的pyhton web项目上传2M的文件，提示<code>&lt;font color=&#39;red&#39; size=4.5&gt;</code>413 Request Entity Too Large<code>&lt;/font&gt;</code>，请求实体过大也就是requests的Content-Length过大，记得当时本机开发的时候没有报过这个问题，为何上线就有了，大概率是域名、nginx那的问题。</p>          </div><span id="more"></span><hr /><p><img src="/articles/60121/article_nginx413.jpeg"></p><h4 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h4><p>确认问题出处之后就好解决，baidu查了一下，是因为nginx的配置问题，找到云服务器nginx的配置：&#x2F;etc&#x2F;nginx&#x2F;nginx.conf<br>在http配置处添加</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf">client_max_body_size <span class="hljs-number">100</span>M<span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure><p>重启nginx，搞定。</p>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Nginx</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>openpyxl写入性能的比较</title>
    <link href="/articles/24240/"/>
    <url>/articles/24240/</url>
    
    <content type="html"><![CDATA[<p><font size=6.5 color='red'>简单比较一下openpyxl在行写入与单元格写入性能上的对比。</font></p><hr /><span class="label label-info">Python</span> <span class="label label-primary">Excel</span><span id="more"></span><hr /><h4 id="简述"><a href="#简述" class="headerlink" title="简述"></a>简述</h4><p>之前一直用xlrd、xlwt处理表格，但是发现限制台，超过了65535就不能读取了，改用openpyxl，了解了一下之后，发现openpyxl可以行写入，测试一下行写入与单元格写入二者的性能。</p><h4 id="样本"><a href="#样本" class="headerlink" title="样本"></a>样本</h4><p>表格元数据176233行、7列，数据包含字符串类型、数字、时间等常见类型。</p><h4 id="试验体"><a href="#试验体" class="headerlink" title="试验体"></a>试验体</h4><p>PC：MacOS<br>openpyxl版本：3.0.7</p><h4 id="源代码"><a href="#源代码" class="headerlink" title="源代码"></a>源代码</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import datetime<br>import openpyxl<br><br><br><span class="hljs-comment"># 读取</span><br>reader_workbook = openpyxl.load_workbook(<span class="hljs-string">&#x27;data/LLBB_GRCKYE1.xlsx&#x27;</span>)<br>sheet = reader_workbook.get_sheet_by_name(reader_workbook.sheetnames[0])<br>sheet_row = sheet.max_row<br>sheet_col = sheet.max_column<br><span class="hljs-comment"># ===================================</span><br><span class="hljs-comment"># 行写入</span><br>start1 = datetime.datetime.now()<br>new_wb = openpyxl.Workbook()<br>new_sheet = new_wb.create_sheet(<span class="hljs-attribute">title</span>=<span class="hljs-string">&#x27;Sheet&#x27;</span>, <span class="hljs-attribute">index</span>=0)<br><span class="hljs-keyword">for</span> row <span class="hljs-keyword">in</span> sheet.values:<br>    new_sheet.append(row)<br>new_wb.save(<span class="hljs-string">&#x27;result/res2.xlsx&#x27;</span>)<br>end1 = datetime.datetime.now()<br><span class="hljs-built_in">print</span>((end1-start1).seconds)<br><span class="hljs-comment"># ===================================</span><br><span class="hljs-comment"># 单元格写入</span><br>start2 = datetime.datetime.now()<br>new_wb = openpyxl.Workbook()<br>new_sheet = new_wb.create_sheet(<span class="hljs-attribute">title</span>=<span class="hljs-string">&#x27;Sheet&#x27;</span>, <span class="hljs-attribute">index</span>=0)<br><span class="hljs-keyword">for</span> row <span class="hljs-keyword">in</span> range(1, sheet_row + 1, 1):<br>    <span class="hljs-keyword">for</span> col <span class="hljs-keyword">in</span> range(1, sheet_col + 1, 1):<br>        new_sheet.cell(<span class="hljs-attribute">row</span>=row,<br>                       <span class="hljs-attribute">column</span>=col,<br>                       <span class="hljs-attribute">value</span>=sheet.cell(row=row, <span class="hljs-attribute">column</span>=col).value<br>                       )<br>new_wb.save(<span class="hljs-string">&#x27;result/res3.xlsx&#x27;</span>)<br>end2 = datetime.datetime.now()<br><span class="hljs-built_in">print</span>((end2-start2).seconds)<br><br></code></pre></td></tr></table></figure><h4 id="比较结果"><a href="#比较结果" class="headerlink" title="比较结果"></a>比较结果</h4><p>单位：s</p><table><thead><tr><th align="center">类别</th><th align="center">第1次</th><th align="center">第2次</th><th align="center">第3次</th><th align="center">第4次</th><th align="center">第5次</th><th align="center">第6次</th><th align="center">第7次</th><th align="center">第8次</th><th align="center">第9次</th><th align="center">第10次</th><th align="center">平均值</th></tr></thead><tbody><tr><td align="center">行</td><td align="center">25</td><td align="center">26</td><td align="center">28</td><td align="center">29</td><td align="center">27</td><td align="center">28</td><td align="center">27</td><td align="center">26</td><td align="center">26</td><td align="center">26</td><td align="center">26.8</td></tr><tr><td align="center">单元格</td><td align="center">26</td><td align="center">28</td><td align="center">30</td><td align="center">28</td><td align="center">30</td><td align="center">29</td><td align="center">27</td><td align="center">27</td><td align="center">26</td><td align="center">29</td><td align="center">28.0</td></tr></tbody></table><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>总体来说，大数据量可以看出行写入的速率较快，如果是数据量在几万行，性能都差不多，而且行写入代码也比较简单。</p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Excel</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>解决Python处理Excel65535的问题</title>
    <link href="/articles/26307/"/>
    <url>/articles/26307/</url>
    
    <content type="html"><![CDATA[<h4 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h4><p>使用Python去处理表格的时候，居然报错，提示为：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">ValueError: <span class="hljs-keyword">row</span> <span class="hljs-keyword">index</span> was <span class="hljs-number">65536</span>, <span class="hljs-keyword">not</span> allowed <span class="hljs-keyword">by</span> .xls <span class="hljs-keyword">format</span><br></code></pre></td></tr></table></figure><span id="more"></span><hr /><p>基于xlrd、xlwt进行Excel的处理，其包中对单个Sheet限制最大行数为65535，当读写数据超出这个范围就会出现如上错误。</p><h4 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h4><p>可以使用openpyxl包，其最大行数为1048576，存储的文件类型为xlsx，但是弊端就是不能读取xls老的Excel格式文件。<br>对于这个，我在项目中想了一个解决方案，判断是xls格式就用xlrd、xlwt包的方法；xlsx就用openpyxl。<br>如果是xls并且行数超过65536，让用户上传xlsx格式的文件，网上有xls、xlsx格式的转换，有需要的可以找找。</p><p>如果使用openpyxl读取.xls文件，报错：</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">raise InvalidFileException(msg)<br>openpyxl.utils.exceptions.InvalidFileException: openpyxl does <span class="hljs-keyword">not</span> support <span class="hljs-keyword">the</span> old .xls <span class="hljs-built_in">file</span> <span class="hljs-built_in">format</span>,<br>please use xlrd <span class="hljs-built_in">to</span> <span class="hljs-built_in">read</span> this <span class="hljs-built_in">file</span>, <span class="hljs-keyword">or</span> <span class="hljs-built_in">convert</span> <span class="hljs-keyword">it</span> <span class="hljs-built_in">to</span> <span class="hljs-keyword">the</span> more recent .xlsx <span class="hljs-built_in">file</span> <span class="hljs-built_in">format</span>.<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Excel</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Bootstrap的动态icon</title>
    <link href="/articles/63837/"/>
    <url>/articles/63837/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p>Bootstrap图标使用的是Font Awesome，加上基本的class可以产生动画效果，让页面看起来更加酷炫。</p>          </div><span class="label label-primary">Bootstrap</span> <span class="label label-info">icon</span><span id="more"></span><hr /><p>实现代码：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;fa-5x&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;fa fa-spinner fa-spin&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;fa fa-refresh fa-spin&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;fa fa-cog fa-spin&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;fa fa-spinner fa-pulse&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;fa fa-refresh fa-pulse&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;fa fa-cog fa-pulse&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;fa fa-spinner fa-rotate-90&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;fa fa-refresh fa-rotate-90&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;fa fa-cog fa-rotate-90&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li>fa-spin：让icon图标不停的动态旋转</li><li>fa-pulse：图标以八步为周期进行旋转，比较适合表示刷新、加载等功能的图标，如.fa-spinner、.fa-refresh、.fa-cog等</li><li>fa-rotate-xx：图标以某个角度进行选择</li><li>fa-flip-horizontal：水平翻转</li><li>fa-flip-vertical：垂直翻转</li><li>fa-3x：图标大小的设置，有fa-x、fa-2x、fa-3x，想要多大有多大，使用默认大小fa-x居多</li></ul>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Bootstrap</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JAVA的Error:loading:xxxx&#92;jvm.dll问题解决</title>
    <link href="/articles/35460/"/>
    <url>/articles/35460/</url>
    
    <content type="html"><![CDATA[<h3 id="1、问题描述"><a href="#1、问题描述" class="headerlink" title="1、问题描述"></a>1、问题描述</h3><p>在服务器执行java环境的时候，发现报以上的错误：<font color="red" size="5"><em><strong>Error: loading: xxxx\jvm.dll</strong></em></font>，记得在服务器坏之前还是好的，修复了之后就变成这样了，不管咋样，修复好才是王道。</p><span id="more"></span><hr /><h3 id="2、解决方案"><a href="#2、解决方案" class="headerlink" title="2、解决方案"></a>2、解决方案</h3><p>直接修改path环境变量，把<font color="red" size="5"><em><strong>%JAVA_HOME%&#x2F;bin;%JAVA_HOME%&#x2F;jre&#x2F;bin;</strong></em></font>放到path变量的最前面。</p><blockquote><p>解决过程</p></blockquote><ul><li>首先，报<em><strong>Error: loading: xxxx\jvm.dll</strong></em>这个文件的问题，正常java的环境应该回去找安装好的jvm.dll文件。</li><li>于是，我把这个对应指定的文件重命名，发现报另一个的错误：<em><strong>Error: missing <code>server‘ JVM at </code>XXXXXbin\server\jvm.dll‘.</strong></em></li><li>初步设想应该是JAVA环境配置出了问题，于是把JAVA环境重新配置了一边，好了。</li></ul><h3 id="3、原因"><a href="#3、原因" class="headerlink" title="3、原因"></a>3、原因</h3><p>应该是JAVA去找jvm.dll的时候，从PATH的顺序去找，把JAVA配置的路径放在最前面，先从JAVA环境找起。</p>]]></content>
    
    
    <categories>
      
      <category>服务器</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ERROR集</tag>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Windows系统服务器之间的大文件互传</title>
    <link href="/articles/555/"/>
    <url>/articles/555/</url>
    
    <content type="html"><![CDATA[<h4 id="简述"><a href="#简述" class="headerlink" title="简述"></a>简述</h4><div class="note note-warning">            <p>在服务器之间经常有文件要进行传输，而且很多情况都是10G以上的大文件，服务器操作系统主流为Windows、Linux、Unix，今日用到了两台Windows服务器之间进行大文件传输，总结一下，分享出来。</p>          </div><span class="label label-default">服务器</span> <span class="label label-info">文件传输</span> <span class="label label-primary">Windows</span><span id="more"></span><hr /><h4 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h4><table><thead><tr><th align="center">id</th><th align="center">ip</th><th align="center">name</th><th>Version</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">16.19.209.67</td><td align="center">Windows</td><td>Windows Server2008 R2</td></tr><tr><td align="center">1</td><td align="center">16.19.209.100</td><td align="center">Windows</td><td>Windows Server2008 R2</td></tr></tbody></table><p>两台服务器为内网连同的两台机器。</p><h4 id="方案"><a href="#方案" class="headerlink" title="方案"></a>方案</h4><blockquote><p>文件共享</p></blockquote><ul><li>文件夹开启高级共享，右键-&gt;属性-&gt;共享-&gt;高级共享</li><li>使用MSTSC进行连接，快捷键WIN+R，输入MSTSC，输入相关远程电脑的连接信息</li><li>连接之后再另一台电脑的计算机顶部地址栏输入共享服务器的ip</li><li>选择共享的文件夹，输入对应的账号、密码</li><li>复制到本地</li></ul><p><img src="/articles/555/1.png"></p><blockquote><p>xcopy</p></blockquote><p>Win系统自带的命令，启用CMD控制台。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 格式</span><br>net use \\IP地址 密码/user:账户<br><span class="hljs-comment"># 示例</span><br>net use \\16.19.209.100 Aqwe123/user:Administrator<br><br>xcopy /e E:\BACKUP_MZLPAS\*.* \\16.19.209.100\E$\BACKUP_MZLPAS\ /y<br>/y 表示直接覆盖原来的文件，不需要询问<br>/e 表示复制文件夹下所有文件及文件夹<br></code></pre></td></tr></table></figure><p>前提是这个文件夹开启共享。</p><blockquote><p>python</p></blockquote><p>服务器具有python环境，利用python命令开启一个web服务，连接方进行下载。</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-comment"># python2</span><br><span class="hljs-attribute">python</span> -m SimpleHTTPServer XXXX<br></code></pre></td></tr></table></figure><p>其中，XXXX为端口。</p>]]></content>
    
    
    <categories>
      
      <category>Windows</category>
      
    </categories>
    
    
    <tags>
      
      <tag>文件传输</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>DB2报错：SQLCODE=-668, SQLSTATE=57016</title>
    <link href="/articles/34462/"/>
    <url>/articles/34462/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p>今日跑存储过程，很简单的一个存储过程，从来没包错过，居然报错了，提示<font color="red" size="5"><em><strong>SQLCODE：-20244</strong></em></font>，网上查资料发现没有这个<em><strong>SQLCODE</strong></em>，于是一个表一个表的<em><strong>SELECT</strong></em>，发现其中有个表报错：SQLCODE&#x3D;-668, SQLSTATE&#x3D;57016</p>          </div><span class="label label-info">DB2</span> <span class="label label-default">SQLCODE</span><span id="more"></span><hr /><p>当存储过程出现：SQLCODE&#x3D;-668, SQLSTATE&#x3D;57016，说明表处于“暂挂状态”，需要load + reorg处理下就可以了。</p><blockquote><p>1.查询表的状态，DB2 CMD执行：db2 load query table pas.jxdx_dkzh_bf</p></blockquote><p><img src="/articles/34462/668.png"><br>这个错误是：表处于”装入暂挂”状态。</p><blockquote><p>2.执行以下对应的命令用来解除暂挂状态。</p></blockquote><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver"><span class="hljs-comment"># Linux</span><br>db2 <span class="hljs-built_in">load</span> <span class="hljs-built_in">from</span> /dev/<span class="hljs-literal">null</span> <span class="hljs-keyword">of</span> del terminate <span class="hljs-keyword">into</span> pas.jxdx_dkzh_bf<br><br><span class="hljs-comment"># Windows</span><br>db2 <span class="hljs-built_in">load</span> <span class="hljs-built_in">from</span> E:/test.txt <span class="hljs-keyword">of</span> del terminate <span class="hljs-keyword">into</span> pas.jxdx_dkzh_bf<br></code></pre></td></tr></table></figure><p>根据系统自行选择要执行的命令，Windows需要在命令指定的目录下建立一个空文件。</p><blockquote><p>3.然后</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">db2 reorg <span class="hljs-selector-tag">table</span> pas<span class="hljs-selector-class">.jxdx_dkzh_bf</span><br></code></pre></td></tr></table></figure><blockquote><p>4.测试select语句，如果可以了就可以执行存储过程了。</p></blockquote><div class="post_cus_note">注意要点</div><ul><li>table后面跟的表名格式：策略.表名</li></ul>]]></content>
    
    
    <categories>
      
      <category>数据库</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DB2</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python的pdf2docx模块学习</title>
    <link href="/articles/28829/"/>
    <url>/articles/28829/</url>
    
    <content type="html"><![CDATA[<h4 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h4><div class="note note-info">            <p>利用业余时间参加了公司的创新项目活动，里面有一个PDF转WORD的功能，分享出来。主要使用了python3版本的pdf2docx包，包的使用也很简单，基于基础功能写写逻辑、封装下页面就可以做出web功能了。</p>          </div><span class="label label-info">Python实战</span> <span class="label label-default">PDF转WORD</span><span id="more"></span><hr /><h4 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h4><table><thead><tr><th align="center">id</th><th align="center">name</th><th align="center">Version</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">Python</td><td align="center">3.7</td></tr></tbody></table><p>pdf2docx只支持python3。</p><h4 id="安装依赖"><a href="#安装依赖" class="headerlink" title="安装依赖"></a>安装依赖</h4><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs abnf"><span class="hljs-attribute">docx</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-number">0.2</span>.<span class="hljs-number">4</span><br><span class="hljs-attribute">fitz</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-number">0.0</span>.<span class="hljs-number">1</span>.dev2<br><span class="hljs-attribute">fonttools</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-number">4.24</span>.<span class="hljs-number">4</span><br><span class="hljs-attribute">idna</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-number">2.10</span><br><span class="hljs-attribute">lxml</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-number">4.6</span>.<span class="hljs-number">3</span><br><span class="hljs-attribute">numpy</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-number">1.21</span>.<span class="hljs-number">0</span><br><span class="hljs-attribute">opencv-python</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-number">4.5</span>.<span class="hljs-number">2.54</span><br><span class="hljs-attribute">pdf2docx</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-number">0.5</span>.<span class="hljs-number">2</span><br><span class="hljs-attribute">PyMuPDF</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-number">1.16</span>.<span class="hljs-number">14</span><br><span class="hljs-attribute">python-docx</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-number">0.8</span>.<span class="hljs-number">11</span><br></code></pre></td></tr></table></figure><h4 id="官方代码"><a href="#官方代码" class="headerlink" title="官方代码"></a>官方代码</h4><blockquote><p>示例一</p></blockquote><p>转换整个文档。</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">from</span> pdf2docx <span class="hljs-keyword">import</span> Converter<br><br>pdf_file = <span class="hljs-string">&#x27;/path/to/sample.pdf&#x27;</span><br>docx_file = <span class="hljs-string">&#x27;path/to/sample.docx&#x27;</span><br><br># convert pdf <span class="hljs-keyword">to</span> docx<br>cv = Converter(pdf_file)<br>cv.convert(docx_file)      # <span class="hljs-keyword">all</span> pages <span class="hljs-keyword">by</span> <span class="hljs-keyword">default</span><br>cv.<span class="hljs-keyword">close</span>()<br></code></pre></td></tr></table></figure><blockquote><p>示例二</p></blockquote><p>转换文档指定页。</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"># convert <span class="hljs-keyword">from</span> the second page <span class="hljs-keyword">to</span> the <span class="hljs-keyword">end</span> (<span class="hljs-keyword">by</span> <span class="hljs-keyword">default</span>)<br>cv.convert(docx_file, start=<span class="hljs-number">1</span>)<br><br># convert <span class="hljs-keyword">from</span> the first page (<span class="hljs-keyword">by</span> <span class="hljs-keyword">default</span>) <span class="hljs-keyword">to</span> the third (end=<span class="hljs-number">3</span>, excluded)<br>cv.convert(docx_file, end=<span class="hljs-number">3</span>)<br><br># convert <span class="hljs-keyword">from</span> the second page <span class="hljs-keyword">and</span> the third<br>cv.convert(docx_file, start=<span class="hljs-number">1</span>, end=<span class="hljs-number">3</span>)<br></code></pre></td></tr></table></figure><blockquote><p>示例三</p></blockquote><p>多进程转换。</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">cv.convert(docx_file, <span class="hljs-attribute">multi_processing</span>=<span class="hljs-literal">True</span>, <span class="hljs-attribute">cpu_count</span>=4)<br></code></pre></td></tr></table></figure><blockquote><p>示例四</p></blockquote><p>加密文档转换。</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs maxima"><span class="hljs-built_in">cv</span> = Converter(<span class="hljs-built_in">pdf_file</span>, password)<br><span class="hljs-built_in">cv</span>.<span class="hljs-built_in">convert</span>(docx_file)<br><span class="hljs-built_in">cv</span>.<span class="hljs-built_in">close</span>()<br></code></pre></td></tr></table></figure><h4 id="参考学习"><a href="#参考学习" class="headerlink" title="参考学习"></a>参考学习</h4><p>官网：<a href="https://dothinking.github.io/pdf2docx/index.html">https://dothinking.github.io/pdf2docx/index.html</a></p><h4 id="项目转换代码"><a href="#项目转换代码" class="headerlink" title="项目转换代码"></a>项目转换代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/usr/bin/python</span><br><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">--------------------------------------------------------------</span><br><span class="hljs-string">describe:</span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string">base_info:</span><br><span class="hljs-string">    __version__ = &quot;v.10&quot;</span><br><span class="hljs-string">    __author__ = &quot;mingliang.gao&quot;</span><br><span class="hljs-string">    __time__ = &quot;2020/10/1 9:31 AM&quot;</span><br><span class="hljs-string">    __mail__ = &quot;gaoming971366@163.com&quot;</span><br><span class="hljs-string">--------------------------------------------------------------</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><span class="hljs-comment"># ------------------------------------------------------------</span><br><span class="hljs-comment"># usage: /usr/bin/python file_lib.py</span><br><span class="hljs-comment"># ------------------------------------------------------------</span><br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">from</span> multiprocessing <span class="hljs-keyword">import</span> cpu_count<br><span class="hljs-keyword">from</span> pdf2docx <span class="hljs-keyword">import</span> Converter<br><br><span class="hljs-keyword">from</span> deploy.utils.utils <span class="hljs-keyword">import</span> get_storefilename_by_md5, \<br>    get_base_dir, get_now, mk_dirs<br><span class="hljs-keyword">from</span> deploy.config <span class="hljs-keyword">import</span> TRANSFER_BASE_DIR<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">FileLib</span>(<span class="hljs-title class_ inherited__">object</span>):<br>    ALLOWED_EXTENSIONS = [<br>        <span class="hljs-string">&#x27;.doc&#x27;</span>,<br>        <span class="hljs-string">&#x27;.docx&#x27;</span>,<br>        <span class="hljs-string">&#x27;.xls&#x27;</span>,<br>        <span class="hljs-string">&#x27;.xlsx&#x27;</span>,<br>        <span class="hljs-string">&#x27;.ppt&#x27;</span>,<br>        <span class="hljs-string">&#x27;.pptx&#x27;</span>,<br>        <span class="hljs-string">&#x27;.pdf&#x27;</span>,<br>        <span class="hljs-string">&#x27;.txt&#x27;</span>,<br>    ]<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-variable language_">self</span>.cpu_count = cpu_count()<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">allow_format_fmt</span>(<span class="hljs-params">self, fname</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span> <span class="hljs-keyword">if</span> (os.path.splitext(fname)[<span class="hljs-number">1</span>]).lower() <span class="hljs-keyword">in</span> <span class="hljs-variable language_">self</span>.ALLOWED_EXTENSIONS <span class="hljs-keyword">else</span> <span class="hljs-literal">False</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">store_file</span>(<span class="hljs-params">self, file, compress=<span class="hljs-literal">False</span>, is_md5_store_name=<span class="hljs-literal">True</span></span>):<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> file:<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>, &#123;<span class="hljs-string">&#x27;message&#x27;</span>: <span class="hljs-string">&#x27;没有发现文件&#x27;</span>&#125;<br>        <span class="hljs-keyword">try</span>:<br>            <span class="hljs-comment"># 文件存储初始化</span><br>            now_date = get_now(<span class="hljs-built_in">format</span>=<span class="hljs-string">&quot;%Y-%m-%d&quot;</span>)<br>            real_store_dir = get_base_dir() + TRANSFER_BASE_DIR + now_date<br>            store_dir = os.path.join(TRANSFER_BASE_DIR + now_date)<br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(real_store_dir):<br>                mk_dirs(real_store_dir)<br><br>            file_name = file.filename<br>            md5_v, store_file_name = get_storefilename_by_md5(file_name, ftype=<span class="hljs-string">&#x27;file&#x27;</span>)<br>            _real_file = os.path.join(real_store_dir, store_file_name) \<br>                <span class="hljs-keyword">if</span> is_md5_store_name <span class="hljs-keyword">else</span> os.path.join(real_store_dir, file_name)<br>            file.save(_real_file)<br>            <span class="hljs-comment"># 压缩</span><br>            <span class="hljs-comment"># if compress:</span><br>            <span class="hljs-comment">#     pass</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>, &#123;<span class="hljs-string">&#x27;store_name&#x27;</span>: store_file_name <span class="hljs-keyword">if</span> is_md5_store_name <span class="hljs-keyword">else</span> file_name,<br>                          <span class="hljs-string">&#x27;md5&#x27;</span>: md5_v,<br>                          <span class="hljs-string">&#x27;path&#x27;</span>: os.path.join(store_dir, store_file_name) <span class="hljs-keyword">if</span> is_md5_store_name <span class="hljs-keyword">else</span> os.path.join(store_dir, file_name),<br>                          <span class="hljs-string">&#x27;message&#x27;</span>: <span class="hljs-string">&#x27;success&#x27;</span>&#125;<br>        <span class="hljs-keyword">except</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>, &#123;<span class="hljs-string">&#x27;message&#x27;</span>: <span class="hljs-string">&#x27;文件存储发生错误&#x27;</span>&#125;<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">pdf_2_word</span>(<span class="hljs-params">self, file_pdf: <span class="hljs-built_in">str</span>, docx_name: <span class="hljs-built_in">str</span> = <span class="hljs-literal">None</span>,</span><br><span class="hljs-params">                   start: <span class="hljs-built_in">int</span> = <span class="hljs-number">0</span>, end: <span class="hljs-built_in">int</span> = <span class="hljs-literal">None</span>, pages: <span class="hljs-built_in">list</span> = <span class="hljs-literal">None</span>,</span><br><span class="hljs-params">                   is_multi_processing: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">False</span>, cpu_count: <span class="hljs-built_in">int</span> = <span class="hljs-number">1</span></span>):<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> file_pdf:<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>, &#123;<span class="hljs-string">&#x27;message&#x27;</span>: <span class="hljs-string">&#x27;Pdf file is null&#x27;</span>, <span class="hljs-string">&#x27;tar_file&#x27;</span>: <span class="hljs-string">&#x27;&#x27;</span>&#125;<br>        src_file = get_base_dir() + file_pdf<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(src_file):<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>, &#123;<span class="hljs-string">&#x27;message&#x27;</span>: <span class="hljs-string">&#x27;Pdf file is not exist&#x27;</span>, <span class="hljs-string">&#x27;tar_file&#x27;</span>: <span class="hljs-string">&#x27;&#x27;</span>&#125;<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.isfile(src_file):<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>, &#123;<span class="hljs-string">&#x27;message&#x27;</span>: <span class="hljs-string">&#x27;Pdf file is not file&#x27;</span>, <span class="hljs-string">&#x27;tar_file&#x27;</span>: <span class="hljs-string">&#x27;&#x27;</span>&#125;<br>        <span class="hljs-keyword">if</span> docx_name:<br>            docx_names = os.path.splitext(docx_name)<br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(docx_names) &lt; <span class="hljs-number">2</span>:<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>, &#123;<span class="hljs-string">&#x27;message&#x27;</span>: <span class="hljs-string">&#x27;Pdf file name not have suffix&#x27;</span>, <span class="hljs-string">&#x27;tar_file&#x27;</span>: <span class="hljs-string">&#x27;&#x27;</span>&#125;<br>        src_path, src_name = os.path.split(src_file)<br>        transfer_name_pdf = docx_name <span class="hljs-keyword">if</span> docx_name <span class="hljs-keyword">else</span> src_name<br>        transfer_name_word = os.path.splitext(transfer_name_pdf)[<span class="hljs-number">0</span>] + <span class="hljs-string">&#x27;.docx&#x27;</span><br>        docx_file = os.path.join(src_path, transfer_name_word)<br>        rel_path = os.path.split(file_pdf)[<span class="hljs-number">0</span>]<br>        tar_file = os.path.join(rel_path, transfer_name_word)<br>        <span class="hljs-comment"># convert pdf to docx</span><br>        cv = Converter(src_file)<br>        <span class="hljs-comment"># all pages by default</span><br>        <span class="hljs-keyword">if</span> is_multi_processing <span class="hljs-keyword">and</span> cpu_count &gt;= <span class="hljs-variable language_">self</span>.cpu_count:<br>            cpu_count = <span class="hljs-variable language_">self</span>.cpu_count<br>        cv.convert(docx_file, multi_processing=<span class="hljs-literal">True</span>, cpu_count=cpu_count) \<br>            <span class="hljs-keyword">if</span> is_multi_processing <span class="hljs-keyword">else</span> cv.convert(docx_file)<br>        cv.close()<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>, &#123;<span class="hljs-string">&#x27;message&#x27;</span>: <span class="hljs-string">&#x27;success&#x27;</span>, <span class="hljs-string">&#x27;tar_file&#x27;</span>: tar_file&#125;<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Python程序篇</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Centos7安装python3</title>
    <link href="/articles/64746/"/>
    <url>/articles/64746/</url>
    
    <content type="html"><![CDATA[<h4 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h4><div class="note note-primary">            <p>python2已经不维护更新了，不管是DEV开发、还是服务器运行环境，python3推广是迟早的事，学习一下在Centos7系统上安装python3。</p>          </div><span id="more"></span><hr /><h3 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h3><table><thead><tr><th align="center">id</th><th align="center">name</th><th align="center">Version</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">Centos</td><td align="center">CentOS Linux release 7.5.1804 (Core)</td></tr><tr><td align="center">2</td><td align="center">Python</td><td align="center">3.7</td></tr></tbody></table><h3 id="安装步骤"><a href="#安装步骤" class="headerlink" title="安装步骤"></a>安装步骤</h3><h4 id="检查"><a href="#检查" class="headerlink" title="检查"></a>检查</h4><p>查看目前服务器上的现有版本。</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs vim">which <span class="hljs-keyword">python</span><br><span class="hljs-keyword">python</span> --<span class="hljs-keyword">version</span><br></code></pre></td></tr></table></figure><h4 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h4><p>没有wget的命令的，可以装一下，很有用。</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-comment"># wget安装</span><br><span class="hljs-attribute">yum</span> install wget<br><br><span class="hljs-comment"># 下载python3版本</span><br><span class="hljs-attribute">wget</span> https://www.python.org/ftp/python/<span class="hljs-number">3</span>.<span class="hljs-number">7</span>.<span class="hljs-number">11</span>/Python-<span class="hljs-number">3</span>.<span class="hljs-number">7</span>.<span class="hljs-number">11</span>.tgz<br></code></pre></td></tr></table></figure><p>可以自由选择python3的版本</p><h4 id="解压"><a href="#解压" class="headerlink" title="解压"></a>解压</h4><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">tar</span> -xvf  Python-<span class="hljs-number">3</span>.<span class="hljs-number">7</span>.<span class="hljs-number">11</span>.tgz<br></code></pre></td></tr></table></figure><h4 id="创建编译安装目录"><a href="#创建编译安装目录" class="headerlink" title="创建编译安装目录"></a>创建编译安装目录</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> /usr/local/python3<br></code></pre></td></tr></table></figure><h4 id="编译"><a href="#编译" class="headerlink" title="编译"></a>编译</h4><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">cd</span> Python-<span class="hljs-number">3.7</span>.<span class="hljs-number">11</span><br>./configure --prefix=/usr/local/<span class="hljs-keyword">python3</span><br><span class="hljs-keyword">make</span> &amp;&amp; <span class="hljs-keyword">make</span> install<br></code></pre></td></tr></table></figure><h4 id="创建软连"><a href="#创建软连" class="headerlink" title="创建软连"></a>创建软连</h4><p>因为服务器已经存在一个python的版本了，所以命名为python3进行区分。</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk">ln -s <span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/python3/</span>bin<span class="hljs-regexp">/python3 /u</span>sr<span class="hljs-regexp">/local/</span>bin/python3<br>ln -s <span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/python3/</span>bin<span class="hljs-regexp">/pip3 /u</span>sr<span class="hljs-regexp">/local/</span>bin/pip3<br></code></pre></td></tr></table></figure><h4 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h4><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">python3</span> -V<br>pip3 -V<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pip升级之后No module named &#39;pip._internal&#39;问题解决</title>
    <link href="/articles/19559/"/>
    <url>/articles/19559/</url>
    
    <content type="html"><![CDATA[<h4 id="问题起源"><a href="#问题起源" class="headerlink" title="问题起源"></a>问题起源</h4><p>项目使用virtualenv创建虚拟环境，用来做项目的运行环境，发现创建新环境之后，使用pip install 包的时候出现一下错误: <font color="red" size="5">ModuleNotFoundError: No module named ‘pip._internal’</font>。<br>网上查找了很久，记录一下解决的方案。</p><span class="label label-primary">PIP</span><span id="more"></span><hr /><h4 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h4><p>使用python对pip进行升级。</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs applescript">source .venv/bin/<span class="hljs-built_in">activate</span><br>python -m pip install <span class="hljs-comment">--upgrade pip</span><br></code></pre></td></tr></table></figure><h4 id="参考学习"><a href="#参考学习" class="headerlink" title="参考学习"></a>参考学习</h4><p>gitub解决讨论：<a href="https://github.com/pypa/pip/issues/5373">https://github.com/pypa/pip/issues/5373</a></p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>PIP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Bootstrap之FileInput的基础学习</title>
    <link href="/articles/24956/"/>
    <url>/articles/24956/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p>最近在做一个上传文件的功能，自己写的样式那叫一个难看啊。。。。。上网找了一下，发现有Bootstrap封装好的、而且重要的是还免费的FileInput，拿来用就可以了。</p>          </div><span class="label label-primary">Bootstrap</span> <span class="label label-info">FileInput</span><span id="more"></span><hr /><h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><p>官网：<a href="https://plugins.krajee.com/file-basic-usage-demo">https://plugins.krajee.com/file-basic-usage-demo</a><br>中文：<a href="http://www.bootstrap-fileinput.com/examples.html">http://www.bootstrap-fileinput.com/examples.html</a></p><h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>安装有很多种方式，看<a href="http://www.bootstrap-fileinput.com/" target="_blank" class="block_project_a">中文官网</a>。<br>我直接github上下载的源码文件，直接引用，我使用的是python+flask框架的模板。</p><figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs handlebars"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">url_for</span>(<span class="hljs-name">&#x27;static&#x27;</span>, <span class="hljs-attr">filename</span>=<span class="hljs-string">&#x27;plugins/bootstrap-fileinput/js/fileinput.min.js&#x27;</span>) &#125;&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">url_for</span>(<span class="hljs-name">&#x27;static&#x27;</span>, <span class="hljs-attr">filename</span>=<span class="hljs-string">&#x27;plugins/bootstrap-fileinput/css/fileinput.min.css&#x27;</span>) &#125;&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">url_for</span>(<span class="hljs-name">&#x27;static&#x27;</span>, <span class="hljs-attr">filename</span>=<span class="hljs-string">&#x27;plugins/bootstrap-fileinput/themes/fas/theme.min.js&#x27;</span>) &#125;&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">url_for</span>(<span class="hljs-name">&#x27;static&#x27;</span>, <span class="hljs-attr">filename</span>=<span class="hljs-string">&#x27;plugins/bootstrap-fileinput/themes/explorer-fas/theme.min.js&#x27;</span>) &#125;&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">url_for</span>(<span class="hljs-name">&#x27;static&#x27;</span>, <span class="hljs-attr">filename</span>=<span class="hljs-string">&#x27;plugins/bootstrap-fileinput/themes/explorer-fas/theme.min.css&#x27;</span>) &#125;&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">url_for</span>(<span class="hljs-name">&#x27;static&#x27;</span>, <span class="hljs-attr">filename</span>=<span class="hljs-string">&#x27;plugins/bootstrap-fileinput/js/locales/zh.js&#x27;</span>) &#125;&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><blockquote><p>HTML代码</p></blockquote><p>我才用了modal+fileinput的方式使用。</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs applescript">&lt;<span class="hljs-keyword">div</span> <span class="hljs-built_in">class</span>=<span class="hljs-string">&quot;modal-body&quot;</span>&gt;<br>    &lt;input <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;fileinput_1&quot;</span> type=<span class="hljs-string">&quot;file&quot;</span>&gt;<br>&lt;/<span class="hljs-keyword">div</span>&gt;<br></code></pre></td></tr></table></figure><blockquote><p>JS代码</p></blockquote><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><code class="hljs awk">$(<span class="hljs-keyword">function</span>()&#123;<br>    $(<span class="hljs-string">&#x27;[data-toggle=&quot;tooltip&quot;]&#x27;</span>).tooltip(); <span class="hljs-regexp">//</span> 也可以使用 $(<span class="hljs-string">&#x27;#text&#x27;</span>).tooltip();<br><br>    <span class="hljs-regexp">//</span> bootstrap fileinput: https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/kartik-v/</span>bootstrap-fileinput<br>    <span class="hljs-regexp">/* init default, config: http:/</span><span class="hljs-regexp">/www.bootstrap-fileinput.com/</span>options.html<br>    showUpload: true, <span class="hljs-regexp">//</span>是否显示上传按钮<br>    showCaption: true, <span class="hljs-regexp">//</span>是否显示标题<br>    showPreview: true, <span class="hljs-regexp">//</span>是否显示文件预览<br>    showRemove: true, <span class="hljs-regexp">//</span>是否显示删除/清除按钮<br>    showCancel: true, <span class="hljs-regexp">//</span>是否显示文件上传取消按钮<br>    showClose: true, <span class="hljs-regexp">//</span>是否显示预览界面的关闭图标<br>    showUploadedThumbs: true, <span class="hljs-regexp">//</span>否在预览窗口中持续显示已经上传的文件缩略图<br>    showBrowse: true, <span class="hljs-regexp">//</span>是否显示文件浏览按钮<br>    dropZoneEnabled: true, <span class="hljs-regexp">//</span>是否显示拖拽区域<br>    browseOnZoneClick: true, <span class="hljs-regexp">//</span>是否在点击预览区域时触发文件浏览/选择<br>    uploadClass: <span class="hljs-string">&quot;btn btn-primary&quot;</span>, <span class="hljs-regexp">//</span>上传按钮样式<br>    removeClass: <span class="hljs-string">&quot;btn btn-danger&quot;</span>, <span class="hljs-regexp">//</span>移除按钮样式<br>    maxImageWidth: <span class="hljs-number">1000</span>,<span class="hljs-regexp">//</span>图片的最大宽度<br>    maxImageHeight: <span class="hljs-number">1000</span>,<span class="hljs-regexp">//</span>图片的最大高度<br>    minImageWidth: <span class="hljs-number">30</span>, <span class="hljs-regexp">//</span>图片的最小宽度<br>    minImageHeight: <span class="hljs-number">30</span>, <span class="hljs-regexp">//</span>图片的最小高度<br>    overwriteInitial: false, <span class="hljs-regexp">//</span> 是否要覆盖初始预览内容和标题设置<br>    previewFileIconSettings: &#123;<br>        <span class="hljs-string">&#x27;doc&#x27;</span>: <span class="hljs-string">&#x27;&lt;i class=&quot;fa fa-file-word-o text-primary&quot;&gt;&lt;/i&gt;&#x27;</span>,<br>        <span class="hljs-string">&#x27;xls&#x27;</span>: <span class="hljs-string">&#x27;&lt;i class=&quot;fa fa-file-excel-o text-success&quot;&gt;&lt;/i&gt;&#x27;</span>,<br>        <span class="hljs-string">&#x27;ppt&#x27;</span>: <span class="hljs-string">&#x27;&lt;i class=&quot;fa fa-file-powerpoint-o text-danger&quot;&gt;&lt;/i&gt;&#x27;</span>,<br>        <span class="hljs-string">&#x27;jpg&#x27;</span>: <span class="hljs-string">&#x27;&lt;i class=&quot;fa fa-file-photo-o text-warning&quot;&gt;&lt;/i&gt;&#x27;</span>,<br>        <span class="hljs-string">&#x27;pdf&#x27;</span>: <span class="hljs-string">&#x27;&lt;i class=&quot;fa fa-file-pdf-o text-danger&quot;&gt;&lt;/i&gt;&#x27;</span>,<br>        <span class="hljs-string">&#x27;zip&#x27;</span>: <span class="hljs-string">&#x27;&lt;i class=&quot;fa fa-file-archive-o text-muted&quot;&gt;&lt;/i&gt;&#x27;</span>,<br>    &#125;<br>    uploadAsync: true,  <span class="hljs-regexp">//</span>bool whether the batch upload of multiple files will be asynchronous/<span class="hljs-keyword">in</span> parallel. Defaults to true.<br>    */<br>    <span class="hljs-regexp">//</span> theme: bs5 fa fas gly explorer explorer-fa explorer-fas<br>    $(<span class="hljs-string">&quot;#fileinput_1&quot;</span>).fileinput(&#123;<br>        theme: <span class="hljs-string">&#x27;fas&#x27;</span>,<br>        language: <span class="hljs-string">&#x27;zh&#x27;</span>, <span class="hljs-regexp">//</span>设置语言<br>        uploadUrl: <span class="hljs-string">&#x27;/common/upload_file/&#x27;</span>,  <span class="hljs-regexp">//</span>上传的地址<br>        uploadAsync: false,<br>        allowedFileExtensions: [<span class="hljs-string">&#x27;pdf&#x27;</span>],  <span class="hljs-regexp">//</span>允许的文件拓展类型<br>        browseOnZoneClick: true, <span class="hljs-regexp">//</span>是否在点击预览区域时触发文件浏览/选择<br>        frameClass: <span class="hljs-string">&#x27;krajee-default&#x27;</span>,<br>        browseClass: <span class="hljs-string">&quot;btn btn-primary&quot;</span>, <span class="hljs-regexp">//</span>按钮样式<br>        maxFileSize: <span class="hljs-number">0</span>,<span class="hljs-regexp">//</span>单位为kb，如果为<span class="hljs-number">0</span>表示不限制文件大小<br>        minFileCount: <span class="hljs-number">0</span>,<br>        maxFileCount: <span class="hljs-number">1</span>, <span class="hljs-regexp">//</span>表示允许同时上传的最大文件个数<br>        enctype: <span class="hljs-string">&#x27;multipart/form-data&#x27;</span>,<br>        uploadExtraData:<span class="hljs-keyword">function</span>()&#123;<br>            return &#123;<span class="hljs-string">&#x27;transfer&#x27;</span>: <span class="hljs-string">&#x27;1&#x27;</span>&#125;;<br>        &#125;<br>    &#125;);<br><br>    $(<span class="hljs-string">&quot;#fileinput_m&quot;</span>).fileinput(&#123;<br>        theme: <span class="hljs-string">&#x27;explorer-fas&#x27;</span>,<br>        language: <span class="hljs-string">&#x27;zh&#x27;</span>, <span class="hljs-regexp">//</span>设置语言<br>        uploadUrl: <span class="hljs-string">&#x27;/common/upload_file/&#x27;</span>,  <span class="hljs-regexp">//</span>上传的地址<br>        uploadAsync: false,<br>        allowedFileExtensions: [<span class="hljs-string">&#x27;pdf&#x27;</span>],  <span class="hljs-regexp">//</span>允许的文件拓展类型<br>        browseOnZoneClick: true, <span class="hljs-regexp">//</span>是否在点击预览区域时触发文件浏览/选择<br>        frameClass: <span class="hljs-string">&#x27;krajee-default&#x27;</span>,<br>        browseClass: <span class="hljs-string">&quot;btn btn-primary&quot;</span>, <span class="hljs-regexp">//</span>按钮样式<br>        maxFileSize: <span class="hljs-number">0</span>,<span class="hljs-regexp">//</span>单位为kb，如果为<span class="hljs-number">0</span>表示不限制文件大小<br>        minFileCount: <span class="hljs-number">0</span>,<br>        enctype: <span class="hljs-string">&#x27;multipart/form-data&#x27;</span>,<br>        <span class="hljs-regexp">//m</span>axFileCount: <span class="hljs-number">5</span>, <span class="hljs-regexp">//</span>表示允许同时上传的最大文件个数<br>        hideThumbnailContent: true,<br>        uploadExtraData:<span class="hljs-keyword">function</span>()&#123;<br>            return &#123;<span class="hljs-string">&#x27;transfer&#x27;</span>: <span class="hljs-string">&#x27;1&#x27;</span>&#125;;<br>        &#125;<br>    &#125;);<br>&#125;);<br><br><span class="hljs-regexp">//</span> 单文件上传监听<br>$(<span class="hljs-string">&#x27;#fileinput_1&#x27;</span>).on(<span class="hljs-string">&#x27;fileuploaded&#x27;</span>, <span class="hljs-keyword">function</span>(event, data, previewId, index) &#123;<br>    var status_id = data.response.status_id;<br>    <span class="hljs-keyword">if</span> (status_id == <span class="hljs-number">100</span>)&#123;<br>        toastr.success(data.response.msg, <span class="hljs-string">&quot;温馨提示：&quot;</span>);<br>    &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-number">200</span> &lt; status_id &amp;&amp; status_id &lt; <span class="hljs-number">500</span>)&#123;<br>        toastr.warning(data.response.msg, <span class="hljs-string">&quot;温馨提示：&quot;</span>);<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        toastr.error(data.response.msg, <span class="hljs-string">&quot;温馨提示：&quot;</span>);<br>    &#125;<br>&#125;);<br><br>$(<span class="hljs-string">&#x27;#fileinput_1&#x27;</span>).on(<span class="hljs-string">&#x27;filebatchuploadsuccess&#x27;</span>, <span class="hljs-keyword">function</span>(event, data, previewId, index) &#123;<br>    var status_id = data.response.status_id;<br>    <span class="hljs-keyword">if</span> (status_id == <span class="hljs-number">100</span>)&#123;<br>        toastr.success(data.response.msg, <span class="hljs-string">&quot;温馨提示：&quot;</span>);<br>    &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-number">200</span> &lt; status_id &amp;&amp; status_id &lt; <span class="hljs-number">500</span>)&#123;<br>        toastr.warning(data.response.msg, <span class="hljs-string">&quot;温馨提示：&quot;</span>);<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        toastr.error(data.response.msg, <span class="hljs-string">&quot;温馨提示：&quot;</span>);<br>    &#125;<br>&#125;);<br><br><span class="hljs-regexp">//</span> 多文件上传监听<br>$(<span class="hljs-string">&#x27;#fileinput_m&#x27;</span>).on(<span class="hljs-string">&#x27;fileuploaded&#x27;</span>, <span class="hljs-keyword">function</span>(event, data, previewId, index) &#123;<br>    var status_id = data.response.status_id;<br>    <span class="hljs-keyword">if</span> (status_id == <span class="hljs-number">100</span>)&#123;<br>        toastr.success(data.response.msg, <span class="hljs-string">&quot;温馨提示：&quot;</span>);<br>    &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-number">200</span> &lt; status_id &amp;&amp; status_id &lt; <span class="hljs-number">500</span>)&#123;<br>        toastr.warning(data.response.msg, <span class="hljs-string">&quot;温馨提示：&quot;</span>);<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        toastr.error(data.response.msg, <span class="hljs-string">&quot;温馨提示：&quot;</span>);<br>    &#125;<br>&#125;);<br><br>$(<span class="hljs-string">&#x27;#fileinput_m&#x27;</span>).on(<span class="hljs-string">&#x27;filebatchuploadsuccess&#x27;</span>, <span class="hljs-keyword">function</span>(event, data, previewId, index) &#123;<br>    var status_id = data.response.status_id;<br>    <span class="hljs-keyword">if</span> (status_id == <span class="hljs-number">100</span>)&#123;<br>        toastr.success(data.response.msg, <span class="hljs-string">&quot;温馨提示：&quot;</span>);<br>    &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-number">200</span> &lt; status_id &amp;&amp; status_id &lt; <span class="hljs-number">500</span>)&#123;<br>        toastr.warning(data.response.msg, <span class="hljs-string">&quot;温馨提示：&quot;</span>);<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        toastr.error(data.response.msg, <span class="hljs-string">&quot;温馨提示：&quot;</span>);<br>    &#125;<br>&#125;);<br><br><span class="hljs-regexp">//</span> 监听fileinput modal关闭重新拉取数据<br>$(<span class="hljs-string">&#x27;#fileInputModal&#x27;</span>).on(<span class="hljs-string">&#x27;hidden.bs.modal&#x27;</span>, <span class="hljs-keyword">function</span> () &#123;<br>    draw_table();<br>&#125;);<br><br>$(<span class="hljs-string">&#x27;#manyFileInputModal&#x27;</span>).on(<span class="hljs-string">&#x27;hidden.bs.modal&#x27;</span>, <span class="hljs-keyword">function</span> () &#123;<br>    draw_table();<br>&#125;);<br></code></pre></td></tr></table></figure><blockquote><p>后台python</p></blockquote><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><code class="hljs clean">view:<br><br>@common.route(<span class="hljs-string">&#x27;/upload_file/&#x27;</span>, methods=[<span class="hljs-string">&#x27;GET&#x27;</span>, <span class="hljs-string">&#x27;POST&#x27;</span>], strict_slashes=<span class="hljs-literal">False</span>)<br>def upload_file():<br>    <span class="hljs-keyword">if</span> request.method == <span class="hljs-string">&#x27;GET&#x27;</span>:<br>        return Status(<br>            <span class="hljs-number">201</span>,<br>            <span class="hljs-string">&#x27;failure&#x27;</span>,<br>            u<span class="hljs-string">&#x27;upload_file API请求方法错误&#x27;</span>,<br>            &#123;&#125;<br>        ).json()<br><br>    try:<br>        files = request.files.getlist(<span class="hljs-string">&#x27;file_data&#x27;</span>)<br>        res = CommonService().upload_file(files,<br>                                          transfer=request.values.get(<span class="hljs-string">&#x27;transfer&#x27;</span>),<br>                                          is_start_fmt=<span class="hljs-literal">False</span>)<br>#################################################################################################################################################<br># controller:<br><br>def upload_file(self, files, transfer, is_start_fmt=<span class="hljs-literal">True</span>):<br>    <span class="hljs-keyword">if</span> not files:<br>        return Status(<br>            <span class="hljs-number">206</span>,<br>            <span class="hljs-string">&#x27;failure&#x27;</span>,<br>            u<span class="hljs-string">&#x27;没有发现上传文件&#x27;</span>,<br>            &#123;&#125;<br>        ).json()<br><br>    # check office_transfer<br>    office_transfer_models = self.enums_bo.get_all_by_name(name=<span class="hljs-string">&#x27;office_transfer&#x27;</span>)<br>    office_transfers = list()<br>    for ot <span class="hljs-keyword">in</span> office_transfer_models:<br>        <span class="hljs-keyword">if</span> not ot or not ot.sub_name: continue<br>        office_transfers.append(ot.sub_name)<br>    <span class="hljs-keyword">if</span> transfer not <span class="hljs-keyword">in</span> office_transfers:<br>        return Status(<br>            <span class="hljs-number">203</span>,<br>            <span class="hljs-string">&#x27;failure&#x27;</span>,<br>            u<span class="hljs-string">&#x27;transfer值参数不合法&#x27;</span>,<br>            &#123;&#125;<br>        ).json()<br><br>    success_list = list()<br>    failure_list = list()<br>    for f <span class="hljs-keyword">in</span> files:<br>        <span class="hljs-keyword">if</span> not f: continue<br>        f_name = f.filename<br>        <span class="hljs-keyword">if</span> is_start_fmt and not self.file_lib.allow_format_fmt(f_name):<br>            failure_list.append(f_name)<br>            continue<br>        is_ok, store_msg = self.file_lib.store_file(f, compress=<span class="hljs-literal">False</span>, is_md5_store_name=<span class="hljs-literal">False</span>)<br>        <span class="hljs-keyword">if</span> not is_ok:<br>            failure_list.append(f_name)<br>            continue<br>        store_msg[<span class="hljs-string">&#x27;name&#x27;</span>] = f_name<br>        is_to_db = self.__store_file_to_db(store_msg, transfer)<br>        success_list.append(f_name) <span class="hljs-keyword">if</span> is_to_db else failure_list.append(f_name)<br>    <span class="hljs-keyword">if</span> files and len(failure_list) == len(files):<br>        return Status(<br>            <span class="hljs-number">210</span>,<br>            <span class="hljs-string">&#x27;failure&#x27;</span>,<br>            u<span class="hljs-string">&#x27;文件上传失败&#x27;</span>,<br>            &#123;&#125;<br>        ).json()<br>    <span class="hljs-keyword">if</span> failure_list:<br>        return Status(<br>            <span class="hljs-number">303</span>,<br>            <span class="hljs-string">&#x27;failure&#x27;</span>,<br>            u<span class="hljs-string">&#x27;文件上传成功：%s，失败：%s&#x27;</span> % (len(success_list), len(failure_list)),<br>            &#123;&#125;<br>        ).json()<br>    return Status(<br>        <span class="hljs-number">100</span>,<br>        <span class="hljs-string">&#x27;success&#x27;</span>,<br>        u<span class="hljs-string">&#x27;文件上传成功&#x27;</span>,<br>        &#123;&#125;<br>    ).json()<br><br>#################################################################################################################################################<br># services:<br><br>def store_file(self, file, compress=<span class="hljs-literal">False</span>, is_md5_store_name=<span class="hljs-literal">True</span>):<br>    <span class="hljs-keyword">if</span> not file:<br>        return <span class="hljs-literal">False</span>, &#123;<span class="hljs-string">&#x27;message&#x27;</span>: <span class="hljs-string">&#x27;没有发现文件&#x27;</span>&#125;<br>    try:<br>        # 文件存储初始化<br>        now_date = get_now(format=<span class="hljs-string">&quot;%Y-%m-%d&quot;</span>)<br>        real_store_dir = get_base_dir() + TRANSFER_BASE_DIR + now_date<br>        store_dir = os.path.join(TRANSFER_BASE_DIR + now_date)<br>        <span class="hljs-keyword">if</span> not os.path.exists(real_store_dir):<br>            mk_dirs(real_store_dir)<br><br>        file_name = file.filename<br>        md5_v, store_file_name = get_storefilename_by_md5(file_name, ftype=<span class="hljs-string">&#x27;file&#x27;</span>)<br>        _real_file = os.path.join(real_store_dir, store_file_name) \<br>            <span class="hljs-keyword">if</span> is_md5_store_name else os.path.join(real_store_dir, file_name)<br>        file.save(_real_file)<br>        # 压缩<br>        # <span class="hljs-keyword">if</span> compress:<br>        #     pass<br>        return <span class="hljs-literal">True</span>, &#123;<span class="hljs-string">&#x27;store_name&#x27;</span>: store_file_name <span class="hljs-keyword">if</span> is_md5_store_name else file_name,<br>                      <span class="hljs-string">&#x27;md5&#x27;</span>: md5_v,<br>                      <span class="hljs-string">&#x27;path&#x27;</span>: os.path.join(store_dir, store_file_name) <span class="hljs-keyword">if</span> is_md5_store_name else os.path.join(store_dir, file_name),<br>                      <span class="hljs-string">&#x27;message&#x27;</span>: <span class="hljs-string">&#x27;success&#x27;</span>&#125;<br>    except:<br>        return <span class="hljs-literal">False</span>, &#123;<span class="hljs-string">&#x27;message&#x27;</span>: <span class="hljs-string">&#x27;文件存储发生错误&#x27;</span>&#125;<br><br></code></pre></td></tr></table></figure><h4 id="参考学习"><a href="#参考学习" class="headerlink" title="参考学习"></a>参考学习</h4><ul><li>中文官网：<a href="http://www.bootstrap-fileinput.com/">http://www.bootstrap-fileinput.com/</a></li><li>bootstrap-fileinput源码：<a href="https://github.com/kartik-v/bootstrap-fileinput">https://github.com/kartik-v/bootstrap-fileinput</a></li><li>bootstrap-fileinput在线API：<a href="http://plugins.krajee.com/file-input">http://plugins.krajee.com/file-input</a></li><li>bootstrap-fileinput Demo展示：<a href="http://plugins.krajee.com/file-basic-usage-demo">http://plugins.krajee.com/file-basic-usage-demo</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Bootstrap</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>关于MacOS系统Brew安装与常用命令</title>
    <link href="/articles/12880/"/>
    <url>/articles/12880/</url>
    
    <content type="html"><![CDATA[<h4 id="1、问题背景"><a href="#1、问题背景" class="headerlink" title="1、问题背景"></a>1、问题背景</h4><div class="note note-primary">            <p>MacOS系统安装软件使用Brew进行管理，这里主要自己记录一下Brew不常用的命令，方便自己查找与使用。</p>          </div><span id="more"></span><hr /><h4 id="2、安装"><a href="#2、安装" class="headerlink" title="2、安装"></a>2、安装</h4><p>item2直接执行。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">/bin/bash -c <span class="hljs-string">&quot;<span class="hljs-subst">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)</span>&quot;</span><br></code></pre></td></tr></table></figure><p>等待执行结果，查看版本：</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">brew <span class="hljs-comment">--version</span><br></code></pre></td></tr></table></figure><p>brew安装软件目录：&#x2F;usr&#x2F;local&#x2F;Cellar</p><h4 id="3、命令"><a href="#3、命令" class="headerlink" title="3、命令"></a>3、命令</h4><blockquote><p>搜索</p></blockquote><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">brew search xxx</span><br></code></pre></td></tr></table></figure><blockquote><p>安装</p></blockquote><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-keyword">brew </span><span class="hljs-keyword">install </span>xxxx<br></code></pre></td></tr></table></figure><blockquote><p>卸载</p></blockquote><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">brew uninstall xxxx</span><br></code></pre></td></tr></table></figure><blockquote><p>查询</p></blockquote><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">brew</span> <span class="hljs-literal">info</span> xxxx<br></code></pre></td></tr></table></figure><p>主要查看具体的软件信息、下载地址、安装依赖、基础信息等等。</p><blockquote><p>更新</p></blockquote><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">brew update xxxx</span><br></code></pre></td></tr></table></figure><blockquote><p>查看安装列表</p></blockquote><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">brew list</span><br></code></pre></td></tr></table></figure><blockquote><p>检测新版本</p></blockquote><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">brew outdated xxxx</span><br></code></pre></td></tr></table></figure><blockquote><p>升级</p></blockquote><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-comment"># 升级所有 当然也可以指定升级</span><br><span class="hljs-keyword">brew </span>upgrade<br><span class="hljs-comment"># 升级指定软件</span><br><span class="hljs-keyword">brew </span>upgrade xxxx<br></code></pre></td></tr></table></figure><blockquote><p>打开官网</p></blockquote><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arduino">brew home<br></code></pre></td></tr></table></figure><blockquote><p>清理</p></blockquote><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">brew cleanup</span><br></code></pre></td></tr></table></figure><blockquote><p>更多命令</p></blockquote><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">man brew</span><br></code></pre></td></tr></table></figure><h4 id="4、参考"><a href="#4、参考" class="headerlink" title="4、参考"></a>4、参考</h4><p>官网：<a href="https://brew.sh/">https://brew.sh/</a></p>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MacOS</tag>
      
      <tag>Brew</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>DB2自动化全量备份</title>
    <link href="/articles/16336/"/>
    <url>/articles/16336/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p>项目上使用的是DB2数据库，全库备份一直是手动备份，自动化的东西没有代码解决不了的问题，初识bat自动化脚本，写的也很简单，分享一下。</p>          </div><span id="more"></span><hr /><span class="label label-warning">DB2</span> <span class="label label-default">backup</span> <span class="label label-info">自动化</span><blockquote><p>实现流程</p></blockquote><ul><li>设置执行命令的编码，这个与运行服务器db2cmd的编码保持一致，设置936，如果是windows8、10等设置65001</li><li>备份信息的配置，包含数据库名称、用户、密码、存储目录、日志文件</li><li>存储目录不存在新建、日志文件不存在新建</li><li>db2全库备份</li><li>记录执行结果</li></ul><p>目前实现了基础的备份功能，后续加上彩色打印、自动化删除指定日期前备份文件功能，<font size=6.5 color='red'>持续更新中。。。。。。</font></p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><code class="hljs dos">@<span class="hljs-built_in">echo</span> off<br>:: <span class="hljs-built_in">CMD</span>默认为<span class="hljs-number">65001</span>编码，使用db2cmd执行需要设置<span class="hljs-number">936</span><br><span class="hljs-built_in">chcp</span> <span class="hljs-number">936</span><br><span class="hljs-built_in">SETLOCAL</span> EnableDelayedExpansion<br><span class="hljs-keyword">for</span> /F &quot;tokens=<span class="hljs-number">1</span>,<span class="hljs-number">2</span> delims=#&quot; <span class="hljs-variable">%%a</span> <span class="hljs-keyword">in</span> (&#x27;&quot;prompt #$H#$E# &amp; <span class="hljs-built_in">echo</span> on &amp; <span class="hljs-keyword">for</span> <span class="hljs-variable">%%b</span> <span class="hljs-keyword">in</span> (<span class="hljs-number">1</span>) <span class="hljs-keyword">do</span> <span class="hljs-built_in">rem</span>&quot;&#x27;) <span class="hljs-keyword">do</span> (<br>  <span class="hljs-built_in">set</span> &quot;<span class="hljs-built_in">DEL</span>=<span class="hljs-variable">%%a</span>&quot;<br>)<br><br><span class="hljs-built_in">title</span> DB2 database backup<br><span class="hljs-built_in">cls</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">REM +-------------------------------------------------------------+</span><br><span class="hljs-comment">REM + Base info:                                                  +</span><br><span class="hljs-comment">REM + -- auhtor: mingliang.gao                                    +</span><br><span class="hljs-comment">REM + -- time: 2021/05/31                                         +</span><br><span class="hljs-comment">REM + -- version: v1.0.1                                          +</span><br><span class="hljs-comment">REM + -- system: Windows                                          +</span><br><span class="hljs-comment">REM + -- desc: DB2 Windows all backup script                      +</span><br><span class="hljs-comment">REM +                                                             +</span><br><span class="hljs-comment">REM + Execute method:                                             +</span><br><span class="hljs-comment">REM + -- auto: db2cmd + task                                      +</span><br><span class="hljs-comment">REM + -- manual: all path run the script with db2cmd              +</span><br><span class="hljs-comment">REM +                                                             +</span><br><span class="hljs-comment">REM + De<span class="hljs-doctag">bug:</span>                                                      +</span><br><span class="hljs-comment">REM + -- 自定义位置加入pause                                      +</span><br><span class="hljs-comment">REM +                                                             +</span><br><span class="hljs-comment">REM + 打印乱问题:                                                 +</span><br><span class="hljs-comment">REM + -- 1.设置编码与db2cmd编码一致，根据服务器db2cmd编码设定,    +</span><br><span class="hljs-comment">REM +      db2cmd右键-&gt;属性-&gt;选项中查看编码                       +</span><br><span class="hljs-comment">REM + -- 2.文件用文本编辑器打开，另存为ANSI编码格式               +</span><br><span class="hljs-comment">REM +                                                             +</span><br><span class="hljs-comment">REM + Useage:                                                     +</span><br><span class="hljs-comment">REM + -- 1.修改chcp编码，以运行服务器db2cmd编码为准               +</span><br><span class="hljs-comment">REM + -- 2.修改backup config                                      +</span><br><span class="hljs-comment">REM + -- 3.选择手动或者自动运行方式                               +</span><br><span class="hljs-comment">REM +                                                             +</span><br><span class="hljs-comment">REM + Others:                                                     +</span><br><span class="hljs-comment">REM + -- 1.设置定时任务时，程序选择db2cmd命令，参数选择备份脚本   +</span><br><span class="hljs-comment">REM +-------------------------------------------------------------+</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">REM +-------------------------------------------------------------+</span><br><span class="hljs-comment">REM + Backup info:                                                +</span><br><span class="hljs-comment">REM + -- ip: 16.19.209.67                                         +</span><br><span class="hljs-comment">REM + -- task: 每周六晚上11点备份                                 +</span><br><span class="hljs-comment">REM +-------------------------------------------------------------+</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">REM +-------------------------------------------------------------+</span><br><span class="hljs-comment">REM backup config</span><br><span class="hljs-built_in">set</span> db=mzlpas<br><span class="hljs-built_in">set</span> user=pas<br><span class="hljs-built_in">set</span> password=pas<br><span class="hljs-built_in">set</span> backup_dir=E:\BACKUP_MZLPAS<br><span class="hljs-built_in">set</span> backup_log=<span class="hljs-variable">%backup_dir%</span>\backup.log<br><span class="hljs-comment">REM +-------------------------------------------------------------+</span><br><br><span class="hljs-keyword">for</span> /f &quot;tokens=<span class="hljs-number">1</span>-<span class="hljs-number">4</span> delims=/-\ &quot; <span class="hljs-variable">%%a</span> <span class="hljs-keyword">in</span> (&#x27;<span class="hljs-built_in">date</span> /t&#x27;) <span class="hljs-keyword">do</span> (<br>  <span class="hljs-built_in">set</span> week=<span class="hljs-variable">%%a</span><br>  <span class="hljs-built_in">set</span> year=<span class="hljs-variable">%%b</span><br>  <span class="hljs-built_in">set</span> month=<span class="hljs-variable">%%c</span><br>  <span class="hljs-built_in">set</span> day=<span class="hljs-variable">%%d</span><br>)<br><span class="hljs-built_in">set</span> curdate=<span class="hljs-variable">%year%</span><span class="hljs-variable">%month%</span><span class="hljs-variable">%day%</span><br><span class="hljs-built_in">echo</span> ========================<span class="hljs-built_in">start</span> backup========================<br>:: <span class="hljs-built_in">print</span> base informations<br><span class="hljs-built_in">echo</span> 当前时间: <span class="hljs-variable">%date%</span> <span class="hljs-variable">%time%</span><br><span class="hljs-keyword">call</span> :ColorText <span class="hljs-number">0</span>a &quot;blue&quot;<br><span class="hljs-built_in">echo</span> 数据库: <span class="hljs-variable">%db%</span><br><span class="hljs-built_in">echo</span> 用户: <span class="hljs-variable">%user%</span><br><span class="hljs-built_in">echo</span> 密码: <span class="hljs-variable">%password%</span><br><span class="hljs-built_in">echo</span> 备份目录: <span class="hljs-variable">%backup_dir%</span><br><span class="hljs-built_in">echo</span> 备份日志: <span class="hljs-variable">%backup_log%</span><br><br>:: <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">exist</span> <span class="hljs-built_in">dir</span> or log file, created<br><span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">exist</span> <span class="hljs-variable">%backup_dir%</span> (<br>  <span class="hljs-built_in">mkdir</span> <span class="hljs-variable">%backup_dir%</span><br>)<br><span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">exist</span> <span class="hljs-variable">%backup_log%</span> (<br>  <span class="hljs-built_in">echo</span> <span class="hljs-variable">%db%</span> backup log &gt;&gt; <span class="hljs-variable">%backup_log%</span><br>)<br><br>:: backup command<br>db2 connect to <span class="hljs-variable">%db%</span> user <span class="hljs-variable">%user%</span> using <span class="hljs-variable">%password%</span><br>db2 force applications all<br>db2 backup db <span class="hljs-variable">%db%</span> to <span class="hljs-variable">%backup_dir%</span> PARALLELISM <span class="hljs-number">2</span> COMPRESS<br><br><span class="hljs-built_in">echo</span>.<br><br>:: record the backup result<br><span class="hljs-keyword">if</span> <span class="hljs-keyword">errorlevel</span> <span class="hljs-number">0</span> (<br>  <span class="hljs-built_in">echo</span> <span class="hljs-variable">%curdate%</span>: success<br>  <span class="hljs-built_in">echo</span> <span class="hljs-variable">%curdate%</span>: success &gt;&gt; <span class="hljs-variable">%backup_log%</span><br>) <span class="hljs-keyword">else</span> (<br>  <span class="hljs-built_in">echo</span> <span class="hljs-variable">%curdate%</span>: failed<br>  <span class="hljs-built_in">echo</span> <span class="hljs-variable">%curdate%</span>: failed &gt;&gt; <span class="hljs-variable">%backup_log%</span><br>  <span class="hljs-keyword">exit</span><br>)<br><br><span class="hljs-built_in">echo</span> =========================end backup=========================<br><span class="hljs-built_in">pause</span><br><span class="hljs-keyword">exit</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>数据库</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DB2</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Win Server服务器EventLog中的6005、6006、6008、6009、6013</title>
    <link href="/articles/54459/"/>
    <url>/articles/54459/</url>
    
    <content type="html"><![CDATA[<h4 id="1、背景"><a href="#1、背景" class="headerlink" title="1、背景"></a>1、背景</h4><div class="note note-primary">            <p>早上访问web项目，发现挂掉了，以为是内网网线的问题（本人电脑内外网跳板机），主要有线转换头经常出现问题，但是整了半天依然不行，于是打开服务器一看，什么东西都没了，一看就是重启了，于是需要查找到什么时候重启的，学会了查看系统的EventLog，记录一下用到的6005, 6006, 6008, 6009, 6013。</p>          </div><span class="label label-info">Windows</span> <span class="label label-primary">EventLog</span><span id="more"></span><hr /><h4 id="2、功能查询"><a href="#2、功能查询" class="headerlink" title="2、功能查询"></a>2、功能查询</h4><p>查看系统的日志记录，查询服务器发生了哪些明细，所在位置：<br><font size=5.5 color='blue'>我的电脑 &gt; 管理 &gt; 服务管理器  &gt;  诊断 &gt;  事件查看器 &gt; windows日期 &gt; 系统<code>&lt;/font&gt;</code></p><p><img src="/articles/54459/eventlog.png"></p><p>主要功能说明：</p><ul><li>目录：EventLog所在的功能树</li><li>事件日志：服务器的事件日志历史记录</li><li>事件明细：对于历史记录的详细说明</li><li>功能区：对EventLog的常用功能，主要用到筛选当前日志</li></ul><p>点击上面的历史事件，可以在明细区域查看具体情况。</p><h4 id="3、筛选功能"><a href="#3、筛选功能" class="headerlink" title="3、筛选功能"></a>3、筛选功能</h4><p>利用筛选功能选出需要的日志，主要有3大筛选条件：</p><ul><li>记录时间：可以选取近1h、12h、24h、7天、30天</li><li>事件来源：选取eventlog、Eventlog</li><li>事件ID：输入需要过滤的事件ID</li></ul><p><img src="/articles/54459/query.png"></p><h4 id="4、EventLog-ID"><a href="#4、EventLog-ID" class="headerlink" title="4、EventLog ID"></a>4、EventLog ID</h4><table><thead><tr><th align="center">ID</th><th align="center">level ｜ describe</th><th align="left"></th></tr></thead><tbody><tr><td align="center">6005</td><td align="center">信息</td><td align="left">事件服务日期启动（开机）</td></tr><tr><td align="center">6006</td><td align="center">信息</td><td align="left">事件服务日期关闭（关机）</td></tr><tr><td align="center">6008</td><td align="center">错误</td><td align="left">上一次系统的 4:12:37 在 ?2021&#x2F;?5&#x2F;?21 上的关闭是意外的（记录系统意外关机事件）</td></tr><tr><td align="center">6009</td><td align="center">信息</td><td align="left">Microsoft (R) Windows (R) 6.01. 7601 Service Pack 1 Multiprocessor Free（服务器开机的一些信息）</td></tr><tr><td align="center">60013</td><td align="center">信息</td><td align="left">记录操作系统运行了多久时间，24h运行一次</td></tr></tbody></table><p>破案了，原来是断电了，服务器来电后自己又自己起来了，但是服务全没了。</p><p><font size=6.5 color='red'>记录遇到的各种Eventlog ID，持续更新中。。。。。。</font></p>]]></content>
    
    
    <categories>
      
      <category>Windows</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Windows</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>文件同步工具 FreeFileSync探索</title>
    <link href="/articles/15964/"/>
    <url>/articles/15964/</url>
    
    <content type="html"><![CDATA[<p>一款备份软件可以运行在win、macos、linux上的文件备份软件。</p><p>官网：<a href="https://freefilesync.org/">https://freefilesync.org/</a></p><p><font size=6.5 color='red'>有兴趣或者需要的同学可以详细研究一下。。。。。。</font></p><span id="more"></span><hr /><div class="note note-primary">            <p>Synchronize Files and Folders<br>Key featuresFreeFileSync is a folder comparison and synchronization software that creates and manages backup copies of all your important files. Instead of copying every file every time, FreeFileSync determines the differences between a source and a target folder and transfers only the minimum amount of data needed. FreeFileSync is Open Source software, available for Windows, macOS, and Linux.</p>          </div>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
    </categories>
    
    
    <tags>
      
      <tag>FreeFileSync</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>DB2存储过程异常处理</title>
    <link href="/articles/40004/"/>
    <url>/articles/40004/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p>记录下DB2数据库存储过程对异常的处理，DECLARE声明异常的方式。</p>          </div><span id="more"></span><hr /><span class="label label-info">DB2</span> <span class="label label-default">存储过程</span> <span class="label label-danger">SQLEXCEPTIOIN</span> <span class="label label-primary">DECLARE</span><div class="post_cus_note">语法糖</div><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">DECLARE</span> [<span class="hljs-keyword">handler</span>-<span class="hljs-keyword">type</span>] <span class="hljs-keyword">HANDLER</span> <span class="hljs-keyword">FOR</span> [condition] [<span class="hljs-keyword">handler</span>-action]<br></code></pre></td></tr></table></figure><blockquote><p>handler-type</p></blockquote><p>异常处理器类型(handler-type)有以下几种：</p><ul><li>CONTINUE：处理器完成handler-action操作之后，继续执行产生这个异常语句的下一条语句，说白了就是执行一下handler-action。</li><li>EXIT：处理器完成handler-action操作之后，存储过程终止，并将handler-action操作结果控制返回给调用者。</li><li>UNDO：处理器操作handler-action执行之前，DB2会回滚存储过程中执行的SQL操作。在处理器操作完成之后，存储过程会终止，并将控制返回给调用者。</li></ul><blockquote><p>condition</p></blockquote><p>异常处理器可以处理基于特定SQLSTATE值的定制异常，或者处理预定义异常的类。预定义的3种异常如下所示：</p><ul><li>NOT FOUND：标识导致SQLCODE值为+100或者SQLSATE值为02000的异常。这个异常通常在SELECT没有返回行的时候出现。</li><li>SQLEXCEPTIOIN：标识导致SQLCODE值为负的异常。</li><li>SQLWARNING：标识导致警告异常或者导致+100以外的SQLCODE正值的异常。</li></ul><blockquote><p>handler-action</p></blockquote><p>handler-action为定义处理异常的sql语句，一般主要用来设定返回值、记录日志等操作。</p><div class="post_cus_note">实例</div><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs awk">declare <span class="hljs-keyword">exit</span> handler <span class="hljs-keyword">for</span> sqlexception<br>begin<br>    set i_code=sqlcode;<br>    set i_err_no=<span class="hljs-number">1</span>;<br>    call SP_PASSYS_ERRHANDLE(v_proc_name,i_code);<br>    commit;<br>end;<br></code></pre></td></tr></table></figure><ul><li>i_code：sqlexception产生的错误代码sqlcode。</li><li>i_err_no：返回给调用者的返回值。</li><li>SP_PASSYS_ERRHANDLE：调用日志记录存储过程。</li></ul>]]></content>
    
    
    <categories>
      
      <category>数据库</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DB2</tag>
      
      <tag>存储过程</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CMD命令之Cygwin工具</title>
    <link href="/articles/28873/"/>
    <url>/articles/28873/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p><font size=6.5 color='DeepPink'>Get that Linux feeling - on Windows</font><br>运行于Windows系统上可以运行Linux命令的shell。</p>          </div><span class="label label-warning">Linux</span> <span class="label label-info">SHELL</span> <span class="label label-primary">Windows</span><span id="more"></span><hr /><p>近5年依赖一直使用Macos系统，突然切换到WIN10多多少少还是有些不适应的，但是最不能忍受的是不能再电脑上使用命令去操作文件，很烦。。。。。。<br>所以上网找了下，可以在WIN上运行并且使用Linux的shell还是不少的，我看了知乎上的比较，对于cygwin的评价还是可以的，同类的还有cmder、powershell、git-for-windows等等。</p><p><img src="/articles/28873/article_cygwin.png"></p><h4 id="1、下载地址"><a href="#1、下载地址" class="headerlink" title="1、下载地址"></a>1、下载地址</h4><p><a href="http://www.cygwin.com/">http://www.cygwin.com/</a></p><h4 id="2、安装"><a href="#2、安装" class="headerlink" title="2、安装"></a>2、安装</h4><p>安装：官网下载安装，目录：D:\cygwin64。</p><h4 id="3、配置"><a href="#3、配置" class="headerlink" title="3、配置"></a>3、配置</h4><p>D:\cygwin64\bin<br>D:\cygwin64\sbin<br>以上路径加入到系统path，让系统cmd也可以使用命令。</p><h4 id="4、apt-cyg"><a href="#4、apt-cyg" class="headerlink" title="4、apt-cyg"></a>4、apt-cyg</h4><blockquote><p>安装</p></blockquote><p>1.下载命令：<a href="https://github.com/transcode-open/apt-cyg">https://github.com/transcode-open/apt-cyg</a><br>2.解压文件，把apt-cyg命令复制到D:\cygwin64\bin<br>3.重启cygwin，测试apt-cyg命令</p><blockquote><p>常用参数</p></blockquote><ul><li>install 安装</li><li>remove 卸载</li><li>update 更新</li><li>download 下载软件但不安装</li><li>show 展示安装包的信息</li><li>list 列举已安装的软件</li><li>search&#x2F;searchall 查询软件</li></ul><p>感觉跟pip、yum、brew很像啊，可能这些玩意都大概类似把。。。</p><h4 id="5、学习参考"><a href="#5、学习参考" class="headerlink" title="5、学习参考"></a>5、学习参考</h4><p>cygwin详解：<a href="https://www.cnblogs.com/feipeng8848/p/8555648.html">https://www.cnblogs.com/feipeng8848/p/8555648.html</a><br>apt-cyg命令详解：<a href="https://zhuanlan.zhihu.com/p/66930502">https://zhuanlan.zhihu.com/p/66930502</a><br>cmder神器：<a href="https://zhuanlan.zhihu.com/p/28400466">https://zhuanlan.zhihu.com/p/28400466</a><br>Windows命令工具大对比：<a href="https://www.zhihu.com/question/19739424">https://www.zhihu.com/question/19739424</a></p><p><font size=6.5 color='red'>成功没有偶然，继续努力前行</font></p>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Shell</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>DB2存储过程备份</title>
    <link href="/articles/55299/"/>
    <url>/articles/55299/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p>基于Windows系统的db2自动化存储过程备份，每天一次，这样再也不用担心存储过程修改之后不能复原的问题了。<br>主要使用到了routine这个命令。</p>          </div><span class="label label-primary">DB2</span> <span class="label label-default">存储过程</span> <span class="label label-danger">自动备份</span><span id="more"></span><hr /><p>项目的数据是基于DB2存储过程进行计算的，所以存储过程的修改、增加、删除是必须操作，为了防止复原进行自动化定时备份，主要分为2部分：</p><h3 id="生成备份SQL"><a href="#生成备份SQL" class="headerlink" title="生成备份SQL"></a>生成备份SQL</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">select</span> <span class="hljs-string">&#x27;db2 get routine into &quot;D:\db_backup_procdures\20210507\&#x27;</span>||procname||<span class="hljs-string">&#x27;.sar&quot; from procedure &#x27;</span>||procname<br><span class="hljs-keyword">from</span> SYSCAT.<span class="hljs-keyword">PROCEDURES</span><br><span class="hljs-keyword">where</span> procschema = <span class="hljs-string">&#x27;PAS&#x27;</span>;<br></code></pre></td></tr></table></figure><p>其中，【D:\db_backup_procdures\20210507\】为存储过程存放的路径，需要提前建立好（目前为手动备份模式）；<br>【PAS】为SCHEMA。<br>执行完毕后，会生成对应schema所有的存储过程存储SQL语句。</p><h3 id="生成文件"><a href="#生成文件" class="headerlink" title="生成文件"></a>生成文件</h3><p>将上一步生成的SQL复制到一个.bat文件，在第一行填写db2连接数据库语句，大致内容：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql">db2 <span class="hljs-keyword">connect</span> <span class="hljs-keyword">to</span> mzlpas <span class="hljs-keyword">user</span> pas <span class="hljs-keyword">using</span> pas<br><br>db2 <span class="hljs-keyword">get</span> routine <span class="hljs-keyword">into</span> &quot;D:\db_backup_procdures\20210507\SP_APP_LOAD_CDSJY.sar&quot; <span class="hljs-keyword">from</span> <span class="hljs-keyword">procedure</span> SP_APP_LOAD_CDSJY<br>db2 <span class="hljs-keyword">get</span> routine <span class="hljs-keyword">into</span> &quot;D:\db_backup_procdures\20210507\SP_APP_LOAD_CKZH.sar&quot; <span class="hljs-keyword">from</span> <span class="hljs-keyword">procedure</span> SP_APP_LOAD_CKZH<br>db2 <span class="hljs-keyword">get</span> routine <span class="hljs-keyword">into</span> &quot;D:\db_backup_procdures\20210507\SP_APP_LOAD_DKZH.sar&quot; <span class="hljs-keyword">from</span> <span class="hljs-keyword">procedure</span> SP_APP_LOAD_DKZH<br>...<br></code></pre></td></tr></table></figure><p>把脚本放到db2cmd中进行执行，完成存储过程备份。</p><p><font size=6.5 color='red'>自动化备份脚本完成中，未完待续。。。。。。</font></p>]]></content>
    
    
    <categories>
      
      <category>数据库</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DB2</tag>
      
      <tag>存储过程</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Rsync命令参数详解</title>
    <link href="/articles/22710/"/>
    <url>/articles/22710/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p>记录一下rsync命令的参数。</p>          </div><span id="more"></span><hr /><h4 id="常用参数"><a href="#常用参数" class="headerlink" title="常用参数"></a>常用参数</h4><table><thead><tr><th align="center">ID</th><th align="center">NAME</th><th align="left">ENGLISH</th><th align="left">CHINESE</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">–verbose, -v</td><td align="left">increase verbosity</td><td align="left">详细模式输出</td></tr><tr><td align="center">2</td><td align="center">–quiet, -q</td><td align="left">suppress non-error messages</td><td align="left">精简输出模式</td></tr><tr><td align="center">3</td><td align="center">–progress</td><td align="left">show progress during transfer</td><td align="left">在传输时现实传输过程</td></tr><tr><td align="center">4</td><td align="center">–archive, -a</td><td align="left">archive mode is -rlptgoD (no -A,-X,-U,-N,-H)</td><td align="left">归档模式，表示以递归方式传输文件，并保持所有文件属性，等于-rlptgoD</td></tr><tr><td align="center">5</td><td align="center">-compress, -z</td><td align="left">compress file data during the transfer</td><td align="left">对备份的文件在传输时进行压缩处理</td></tr><tr><td align="center">6</td><td align="center">–delete</td><td align="left">delete extraneous files from dest dirs</td><td align="left">删除那些DST中SRC没有的文件</td></tr><tr><td align="center">7</td><td align="center">–config&#x3D;FILE</td><td align="left">specify alternate rsyncd.conf file</td><td align="left">指定其他的配置文件，不使用默认的rsyncd.conf文件</td></tr><tr><td align="center">8</td><td align="center">–password-file&#x3D;FILE</td><td align="left">read daemon-access password from FILE</td><td align="left">从FILE中得到密码</td></tr><tr><td align="center">9</td><td align="center">–port&#x3D;PORT</td><td align="left">listen on alternate port number</td><td align="left">指定其他的rsync服务端口</td></tr><tr><td align="center">10</td><td align="center">–existing</td><td align="left">skip creating new files on receiver</td><td align="left">仅仅更新那些已经存在于DST的文件，而不备份那些新创建的文件</td></tr><tr><td align="center">11</td><td align="center">–partial</td><td align="left">keep partially transferred files</td><td align="left">保留那些因故没有完全传输的文件，以是加快随后的再次传输</td></tr><tr><td align="center">12</td><td align="center">–daemon</td><td align="left">run as an rsync daemon</td><td align="left">以daemon模型运行</td></tr><tr><td align="center">13</td><td align="center">–exclude&#x3D;PATTERN</td><td align="left">exclude files matching PATTERN</td><td align="left">指定排除不需要传输的文件模式</td></tr><tr><td align="center">14</td><td align="center">–exclude-from&#x3D;FILE</td><td align="left">read exclude patterns from FILE</td><td align="left">排除FILE中指定模式的文件</td></tr></tbody></table><h4 id="全部参数"><a href="#全部参数" class="headerlink" title="全部参数"></a>全部参数</h4><p>官网参数说明：<a href="https://download.samba.org/pub/rsync/rsync.1">https://download.samba.org/pub/rsync/rsync.1</a></p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver"><span class="hljs-comment">--debug=FLAGS            fine-grained debug verbosity</span><br><span class="hljs-comment">--stderr=e|a|c           change stderr output mode (default: errors)</span><br><span class="hljs-comment">--quiet, -q              suppress non-error messages</span><br><span class="hljs-comment">--no-motd                suppress daemon-mode MOTD</span><br><span class="hljs-comment">--checksum, -c           skip based on checksum, not mod-time &amp; size</span><br><span class="hljs-comment">--archive, -a            archive mode is -rlptgoD (no -A,-X,-U,-N,-H)</span><br><span class="hljs-comment">--no-OPTION              turn off an implied OPTION (e.g. --no-D)</span><br><span class="hljs-comment">--recursive, -r          recurse into directories</span><br><span class="hljs-comment">--relative, -R           use relative path names</span><br><span class="hljs-comment">--no-implied-dirs        don&#x27;t send implied dirs with --relative</span><br><span class="hljs-comment">--backup, -b             make backups (see --suffix &amp; --backup-dir)</span><br><span class="hljs-comment">--backup-dir=DIR         make backups into hierarchy based in DIR</span><br><span class="hljs-comment">--suffix=SUFFIX          backup suffix (default ~ w/o --backup-dir)</span><br><span class="hljs-comment">--update, -u             skip files that are newer on the receiver</span><br><span class="hljs-comment">--inplace                update destination files in-place</span><br><span class="hljs-comment">--append                 append data onto shorter files</span><br><span class="hljs-comment">--append-verify          --append w/old data in file checksum</span><br><span class="hljs-comment">--dirs, -d               transfer directories without recursing</span><br><span class="hljs-comment">--mkpath                 create the destination&#x27;s path component</span><br><span class="hljs-comment">--links, -l              copy symlinks as symlinks</span><br><span class="hljs-comment">--copy-links, -L         transform symlink into referent file/dir</span><br><span class="hljs-comment">--copy-unsafe-links      only &quot;unsafe&quot; symlinks are transformed</span><br><span class="hljs-comment">--safe-links             ignore symlinks that point outside the tree</span><br><span class="hljs-comment">--munge-links            munge symlinks to make them safe &amp; unusable</span><br><span class="hljs-comment">--copy-dirlinks, -k      transform symlink to dir into referent dir</span><br><span class="hljs-comment">--keep-dirlinks, -K      treat symlinked dir on receiver as dir</span><br><span class="hljs-comment">--hard-links, -H         preserve hard links</span><br><span class="hljs-comment">--perms, -p              preserve permissions</span><br><span class="hljs-comment">--executability, -E      preserve executability</span><br><span class="hljs-comment">--chmod=CHMOD            affect file and/or directory permissions</span><br><span class="hljs-comment">--acls, -A               preserve ACLs (implies --perms)</span><br><span class="hljs-comment">--xattrs, -X             preserve extended attributes</span><br><span class="hljs-comment">--owner, -o              preserve owner (super-user only)</span><br><span class="hljs-comment">--group, -g              preserve group</span><br><span class="hljs-comment">--devices                preserve device files (super-user only)</span><br><span class="hljs-comment">--specials               preserve special files</span><br>-D                       same <span class="hljs-keyword">as</span> <span class="hljs-comment">--devices --specials</span><br><span class="hljs-comment">--times, -t              preserve modification times</span><br><span class="hljs-comment">--atimes, -U             preserve access (use) times</span><br><span class="hljs-comment">--open-noatime           avoid changing the atime on opened files</span><br><span class="hljs-comment">--crtimes, -N            preserve create times (newness)</span><br><span class="hljs-comment">--omit-dir-times, -O     omit directories from --times</span><br><span class="hljs-comment">--omit-link-times, -J    omit symlinks from --times</span><br><span class="hljs-comment">--super                  receiver attempts super-user activities</span><br><span class="hljs-comment">--fake-super             store/recover privileged attrs using xattrs</span><br><span class="hljs-comment">--sparse, -S             turn sequences of nulls into sparse blocks</span><br><span class="hljs-comment">--preallocate            allocate dest files before writing them</span><br><span class="hljs-comment">--write-devices          write to devices as files (implies --inplace)</span><br><span class="hljs-comment">--dry-run, -n            perform a trial run with no changes made</span><br><span class="hljs-comment">--whole-file, -W         copy files whole (w/o delta-xfer algorithm)</span><br><span class="hljs-comment">--checksum-choice=STR    choose the checksum algorithm (aka --cc)</span><br><span class="hljs-comment">--one-file-system, -x    don&#x27;t cross filesystem boundaries</span><br><span class="hljs-comment">--block-size=SIZE, -B    force a fixed checksum block-size</span><br><span class="hljs-comment">--rsh=COMMAND, -e        specify the remote shell to use</span><br><span class="hljs-comment">--rsync-path=PROGRAM     specify the rsync to run on remote machine</span><br><span class="hljs-comment">--existing               skip creating new files on receiver</span><br><span class="hljs-comment">--ignore-existing        skip updating files that exist on receiver</span><br><span class="hljs-comment">--remove-source-files    sender removes synchronized files (non-dir)</span><br><span class="hljs-comment">--del                    an alias for --delete-during</span><br><span class="hljs-comment">--delete                 delete extraneous files from dest dirs</span><br><span class="hljs-comment">--delete-before          receiver deletes before xfer, not during</span><br><span class="hljs-comment">--delete-during          receiver deletes during the transfer</span><br><span class="hljs-comment">--delete-delay           find deletions during, delete after</span><br><span class="hljs-comment">--delete-after           receiver deletes after transfer, not during</span><br><span class="hljs-comment">--delete-excluded        also delete excluded files from dest dirs</span><br><span class="hljs-comment">--ignore-missing-args    ignore missing source args without error</span><br><span class="hljs-comment">--delete-missing-args    delete missing source args from destination</span><br><span class="hljs-comment">--ignore-errors          delete even if there are I/O errors</span><br><span class="hljs-comment">--force                  force deletion of dirs even if not empty</span><br><span class="hljs-comment">--max-delete=NUM         don&#x27;t delete more than NUM files</span><br><span class="hljs-comment">--max-size=SIZE          don&#x27;t transfer any file larger than SIZE</span><br><span class="hljs-comment">--min-size=SIZE          don&#x27;t transfer any file smaller than SIZE</span><br><span class="hljs-comment">--max-alloc=SIZE         change a limit relating to memory alloc</span><br><span class="hljs-comment">--partial                keep partially transferred files</span><br><span class="hljs-comment">--partial-dir=DIR        put a partially transferred file into DIR</span><br><span class="hljs-comment">--delay-updates          put all updated files into place at end</span><br><span class="hljs-comment">--prune-empty-dirs, -m   prune empty directory chains from file-list</span><br><span class="hljs-comment">--numeric-ids            don&#x27;t map uid/gid values by user/group name</span><br><span class="hljs-comment">--usermap=STRING         custom username mapping</span><br><span class="hljs-comment">--groupmap=STRING        custom groupname mapping</span><br><span class="hljs-comment">--chown=USER:GROUP       simple username/groupname mapping</span><br><span class="hljs-comment">--timeout=SECONDS        set I/O timeout in seconds</span><br><span class="hljs-comment">--contimeout=SECONDS     set daemon connection timeout in seconds</span><br><span class="hljs-comment">--ignore-times, -I       don&#x27;t skip files that match size and time</span><br><span class="hljs-comment">--size-only              skip files that match in size</span><br><span class="hljs-comment">--modify-window=NUM, -@  set the accuracy for mod-time comparisons</span><br><span class="hljs-comment">--temp-dir=DIR, -T       create temporary files in directory DIR</span><br><span class="hljs-comment">--fuzzy, -y              find similar file for basis if no dest file</span><br><span class="hljs-comment">--compare-dest=DIR       also compare destination files relative to DIR</span><br><span class="hljs-comment">--copy-dest=DIR          ... and include copies of unchanged files</span><br><span class="hljs-comment">--link-dest=DIR          hardlink to files in DIR when unchanged</span><br><span class="hljs-comment">--compress, -z           compress file data during the transfer</span><br><span class="hljs-comment">--compress-choice=STR    choose the compression algorithm (aka --zc)</span><br><span class="hljs-comment">--compress-level=NUM     explicitly set compression level (aka --zl)</span><br><span class="hljs-comment">--skip-compress=LIST     skip compressing files with suffix in LIST</span><br><span class="hljs-comment">--cvs-exclude, -C        auto-ignore files in the same way CVS does</span><br><span class="hljs-comment">--filter=RULE, -f        add a file-filtering RULE</span><br>-F                       same <span class="hljs-keyword">as</span> <span class="hljs-comment">--filter=&#x27;dir-merge /.rsync-filter&#x27;</span><br>                         repeated: <span class="hljs-comment">--filter=&#x27;- .rsync-filter&#x27;</span><br><span class="hljs-comment">--exclude=PATTERN        exclude files matching PATTERN</span><br><span class="hljs-comment">--exclude-from=FILE      read exclude patterns from FILE</span><br><span class="hljs-comment">--include=PATTERN        don&#x27;t exclude files matching PATTERN</span><br><span class="hljs-comment">--include-from=FILE      read include patterns from FILE</span><br><span class="hljs-comment">--files-from=FILE        read list of source-file names from FILE</span><br><span class="hljs-comment">--from0, -0              all *-from/filter files are delimited by 0s</span><br><span class="hljs-comment">--protect-args, -s       no space-splitting; wildcard chars only</span><br><span class="hljs-comment">--copy-as=USER[:GROUP]   specify user &amp; optional group for the copy</span><br><span class="hljs-comment">--address=ADDRESS        bind address for outgoing socket to daemon</span><br><span class="hljs-comment">--port=PORT              specify double-colon alternate port number</span><br><span class="hljs-comment">--sockopts=OPTIONS       specify custom TCP options</span><br><span class="hljs-comment">--blocking-io            use blocking I/O for the remote shell</span><br><span class="hljs-comment">--outbuf=N|L|B           set out buffering to None, Line, or Block</span><br><span class="hljs-comment">--stats                  give some file-transfer stats</span><br><span class="hljs-comment">--8-bit-output, -8       leave high-bit chars unescaped in output</span><br><span class="hljs-comment">--human-readable, -h     output numbers in a human-readable format</span><br><span class="hljs-comment">--progress               show progress during transfer</span><br>-P                       same <span class="hljs-keyword">as</span> <span class="hljs-comment">--partial --progress</span><br><span class="hljs-comment">--itemize-changes, -i    output a change-summary for all updates</span><br><span class="hljs-comment">--remote-option=OPT, -M  send OPTION to the remote side only</span><br><span class="hljs-comment">--out-format=FORMAT      output updates using the specified FORMAT</span><br><span class="hljs-comment">--log-file=FILE          log what we&#x27;re doing to the specified FILE</span><br><span class="hljs-comment">--log-file-format=FMT    log updates using the specified FMT</span><br><span class="hljs-comment">--password-file=FILE     read daemon-access password from FILE</span><br><span class="hljs-comment">--early-input=FILE       use FILE for daemon&#x27;s early exec input</span><br><span class="hljs-comment">--list-only              list the files instead of copying them</span><br><span class="hljs-comment">--bwlimit=RATE           limit socket I/O bandwidth</span><br><span class="hljs-comment">--stop-after=MINS        Stop rsync after MINS minutes have elapsed</span><br><span class="hljs-comment">--stop-at=y-m-dTh:m      Stop rsync at the specified point in time</span><br><span class="hljs-comment">--write-batch=FILE       write a batched update to FILE</span><br><span class="hljs-comment">--only-write-batch=FILE  like --write-batch but w/o updating dest</span><br><span class="hljs-comment">--read-batch=FILE        read a batched update from FILE</span><br><span class="hljs-comment">--protocol=NUM           force an older protocol version to be used</span><br><span class="hljs-comment">--iconv=CONVERT_SPEC     request charset conversion of filenames</span><br><span class="hljs-comment">--checksum-seed=NUM      set block/file checksum seed (advanced)</span><br><span class="hljs-comment">--ipv4, -4               prefer IPv4</span><br><span class="hljs-comment">--ipv6, -6               prefer IPv6</span><br><span class="hljs-comment">--version, -V            print the version + other info and exit</span><br><span class="hljs-comment">--help, -h (*)           show this help (* -h is help only on its own)</span><br>Rsync can also be run <span class="hljs-keyword">as</span> <span class="hljs-keyword">a</span> daemon, <span class="hljs-keyword">in</span> which <span class="hljs-keyword">case</span> <span class="hljs-keyword">the</span> following options are accepted:<br><br><span class="hljs-comment">--daemon                 run as an rsync daemon</span><br><span class="hljs-comment">--address=ADDRESS        bind to the specified address</span><br><span class="hljs-comment">--bwlimit=RATE           limit socket I/O bandwidth</span><br><span class="hljs-comment">--config=FILE            specify alternate rsyncd.conf file</span><br><span class="hljs-comment">--dparam=OVERRIDE, -M    override global daemon config parameter</span><br><span class="hljs-comment">--no-detach              do not detach from the parent</span><br><span class="hljs-comment">--port=PORT              listen on alternate port number</span><br><span class="hljs-comment">--log-file=FILE          override the &quot;log file&quot; setting</span><br><span class="hljs-comment">--log-file-format=FMT    override the &quot;log format&quot; setting</span><br><span class="hljs-comment">--sockopts=OPTIONS       specify custom TCP options</span><br><span class="hljs-comment">--verbose, -v            increase verbosity</span><br><span class="hljs-comment">--ipv4, -4               prefer IPv4</span><br><span class="hljs-comment">--ipv6, -6               prefer IPv6</span><br><span class="hljs-comment">--help, -h               show this help (when used with --daemon)</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Rsync</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Rsync安装与配置</title>
    <link href="/articles/11384/"/>
    <url>/articles/11384/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p>项目上有需要对服务器之间的数据进行同步备份需求，想到了之前在Qunar使用过的开源同步软件RSYNC，这里做个简单的基础使用说明，主要是安装与配置。</p>          </div><span class="label label-primary">RSYNC</span> <span class="label label-default">数据同步</span> <span class="label label-danger">服务器</span><span id="more"></span><hr /><p>RSYNC一款开源的数据备份软件，主要有一下几个特点：</p><ul><li>跨平台，支持Windows与Linux双向同步</li><li>采用1服务端-N客户端运行模式，实现多台服务器同时请求</li><li>与其他命令结合使用方便，例如crontab、sersync（实时同步）</li><li>操作简单，安装完成后修改配置即可运行</li><li>实现增量&#x2F;全量备份</li></ul><p>之前使用是基于Linux系统的sersync+sync搭建的实时同步环境，当前项目上没不需要实时同步数据的要求，所以只搭建了rsync的使用，由于项目上有其他比较着急的事情，后续准备再升级到实时同步环境。</p><p><img src="/articles/11384/article_rsync.jpeg"></p><h3 id="1、环境简介"><a href="#1、环境简介" class="headerlink" title="1、环境简介"></a>1、环境简介</h3><table><thead><tr><th align="center">ID</th><th align="center">NAME</th><th align="center">SYSTEM</th><th align="left">DESC</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">server1</td><td align="center">RedHAT6.4</td><td align="left">数据源服务器，用于做备份的SERVER</td></tr><tr><td align="center">2</td><td align="center">server2</td><td align="center">Windows Server 2008 R2</td><td align="left">主要做备份的服务器，安装rsync客户端</td></tr></tbody></table><p>项目上数据源的服务器是Linux的，用来说备份的Server端，这个是不可以更改的系统类型，其他服务器是Windows的，用来做备份的Client。</p><h3 id="2、下载地址"><a href="#2、下载地址" class="headerlink" title="2、下载地址"></a>2、下载地址</h3><ul><li>Windows：<a href="https://www.itefix.net/cwrsync">https://www.itefix.net/cwrsync</a></li><li>Linux：<a href="https://rsync.samba.org/">https://rsync.samba.org/</a></li></ul><p>Windows需要下载cwrsync软件包，官网下载即可。<br>Linux安装采用在线安装，也可以下载源码包进行离线安装，均可。</p><h3 id="3、安装"><a href="#3、安装" class="headerlink" title="3、安装"></a>3、安装</h3><p>关于安装对于系统的不同分别进行说明，其中Linux的安装讲3种方式安装，一些Linux的基础命令使用还是需要掌握的，不会的童鞋需要恶补一下了，废话不说，咱们开始整。</p><blockquote><p>Linux</p></blockquote><h4 id="3-1、在线安装"><a href="#3-1、在线安装" class="headerlink" title="3.1、在线安装"></a>3.1、在线安装</h4><p>前提保证服务器连网，可以充分使用yum。</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-comment"># 查询yum源是否有rsync软件</span><br><span class="hljs-attribute">yum</span> search rsync<br></code></pre></td></tr></table></figure><p>使用search进行查找，如果没有，需要进行yum源的设置；如果有，进行install安装即可。</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">yum -y <span class="hljs-keyword">install</span> rsync<br></code></pre></td></tr></table></figure><h4 id="3-2、离线安装"><a href="#3-2、离线安装" class="headerlink" title="3.2、离线安装"></a>3.2、离线安装</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs awk">wget https:<span class="hljs-regexp">//</span>download.samba.org<span class="hljs-regexp">/pub/</span>rsync<span class="hljs-regexp">/src/</span>rsync-<span class="hljs-number">3.2</span>.<span class="hljs-number">3</span>.tar.gz<br>tar -zxvf rsync-<span class="hljs-number">3.2</span>.<span class="hljs-number">3</span>.tar.gz<br>.<span class="hljs-regexp">/configure --prefix=/u</span>sr<span class="hljs-regexp">/local/</span>rsync<br>make<br>make install<br></code></pre></td></tr></table></figure><p>使用wget或者官网下载rsync源码包，并移动到服务器上进行解压与安装，具体命令如上。</p><h4 id="3-3、镜像安装"><a href="#3-3、镜像安装" class="headerlink" title="3.3、镜像安装"></a>3.3、镜像安装</h4><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">mount</span> -o loop /root/mingliang.gao/rhel-server-<span class="hljs-number">6</span>.<span class="hljs-number">4</span>-x86_64-dvd.iso /mnt/<br><span class="hljs-attribute">cd</span> /mnt/Packages<br><span class="hljs-attribute">ls</span> -l | grep rsync<br><span class="hljs-attribute">rpm</span> -ivh rsync-<span class="hljs-number">3</span>.<span class="hljs-number">0</span>.<span class="hljs-number">6</span>-<span class="hljs-number">9</span>.el6.x86_64.rpm<br><span class="hljs-attribute">umount</span> /mnt/<br></code></pre></td></tr></table></figure><p>镜像安装有个弊端，就是需要下载与服务器系统版本一致的ios镜像包，移动到服务器进行挂载、安装。</p><div class="post_cus_note">安装建议</div><p>关于Linux的安装，建议使用在线安装&gt;镜像安装&gt;离线安装，如果是内网不能连网的情况考虑镜像安装与离线安装，离线安装rpm方式需要一定的依赖，如果是一台新的服务器而且还不能连网，安装起来很费劲，不建议使用源码安装。</p><blockquote><p>Windows</p></blockquote><p>Windows安装客户端比较简单，直接官网进行下载：<a href="https://www.itefix.net/cwrsync">https://www.itefix.net/cwrsync</a><br><img src="/articles/11384/cwrsync.png"></p><p>下载好的包进行解压，把对应的路径加入系统PATH即可。</p><h3 id="4、配置"><a href="#4、配置" class="headerlink" title="4、配置"></a>4、配置</h3><p>配置主要是基于Server端进行配置，需要开启服务，Client进行数据获取，主要配置的操作如下：</p><ul><li><p>mkdir -p &#x2F;etc&#x2F;rsyncd</p></li><li><p>cd &#x2F;etc&#x2F;rsyncd</p></li><li><p>rsyncd.passwd配置文件<br>  touch rsyncd.conf<br>  粘贴下面的内容到rsyncd.conf配置文件</p>  <figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs perl"><span class="hljs-comment"># /etc/rsyncd: configuration file for rsync daemon mode</span><br><span class="hljs-comment"># See rsyncd.conf man page for more options.</span><br>port = <span class="hljs-number">873</span><br>uid = root<br>gid = root<br><span class="hljs-keyword">use</span> <span class="hljs-keyword">chroot</span> = yes<br><span class="hljs-keyword">read</span> only = <span class="hljs-keyword">no</span><br><span class="hljs-keyword">write</span> only = <span class="hljs-keyword">no</span><br><span class="hljs-comment"># IP白名单</span><br>hosts allow = *<br>hosts deny = *<br>max connections = <span class="hljs-number">4</span><br><span class="hljs-comment"># motd file = /etc/rsyncd/rsyncd.motd</span><br>pid file = <span class="hljs-regexp">/var/run</span><span class="hljs-regexp">/rsyncd.pid</span><br><span class="hljs-regexp">lock file = /</span>var/run/rsyncd.lock<br>transfer logging = yes<br><span class="hljs-keyword">log</span> <span class="hljs-keyword">format</span> = <span class="hljs-variable">%t</span> <span class="hljs-variable">%a</span> <span class="hljs-variable">%m</span> <span class="hljs-variable">%f</span> <span class="hljs-variable">%b</span><br><span class="hljs-keyword">log</span> file = <span class="hljs-regexp">/var/l</span>og/rsync.log<br>exclude = lost+found/<br>timeout = <span class="hljs-number">900</span><br>ignore nonreadable = yes<br>dont compress   = *.gz *.tgz *.zip *.z *.Z *.rpm *.deb *.bz2<br>list = <span class="hljs-keyword">no</span><br>ignore errors<br>auth users = root<br>secrets file = <span class="hljs-regexp">/etc/rs</span>yncd/rsyncd.passwd<br><br><span class="hljs-comment"># 数据路径配置</span><br>[gtp]<br>path = <span class="hljs-regexp">/home/g</span>tp/data<br></code></pre></td></tr></table></figure><p>  主要更改[gtp]数据模块配置与hosts allow</p></li><li><p>rsyncd.passwd<br>  touch rsyncd.passwd<br>  内容：root:Root123（服务器连接的用户、用户密码，用英文:分割）</p></li><li><p>chmod 600 rsyncd.passwd</p><p>  <font color='red'>重点，需要设置文件的600模式，其他模式不允许。</font></p></li></ul><h3 id="5、配置文件说明"><a href="#5、配置文件说明" class="headerlink" title="5、配置文件说明"></a>5、配置文件说明</h3><blockquote><p>全局参数</p></blockquote><ul><li>port：服务端口，默认873</li><li>uid：用什么用户运行</li><li>gid：运行用户所属组</li><li>use chroot：若为 true，则 rsync 在传输文件之前首先chroot到 path 参数所指定的目录下。这样做的原因是实现额外的安全防护，但是缺点是需要 root 权限，并且不能备份指向 path 外部的符号连接所指向的目录文件。</li><li>motd file：同步开始打印的内容</li><li>pid file：rsync进程的.pid文件，文件里面存放PID</li><li>lock file：rsync进程的.lock文件</li></ul><blockquote><p>模块参数</p></blockquote><ul><li>hosts allow：IP白名单，*或者注释代表全部允许</li><li>hosts deny：IP黑名单，不允许同步的IP</li><li>max connections：最大连接数量，0为无限制</li><li>transfer logging：使rsync配置的记录日志文件</li><li>log format：日志格式</li><li>log file：日志</li><li>exclude：排除哪些目录不同步</li><li>timeout：一次连接的最大时长</li><li>ignore nonreadable：</li><li>dont compress：用来指定在传输之前不进行压缩处理的文件格式</li><li>list：指定当客户请求列出可以使用的模块列表时，该模块是否应该被列出。如果设置该选项为 false，可以创建隐藏的模块</li><li>ignore errors：可以忽略一些无关的IO错误</li><li>auth users：授权的用户，需要与发起方保持一致，多个用户用,分隔</li><li>secrets file：密钥文件，里面是服务器连接的用户、用户密码</li></ul><blockquote><p>数据模块格式</p></blockquote><p>可以定义多个，格式如下：</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-section">[模块名称]</span><br><span class="hljs-attr">path</span> = 具体路径<br><span class="hljs-attr">comment</span> = 同步数据模型的描述<br></code></pre></td></tr></table></figure><p>官网rsync配置文件参数说明：<a href="https://download.samba.org/pub/rsync/rsyncd.conf.5">https://download.samba.org/pub/rsync/rsyncd.conf.5</a></p><h3 id="6、运行"><a href="#6、运行" class="headerlink" title="6、运行"></a>6、运行</h3><blockquote><p>Linux服务端</p></blockquote><ul><li>检查端口</li></ul><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">netstat</span> -nltp|grep <span class="hljs-number">873</span> 或者 lsof -i:<span class="hljs-number">873</span><br></code></pre></td></tr></table></figure><pre><code class="hljs">服务端默认的端口是873，先check下服务器的873是否被占用，如果没有直接启动服务即可；被占用需要更改上面的配置文件中的port进行端口更换再进行启动。</code></pre><ul><li>运行</li></ul><figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs brainfuck"><span class="hljs-comment">rsync</span> <span class="hljs-literal">--</span><span class="hljs-comment">daemon</span> <span class="hljs-literal">--</span><span class="hljs-comment">config=/etc/rsyncd/rsyncd</span><span class="hljs-string">.</span><span class="hljs-comment">conf</span><br></code></pre></td></tr></table></figure><pre><code class="hljs">启动服务。</code></pre><ul><li>查看</li></ul><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">ps</span> -ef | <span class="hljs-keyword">grep</span> rsync<br></code></pre></td></tr></table></figure><blockquote><p>Windows客户端</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">rsync --port 873 -avzP --password-file=/cygdrive/D/cwRsync/rsyncd.passwd root@16.19.209.68::newgtp /cygdrive/E/newdata<br></code></pre></td></tr></table></figure><p>如果出现没有发现rsync命令，就是没有把rsync的安装路径加入系统PATH。不想加入系统PATH就把rsync的路径补全，采用路径+rsync的方式运行。</p><p>参数说明：</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">-<span class="hljs-keyword">a</span>, <span class="hljs-comment">--archive 归档模式，表示以递归方式传输文件，并保持所有文件属性，等于-rlptgoD</span><br>-v, <span class="hljs-comment">--verbose 详细模式输出</span><br><span class="hljs-comment">--progress 在传输时现实传输过程</span><br>-z, <span class="hljs-comment">--compress 对备份的文件在传输时进行压缩处理</span><br><span class="hljs-comment">--delete 删除那些DST中SRC没有的文件</span><br><span class="hljs-comment">--config=FILE 指定其他的配置文件，不使用默认的rsyncd.conf文件</span><br><span class="hljs-comment">--password-file=FILE 从FILE中得到密码</span><br><span class="hljs-comment">--port=PORT 指定其他的rsync服务端口</span><br><span class="hljs-comment">--existing 仅仅更新那些已经存在于DST的文件，而不备份那些新创建的文件</span><br><span class="hljs-comment">--partial 保留那些因故没有完全传输的文件，以是加快随后的再次传输</span><br></code></pre></td></tr></table></figure><h3 id="7、其他"><a href="#7、其他" class="headerlink" title="7、其他"></a>7、其他</h3><blockquote><p>umount问题：umount: &#x2F;mnt: device is busy.</p></blockquote><p>解决方案：<br>fuser -m &#x2F;mnt&#x2F; 查看使用文件的进程id<br>kill或者exit、重新ssh<br>重新umount</p><blockquote><p>重新启动</p></blockquote><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs perl">ps -ef | <span class="hljs-keyword">grep</span> rsync<br><span class="hljs-keyword">kill</span> 进程ID<br>rsync --daemon --config=<span class="hljs-regexp">/etc/rs</span>yncd/rsyncd.conf<br></code></pre></td></tr></table></figure><h3 id="8、学习参考"><a href="#8、学习参考" class="headerlink" title="8、学习参考"></a>8、学习参考</h3><p>yum命令与源设置：<a href="https://zhuanlan.zhihu.com/p/71906253">https://zhuanlan.zhihu.com/p/71906253</a><br>Linux编译详解：<a href="https://www.cnblogs.com/tinywan/p/7230039.html">https://www.cnblogs.com/tinywan/p/7230039.html</a><br>rsync安装：<a href="https://www.cnblogs.com/champaign/p/9082137.html">https://www.cnblogs.com/champaign/p/9082137.html</a><br>rsync参数：<a href="https://www.cnblogs.com/koushuige/p/9162920.html">https://www.cnblogs.com/koushuige/p/9162920.html</a><br>rsync配置文件参数说明：<a href="https://download.samba.org/pub/rsync/rsyncd.conf.5">https://download.samba.org/pub/rsync/rsyncd.conf.5</a></p>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Rsync</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>域名切换</title>
    <link href="/articles/36343/"/>
    <url>/articles/36343/</url>
    
    <content type="html"><![CDATA[<p>新域名：</p><div class="post_cus_note">pygo2.top</div><span id="more"></span><hr /><p>博客域名正式由pygo2.cn改为pygo2.top，正式上线。</p>]]></content>
    
    
    <categories>
      
      <category>服务器</category>
      
    </categories>
    
    
    <tags>
      
      <tag>域名</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MacOS配置svn免账号密码</title>
    <link href="/articles/49218/"/>
    <url>/articles/49218/</url>
    
    <content type="html"><![CDATA[<p>MacOS环境配置svn免密码操作。</p><span id="more"></span><hr /><h4 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h4><p>MacOS Big Sur 11.1</p><h4 id="版本"><a href="#版本" class="headerlink" title="版本"></a>版本</h4><p>version 1.11.1 (r1850623)</p><h4 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h4><ul><li><p>编辑配置文件</p><p>  vim ~&#x2F;.subversion&#x2F;config</p>  <figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">store-passwords</span> = <span class="hljs-literal">yes</span><br><span class="hljs-attr">store-auth-creds</span> = <span class="hljs-literal">yes</span><br></code></pre></td></tr></table></figure></li><li><p>权限配置</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">chmod</span> 775 -R auth/<br></code></pre></td></tr></table></figure></li></ul>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
    </categories>
    
    
    <tags>
      
      <tag>svn</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CkEditor图片上传到服务端</title>
    <link href="/articles/32287/"/>
    <url>/articles/32287/</url>
    
    <content type="html"><![CDATA[<span class="label label-primary">CKEditor系列教程（三）</span> <span id="more"></span><hr /><h4 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h4><blockquote><p>配置前</p></blockquote><p><img src="/articles/32287/ckedit_1.png"></p><blockquote><p>配置后</p></blockquote><p><img src="/articles/32287/ckedit_2.png"></p><h4 id="图片上传配置"><a href="#图片上传配置" class="headerlink" title="图片上传配置"></a>图片上传配置</h4><p>在config.js配置文件中进行图片上传的配置</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-comment">//上传图片API</span><br><span class="hljs-keyword">config</span><span class="hljs-variable">.filebrowserImageUploadUrl</span> = <span class="hljs-string">&quot;/apis/uploadimg&quot;</span>;<br><span class="hljs-comment">// 去掉图片预览框的文字</span><br><span class="hljs-keyword">config</span><span class="hljs-variable">.image_previewText</span> = &#x27;&#x27;;<br><span class="hljs-comment">// 隐藏“超链接”与“高级选项”只留上传和预览按钮</span><br><span class="hljs-keyword">config</span><span class="hljs-variable">.removeDialogTabs</span> = &#x27;image:advanced;image:Link;&#x27;;<br></code></pre></td></tr></table></figure><h4 id="后台代码"><a href="#后台代码" class="headerlink" title="后台代码"></a>后台代码</h4><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-variable">@apis</span>.<span class="hljs-built_in">route</span>(<span class="hljs-string">&#x27;/uploadimg/&#x27;</span>, methods=[<span class="hljs-string">&#x27;POST&#x27;</span>, <span class="hljs-string">&#x27;OPTIONS&#x27;</span>], strict_slashes=False)<br>def <span class="hljs-built_in">uploadimg</span>():<br>    image = request.files.<span class="hljs-built_in">get</span>(<span class="hljs-string">&#x27;upload&#x27;</span>)<br>    no_res = <span class="hljs-built_in">jsonify</span>(&#123;<br>            <span class="hljs-string">&quot;uploaded&quot;</span>: <span class="hljs-number">0</span>,<br>            <span class="hljs-string">&quot;fileName&quot;</span>: <span class="hljs-string">&#x27;&#x27;</span>,<br>            <span class="hljs-string">&quot;url&quot;</span>: <span class="hljs-string">&#x27;&#x27;</span><br>        &#125;)<br>    if <span class="hljs-keyword">not</span> <span class="hljs-attribute">image</span>:<br>        return no_res<br>    res = <span class="hljs-built_in">ApisService</span>().<span class="hljs-built_in">store_to_imgae</span>(image)<br>    json_res = json.<span class="hljs-built_in">loads</span>(res)<br>    if json_res.<span class="hljs-built_in">get</span>(<span class="hljs-string">&#x27;status_id&#x27;</span>) != <span class="hljs-number">100</span>:<br>        return no_res<br><br>    return <span class="hljs-built_in">jsonify</span>(&#123;<br>            <span class="hljs-string">&quot;uploaded&quot;</span>: <span class="hljs-number">1</span>,<br>            <span class="hljs-string">&quot;fileName&quot;</span>: json_res.<span class="hljs-built_in">get</span>(<span class="hljs-string">&#x27;data&#x27;</span>).<span class="hljs-built_in">get</span>(<span class="hljs-string">&#x27;name&#x27;</span>),<br>            <span class="hljs-string">&quot;url&quot;</span>: json_res.<span class="hljs-built_in">get</span>(<span class="hljs-string">&#x27;data&#x27;</span>).<span class="hljs-built_in">get</span>(<span class="hljs-string">&#x27;url&#x27;</span>)<br>        &#125;)<br></code></pre></td></tr></table></figure><p>上面是python对于图片存储的代码，store_to_imgae是实际存储的，需要的可以给我留言，要让前端ckedit能获取返回值，需要json格式，内容目标如下：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs routeros">&#123;<br>    <span class="hljs-string">&quot;uploaded&quot;</span>: 1,<br>    <span class="hljs-string">&quot;fileName&quot;</span>: json_res.<span class="hljs-built_in">get</span>(<span class="hljs-string">&#x27;data&#x27;</span>).<span class="hljs-built_in">get</span>(<span class="hljs-string">&#x27;name&#x27;</span>),<br>    <span class="hljs-string">&quot;url&quot;</span>: json_res.<span class="hljs-built_in">get</span>(<span class="hljs-string">&#x27;data&#x27;</span>).<span class="hljs-built_in">get</span>(<span class="hljs-string">&#x27;url&#x27;</span>)<br>&#125;<br></code></pre></td></tr></table></figure><p>这样，前端就可以进行显示了。</p>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HTML</tag>
      
      <tag>前端组件</tag>
      
      <tag>CkEditor</tag>
      
      <tag>富文本编辑器</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux服务上安装Win字体</title>
    <link href="/articles/34016/"/>
    <url>/articles/34016/</url>
    
    <content type="html"><![CDATA[<div class="note note-warning">            <p>在开源项目上集成了CKEditor富文本编辑器，但是发现面板上字体没有宋体、微软雅黑等Win字体，web服务大部分应用都是win系统，在CKEditor上config.js添加了字体选择，但是没有效果，需要在Linux服务器添加所需要的字体。</p>          </div><span class="label label-primary">Linux</span> <span class="label label-info">CKEditor</span><span id="more"></span><hr /><p>这里介绍2种配置，均可以。</p><blockquote><p>系统环境</p></blockquote><p>Contos7.5</p><blockquote><p>基础操作</p></blockquote><p>拷贝Win系统的字体传到Linux服务器上，放在&#x2F;usr&#x2F;share&#x2F;fonts&#x2F;chinese目录下，fonts目录下是没有chinese文件夹的，需要root用户新建并赋予755权限。<br>Win系统的字体库位置：C:&#x2F;Windows&#x2F;Fonts<br>Linux涉及命令：su、scp、mkdir、chmod</p><div class="post_cus_note">================第一种================</div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> /usr/share/fonts/chinese<br><span class="hljs-built_in">sudo</span> mkfontscale<br><span class="hljs-built_in">sudo</span> mkfontdir<br><span class="hljs-built_in">sudo</span> fc-cache –fv<br></code></pre></td></tr></table></figure><p>执行以上命令之后，在执行<em><strong>fc-list</strong></em>查看字体列表，查看中文字体：<em><strong>fc-list :lang&#x3D;zh</strong></em>。</p><blockquote><p>mkfontscale &amp;&amp; mkfontdir 区别</p></blockquote><p><em><strong>man</strong></em>查看二者命令：</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">mkfontscale - <span class="hljs-built_in">create</span> <span class="hljs-keyword">an</span> index <span class="hljs-keyword">of</span> scalable font <span class="hljs-built_in">files</span> <span class="hljs-keyword">for</span> X<br>mkfontdir - <span class="hljs-built_in">create</span> <span class="hljs-keyword">an</span> index <span class="hljs-keyword">of</span> X font <span class="hljs-built_in">files</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">a</span> <span class="hljs-built_in">directory</span><br></code></pre></td></tr></table></figure><p>都是在字体库目录建立索引文件的命令，而且内容也是相同的。<br><img src="/articles/34016/cmd.png"></p><div class="post_cus_note">================第二种================</div><ul><li>用编辑器打开&#x2F;etc&#x2F;fonts&#x2F;fonts.conf，通常会有如下内容:</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dir</span>&gt;</span>/usr/share/fonts<span class="hljs-tag">&lt;/<span class="hljs-name">dir</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dir</span>&gt;</span>/usr/share/fonts/chinese<span class="hljs-tag">&lt;/<span class="hljs-name">dir</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dir</span>&gt;</span>/usr/share/X11/fonts/Type1<span class="hljs-tag">&lt;/<span class="hljs-name">dir</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">dir</span>&gt;</span>/usr/share/X11/fonts/TTF<span class="hljs-tag">&lt;/<span class="hljs-name">dir</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">dir</span>&gt;</span>/usr/local/share/fonts<span class="hljs-tag">&lt;/<span class="hljs-name">dir</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dir</span> <span class="hljs-attr">prefix</span>=<span class="hljs-string">&quot;xdg&quot;</span>&gt;</span>fonts<span class="hljs-tag">&lt;/<span class="hljs-name">dir</span>&gt;</span><br><span class="hljs-comment">&lt;!-- the following element will be removed in the future --&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">dir</span>&gt;</span>~/.fonts<span class="hljs-tag">&lt;/<span class="hljs-name">dir</span>&gt;</span><br></code></pre></td></tr></table></figure><p>把中文字体库文件放到其中一个目录即可或者把自定义的目录路径加到fonts.conf。</p><ul><li><p>刷新字体库<br>fc-cache -fv</p></li><li><p>查看已安装字体<br>fc-list :lang&#x3D;zh</p></li></ul><p><font color="red" size="5"><em><strong>纵使生活再艰难，也不要放弃，微信面对，致自己！！！</strong></em></font></p>]]></content>
    
    
    <categories>
      
      <category>服务器</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CkEditor</tag>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CkEditor的配置说明</title>
    <link href="/articles/32150/"/>
    <url>/articles/32150/</url>
    
    <content type="html"><![CDATA[<span class="label label-success">CKEditor系列教程（二）</span> <span id="more"></span><hr /><h4 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h4><p>配置文件在插件的config.js，也可以自定义config js文件。</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.</span><br><span class="hljs-comment"> * For licensing, see https://ckeditor.com/legal/ckeditor-oss-license</span><br><span class="hljs-comment"> */</span><br><br>CKEDITOR.editorConfig = <span class="hljs-keyword">function</span>( config ) &#123;<br>    // 语言<br>    config.<span class="hljs-keyword">language</span> = <span class="hljs-string">&#x27;zh-cn&#x27;</span>;<br>    // placeholder设置<br>    config.editorplaceholder = <span class="hljs-string">&#x27;开始新的篇章......&#x27;</span>;<br>    // 设置宽高<br>    // config.width = <span class="hljs-number">400</span>;<br>    config.height = <span class="hljs-number">500</span>;<br>    // UI面板配色<br>    config.uiColor = <span class="hljs-string">&#x27;#F7B42C&#x27;</span>;<br>    // 编辑器样式：bootstrapck icy_orange kama minimalist moono moono-dark moonocolor office2013<br>    // <span class="hljs-keyword">default</span>：moono-lisa<br>    config.skin = <span class="hljs-string">&#x27;icy_orange&#x27;</span>;<br>    // 添加字体<br>    config.font_names=<span class="hljs-string">&#x27;宋体/SimSun;新宋体/NSimSun;仿宋_GB2312/FangSong_GB2312;楷体_GB2312/KaiTi_GB2312;黑体/SimHei;微软雅黑/Microsoft YaHei;&#x27;</span>+ config.font_names;<br><br>    // 添加该行代码关闭easyimage、cloudservices插件即可<br>    config.removePlugins = <span class="hljs-string">&#x27;easyimage,cloudservices&#x27;</span>;<br><br>    // 工具栏是否可以被收缩<br>    config.toolbarCanCollapse = <span class="hljs-keyword">true</span>;<br>    // 工具栏的位置，可选：bottom<br>    config.toolbarLocation = <span class="hljs-string">&#x27;top&#x27;</span>;<br>    // 工具栏默认是否展开<br>    config.toolbarStartupExpanded = <span class="hljs-keyword">true</span>;<br>    // 取消 “拖拽以改变尺寸”功能<br>    config.resize_enabled = <span class="hljs-keyword">false</span>;<br>    // 当提交包含有此编辑器的表单时，是否自动更新元素内的资料<br>    config.autoUpdateElement = <span class="hljs-keyword">true</span>;<br>    // 编辑器的z-<span class="hljs-keyword">index</span>值<br>    config.baseFloatZIndex = <span class="hljs-number">10000</span>;<br><br>    // 工具栏<br>    config.toolbar = [<br>        &#123; <span class="hljs-type">name</span>: <span class="hljs-string">&#x27;document&#x27;</span>, <span class="hljs-keyword">groups</span>: [ <span class="hljs-string">&#x27;mode&#x27;</span>, <span class="hljs-string">&#x27;document&#x27;</span>, <span class="hljs-string">&#x27;doctools&#x27;</span>, <span class="hljs-string">&#x27;undo&#x27;</span>], items: [ <span class="hljs-string">&#x27;NewPage&#x27;</span>, <span class="hljs-string">&#x27;Save&#x27;</span>, <span class="hljs-string">&#x27;Preview&#x27;</span>, <span class="hljs-string">&#x27;Print&#x27;</span>, <span class="hljs-string">&#x27;-&#x27;</span>, <span class="hljs-string">&#x27;Templates&#x27;</span> , <span class="hljs-string">&#x27;-&#x27;</span>, <span class="hljs-string">&#x27;Undo&#x27;</span>, <span class="hljs-string">&#x27;Redo&#x27;</span> ] &#125;,<br>        &#123; <span class="hljs-type">name</span>: <span class="hljs-string">&#x27;editing&#x27;</span>, <span class="hljs-keyword">groups</span>: [ <span class="hljs-string">&#x27;find&#x27;</span>, <span class="hljs-string">&#x27;selection&#x27;</span>, <span class="hljs-string">&#x27;spellchecker&#x27;</span> ], items: [ <span class="hljs-string">&#x27;Find&#x27;</span>, <span class="hljs-string">&#x27;Replace&#x27;</span>, <span class="hljs-string">&#x27;-&#x27;</span>, <span class="hljs-string">&#x27;SelectAll&#x27;</span>, <span class="hljs-string">&#x27;-&#x27;</span>, <span class="hljs-string">&#x27;Scayt&#x27;</span> ] &#125;,<br>        &#123; <span class="hljs-type">name</span>: <span class="hljs-string">&#x27;clipboard&#x27;</span>, <span class="hljs-keyword">groups</span>: [ <span class="hljs-string">&#x27;clipboard&#x27;</span>], items: [ <span class="hljs-string">&#x27;Cut&#x27;</span>, <span class="hljs-string">&#x27;Copy&#x27;</span>, <span class="hljs-string">&#x27;Paste&#x27;</span>, <span class="hljs-string">&#x27;PasteText&#x27;</span>, <span class="hljs-string">&#x27;PasteFromWord&#x27;</span>] &#125;,<br>        //&#123; <span class="hljs-type">name</span>: <span class="hljs-string">&#x27;forms&#x27;</span>, items: [ <span class="hljs-string">&#x27;Form&#x27;</span>, <span class="hljs-string">&#x27;Checkbox&#x27;</span>, <span class="hljs-string">&#x27;Radio&#x27;</span>, <span class="hljs-string">&#x27;TextField&#x27;</span>, <span class="hljs-string">&#x27;Textarea&#x27;</span>, <span class="hljs-string">&#x27;Select&#x27;</span>, <span class="hljs-string">&#x27;Button&#x27;</span>, <span class="hljs-string">&#x27;ImageButton&#x27;</span>, <span class="hljs-string">&#x27;HiddenField&#x27;</span> ] &#125;,<br>        &#123; <span class="hljs-type">name</span>: <span class="hljs-string">&#x27;insert&#x27;</span>, <span class="hljs-keyword">groups</span>: [ <span class="hljs-string">&#x27;links&#x27;</span>, <span class="hljs-string">&#x27;clipboard&#x27;</span>],  items: [ <span class="hljs-string">&#x27;Link&#x27;</span>, <span class="hljs-string">&#x27;Unlink&#x27;</span>, <span class="hljs-string">&#x27;Anchor&#x27;</span>, <span class="hljs-string">&#x27;-&#x27;</span>, <span class="hljs-string">&#x27;Image&#x27;</span>,  <span class="hljs-string">&#x27;Table&#x27;</span>, <span class="hljs-string">&#x27;-&#x27;</span>, <span class="hljs-string">&#x27;HorizontalRule&#x27;</span>, <span class="hljs-string">&#x27;Smiley&#x27;</span>, <span class="hljs-string">&#x27;SpecialChar&#x27;</span>] &#125;,<br>        <span class="hljs-string">&#x27;/&#x27;</span>,<br>        &#123; <span class="hljs-type">name</span>: <span class="hljs-string">&#x27;basicstyles&#x27;</span>, <span class="hljs-keyword">groups</span>: [ <span class="hljs-string">&#x27;basicstyles&#x27;</span>, <span class="hljs-string">&#x27;cleanup&#x27;</span> ], items: [ <span class="hljs-string">&#x27;Bold&#x27;</span>, <span class="hljs-string">&#x27;Italic&#x27;</span>, <span class="hljs-string">&#x27;Underline&#x27;</span>, <span class="hljs-string">&#x27;Strike&#x27;</span>, <span class="hljs-string">&#x27;-&#x27;</span>, <span class="hljs-string">&#x27;TextColor&#x27;</span>, <span class="hljs-string">&#x27;BGColor&#x27;</span>, <span class="hljs-string">&#x27;-&#x27;</span>, <span class="hljs-string">&#x27;Subscript&#x27;</span>, <span class="hljs-string">&#x27;Superscript&#x27;</span>, <span class="hljs-string">&#x27;-&#x27;</span>, <span class="hljs-string">&#x27;RemoveFormat&#x27;</span> ] &#125;,<br>        &#123; <span class="hljs-type">name</span>: <span class="hljs-string">&#x27;paragraph&#x27;</span>, <span class="hljs-keyword">groups</span>: [ <span class="hljs-string">&#x27;list&#x27;</span>, <span class="hljs-string">&#x27;indent&#x27;</span>, <span class="hljs-string">&#x27;blocks&#x27;</span>, <span class="hljs-string">&#x27;align&#x27;</span>, <span class="hljs-string">&#x27;bidi&#x27;</span> ], items: [ <span class="hljs-string">&#x27;NumberedList&#x27;</span>, <span class="hljs-string">&#x27;BulletedList&#x27;</span>, <span class="hljs-string">&#x27;-&#x27;</span>, <span class="hljs-string">&#x27;Outdent&#x27;</span>, <span class="hljs-string">&#x27;Indent&#x27;</span>,  <span class="hljs-string">&#x27;-&#x27;</span>, <span class="hljs-string">&#x27;JustifyLeft&#x27;</span>, <span class="hljs-string">&#x27;JustifyCenter&#x27;</span>, <span class="hljs-string">&#x27;JustifyRight&#x27;</span>, <span class="hljs-string">&#x27;JustifyBlock&#x27;</span>, <span class="hljs-string">&#x27;-&#x27;</span>, <span class="hljs-string">&#x27;BidiLtr&#x27;</span>, <span class="hljs-string">&#x27;BidiRtl&#x27;</span>, <span class="hljs-string">&#x27;Language&#x27;</span> ] &#125;,<br>        <span class="hljs-string">&#x27;/&#x27;</span>,<br>        &#123; <span class="hljs-type">name</span>: <span class="hljs-string">&#x27;styles&#x27;</span>, items: [ <span class="hljs-string">&#x27;Styles&#x27;</span>, <span class="hljs-string">&#x27;Format&#x27;</span>, <span class="hljs-string">&#x27;Font&#x27;</span>, <span class="hljs-string">&#x27;FontSize&#x27;</span> ] &#125;,<br>        &#123; <span class="hljs-type">name</span>: <span class="hljs-string">&#x27;others&#x27;</span>, items: [ <span class="hljs-string">&#x27;Maximize&#x27;</span>, <span class="hljs-string">&#x27;-&#x27;</span>, <span class="hljs-string">&#x27;ShowBlocks&#x27;</span>, <span class="hljs-string">&#x27;Blockquote&#x27;</span>, <span class="hljs-string">&#x27;CreateDiv&#x27;</span>, <span class="hljs-string">&#x27;-&#x27;</span>, <span class="hljs-string">&#x27;Source&#x27;</span>] &#125;<br>    ];<br><br>    //上传图片API<br>    config.filebrowserImageUploadUrl = &quot;/apis/uploadimg&quot;;<br>    // 去掉图片预览框的文字<br>    config.image_previewText = <span class="hljs-string">&#x27;&#x27;</span>;<br>    // 隐藏“超链接”与“高级选项”只留上传和预览按钮<br>    config.removeDialogTabs = <span class="hljs-string">&#x27;image:advanced;image:Link;&#x27;</span>;<br><br>&#125;;<br></code></pre></td></tr></table></figure><div class="note note-warning">            <p>特别说明：<br>config.skin的皮肤需要自己进行下载，插件的skins目录下是没有。<br>有需要的同学可以邮件我：<a href="mailto:&#x67;&#97;&#111;&#109;&#x69;&#x6e;&#x67;&#57;&#55;&#x31;&#51;&#x36;&#x36;&#x40;&#x31;&#54;&#51;&#46;&#x63;&#x6f;&#x6d;">gaoming971366@163.com</a></p>          </div><h4 id="学习参考"><a href="#学习参考" class="headerlink" title="学习参考"></a>学习参考</h4><p>官网配置：<a href="https://ckeditor.com/docs/ckeditor4/latest/api/CKEDITOR_config.html">https://ckeditor.com/docs/ckeditor4/latest/api/CKEDITOR_config.html</a><br>CKEditor系列教程（一）：<a href="/articles/9743/" target="_blank" class="block_project_a">CkEditor的安装与基础使用</a><br>CKEditor系列教程（二）：<a href="/articles/32150/" target="_blank" class="block_project_a">CkEditor的配置说明</a><br>CKEditor系列教程（三）：<a href="/articles/32287/" target="_blank" class="block_project_a">CkEditor图片上传到服务端</a></p>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HTML</tag>
      
      <tag>前端组件</tag>
      
      <tag>CkEditor</tag>
      
      <tag>富文本编辑器</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CkEditor的安装与基础使用</title>
    <link href="/articles/9743/"/>
    <url>/articles/9743/</url>
    
    <content type="html"><![CDATA[<span class="label label-danger">CKEditor系列教程（一）</span><span id="more"></span><hr /><p>CkEditor有4版本以及最新5系列版本，看了内容，感觉4就够了，有兴趣的人可以下载5。</p><h4 id="下载地址"><a href="#下载地址" class="headerlink" title="下载地址"></a>下载地址</h4><p><a href="https://ckeditor.com/ckeditor-4/download/">https://ckeditor.com/ckeditor-4/download/</a></p><p>CkEditor4有4个版本下载：base（基础版）、standard（标准版）、full（完整版）、custome（定制版）。<br><img src="/articles/9743/version.png"><br>说白了就是插件多少的问题，建议选择full版本，反正项目部署到服务器，CkEditor插件每次也不会更新，不会影响任何问题。</p><p>其他方式安装：<a href="https://ckeditor.com/docs/ckeditor4/latest/guide/dev_installation.html">https://ckeditor.com/docs/ckeditor4/latest/guide/dev_installation.html</a></p><h4 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h4><blockquote><p>HTML</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">HTML</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en-US&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>ditor demo<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;ckeditor_4.15.1_full_easyimage/ckeditor.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;show()&quot;</span>&gt;</span>展示<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">textarea</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;articleArea&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;articleArea&quot;</span> <span class="hljs-attr">rows</span>=<span class="hljs-string">&quot;10&quot;</span> <span class="hljs-attr">cols</span>=<span class="hljs-string">&quot;80&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// with a CKEditor 4, instance, using default configuration.</span></span><br><span class="language-javascript">    <span class="hljs-variable constant_">CKEDITOR</span>.<span class="hljs-title function_">replace</span>( <span class="hljs-string">&#x27;articleArea&#x27;</span> );</span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">function</span> <span class="hljs-title function_">show</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">         <span class="hljs-keyword">var</span> editor_data = <span class="hljs-variable constant_">CKEDITOR</span>.<span class="hljs-property">instances</span>.<span class="hljs-property">articleArea</span>.<span class="hljs-title function_">getData</span>();</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(editor_data)</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>show方法是打印内容。</p><h4 id="学习参考"><a href="#学习参考" class="headerlink" title="学习参考"></a>学习参考</h4><p>官网：<a href="https://ckeditor.com/">https://ckeditor.com/</a><br>CKEditor系列教程（一）：<code>&lt;a href=&quot;/articles/9743/&quot; target=&quot;_blank&quot; class=&quot;block_project_a&quot;&gt;</code>CkEditor的安装与基础使用<code>&lt;/a&gt;</code><br>CKEditor系列教程（二）：<code>&lt;a href=&quot;/articles/32150/&quot; target=&quot;_blank&quot; class=&quot;block_project_a&quot;&gt;</code>CkEditor的配置说明<code>&lt;/a&gt;</code><br>CKEditor系列教程（三）：<code>&lt;a href=&quot;/articles/32287/&quot; target=&quot;_blank&quot; class=&quot;block_project_a&quot;&gt;</code>CkEditor图片上传到服务端<code>&lt;/a&gt;</code></p>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HTML</tag>
      
      <tag>前端组件</tag>
      
      <tag>CkEditor</tag>
      
      <tag>富文本编辑器</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Contos7.5环境上的Java安装</title>
    <link href="/articles/50773/"/>
    <url>/articles/50773/</url>
    
    <content type="html"><![CDATA[<h4 id="1、简述"><a href="#1、简述" class="headerlink" title="1、简述"></a>1、简述</h4><div class="note note-primary">            <p>基于云服务器Centos7.5，安装libreoffice需要java环境，安装方式有2种，建议选择第二种手动方式。首先，安装的路径你可以自动随便选择；其次yum安装的jdk只是jre环境，而手动安装包含了JDK与JRE2个环境，包含dt.jar、tools.jar包。</p>          </div><span class="label label-danger">Linux</span> <span class="label label-info">Java</span><span id="more"></span><hr /><p>前几天安装libreoffice环境，不清楚这个是干什么的，可以参考<a href="/articles/10477/" target="_blank" class="block_project_a">libreoffice安装与使用</a>。</p><h4 id="2、系统环境"><a href="#2、系统环境" class="headerlink" title="2、系统环境"></a>2、系统环境</h4><p>Contos7.5</p><div class="post_cus_note">--------------- Let's go ---------------</div><h4 id="3、安装"><a href="#3、安装" class="headerlink" title="3、安装"></a>3、安装</h4><p>这个主要用到yum命令，不清楚使用的同学可以baidu一下。</p><blockquote><p>yum</p></blockquote><ul><li><p>查找JDK</p>  <figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">yum search jdk</span><br></code></pre></td></tr></table></figure><p>  <img src="/articles/50773/yum_search.png"></p></li><li><p>安装</p><p>  这里我选择的是1.8版本，根据服务器的位数选择对应的版本。</p>  <figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">yum</span> install java-<span class="hljs-number">1</span>.<span class="hljs-number">8</span>.<span class="hljs-number">0</span>-openjdk.x86_64<br></code></pre></td></tr></table></figure><p>  安装完是下面这个样子：<br>  <img src="/articles/50773/java_list.png"></p></li><li><p>配置</p><p>  打开&#x2F;etc&#x2F;profile文件，把下面配置加到最下面。</p>  <figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-selector-id">#set</span> java environment<br>JAVA_HOME=/usr/lib/jvm/jre-<span class="hljs-number">1.8</span>.<span class="hljs-number">0</span>-openjdk-<span class="hljs-number">1.8</span>.<span class="hljs-number">0.275</span><span class="hljs-selector-class">.b01-0</span><span class="hljs-selector-class">.el7_9</span><span class="hljs-selector-class">.x86_64</span><br>PATH=<span class="hljs-variable">$PATH</span>:<span class="hljs-variable">$JAVA_HOME</span>/bin<br>CLASSPATH=.:<span class="hljs-variable">$JAVA_HOME</span>/lib/<span class="hljs-selector-tag">dt</span><span class="hljs-selector-class">.jar</span>:<span class="hljs-variable">$JAVA_HOME</span>/lib/tools<span class="hljs-selector-class">.jar</span><br>export JAVA_HOME CLASSPATH PATH<br></code></pre></td></tr></table></figure></li><li><p>验证</p>  <figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs applescript">java -<span class="hljs-built_in">version</span><br></code></pre></td></tr></table></figure><p>  <img src="/articles/50773/java_version.png"></p></li><li><p>其他说明</p><p>  yum安装的默认路径为：&#x2F;usr&#x2F;lib&#x2F;jvm。</p></li></ul><blockquote><p>手动</p></blockquote><ul><li><p>下载源码包</p><p>  下载地址：<a href="https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html">https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html</a><br>  选择需要安装的版本，这里选择的是：Linux x64 Compressed Archive。</p></li><li><p>上传服务器</p>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ruby">scp ~<span class="hljs-regexp">/Downloads/jdk</span>-8u281-linux-x64.tar.gz root<span class="hljs-variable">@121</span>.<span class="hljs-number">4.56</span>.<span class="hljs-number">169</span><span class="hljs-symbol">:~</span><br></code></pre></td></tr></table></figure></li><li><p>解压</p>  <figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">tar</span> -zxvf jdk-<span class="hljs-number">8</span>u281-linux-x64.tar.gz<br><span class="hljs-attribute">mv</span> jdk-<span class="hljs-number">8</span>u281-linux-x64 /usr/local/jdk1.<span class="hljs-number">8</span>.<span class="hljs-number">0</span>_281<br></code></pre></td></tr></table></figure></li><li><p>配置</p><p>  同样还是&#x2F;etc&#x2F;profile文件。</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#set java environment</span><br>JAVA_HOME=/usr/local/jdk1.8.0_281<br>JRE_HOME=/usr/local/jdk1.8.0_281/jre<br>CLASS_PATH=.:<span class="hljs-variable">$JAVA_HOME</span>/lib/dt.jar:<span class="hljs-variable">$JAVA_HOME</span>/lib/tools.jar:<span class="hljs-variable">$JRE_HOME</span>/lib<br>PATH=<span class="hljs-variable">$PATH</span>:<span class="hljs-variable">$JAVA_HOME</span>/bin:<span class="hljs-variable">$JRE_HOME</span>/bin<br><span class="hljs-built_in">export</span> JAVA_HOME JRE_HOME CLASS_PATH PATH<br></code></pre></td></tr></table></figure></li><li><p>测试</p>  <figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs applescript">java -<span class="hljs-built_in">version</span><br></code></pre></td></tr></table></figure></li></ul><h4 id="4、-JDK与JRE区别"><a href="#4、-JDK与JRE区别" class="headerlink" title="4、 JDK与JRE区别"></a>4、 JDK与JRE区别</h4><blockquote><p>含义</p></blockquote><ul><li>JDK：java development kit</li><li>JRE：java runtime environment</li></ul><blockquote><p>组成</p></blockquote><ul><li>JDK：JVM + 基础类库 + 开发工具</li><li>JRE：JVM</li></ul>]]></content>
    
    
    <categories>
      
      <category>服务器</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Libreoffice安装与使用</title>
    <link href="/articles/10477/"/>
    <url>/articles/10477/</url>
    
    <content type="html"><![CDATA[<h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><div class="note note-primary">            <p>官网介绍：<br>LibreOffice is Free and Open Source Software. LibreOffice is a powerful and free office suite, a successor to OpenOffice(.org), used by millions of people around the world. Its clean interface and feature-rich tools help you unleash your creativity and enhance your productivity. LibreOffice includes several applications that make it the most versatile Free and Open Source office suite on the market: Writer (word processing), Calc (spreadsheets), Impress (presentations), Draw (vector graphics and flowcharts), Base (databases), and Math (formula editing).<br>大致意思：LibreOffice是开源、免费的，用于文档方面处理的工具，很牛逼。<br>功能模块：</p><ul><li>文档-Writer(word processing)</li><li>表格-Calc (spreadsheets)</li><li>PPT-Impress (presentations)</li><li>绘图-Draw (vector graphics and flowcharts)</li><li>数据库-Base (databases)</li><li>算法-Math (formula editing)</li></ul><p><font color='red' size=4.5>基于Linux安装并使用</font>！！！。</p>          </div><span class="label label-danger">Libreoffice</span> <span class="label label-info">Linux</span> <span class="label label-primary">办公工具</span><span id="more"></span><hr /><p>LibreOffice跨平台，可以Windows、Linux、MacOS多平台安装，最新版为7.0.4。<br>下载地址：<a href="https://www.libreoffice.org/download/download/">https://www.libreoffice.org/download/download/</a></p><h3 id="版本信息"><a href="#版本信息" class="headerlink" title="版本信息"></a>版本信息</h3><table><thead><tr><th align="center">name</th><th align="center">version</th></tr></thead><tbody><tr><td align="center">腾讯云服务器</td><td align="center">CentOS Linux release 7.5.1804 (Core)</td></tr><tr><td align="center">Libreoffice</td><td align="center">6.4.7</td></tr></tbody></table><div class="post_cus_note">--------------- Let's go ------------</div><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><h4 id="下载文件"><a href="#下载文件" class="headerlink" title="下载文件"></a>下载文件</h4><p>选择 Linux x86_64(rpm) 的版本，下载得到 LibreOffice_6.4.7_Linux_x86-64_rpm.tar.gz。<br>Linux环境建议使用wget工具。</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">wget</span> //download.documentfoundation.org/libreoffice/stable/<span class="hljs-number">6</span>.<span class="hljs-number">4</span>.<span class="hljs-number">7</span>/mac/x86_64/LibreOffice_6.<span class="hljs-number">4</span>.<span class="hljs-number">7</span>_MacOS_x86-<span class="hljs-number">64</span>.dmg<br></code></pre></td></tr></table></figure><h4 id="清理环境"><a href="#清理环境" class="headerlink" title="清理环境"></a>清理环境</h4><p>在安装之前，先删除已经安装的 LibreOffice:</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">yum <span class="hljs-built_in">remove</span> libreoffice*<br></code></pre></td></tr></table></figure><h4 id="解压"><a href="#解压" class="headerlink" title="解压"></a>解压</h4><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">tar</span> -xvf LibreOffice_6.<span class="hljs-number">4</span>.<span class="hljs-number">7</span>_Linux_x86-<span class="hljs-number">64</span>_rpm.tar.gz<br></code></pre></td></tr></table></figure><h4 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h4><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">cd</span> LibreOffice_6.<span class="hljs-number">4</span>.<span class="hljs-number">7</span>_Linux_x86-<span class="hljs-number">64</span>_rpm/RPMS<br><span class="hljs-attribute">yum</span> localinstall *.rpm 或者 rpm -ivh *.rpm<br></code></pre></td></tr></table></figure><h4 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h4><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs crystal">[mingliang.gao<span class="hljs-variable">@VM</span>-<span class="hljs-number">0</span>-<span class="hljs-number">15</span>-centos install_packages]<span class="hljs-variable">$ </span>which libreoffice6.<span class="hljs-number">4</span><br><span class="hljs-regexp">/usr/bin</span><span class="hljs-regexp">/libreoffice6.4</span><br></code></pre></td></tr></table></figure><p>安装目录：&#x2F;opt&#x2F;libreoffice6.4<br>可以用find或者locate去查找安装目录。</p><h4 id="安装依赖"><a href="#安装依赖" class="headerlink" title="安装依赖"></a>安装依赖</h4><p>执行 libreoffice6.4 可能会提示库文件找不到libcairo.so.2，执行下面几条命令安装需要的库:</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cmake">yum <span class="hljs-keyword">install</span> cairo -y<br>yum <span class="hljs-keyword">install</span> cups-libs -y<br>yum <span class="hljs-keyword">install</span> libSM -y<br></code></pre></td></tr></table></figure><h3 id="pdf转word"><a href="#pdf转word" class="headerlink" title="pdf转word"></a>pdf转word</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus">libreoffice6.<span class="hljs-number">4</span> <span class="hljs-attr">--headless</span> <span class="hljs-attr">--infilter</span>=<span class="hljs-string">&#x27;writer_pdf_import&#x27;</span> <span class="hljs-attr">--convert-to</span> doc:<span class="hljs-string">&quot;MS Word 2007 XML&quot;</span> db2.pdf<br></code></pre></td></tr></table></figure><h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><p>LibreOffice for Android and iOS<br>While The Document Foundation doesn’t currently offer an Android or iOS version of LibreOffice, there is a LibreOffice-based product in app stores from Collabora, one of our certified developers and ecosystem members:<br>暂时不支持移动端，支持了之后，感觉格式转换这好多公司要没了。。。</p><h3 id="学习参考"><a href="#学习参考" class="headerlink" title="学习参考"></a>学习参考</h3><p>官网：<a href="https://www.libreoffice.org/">https://www.libreoffice.org/</a><br>中文官网：<a href="https://zh-cn.libreoffice.org/">https://zh-cn.libreoffice.org/</a><br>官网安装说明：<a href="https://www.libreoffice.org/get-help/install-howto/">https://www.libreoffice.org/get-help/install-howto/</a><br>Linux安装：<a href="https://wiki.documentfoundation.org/Installing_LibreOffice_on_Linux#Fedora_.2F_CentOS">https://wiki.documentfoundation.org/Installing_LibreOffice_on_Linux#Fedora_.2F_CentOS</a></p><p>任何学习的东西在官网都找得到，对于LibreOffice本人也是初窥门径，日后也会给出其他的相关使用命令。</p><p><font color="red" size="5"><em><strong>只有不断的学习才明白自己菜得一逼，加油，继续学习，致自己！！！</strong></em></font></p>]]></content>
    
    
    <categories>
      
      <category>服务器</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Libreoffice</tag>
      
      <tag>办公工具</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>常用DNS总结</title>
    <link href="/articles/35553/"/>
    <url>/articles/35553/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><hr /><table><thead><tr><th align="center">ID</th><th align="center">IP</th><th align="center">NAME</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">8.8.8.8</td><td align="center">Google</td></tr><tr><td align="center">2</td><td align="center">8.8.4.4</td><td align="center">Google备用</td></tr><tr><td align="center">3</td><td align="center">119.29.29.29</td><td align="center">腾讯</td></tr><tr><td align="center">4</td><td align="center">180.76.76.76</td><td align="center">百度</td></tr><tr><td align="center">5</td><td align="center">223.5.5.5</td><td align="center">阿里</td></tr><tr><td align="center">6</td><td align="center">223.6.6.6</td><td align="center">阿里</td></tr><tr><td align="center">7</td><td align="center">114.114.114.114</td><td align="center">114</td></tr><tr><td align="center">8</td><td align="center">114.114.114.115</td><td align="center">114备用</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>服务器</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DNS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>NPM install报错：code128</title>
    <link href="/articles/57475/"/>
    <url>/articles/57475/</url>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>用的是vue-element-admin脚手架在macos上起来了，后来在win电脑上也下载了自己写的open2lui项目，<em><strong>npm install</strong></em>的时候发现报了code 128的错误，记录一下。</p>          </div><span class="label label-info">VUE</span> <span class="label label-default">NPM</span><span id="more"></span><hr /><h4 id="1、问题描述"><a href="#1、问题描述" class="headerlink" title="1、问题描述"></a>1、问题描述</h4><p>在npm install安装包的时候出现一下问题：</p><p><img src="/articles/57475/error.png"></p><h4 id="2、解决方案"><a href="#2、解决方案" class="headerlink" title="2、解决方案"></a>2、解决方案</h4><p>看了下错误，发现是raphael.git项目git不下来，baidu了一下控制台进行git设置：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus">git config <span class="hljs-attr">--global</span> http<span class="hljs-selector-class">.sslverify</span> <span class="hljs-string">&quot;false&quot;</span><br>git config <span class="hljs-attr">--global</span> url.<span class="hljs-string">&quot;https://&quot;</span><span class="hljs-selector-class">.insteadOf</span> git:<span class="hljs-comment">//</span><br></code></pre></td></tr></table></figure><p>执行完之后，在进行<em><strong>npm install</strong></em>。</p><h4 id="3、推荐"><a href="#3、推荐" class="headerlink" title="3、推荐"></a>3、推荐</h4><p>基于vue-element-admin的一套后台管理系统基础模板，简单易用。<br>GitHub地址：<a href="https://github.com/PanJiaChen/vue-admin-template">https://github.com/PanJiaChen/vue-admin-template</a></p><p><font size=6.5 color='red'>坚持学习。。。。。。</font></p>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VUE</tag>
      
      <tag>NPM</tag>
      
      <tag>NODE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>HTML+CSS标题艺术字</title>
    <link href="/articles/25985/"/>
    <url>/articles/25985/</url>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>HTML基于css开发的艺术字，有特效。</p>          </div><span id="more"></span><hr /><p><img src="/articles/25985/article_artfont.gif"></p><p>样式分为2种，其实就是把效果反过来了，pushdown与raisedoup。</p><h4 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;f-pr-heading-wrapper&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;f-pushdown-header f-pushdown-header-pushDown&quot;</span> <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;HOVER ME&quot;</span>&gt;</span><br>      You can<br>      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;color:red;&quot;</span>&gt;</span>search<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>      everything<br>  <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h4><p>f-pr-heading-wrapper为div基础标签。<br>background:-webkit-gradient是用于标签背景。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.f-pr-heading-wrapper</span> &#123;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;<br>    <span class="hljs-attribute">text-align</span>: center;<br>    <span class="hljs-comment">/*padding: 10px;*/</span><br>    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#00BFFF</span>;<br><span class="hljs-attribute">background</span>:<span class="hljs-built_in">-webkit-gradient</span>(linear, <span class="hljs-number">0%</span> <span class="hljs-number">0%</span>, <span class="hljs-number">0%</span> <span class="hljs-number">100%</span>,<span class="hljs-built_in">from</span>(<span class="hljs-number">#FFFF00</span>), <span class="hljs-built_in">to</span>(<span class="hljs-number">#2EFE2E</span>));<br>&#125;<br><br><span class="hljs-comment">/* PUSH DOWN */</span><br><span class="hljs-selector-class">.f-pushdown-header</span> &#123;<br>    <span class="hljs-attribute">display</span>: inline-block;<br>    <span class="hljs-attribute">text-align</span>: center;<br>    <span class="hljs-attribute">font-family</span>: <span class="hljs-string">&#x27;Francois One&#x27;</span>, Helvetica, Arial, sans-serif;<br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">6rem</span>;<br>    <span class="hljs-attribute">color</span>: <span class="hljs-number">#e7e7e7</span>;<br>    <span class="hljs-attribute">text-decoration</span>: none;<br>    <span class="hljs-attribute">transition</span>: all <span class="hljs-number">400ms</span> ease-in-out;<br>&#125;<br><br><span class="hljs-selector-class">.f-pushdown-header-pushDown</span> &#123;<br>    <span class="hljs-attribute">text-shadow</span>: <span class="hljs-number">1.5px</span> <span class="hljs-number">1.5px</span> <span class="hljs-number">0</span> <span class="hljs-number">#333</span>, <span class="hljs-number">0px</span> <span class="hljs-number">1.5px</span> <span class="hljs-number">0</span> <span class="hljs-number">#333</span>, -<span class="hljs-number">1.5px</span> -<span class="hljs-number">1.5px</span> <span class="hljs-number">0</span> <span class="hljs-number">#333</span>, -<span class="hljs-number">1.5px</span> -<span class="hljs-number">1.5px</span> <span class="hljs-number">0</span> <span class="hljs-number">#333</span>, -<span class="hljs-number">1.5px</span> <span class="hljs-number">1.5px</span> <span class="hljs-number">0</span> <span class="hljs-number">#333</span>, <span class="hljs-number">1.5px</span> -<span class="hljs-number">1.5px</span> <span class="hljs-number">0</span> <span class="hljs-number">#333</span>, <span class="hljs-number">0.77782px</span> <span class="hljs-number">0.77782px</span> <span class="hljs-number">0</span> <span class="hljs-number">#aaaaaa</span>, <span class="hljs-number">1.55563px</span> <span class="hljs-number">1.55563px</span> <span class="hljs-number">0</span> <span class="hljs-number">#aaaaaa</span>, <span class="hljs-number">2.33345px</span> <span class="hljs-number">2.33345px</span> <span class="hljs-number">0</span> <span class="hljs-number">#aaaaaa</span>, <span class="hljs-number">3.11127px</span> <span class="hljs-number">3.11127px</span> <span class="hljs-number">0</span> <span class="hljs-number">#aaaaaa</span>, <span class="hljs-number">3.88909px</span> <span class="hljs-number">3.88909px</span> <span class="hljs-number">0</span> <span class="hljs-number">#aaaaaa</span>, <span class="hljs-number">4.6669px</span> <span class="hljs-number">4.6669px</span> <span class="hljs-number">0</span> <span class="hljs-number">#aaaaaa</span>, <span class="hljs-number">5.44472px</span> <span class="hljs-number">5.44472px</span> <span class="hljs-number">0</span> <span class="hljs-number">#aaaaaa</span>, <span class="hljs-number">6.22254px</span> <span class="hljs-number">6.22254px</span> <span class="hljs-number">0</span> <span class="hljs-number">#aaaaaa</span>, <span class="hljs-number">7.00036px</span> <span class="hljs-number">7.00036px</span> <span class="hljs-number">0</span> <span class="hljs-number">#aaaaaa</span>, <span class="hljs-number">7.77817px</span> <span class="hljs-number">7.77817px</span> <span class="hljs-number">0</span> <span class="hljs-number">#aaaaaa</span>;<br>&#125;<br><br><span class="hljs-selector-class">.f-pushdown-header-pushDown</span><span class="hljs-selector-pseudo">:hover</span> &#123;<br>    <span class="hljs-attribute">color</span>: <span class="hljs-number">#0d6aad</span>;<br>    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate</span>(<span class="hljs-number">10px</span>, <span class="hljs-number">0</span>);<br>    <span class="hljs-attribute">text-shadow</span>: <span class="hljs-number">1.5px</span> <span class="hljs-number">1.5px</span> <span class="hljs-number">0</span> <span class="hljs-number">#cac6c5</span>, -<span class="hljs-number">1.5px</span> -<span class="hljs-number">1.5px</span> <span class="hljs-number">0</span> <span class="hljs-number">#cac6c5</span>, -<span class="hljs-number">1.5px</span> -<span class="hljs-number">1.5px</span> <span class="hljs-number">0</span> <span class="hljs-number">#cac6c5</span>, -<span class="hljs-number">1.5px</span> <span class="hljs-number">1.5px</span> <span class="hljs-number">0</span> <span class="hljs-number">#cac6c5</span>, <span class="hljs-number">1.5px</span> -<span class="hljs-number">1.5px</span> <span class="hljs-number">0</span> <span class="hljs-number">#cac6c5</span>;<br>&#125;<br><br><span class="hljs-comment">/* RAISE UP */</span><br><span class="hljs-selector-class">.f-raiseup-header</span> &#123;<br>    <span class="hljs-attribute">display</span>: inline-block;<br>    <span class="hljs-attribute">text-align</span>: center;<br>    <span class="hljs-attribute">font-family</span>: <span class="hljs-string">&#x27;Francois One&#x27;</span>, Helvetica, Arial, sans-serif;<br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">6rem</span>;<br>    <span class="hljs-attribute">color</span>: <span class="hljs-number">#e7e7e7</span>;<br>    <span class="hljs-attribute">text-decoration</span>: none;<br>    <span class="hljs-attribute">transition</span>: all <span class="hljs-number">400ms</span> ease-in-out;<br>&#125;<br><br><span class="hljs-selector-class">.f-raiseup-header-pushDown</span> &#123;<br>     <span class="hljs-attribute">text-shadow</span>: <span class="hljs-number">1.5px</span> <span class="hljs-number">1.5px</span> <span class="hljs-number">0</span> <span class="hljs-number">#cac6c5</span>, -<span class="hljs-number">1.5px</span> -<span class="hljs-number">1.5px</span> <span class="hljs-number">0</span> <span class="hljs-number">#cac6c5</span>, -<span class="hljs-number">1.5px</span> -<span class="hljs-number">1.5px</span> <span class="hljs-number">0</span> <span class="hljs-number">#cac6c5</span>, -<span class="hljs-number">1.5px</span> <span class="hljs-number">1.5px</span> <span class="hljs-number">0</span> <span class="hljs-number">#cac6c5</span>, <span class="hljs-number">1.5px</span> -<span class="hljs-number">1.5px</span> <span class="hljs-number">0</span> <span class="hljs-number">#cac6c5</span>;<br>&#125;<br><br><span class="hljs-selector-class">.f-raiseup-header-pushDown</span><span class="hljs-selector-pseudo">:hover</span> &#123;<br>    <span class="hljs-attribute">color</span>: <span class="hljs-number">#0d6aad</span>;<br>    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate</span>(<span class="hljs-number">10px</span>, <span class="hljs-number">0</span>);<br>    <span class="hljs-attribute">text-shadow</span>: <span class="hljs-number">1.5px</span> <span class="hljs-number">1.5px</span> <span class="hljs-number">0</span> <span class="hljs-number">#333</span>, <span class="hljs-number">0px</span> <span class="hljs-number">1.5px</span> <span class="hljs-number">0</span> <span class="hljs-number">#333</span>, -<span class="hljs-number">1.5px</span> -<span class="hljs-number">1.5px</span> <span class="hljs-number">0</span> <span class="hljs-number">#333</span>, -<span class="hljs-number">1.5px</span> -<span class="hljs-number">1.5px</span> <span class="hljs-number">0</span> <span class="hljs-number">#333</span>, -<span class="hljs-number">1.5px</span> <span class="hljs-number">1.5px</span> <span class="hljs-number">0</span> <span class="hljs-number">#333</span>, <span class="hljs-number">1.5px</span> -<span class="hljs-number">1.5px</span> <span class="hljs-number">0</span> <span class="hljs-number">#333</span>, <span class="hljs-number">0.77782px</span> <span class="hljs-number">0.77782px</span> <span class="hljs-number">0</span> <span class="hljs-number">#aaaaaa</span>, <span class="hljs-number">1.55563px</span> <span class="hljs-number">1.55563px</span> <span class="hljs-number">0</span> <span class="hljs-number">#aaaaaa</span>, <span class="hljs-number">2.33345px</span> <span class="hljs-number">2.33345px</span> <span class="hljs-number">0</span> <span class="hljs-number">#aaaaaa</span>, <span class="hljs-number">3.11127px</span> <span class="hljs-number">3.11127px</span> <span class="hljs-number">0</span> <span class="hljs-number">#aaaaaa</span>, <span class="hljs-number">3.88909px</span> <span class="hljs-number">3.88909px</span> <span class="hljs-number">0</span> <span class="hljs-number">#aaaaaa</span>, <span class="hljs-number">4.6669px</span> <span class="hljs-number">4.6669px</span> <span class="hljs-number">0</span> <span class="hljs-number">#aaaaaa</span>, <span class="hljs-number">5.44472px</span> <span class="hljs-number">5.44472px</span> <span class="hljs-number">0</span> <span class="hljs-number">#aaaaaa</span>, <span class="hljs-number">6.22254px</span> <span class="hljs-number">6.22254px</span> <span class="hljs-number">0</span> <span class="hljs-number">#aaaaaa</span>, <span class="hljs-number">7.00036px</span> <span class="hljs-number">7.00036px</span> <span class="hljs-number">0</span> <span class="hljs-number">#aaaaaa</span>, <span class="hljs-number">7.77817px</span> <span class="hljs-number">7.77817px</span> <span class="hljs-number">0</span> <span class="hljs-number">#aaaaaa</span>;<br><br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HTML</tag>
      
      <tag>CSS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>HTML+CSS+HR分割线</title>
    <link href="/articles/50666/"/>
    <url>/articles/50666/</url>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>推荐几款好看的hr标签分割线，也是网上找的，基于html与css，总结一下。</p>          </div><span id="more"></span><p><img src="/articles/50666/article_hr.png"></p><h4 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs routeros">&lt;hr <span class="hljs-attribute">class</span>=<span class="hljs-string">&quot;hr-grow-base hr-grow-trans hr-grow-hr1&quot;</span>&gt;<br>内容。。。。。。。。。。。。。。。。。。。。<br>&lt;hr <span class="hljs-attribute">class</span>=<span class="hljs-string">&quot;hr-grow-base hr-grow-trans hr-grow-hr2&quot;</span>&gt;<br>&lt;hr <span class="hljs-attribute">class</span>=<span class="hljs-string">&quot;hr-color-fade&quot;</span>&gt;<br>&lt;hr <span class="hljs-attribute">class</span>=<span class="hljs-string">&quot;hr-lean-line&quot;</span>&gt;<br>&lt;hr <span class="hljs-attribute">class</span>=<span class="hljs-string">&quot;hr-gray-fade&quot;</span>&gt;<br>&lt;hr <span class="hljs-attribute">class</span>=<span class="hljs-string">&quot;hr-grap-shadow&quot;</span>&gt;<br>&lt;hr <span class="hljs-attribute">class</span>=<span class="hljs-string">&quot;hr-dots&quot;</span>&gt;<br>&lt;hr <span class="hljs-attribute">class</span>=<span class="hljs-string">&quot;hr-accessory&quot;</span>&gt;<br>&lt;hr <span class="hljs-attribute">class</span>=<span class="hljs-string">&quot;hr-pill&quot;</span>&gt;<br>&lt;hr <span class="hljs-attribute">class</span>=<span class="hljs-string">&quot;hr-vertical-lines&quot;</span>&gt;<br>&lt;hr <span class="hljs-attribute">class</span>=<span class="hljs-string">&quot;hr-slash&quot;</span>&gt;<br>&lt;hr <span class="hljs-attribute">class</span>=<span class="hljs-string">&quot;hr-wave&quot;</span>&gt;<br>&lt;hr <span class="hljs-attribute">class</span>=<span class="hljs-string">&quot;hr-stars&quot;</span>&gt;<br></code></pre></td></tr></table></figure><p>其中，关于Hr grow style样式需要说明一下，除了加上html与css之外，还需要加上js才会有动画效果。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>    $(<span class="hljs-string">&#x27;.hr-grow-trans&#x27;</span>).<span class="hljs-title function_">addClass</span>(<span class="hljs-string">&#x27;hr-grow-add&#x27;</span>);<br>&#125;, <span class="hljs-number">275</span>);<br></code></pre></td></tr></table></figure><h4 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/* Color fade */</span><br><span class="hljs-selector-class">.hr-color-fade</span> &#123;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;<br>    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;<br>    <span class="hljs-attribute">border</span>: <span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">4px</span>;<br>    <span class="hljs-attribute">background</span>: <span class="hljs-number">#333</span>;<br>    <span class="hljs-attribute">background-image</span>: <span class="hljs-built_in">linear-gradient</span>(to right, red, <span class="hljs-number">#333</span>, <span class="hljs-built_in">rgb</span>(<span class="hljs-number">9</span>, <span class="hljs-number">206</span>, <span class="hljs-number">91</span>));<br>&#125;<br><br><span class="hljs-comment">/* Gray fade */</span><br><span class="hljs-selector-class">.hr-gray-fade</span> &#123;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;<br>    <span class="hljs-attribute">margin</span>:<span class="hljs-number">0</span> auto;<br>    <span class="hljs-attribute">border</span>: <span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">4px</span>;<br>    <span class="hljs-attribute">background-image</span>: <span class="hljs-built_in">linear-gradient</span>(to right, <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>), <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.75</span>), <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>));<br>&#125;<br><br><span class="hljs-comment">/*Lean line*/</span><br><span class="hljs-selector-class">.hr-lean-line</span> &#123;<br>  <span class="hljs-attribute">position</span>: relative;<br>  <span class="hljs-attribute">display</span>: block;<br>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">4em</span>;<br>  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">4em</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">3px</span>;<br>  <span class="hljs-attribute">border</span>:none;<br>  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(to right, transparent <span class="hljs-number">50%</span>, <span class="hljs-number">#fff</span> <span class="hljs-number">50%</span>), <span class="hljs-built_in">linear-gradient</span>(to right, <span class="hljs-number">#00b9ff</span>, <span class="hljs-number">#59d941</span>);<br>  <span class="hljs-attribute">background-size</span>: <span class="hljs-number">1.5rem</span>, <span class="hljs-number">100%</span>;<br>  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(-<span class="hljs-number">4.5deg</span>);<br>  <span class="hljs-attribute">transform-origin</span>: <span class="hljs-number">50%</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">/*Grap-shadow*/</span><br><span class="hljs-selector-class">.hr-grap-shadow</span> &#123;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">10px</span>;<br>    <span class="hljs-attribute">border</span>: <span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">10px</span> <span class="hljs-number">10px</span> -<span class="hljs-number">10px</span> <span class="hljs-number">#3c3f41</span> inset;<br>&#125;<br><br><br><span class="hljs-comment">/* Hr grow style</span><br><span class="hljs-comment">html:</span><br><span class="hljs-comment">&lt;hr class=&quot;hr-grow-base hr-grow-trans hr-grow-hr1&quot;&gt;</span><br><span class="hljs-comment">&lt;hr class=&quot;hr-grow-base hr-grow-trans hr-grow-hr2&quot;&gt;</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">js:</span><br><span class="hljs-comment">setTimeout(function()&#123;</span><br><span class="hljs-comment">    $(&#x27;.hr-grow-trans&#x27;).addClass(&#x27;hr-grow-add&#x27;);</span><br><span class="hljs-comment">&#125;, 275);</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-selector-class">.hr-grow-base</span>&#123;<br>    <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">20px</span>;<br>    <span class="hljs-attribute">padding</span>: <span class="hljs-number">1.5px</span> <span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">border</span>: none;<br>    <span class="hljs-comment">/*background-color: rgb(250, 150, 0);*/</span><br>    <span class="hljs-attribute">background-image</span>: <span class="hljs-built_in">linear-gradient</span>(to right, red, <span class="hljs-number">#333</span>, <span class="hljs-built_in">rgb</span>(<span class="hljs-number">9</span>, <span class="hljs-number">206</span>, <span class="hljs-number">91</span>));<br>    <span class="hljs-attribute">letter-spacing</span>: <span class="hljs-number">5px</span>;<br>&#125;<br><span class="hljs-selector-class">.hr-grow-hr1</span>&#123;<br>    <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">2%</span>;<br>&#125;<br><span class="hljs-selector-class">.hr-grow-hr2</span>&#123;<br>    <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">2%</span>;<br>&#125;<br><span class="hljs-selector-class">.hr-grow-trans</span>&#123;<br>    -webkit-<span class="hljs-attribute">transition</span>: width <span class="hljs-number">1s</span> ease-out;<br>    <span class="hljs-attribute">transition</span>: width <span class="hljs-number">1s</span>  ease-out;<br>    <span class="hljs-attribute">width</span> : <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-selector-class">.hr-grow-add</span>&#123;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">96%</span>;<br>&#125;<br><br><span class="hljs-comment">/*Dots*/</span><br><span class="hljs-selector-class">.hr-dots</span>&#123;<br>    <span class="hljs-attribute">color</span>: orange;<br>    <span class="hljs-attribute">border-width</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">8px</span>;<br>    <span class="hljs-attribute">border-style</span>: solid;<br>    <span class="hljs-attribute">border-image</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">&#x27;data:image/svg+xml,&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; viewBox=&quot;0 0 2 1&quot; width=&quot;8&quot; height=&quot;4&quot;&gt;&lt;circle fill=&quot;orange&quot; cx=&quot;1&quot; cy=&quot;0.5&quot; r=&quot;0.5&quot;/&gt;&lt;/svg&gt;&#x27;</span>) <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">100%</span> repeat;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">90%</span>;<br>&#125;<br><br><span class="hljs-comment">/*accessory*/</span><br><span class="hljs-selector-class">.hr-accessory</span> &#123;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">6px</span>;<br>    <span class="hljs-attribute">background-image</span>: <span class="hljs-built_in">radial-gradient</span>(closest-side, gray, <span class="hljs-built_in">rgba</span>(<span class="hljs-number">128</span>, <span class="hljs-number">128</span>, <span class="hljs-number">128</span>, <span class="hljs-number">0</span>) <span class="hljs-number">100%</span>);<br>    <span class="hljs-attribute">position</span>: relative;<br>&#125;<br><br><span class="hljs-selector-class">.hr-accessory</span><span class="hljs-selector-pseudo">:after</span> &#123;<br>    <span class="hljs-attribute">position</span>: absolute;<br>    <span class="hljs-attribute">top</span>: <span class="hljs-number">50%</span>;<br>    <span class="hljs-attribute">left</span>: <span class="hljs-number">50%</span>;<br>    <span class="hljs-attribute">display</span>: block;<br>    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#bfbfbf</span>;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">12px</span>;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">12px</span>;<br>    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">45deg</span>);<br>    <span class="hljs-attribute">margin-top</span>: -<span class="hljs-number">10px</span>;<br>    <span class="hljs-attribute">margin-left</span>: -<span class="hljs-number">10px</span>;<br>    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span> <span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">border</span>: <span class="hljs-number">4px</span> solid <span class="hljs-built_in">rgba</span>(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0.35</span>);<br>    <span class="hljs-attribute">background-clip</span>: padding-box;<br>    <span class="hljs-attribute">box-shadow</span>: -<span class="hljs-number">10px</span> <span class="hljs-number">10px</span> <span class="hljs-number">0</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0.15</span>), <span class="hljs-number">10px</span> -<span class="hljs-number">10px</span> <span class="hljs-number">0</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0.15</span>);<br>&#125;<br><br><br><span class="hljs-comment">/*pill*/</span><br><span class="hljs-selector-class">.hr-pill</span> &#123;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">1rem</span>;<br>    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">1rem</span>;<br>    <span class="hljs-attribute">color</span>: teal;<br>    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#00FFFF</span>;<br>    <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid currentColor;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">80%</span>;<br>&#125;<br><br><br><span class="hljs-comment">/*vertical-lines*/</span><br><span class="hljs-selector-class">.hr-vertical-lines</span> &#123;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">1rem</span>;<br>    <span class="hljs-attribute">color</span>: orange;<br>    <span class="hljs-attribute">background-image</span>: <span class="hljs-built_in">linear-gradient</span>(<span class="hljs-number">90deg</span>, currentColor, currentColor <span class="hljs-number">33.33%</span>, transparent <span class="hljs-number">33.33%</span>, transparent <span class="hljs-number">100%</span>);<br>    <span class="hljs-attribute">background-size</span>: <span class="hljs-number">3px</span> <span class="hljs-number">100%</span>;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">80%</span>;<br>&#125;<br><br><span class="hljs-comment">/*slash*/</span><br><span class="hljs-selector-class">.hr-slash</span> &#123;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">10px</span>;<br>    <span class="hljs-attribute">background-image</span>: <span class="hljs-built_in">linear-gradient</span>(<span class="hljs-number">45deg</span>, <span class="hljs-built_in">rgba</span>(<span class="hljs-number">13</span>, <span class="hljs-number">13</span>, <span class="hljs-number">13</span>, <span class="hljs-number">0</span>), <span class="hljs-built_in">rgba</span>(<span class="hljs-number">13</span>, <span class="hljs-number">13</span>, <span class="hljs-number">13</span>, <span class="hljs-number">0</span>) <span class="hljs-number">33.33%</span>, <span class="hljs-number">#0d0d0d</span> <span class="hljs-number">33.33%</span>, <span class="hljs-number">#0d0d0d</span> <span class="hljs-number">66.67%</span>, <span class="hljs-built_in">rgba</span>(<span class="hljs-number">13</span>, <span class="hljs-number">13</span>, <span class="hljs-number">13</span>, <span class="hljs-number">0</span>) <span class="hljs-number">66.67%</span>, <span class="hljs-built_in">rgba</span>(<span class="hljs-number">13</span>, <span class="hljs-number">13</span>, <span class="hljs-number">13</span>, <span class="hljs-number">0</span>) <span class="hljs-number">100%</span>);<br>    <span class="hljs-attribute">background-size</span>: <span class="hljs-number">10px</span> <span class="hljs-number">100%</span>;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">90%</span>;<br>&#125;<br><br><br><span class="hljs-comment">/* Wave */</span><br><span class="hljs-selector-class">.hr-wave</span> &#123;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">96%</span>;<br>    <span class="hljs-attribute">border-image</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">&#x27;data:image/svg+xml,&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; viewBox=&quot;0 0 12 15&quot; width=&quot;12&quot; height=&quot;15&quot;&gt;&lt;path fill=&quot;none&quot; stroke=&quot;rgba(191, 191, 191, 0.9)&quot; stroke-width=&quot;3&quot; d=&quot;M0,13.5c3,0,3-12,6-12s3,12,6,12&quot;/&gt;&lt;/svg&gt;&#x27;</span>) <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">100%</span> repeat;<br>    <span class="hljs-attribute">border-width</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0.8rem</span>;<br>    <span class="hljs-attribute">border-style</span>: solid;<br>&#125;<br><br><span class="hljs-comment">/* stars */</span><br><span class="hljs-selector-class">.hr-stars</span> &#123;<br>    <span class="hljs-attribute">border</span>: <span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">height</span>: auto;<br>    <span class="hljs-attribute">color</span>: gold;<br>    <span class="hljs-attribute">text-align</span>: center;<br>&#125;<br><span class="hljs-selector-class">.hr-stars</span><span class="hljs-selector-pseudo">:after</span> &#123;<br>    <span class="hljs-attribute">content</span>: <span class="hljs-string">&quot;★&quot;</span>;<br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1em</span>;<br>    <span class="hljs-attribute">text-shadow</span>: -<span class="hljs-number">6em</span> <span class="hljs-number">0</span>, -<span class="hljs-number">5em</span> <span class="hljs-number">0</span>, -<span class="hljs-number">4em</span> <span class="hljs-number">0</span>, -<span class="hljs-number">3em</span> <span class="hljs-number">0</span>, -<span class="hljs-number">2em</span> <span class="hljs-number">0</span>, -<span class="hljs-number">1em</span> <span class="hljs-number">0</span>, <span class="hljs-number">1em</span> <span class="hljs-number">0</span>, <span class="hljs-number">2em</span> <span class="hljs-number">0</span>, <span class="hljs-number">3em</span> <span class="hljs-number">0</span>, <span class="hljs-number">4em</span> <span class="hljs-number">0</span>, <span class="hljs-number">5em</span> <span class="hljs-number">0</span>, <span class="hljs-number">6em</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HTML</tag>
      
      <tag>CSS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python之NLTK包[ERRNO61] Connection Refused</title>
    <link href="/articles/38502/"/>
    <url>/articles/38502/</url>
    
    <content type="html"><![CDATA[<p><font size=6.5 color='red'>解决MacOS安装nltk报[ERRNO61] Connection Refused的问题。</font></p><span id="more"></span><hr /><p>要解析一些DB2的存储过程，查询一些指定的词语，打算搞个脚本，用到nltk这个自然语言处理的包，安装之后，运行：</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs haskell"><span class="hljs-meta"># GUI Downloader</span><br><span class="hljs-keyword">import</span> nltk<br><span class="hljs-title">nltk</span>.download()<br></code></pre></td></tr></table></figure><p>出现上述情况，下载不了包。</p><div class="post_cus_note">=============解决方案=============</div><h4 id="方案一"><a href="#方案一" class="headerlink" title="方案一"></a>方案一</h4><p>离线下载包，地址：<a href="https://github.com/nltk/nltk_data/tree/gh-pages">https://github.com/nltk/nltk_data/tree/gh-pages</a><br>下载之后把文件放在&#x2F;Users&#x2F;用户名&#x2F;nltk_data目录下，改下用户即可。</p><h4 id="方案二"><a href="#方案二" class="headerlink" title="方案二"></a>方案二</h4><p>在GUI Downloader上，更换Server Index地址：<a href="http://www.nltk.org/nltk_data/">http://www.nltk.org/nltk_data/</a><br>可行，但是不是永久的，每次打开都得重新设置。</p><p><img src="/articles/38502/ok_nltk.png"></p><h4 id="方案三"><a href="#方案三" class="headerlink" title="方案三"></a>方案三</h4><p>找到nltk包的downloader文件，去更改默认下载地址。<br>我用的是conda建造的环境，或者用pycharm的去一级一级找就可以了。<br>位置：&#x2F;opt&#x2F;anaconda3&#x2F;envs&#x2F;python3.7&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;nltk&#x2F;downloader.py</p><p><img src="/articles/38502/update_url.png"></p><p>本人开发环境：MacOS + Pyhton3.7</p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Python包</tag>
      
      <tag>ERROR集</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>VIM基础配置</title>
    <link href="/articles/36465/"/>
    <url>/articles/36465/</url>
    
    <content type="html"><![CDATA[<p>总结分享一下<strong>VIM基础配置</strong>。</p><span id="more"></span><hr /><h3 id="1、配置文件"><a href="#1、配置文件" class="headerlink" title="1、配置文件"></a>1、配置文件</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-string">&quot; A vimrc file.</span><br><span class="hljs-string">&quot;</span><br><span class="hljs-string">&quot; User:mingliang.gao</span><br><span class="hljs-string">&quot;</span> Create time: 2020-12-20<br><span class="hljs-string">&quot;</span><br><span class="hljs-string"></span><br><span class="hljs-string">&quot;</span> ================================ base setting ================================<br><span class="hljs-built_in">set</span> nocompatible<br><span class="hljs-built_in">set</span> number<br>filetype plugin indent on<br><span class="hljs-built_in">set</span> <span class="hljs-attribute">history</span>=1000<br><span class="hljs-built_in">set</span> <span class="hljs-attribute">background</span>=dark<br>syntax on<br>syntax <span class="hljs-built_in">enable</span><br><span class="hljs-built_in">set</span> ruler<br><span class="hljs-built_in">set</span> showmatch<br><span class="hljs-built_in">set</span> <span class="hljs-attribute">laststatus</span>=2<br><span class="hljs-built_in">set</span> showmode<br><span class="hljs-built_in">set</span> ignorecase<br><span class="hljs-built_in">set</span> nofoldenable <span class="hljs-string">&quot; 不折叠代码</span><br><span class="hljs-string">set showcmd</span><br><span class="hljs-string">set mouse=a    &quot;</span> 开启鼠标<br><span class="hljs-built_in">set</span> wrap<br><span class="hljs-built_in">set</span> noerrorbells<br><span class="hljs-built_in">set</span> <span class="hljs-attribute">backspace</span>=2<br><br><span class="hljs-string">&quot; 设置molokai主题</span><br><span class="hljs-string">let mapleader=&#x27;,&#x27;</span><br><span class="hljs-string">let g:molokai_original = 1</span><br><span class="hljs-string">let g:rehash256 = 1</span><br><span class="hljs-string">set t_Co=256</span><br><span class="hljs-string">colorscheme molokai</span><br><span class="hljs-string"></span><br><span class="hljs-string">&quot;</span> search<br><span class="hljs-built_in">set</span> hlsearch<br><span class="hljs-built_in">set</span> incsearch<br><br><span class="hljs-string">&quot; 文件编码</span><br><span class="hljs-string">set termencoding=utf-8</span><br><span class="hljs-string">set encoding=utf8</span><br><span class="hljs-string">set fileencodings=utf8,ucs-bom,gbk,cp936,gb2312,gb18030</span><br><span class="hljs-string"></span><br><span class="hljs-string">&quot;</span> 分割布局<br><span class="hljs-built_in">set</span> splitbelow<br><span class="hljs-built_in">set</span> splitright<br><br><span class="hljs-string">&quot; 用浅颜色高亮当前行，列</span><br><span class="hljs-string">set cul</span><br><span class="hljs-string">set cuc</span><br><span class="hljs-string">highlight CursorLine   cterm=NONE ctermbg=black ctermfg=blue guibg=NONE guifg=NONE</span><br><span class="hljs-string">highlight CursorColumn cterm=NONE ctermbg=black ctermfg=blue guibg=NONE guifg=NONE</span><br><span class="hljs-string"></span><br><span class="hljs-string">&quot;</span> 缩进方式<br><span class="hljs-built_in">set</span> autoindent<br><span class="hljs-built_in">set</span> smartindent<br><span class="hljs-built_in">set</span> <span class="hljs-attribute">tabstop</span>=4<br><span class="hljs-built_in">set</span> <span class="hljs-attribute">shiftwidth</span>=4<br><br><span class="hljs-string">&quot; 备份</span><br><span class="hljs-string">if has(&quot;</span>vms<span class="hljs-string">&quot;)</span><br><span class="hljs-string">  set nobackup&quot;</span> <span class="hljs-keyword">do</span> <span class="hljs-keyword">not</span> keep a backup file, use versions instead<br><span class="hljs-keyword">else</span><br>  <span class="hljs-built_in">set</span> backup<span class="hljs-string">&quot; keep a backup file (restore to previous version)</span><br><span class="hljs-string">  if has(&#x27;persistent_undo&#x27;)</span><br><span class="hljs-string">    set undofile&quot;</span> keep an undo file (undo changes after closing)<br>  endif<br>endif<br><br><span class="hljs-string">&quot; swap文件与undo文件</span><br><span class="hljs-string">set swapfile</span><br><span class="hljs-string">set undofile</span><br><span class="hljs-string"></span><br><span class="hljs-string">&quot;</span>=====================================================================================<br><br></code></pre></td></tr></table></figure><h3 id="2、配置说明"><a href="#2、配置说明" class="headerlink" title="2、配置说明"></a>2、配置说明</h3><h4 id="1、基础配置说明"><a href="#1、基础配置说明" class="headerlink" title="1、基础配置说明"></a>1、基础配置说明</h4><ul><li>set nocompatible：不兼容vi</li><li>set number：行号</li><li>filetype plugin indent on：自动识别文件类型</li><li>set history&#x3D;1000：回退的历史记录</li><li>set background&#x3D;dark：主题</li><li>syntax on：语法高亮开启</li><li>set ruler：设置XX行XX列</li><li>set showmatch：括号匹配</li><li>set laststatus&#x3D;2：一直显示vim底部状态信息</li><li>set showmode：显示当前vim模式（正常、编辑、视图）</li><li>set ignorecase：忽略大小写搜索</li><li>set nofoldenable “ 不折叠代码</li><li>set showcmd：如果!+cmd执行命令，显示执行的命令</li><li>set mouse&#x3D;a：开启鼠标</li><li>set wrap：自动换行</li><li>set noerrorbells：关闭错误提示声音</li><li>set backspace&#x3D;2：可以在编辑模式下使用backspace</li></ul><h4 id="2、设置molokai主题"><a href="#2、设置molokai主题" class="headerlink" title="2、设置molokai主题"></a>2、设置molokai主题</h4><p>github地址：<a href="https://github.com/tomasr/molokai">https://github.com/tomasr/molokai</a><br>文件放在&#x2F;Users&#x2F;gaomingliang&#x2F;.vim&#x2F;colors目录下。</p><ul><li>set t_Co&#x3D;256：设置配置</li><li>colorscheme molokai：设置主题</li></ul><h4 id="3、search搜索配置"><a href="#3、search搜索配置" class="headerlink" title="3、search搜索配置"></a>3、search搜索配置</h4><ul><li>set hlsearch：设置查询的高亮显示</li><li>set incsearch：增强vim中自带的?（向下搜索）和／（向上搜索）搜索功能</li></ul><h4 id="4、文件编码"><a href="#4、文件编码" class="headerlink" title="4、文件编码"></a>4、文件编码</h4><ul><li>set termencoding&#x3D;utf-8：输出到客户终端（Term）采用的编码类型</li><li>set encoding&#x3D;utf8：于缓冲的文本、寄存器、脚本文件等</li><li>set fileencodings&#x3D;utf8,ucs-bom,gbk,cp936,gb2312,gb18030：设置写入文件支持的编码</li></ul><h4 id="5、分割布局"><a href="#5、分割布局" class="headerlink" title="5、分割布局"></a>5、分割布局</h4><ul><li>set splitbelow：横向-下</li><li>set splitright：纵向-右<br>很少用到，习惯多个tab，用taglist插件进行切换。</li></ul><h4 id="6、用浅颜色高亮当前行，列"><a href="#6、用浅颜色高亮当前行，列" class="headerlink" title="6、用浅颜色高亮当前行，列"></a>6、用浅颜色高亮当前行，列</h4><ul><li>set cul</li><li>set cuc</li><li>highlight CursorLine   cterm&#x3D;NONE ctermbg&#x3D;black ctermfg&#x3D;blue guibg&#x3D;NONE guifg&#x3D;NONE</li><li>highlight CursorColumn cterm&#x3D;NONE ctermbg&#x3D;black ctermfg&#x3D;blue guibg&#x3D;NONE guifg&#x3D;NONE</li></ul><h4 id="7、缩进方式"><a href="#7、缩进方式" class="headerlink" title="7、缩进方式"></a>7、缩进方式</h4><ul><li>set autoindent：自动化缩进，VIM会根据打开文件类型进行缩进。</li><li>set smartindent：同上。</li><li>set tabstop&#x3D;4：tab键为4个空格</li><li>set shiftwidth&#x3D;4：程序自动缩进的空格数，默认缩进</li></ul><h4 id="8、备份"><a href="#8、备份" class="headerlink" title="8、备份"></a>8、备份</h4><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs stata"><span class="hljs-keyword">if</span> has(<span class="hljs-string">&quot;vms&quot;</span>)<br> <span class="hljs-keyword">set</span> nobackup&quot; <span class="hljs-keyword">do</span> not <span class="hljs-keyword">keep</span> a backup <span class="hljs-keyword">file</span>, <span class="hljs-keyword">use</span> versions instead<br><span class="hljs-keyword">else</span><br> <span class="hljs-keyword">set</span> backup&quot; <span class="hljs-keyword">keep</span> a backup <span class="hljs-keyword">file</span> (<span class="hljs-keyword">restore</span> to previous <span class="hljs-keyword">version</span>)<br> <span class="hljs-keyword">if</span> has(&#x27;persistent_undo&#x27;)<br>   <span class="hljs-keyword">set</span> undofile&quot; <span class="hljs-keyword">keep</span> <span class="hljs-keyword">an</span> undo <span class="hljs-keyword">file</span> (undo changes after closing)<br> endif<br>endif<br></code></pre></td></tr></table></figure><p>使用这个命令会打开一个文件进行备份一个文件，不建议使用，文件太多了。</p><h4 id="9、swap文件与undo文件"><a href="#9、swap文件与undo文件" class="headerlink" title="9、swap文件与undo文件"></a>9、swap文件与undo文件</h4><ul><li>set swapfile：自动多一个.swap文件。</li><li>set undofile：自动多一个.undo文件，用来回退的文件。</li></ul><h3 id="3、结束语"><a href="#3、结束语" class="headerlink" title="3、结束语"></a>3、结束语</h3><p><font color="red" size="5">持续更新中～</font></p>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
    </categories>
    
    
    <tags>
      
      <tag>IDE</tag>
      
      <tag>VIM</tag>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Crontab指定用户运行任务</title>
    <link href="/articles/44008/"/>
    <url>/articles/44008/</url>
    
    <content type="html"><![CDATA[<div class="note note-warning">            <p>每一个用户都有属于自己的crontab，crontab -l的时候显示都是自己的定时任务，不便于管理。<br>把所有任务集中管理，并指定每个任务的执行用户，记录一下。</p>          </div><span id="more"></span><hr /><span class="label label-primary">Crontab</span> <span class="label label-info">定时任务</span><blockquote><p>系统环境</p></blockquote><p>Contos7.5</p><blockquote><p>操作</p></blockquote><p>root用户。</p><ul><li>打开&#x2F;etc&#x2F;crontab文件中添加。</li></ul><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-variable constant_">SHELL</span>=<span class="hljs-regexp">/bin/bash</span><br><span class="hljs-variable constant_">PATH</span>=<span class="hljs-regexp">/sbin:/bin</span><span class="hljs-symbol">:/usr/sbin</span><span class="hljs-symbol">:/usr/bin</span><br><span class="hljs-variable constant_">MAILTO</span>=root<br><br><span class="hljs-comment"># For details see man 4 crontabs</span><br><br><span class="hljs-comment"># Example of job definition:</span><br><span class="hljs-comment"># .---------------- minute (0 - 59)</span><br><span class="hljs-comment"># |  .------------- hour (0 - 23)</span><br><span class="hljs-comment"># |  |  .---------- day of month (1 - 31)</span><br><span class="hljs-comment"># |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...</span><br><span class="hljs-comment"># |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat</span><br><span class="hljs-comment"># |  |  |  |  |</span><br><span class="hljs-comment"># *  *  *  *  * user-name  command to be executed</span><br><br><span class="hljs-comment"># baidu自动推送</span><br><span class="hljs-number">1</span> <span class="hljs-number">23</span> * * * mingliang.gao bash /home/mingliang.gao/crontab/auto_push_baidu/auto_baidu_push.sh<br><br><span class="hljs-comment"># db backup</span><br><span class="hljs-number">30</span> <span class="hljs-number">02</span> * * * mingliang.gao bash /home/mingliang.gao/crontab/db_backup_task.sh &gt; <span class="hljs-regexp">/dev/null</span> <span class="hljs-number">2</span>&gt;&amp;<span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p>这里面需要指定用户名，统一管理。</p>]]></content>
    
    
    <categories>
      
      <category>服务器</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Crontab</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Mysql自动备份脚本</title>
    <link href="/articles/8234/"/>
    <url>/articles/8234/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p>Mysqldump自动备份脚本，基于shell脚本，加入crontab定时任务。</p>          </div><span id="more"></span><hr /><span class="label label-info">Mysql</span> <span class="label label-primary">Mysqldump</span> <span class="label label-success">备份</span><h4 id="定时任务"><a href="#定时任务" class="headerlink" title="定时任务"></a>定时任务</h4><p>crontab -e</p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">30 </span><span class="hljs-number">02</span> * * * bash /home/mingliang.gao/crontab/db_backup/db_backup_task.sh &gt; /dev/null <span class="hljs-number">2</span>&gt;&amp;<span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><h4 id="备份脚本"><a href="#备份脚本" class="headerlink" title="备份脚本"></a>备份脚本</h4><blockquote><p>db parameters</p></blockquote><p>db相关的配置，<em><strong>可更改</strong></em>。</p><ul><li>db_user：账号</li><li>db_passwd：密码</li><li>db_host：数据库服务器IP</li><li>db_port：数据库端口</li><li>db_backup_dir：备份数据库存放路径</li><li>db_names：为要备份的数据库名称，如果不设置指定的备份数据库，直接注释，在下面会把information_schema、mysql、performance_schem系统数据库除外的都进行备份。</li></ul><blockquote><p>dir parameters</p></blockquote><p>备份数据的存放位置，以及记录备份历史，<strong>不可更改</strong>。</p><ul><li>cur_date：执行的本次日期。</li><li>backup_history_file：执行记录文件。</li><li>today_backup_dir：备份文件夹。</li></ul><blockquote><p>other parameters</p></blockquote><p>设置备份数据保留天数。</p><ul><li>backup_keep_days：备份数据保留天数。<br>任务脚本最下面有个find去处理保留的备份文件。</li></ul><blockquote><p>内容</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><br><span class="hljs-comment"># ========================================================================================</span><br><span class="hljs-comment"># version: v.1.0</span><br><span class="hljs-comment"># author: mingliang.gao</span><br><span class="hljs-comment"># time: 2020/12/15 23:56:28</span><br><span class="hljs-comment"># mail: mingliang.gao@163.com</span><br><span class="hljs-comment"># summary: This script daily use to backup database</span><br><span class="hljs-comment"># crontab: 30 02 * * * bash /home/mingliang.gao/crontab/db_backup/db_backup_task.sh &gt; /dev/null 2&gt;&amp;1</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#           Enjoy the good lift everyday！！!</span><br><span class="hljs-comment"># ========================================================================================</span><br><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;***************************************************&quot;</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;-------------Server Host: 121.4.56.169-------------&quot;</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;------------------DB start backup------------------&quot;</span><br><br><span class="hljs-comment"># db parameters</span><br>db_user=<span class="hljs-string">&quot;mingliang.gao&quot;</span><br>db_passwd=<span class="hljs-string">&quot;910809ecb44c92db12ad5fa369375d00&quot;</span><br>db_host=<span class="hljs-string">&quot;127.0.0.1&quot;</span><br>db_port=3306<br>db_backup_dir=<span class="hljs-string">&quot;/home/mingliang.gao/db_backup/&quot;</span><br>db_names=<span class="hljs-string">&quot;&quot;</span><br>db_names=(elt enterprise ht)   <span class="hljs-comment"># config dbs</span><br><br><span class="hljs-comment"># base command</span><br><span class="hljs-built_in">rm</span>=<span class="hljs-string">&quot;<span class="hljs-subst">$(which rm)</span>&quot;</span><br>find=<span class="hljs-string">&quot;<span class="hljs-subst">$(which find)</span>&quot;</span><br><span class="hljs-built_in">mkdir</span>=<span class="hljs-string">&quot;<span class="hljs-subst">$(which mkdir)</span>&quot;</span><br><span class="hljs-built_in">touch</span>=<span class="hljs-string">&quot;<span class="hljs-subst">$(which touch)</span>&quot;</span><br><br><span class="hljs-comment"># dir parameters</span><br>cur_date=<span class="hljs-string">&quot;<span class="hljs-subst">$(date +<span class="hljs-string">&quot;%Y%m%d&quot;</span>)</span>&quot;</span><br>backup_history_file=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;db_backup_dir&#125;</span>backup_history.log&quot;</span><br>today_backup_dir=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;db_backup_dir&#125;</span><span class="hljs-variable">$&#123;cur_date&#125;</span>&quot;</span><br><span class="hljs-keyword">if</span> [ ! -d <span class="hljs-string">&quot;<span class="hljs-variable">$today_backup_dir</span>&quot;</span> ];<span class="hljs-keyword">then</span><br>    <span class="hljs-variable">$mkdir</span> -p <span class="hljs-string">&quot;<span class="hljs-variable">$today_backup_dir</span>&quot;</span><br><span class="hljs-keyword">fi</span><br><span class="hljs-keyword">if</span> [ ! -e <span class="hljs-string">&quot;<span class="hljs-variable">$backup_history_file</span>&quot;</span> ];<span class="hljs-keyword">then</span><br>    <span class="hljs-variable">$touch</span> <span class="hljs-string">&quot;<span class="hljs-variable">$backup_history_file</span>&quot;</span><br><span class="hljs-keyword">fi</span><br><br><span class="hljs-comment"># other parameters</span><br>backup_keep_days=2<br>start_time=<span class="hljs-string">&quot;<span class="hljs-subst">$(date +<span class="hljs-string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>)</span>&quot;</span><br><br><span class="hljs-comment"># mysql command</span><br>mysql=<span class="hljs-string">&quot;<span class="hljs-subst">$(which mysql)</span>&quot;</span><br><span class="hljs-keyword">if</span> [ $? -eq 0 ];<br>  <span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;&quot;</span>Mysql <span class="hljs-built_in">command</span>: <span class="hljs-string">&quot;<span class="hljs-variable">$mysql</span>&quot;</span><br>  <span class="hljs-keyword">else</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Not found mysql, exit.&quot;</span><br>    <span class="hljs-built_in">exit</span> 1<br><span class="hljs-keyword">fi</span><br>mysqldump=<span class="hljs-string">&quot;<span class="hljs-subst">$(which mysqldump)</span>&quot;</span><br><span class="hljs-keyword">if</span> [ $? -eq 0 ];<br>  <span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;&quot;</span>Mysqldump <span class="hljs-built_in">command</span>: <span class="hljs-string">&quot;<span class="hljs-variable">$mysqldump</span>&quot;</span><br>  <span class="hljs-keyword">else</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Not found mysqldump, exit.&quot;</span><br>    <span class="hljs-built_in">exit</span> 1<br><span class="hljs-keyword">fi</span><br><br><span class="hljs-keyword">if</span> [ -z <span class="hljs-string">&quot;<span class="hljs-variable">$db_names</span>&quot;</span> ]<br>  <span class="hljs-keyword">then</span><br>    db_names=$(mysql -h<span class="hljs-variable">$db_host</span> -P<span class="hljs-variable">$db_port</span> -u<span class="hljs-variable">$db_user</span> -p<span class="hljs-variable">$db_passwd</span> -e <span class="hljs-string">&#x27;show databases&#x27;</span>| grep -vE <span class="hljs-string">&#x27;Database|information_schema|mysql|performance_schema&#x27;</span>)<br><span class="hljs-keyword">fi</span><br><br><span class="hljs-keyword">for</span> db <span class="hljs-keyword">in</span> <span class="hljs-variable">$&#123;db_names[*]&#125;</span>; <span class="hljs-keyword">do</span><br>  <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;&quot;</span>=============: <span class="hljs-string">&quot;<span class="hljs-variable">$db</span>&quot;</span><br>  <span class="hljs-variable">$mysqldump</span> -h<span class="hljs-variable">$db_host</span> -P<span class="hljs-variable">$db_port</span> -u<span class="hljs-variable">$db_user</span> -p<span class="hljs-variable">$db_passwd</span> <span class="hljs-variable">$db</span> &gt; <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;today_backup_dir&#125;</span>/<span class="hljs-variable">$&#123;db&#125;</span>.sql&quot;</span><br><span class="hljs-keyword">done</span><br><br><span class="hljs-comment"># delete +3 db backup dir</span><br><span class="hljs-variable">$find</span> <span class="hljs-variable">$db_backup_dir</span> -<span class="hljs-built_in">type</span> d -mtime +<span class="hljs-variable">$backup_keep_days</span> -<span class="hljs-built_in">exec</span> <span class="hljs-variable">$rm</span> -rf &#123;&#125; \;<br><br><span class="hljs-comment"># record history</span><br>end_time=<span class="hljs-string">&quot;<span class="hljs-subst">$(date +<span class="hljs-string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>)</span>&quot;</span><br>start_seconds=$(<span class="hljs-built_in">date</span> --<span class="hljs-built_in">date</span>=<span class="hljs-string">&quot;<span class="hljs-variable">$start_time</span>&quot;</span> +%s);<br>end_seconds=$(<span class="hljs-built_in">date</span> --<span class="hljs-built_in">date</span>=<span class="hljs-string">&quot;<span class="hljs-variable">$end_time</span>&quot;</span> +%s);<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;cur_date&#125;</span>: &quot;</span>$((end_seconds-start_seconds)) &gt;&gt; <span class="hljs-string">&quot;<span class="hljs-variable">$backup_history_file</span>&quot;</span><br><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;cur_date&#125;</span>本次运行时间： &quot;</span>$((end_seconds-start_seconds))<span class="hljs-string">&quot;s&quot;</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;---------------Author: mingliang.gao---------------&quot;</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;-------------------DB end backup-------------------&quot;</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;***************************************************&quot;</span><br><span class="hljs-built_in">exit</span> 0<br></code></pre></td></tr></table></figure><div class="post_cus_note">Enjoy the good life everyday！！!</div>]]></content>
    
    
    <categories>
      
      <category>数据库</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Mysql</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Mysql备份与恢复</title>
    <link href="/articles/37328/"/>
    <url>/articles/37328/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p>服务器16号到期，得抓紧时间迁移数据库，Mysql备份主要用的是Mysqldump，学习并记录一下Mysqldump命令。</p>          </div><span id="more"></span><hr /><span class="label label-default">Mysql</span> <span class="label label-primary">Mysqldump</span> <span class="label label-success">备份</span> <span class="label label-info">恢复</span><hr /><div class="post_cus_note">==========Mysqldump==========</div><p>Mysqldump备份的数据为.sql格式文件，可以用vim等编辑器打开，可以查看里面的内容，都是sql语句。</p><h3 id="1、备份"><a href="#1、备份" class="headerlink" title="1、备份"></a>1、备份</h3><h4 id="1-1、语法糖"><a href="#1-1、语法糖" class="headerlink" title="1.1、语法糖"></a>1.1、语法糖</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">mysqldump -h <span class="hljs-selector-attr">[db host]</span> -<span class="hljs-selector-tag">P</span> <span class="hljs-selector-attr">[db port]</span> -u <span class="hljs-selector-attr">[db user]</span> -<span class="hljs-selector-tag">p</span> <span class="hljs-selector-attr">[db name]</span> &gt; <span class="hljs-selector-attr">[file name]</span><span class="hljs-selector-class">.sql</span><br></code></pre></td></tr></table></figure><ul><li>db host：数据库连接ip，如果是本机可省略不写，本机可以默认127.0.0.1。</li><li>db port：端口，默认3306。</li><li>-p：输入命令后，会让输入密码。</li><li>db user：数据库用户，必填。</li><li>db name：数据库名称。</li><li>file name：导出的sql文件（建议：绝对路径 + 名称）。</li></ul><p>这是最基本的语法，下面解释一下mysqldump相关参数。</p><h4 id="1-2、参数说明"><a href="#1-2、参数说明" class="headerlink" title="1.2、参数说明"></a>1.2、参数说明</h4><p>介绍一下常用参数。</p><blockquote><p>基础参数</p></blockquote><table><thead><tr><th align="center">参数</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">-h</td><td align="center">数据库服务器host</td></tr><tr><td align="center">-p</td><td align="center">数据库端口，默认3306</td></tr><tr><td align="center">-u</td><td align="center">连接数据库的用户</td></tr><tr><td align="center">-p</td><td align="center">用户对应的密码</td></tr></tbody></table><blockquote><p>-B &amp;&amp; –databases</p></blockquote><p>指定导出的数据库，有这个参数之后，导出的sql文件中会有CREATE DATABASE。<br><img src="/articles/37328/mysql-databases.png"></p><blockquote><p>-A –all-databases</p></blockquote><p>导出全部数据库，同样导出的sql文件中也会包含创建数据库语句。</p><blockquote><p>–add-drop-database</p></blockquote><p>从参数上大致可以明白，创建数据库之前先执行drop数据库语句。</p><blockquote><p>–add-drop-table</p></blockquote><p>创建表之前执行drop数据表语句，默认参数，使用–skip-add-drop-table可取消。<br><img src="/articles/37328/mysql-add-drop-table.png"></p><blockquote><p>–add-drop-table</p></blockquote><p>创建表之前执行drop数据表语句，默认参数，使用–skip-add-drop-table可取消。<br><img src="/articles/37328/mysql-add-drop-table.png"></p><blockquote><p>–add-locks</p></blockquote><p>在数据insert插入增加LOCK TABLES，插入后UNLOCK TABLE，默认为打开状态，使用–skip-add-locks可取消，为了数据实时与安全，不建议取消。<br><img src="/articles/37328/mysql-add-locks.png"></p><blockquote><p>-n &amp;&amp; –no-create-db</p></blockquote><p>只导出数据，而不添加CREATE DATABASE 语句。</p><blockquote><p>-t &amp;&amp; –no-create-info</p></blockquote><p>只导出数据，而不添加CREATE TABLE 语句。</p><blockquote><p>-d &amp;&amp; –no-data</p></blockquote><p>不导出任何数据，只导出数据库表结构。</p><blockquote><p>–compact</p></blockquote><p>导出更少的输出信息，可以让缩小文件体积大小。</p><blockquote><p>-c &amp;&amp; –complete-insert</p></blockquote><p>使用完整的insert语句，包含列名称。<br><img src="/articles/37328/mysql-complete-insert.png"></p><blockquote><p>–default-character-set</p></blockquote><p>设置导出字符集，默认值为utf8。</p><blockquote><p>-single-transaction</p></blockquote><p>适合Innodb事务数据库的备份，来保证备份的一致性，原理是设定本次会话的隔离级别为Repeatable read，来保证本次会话（也就是dump）时，不会看到其它会话已经提交了的数据。<br>如果数据库引擎是Innodb，备份语句加上这个参数。<br>查看数据库引擎：</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-comment"># Mysql支持哪些存储引擎</span><br><span class="hljs-attribute">show</span> engines;<br><br><span class="hljs-comment"># Mysql当前存储引擎</span><br><span class="hljs-attribute">show</span> variables like <span class="hljs-string">&#x27;%storage_engine%&#x27;</span>;<br></code></pre></td></tr></table></figure><blockquote><p>–where, -w</p></blockquote><p>只导出给定的WHERE条件选择的记录，主要用于备份表。</p><blockquote><p>–set-gtid-purged&#x3D;off</p></blockquote><p>加了–set-gtid-purged&#x3D;OFF时，在会记录binlog日志，如果不加，不记录binlog日志，所以在我们做主从用了gtid时，用mysqldump备份时就要加–set-gtid-purged&#x3D;OFF，否则你在主上导入恢复了数据，主没有了binlog日志，同步则不会被同步。</p><blockquote><p>-ignore-table</p></blockquote><p>不导出指定表。指定忽略多个表时，需要重复多次，每次一个表。每个表必须同时指定数据库和表名。例如：–ignore-table&#x3D;database.table1 –ignore-table&#x3D;database.table2</p><h4 id="1-3、常用命令"><a href="#1-3、常用命令" class="headerlink" title="1.3、常用命令"></a>1.3、常用命令</h4><blockquote><p>备份指定1个数据库</p></blockquote><ul><li>无–databases参数</li></ul><p>** 建议使用 **</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"># 备份<br>mysqldump -h <span class="hljs-selector-attr">[db host]</span> -<span class="hljs-selector-tag">P</span> <span class="hljs-selector-attr">[db port]</span> -u <span class="hljs-selector-attr">[db user]</span> -<span class="hljs-selector-tag">p</span> <span class="hljs-selector-attr">[db name]</span> &gt; <span class="hljs-selector-attr">[file name]</span><span class="hljs-selector-class">.sql</span><br><br># 恢复<br>mysql -h <span class="hljs-selector-attr">[db host]</span> -<span class="hljs-selector-tag">P</span> <span class="hljs-selector-attr">[db port]</span> -u <span class="hljs-selector-attr">[db user]</span> -<span class="hljs-selector-tag">p</span> <span class="hljs-selector-attr">[db name]</span> &lt; <span class="hljs-selector-attr">[file name]</span><span class="hljs-selector-class">.sql</span><br></code></pre></td></tr></table></figure><p>这样导出的数据无CREARE DARABASE语句，需要提前在新的数据库提前创建好数据库，在mysql恢复的时候指定数据库。<br>数据进行恢复的时候，不会更改数据库原有配置，例如指定字符集之类的配置。<br>如果新的数据不存在会存在报错：ERROR 1046 (3D000) at line 22: No database selected。</p><ul><li>有–databases参数</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"># 备份<br>mysqldump -h <span class="hljs-selector-attr">[db host]</span> -<span class="hljs-selector-tag">P</span> <span class="hljs-selector-attr">[db port]</span> -u <span class="hljs-selector-attr">[db user]</span> -<span class="hljs-selector-tag">p</span> <span class="hljs-attr">--add-drop-database</span> <span class="hljs-attr">--databases</span> <span class="hljs-selector-attr">[db name]</span> &gt; <span class="hljs-selector-attr">[file name]</span><span class="hljs-selector-class">.sql</span><br><br># 恢复<br>mysql -h <span class="hljs-selector-attr">[db host]</span> -<span class="hljs-selector-tag">P</span> <span class="hljs-selector-attr">[db port]</span> -u <span class="hljs-selector-attr">[db user]</span> -<span class="hljs-selector-tag">p</span> &lt; <span class="hljs-selector-attr">[file name]</span><span class="hljs-selector-class">.sql</span><br></code></pre></td></tr></table></figure><p>加上–databases参数指定数据库之后，不需要手动创建数据，加上–add-drop-database参数，备份的sql文件中会先drop-create数据库，避免创建数据库出现问题。如果不加–add-drop-database参数，数据库已存在进行数据恢复会报错：database exist。</p><blockquote><p>备份多个数据库</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"># 多个，在<span class="hljs-attr">--databases</span>后面加上导出的数据库，用空格分割<br>mysqldump -h <span class="hljs-selector-attr">[db host]</span> -<span class="hljs-selector-tag">P</span> <span class="hljs-selector-attr">[db port]</span> -u <span class="hljs-selector-attr">[db user]</span> -<span class="hljs-selector-tag">p</span> <span class="hljs-attr">--add-drop-database</span> <span class="hljs-attr">--databases</span> <span class="hljs-selector-attr">[db name1]</span> <span class="hljs-selector-attr">[db name2]</span> &gt; <span class="hljs-selector-attr">[file name]</span><span class="hljs-selector-class">.sql</span><br><br># 全部<br>mysqldump -h <span class="hljs-selector-attr">[db host]</span> -<span class="hljs-selector-tag">P</span> <span class="hljs-selector-attr">[db port]</span> -u <span class="hljs-selector-attr">[db user]</span> -<span class="hljs-selector-tag">p</span> <span class="hljs-attr">--add-drop-database</span> <span class="hljs-attr">--all-databases</span> &gt; <span class="hljs-selector-attr">[file name]</span><span class="hljs-selector-class">.sql</span><br></code></pre></td></tr></table></figure><p>数据库备份不建议多个或者全部，在恢复的时候会把备份的数据都进行恢复，导致没问题的数据库也会进行恢复。不过应该有办法解决恢复多个数据库问题，还没查，日后会补上。</p><blockquote><p>压缩命令来压缩备份文件</p></blockquote><p>** 建议使用 **</p><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs inform7"># 备份<br>mysqldump -h <span class="hljs-comment">[db host]</span> -P <span class="hljs-comment">[db port]</span> -u <span class="hljs-comment">[db user]</span> -p <span class="hljs-comment">[db name]</span> | gzip &gt; <span class="hljs-comment">[file name]</span>.sql.gz<br><br># 恢复<br>gunzip &lt; <span class="hljs-comment">[file name]</span>.sql.gz | mysql -h <span class="hljs-comment">[db host]</span> -P <span class="hljs-comment">[db port]</span> -u <span class="hljs-comment">[db user]</span> -p <span class="hljs-comment">[db name]</span><br></code></pre></td></tr></table></figure><p>缩小体积，加快传输效率。</p><blockquote><p>备份指定表</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">mysqldump -h <span class="hljs-selector-attr">[db host]</span> -<span class="hljs-selector-tag">P</span> <span class="hljs-selector-attr">[db port]</span> -u <span class="hljs-selector-attr">[db user]</span> -<span class="hljs-selector-tag">p</span> <span class="hljs-selector-attr">[db name]</span> <span class="hljs-selector-attr">[table name]</span> &gt; <span class="hljs-selector-attr">[file name]</span><span class="hljs-selector-class">.sql</span><br></code></pre></td></tr></table></figure><p>如果是多个表，写在table name后面，用空格分割。</p><blockquote><p>表数据或者表结构</p></blockquote><p>这2个命令放到一起，便于记忆，但是针对于备份数据库来说，用的不是很多。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs css"># 全部表结构备份<br>mysqldump -h <span class="hljs-selector-attr">[db host]</span> -<span class="hljs-selector-tag">P</span> <span class="hljs-selector-attr">[db port]</span> -u <span class="hljs-selector-attr">[db user]</span> -<span class="hljs-selector-tag">p</span> <span class="hljs-attr">--no-data</span> <span class="hljs-selector-attr">[db name]</span> &gt; <span class="hljs-selector-attr">[file name]</span><span class="hljs-selector-class">.sql</span><br><br># 全部表数据备份<br>mysqldump -h <span class="hljs-selector-attr">[db host]</span> -<span class="hljs-selector-tag">P</span> <span class="hljs-selector-attr">[db port]</span> -u <span class="hljs-selector-attr">[db user]</span> -<span class="hljs-selector-tag">p</span> <span class="hljs-attr">--no-create-info</span> <span class="hljs-selector-attr">[db name]</span>  &gt; <span class="hljs-selector-attr">[file name]</span><span class="hljs-selector-class">.sql</span><br><br># 指定表结构备份<br>mysqldump -h <span class="hljs-selector-attr">[db host]</span> -<span class="hljs-selector-tag">P</span> <span class="hljs-selector-attr">[db port]</span> -u <span class="hljs-selector-attr">[db user]</span> -<span class="hljs-selector-tag">p</span> <span class="hljs-attr">--no-data</span> <span class="hljs-selector-attr">[db name]</span> <span class="hljs-selector-attr">[table name]</span> &gt; <span class="hljs-selector-attr">[file name]</span><span class="hljs-selector-class">.sql</span><br><br># 指定表数据备份<br>mysqldump -h <span class="hljs-selector-attr">[db host]</span> -<span class="hljs-selector-tag">P</span> <span class="hljs-selector-attr">[db port]</span> -u <span class="hljs-selector-attr">[db user]</span> -<span class="hljs-selector-tag">p</span> <span class="hljs-attr">--no-create-info</span> <span class="hljs-selector-attr">[db name]</span>  <span class="hljs-selector-attr">[table name]</span> &gt; <span class="hljs-selector-attr">[file name]</span><span class="hljs-selector-class">.sql</span><br></code></pre></td></tr></table></figure><ul><li>-d  &#x3D; –no-data</li><li>-t  &#x3D; –no-create-info</li></ul><div class="post_cus_note">==========Mysql==========</div><h3 id="2、恢复"><a href="#2、恢复" class="headerlink" title="2、恢复"></a>2、恢复</h3><blockquote><p>标准</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">mysql -h <span class="hljs-selector-attr">[db host]</span> -<span class="hljs-selector-tag">P</span> <span class="hljs-selector-attr">[db port]</span> -u <span class="hljs-selector-attr">[db user]</span> -<span class="hljs-selector-tag">p</span> &lt; <span class="hljs-selector-attr">[file name]</span><span class="hljs-selector-class">.sql</span><br></code></pre></td></tr></table></figure><blockquote><p>指定数据库</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">mysql -h <span class="hljs-selector-attr">[db host]</span> -<span class="hljs-selector-tag">P</span> <span class="hljs-selector-attr">[db port]</span> -u <span class="hljs-selector-attr">[db user]</span> -<span class="hljs-selector-tag">p</span> <span class="hljs-selector-attr">[db name]</span> &lt; <span class="hljs-selector-attr">[file name]</span><span class="hljs-selector-class">.sql</span><br></code></pre></td></tr></table></figure><blockquote><p>压缩文件</p></blockquote><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs inform7">gunzip &lt; <span class="hljs-comment">[file name]</span>.sql.gz | mysql -h <span class="hljs-comment">[db host]</span> -P <span class="hljs-comment">[db port]</span> -u <span class="hljs-comment">[db user]</span> -p <span class="hljs-comment">[db name]</span><br></code></pre></td></tr></table></figure><div class="post_cus_note">学习参考</div><p>Mysqldump官网：<a href="https://dev.mysql.com/doc/refman/5.6/en/mysqldump.html">https://dev.mysql.com/doc/refman/5.6/en/mysqldump.html</a></p>]]></content>
    
    
    <categories>
      
      <category>数据库</category>
      
    </categories>
    
    
    <tags>
      
      <tag>命令工具</tag>
      
      <tag>Mysql</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>服务器SSH长连接设置</title>
    <link href="/articles/13423/"/>
    <url>/articles/13423/</url>
    
    <content type="html"><![CDATA[<div class="note note-warning">            <p>SSH经常服务器之后，只要几分钟不去操作服务器，几分钟就会断开，经常重启一个新的终端（iTerm：command+t）重新进行ssh连接。<br>这种影响操作的事情不能容忍，上网寻求帮助，自己做个记录。</p>          </div><span id="more"></span><hr /><span class="label label-info">SSH</span> <span class="label label-success">长连接</span><p>ssh连接到，远程服务器，切换到root用户。</p><blockquote><p>sshd_config</p></blockquote><p>开放一下3个配置。</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">TCPKeepAlive</span> yes<br><span class="hljs-attribute">ClientAliveInterval</span> <span class="hljs-number">60</span><br><span class="hljs-attribute">ClientAliveCountMax</span> <span class="hljs-number">10</span><br></code></pre></td></tr></table></figure><ul><li>TCPKeepAlive：保持TCP长时间连接。</li><li>ClientAliveInterval：每隔xxx秒发送向客户端发送一次包，检测是否活动状态的间隔时间。</li><li>ClientAliveCountMax：发包请求次数，达到指定次数未收到回应，主动断开连接。</li></ul><p>设置完上面之后，如果客户端无响应，最多存留10分钟。</p><blockquote><p>重启sshd服务</p></blockquote><p>Root用户操作。</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">systemctl sshd restart</span><br></code></pre></td></tr></table></figure><div class="post_cus_note">弊端</div><p>w查看当前服务器登录用户。</p><ul><li>ssh连接中会存在重复用户。</li><li>ssh连接长时间不断开也不操作，影响服务器性能，浪费资源。</li></ul><div class="post_cus_note">建议</div><ul><li>kill掉重复用户。</li><li>养成好习惯，不用的时候exit进行推出。</li></ul><blockquote><p>kill终端</p></blockquote><ul><li>w<br>列出当前登录用户信息，包含终端信息，第二列。</li></ul><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs nix">[mingliang.gao@VM-<span class="hljs-number">0</span><span class="hljs-operator">-</span><span class="hljs-number">1</span>5-centos ~]$ w <span class="hljs-operator">-</span>s<br> <span class="hljs-number">23</span>:<span class="hljs-number">18</span>:<span class="hljs-number">23</span> up <span class="hljs-number">10</span> days, <span class="hljs-number">11</span>:<span class="hljs-number">17</span>,  <span class="hljs-number">3</span> users,  load <span class="hljs-params">average:</span> <span class="hljs-number">0.00</span>, <span class="hljs-number">0.01</span>, <span class="hljs-number">0.05</span><br>USER     TTY      FROM              IDLE WHAT<br>minglian pts<span class="hljs-symbol">/0</span>    <span class="hljs-number">123.179</span>.<span class="hljs-number">117.77</span>    <span class="hljs-number">1</span>:<span class="hljs-number">07</span>m <span class="hljs-params">sshd:</span> mingliang.gao [priv]<br>minglian pts<span class="hljs-symbol">/1</span>    <span class="hljs-number">123.179</span>.<span class="hljs-number">117.77</span>    <span class="hljs-number">1</span>:<span class="hljs-number">04</span>m <span class="hljs-operator">-</span>bash<br>minglian pts<span class="hljs-symbol">/3</span>    <span class="hljs-number">123.179</span>.<span class="hljs-number">117.77</span>    <span class="hljs-number">7.00</span>s w <span class="hljs-operator">-</span>s<br></code></pre></td></tr></table></figure><ul><li>ps -t pts&#x2F;1<br>查询终端进行进程ID。</li><li>kill 进程ID</li></ul><p>或者直接一个命令：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">pkill</span> -kill -t pts/<span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p><font size=6.5 color='red'>内容希望有帮助。。。。。。</font></p>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
      <category>服务器</category>
      
    </categories>
    
    
    <tags>
      
      <tag>SSH</tag>
      
      <tag>协议类</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SSH登录服务器显示佛主保佑</title>
    <link href="/articles/14163/"/>
    <url>/articles/14163/</url>
    
    <content type="html"><![CDATA[<p>实现SSH登录服务器显示佛主保佑，比较服务器有时候也是玄学的一种，哈哈~</p><span class="label label-danger">Linux</span><span id="more"></span><hr /><p>root操作。</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">vim  <span class="hljs-regexp">/etc/m</span>otd<br></code></pre></td></tr></table></figure><p>添加下列图形：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs latex"><br>                         <span class="hljs-built_in">_</span>oo0oo<span class="hljs-built_in">_</span><br>                        088888880<br>                        88&quot; . &quot;88<br>                        (| -<span class="hljs-built_in">_</span>- |)<br>                         0<span class="hljs-keyword">\ </span>= /0<br>                      <span class="hljs-built_in">_</span><span class="hljs-built_in">_</span><span class="hljs-built_in">_</span>/&#x27;---&#x27;<span class="hljs-keyword">\_</span><span class="hljs-built_in">_</span><span class="hljs-built_in">_</span><br>                    .&#x27; <span class="hljs-keyword">\\</span><span class="hljs-keyword">\\</span>|     |// &#x27;.<br>                   / <span class="hljs-keyword">\\</span><span class="hljs-keyword">\\</span>|||  :  |||// <span class="hljs-keyword">\\</span><br>                  /<span class="hljs-built_in">_</span> ||||| -:- |||||- <span class="hljs-keyword">\\</span><br>                 |   | <span class="hljs-keyword">\\</span><span class="hljs-keyword">\\</span><span class="hljs-keyword">\\</span>  -  /// |   |<br>                 | <span class="hljs-keyword">\_</span>|  &#x27;&#x27;<span class="hljs-keyword">\-</span>--/&#x27;&#x27;  |<span class="hljs-built_in">_</span>/ |<br>                 <span class="hljs-keyword">\ </span> .-<span class="hljs-keyword">\_</span><span class="hljs-built_in">_</span>  &#x27;-&#x27;  <span class="hljs-built_in">_</span><span class="hljs-built_in">_</span>/-.  /<br>               <span class="hljs-built_in">_</span><span class="hljs-built_in">_</span><span class="hljs-built_in">_</span>&#x27;. .&#x27;  /--.--<span class="hljs-keyword">\ </span> &#x27;. .&#x27;<span class="hljs-built_in">_</span><span class="hljs-built_in">_</span><span class="hljs-built_in">_</span><br>            .&quot;&quot; &#x27;&lt;  &#x27;.<span class="hljs-built_in">_</span><span class="hljs-built_in">_</span><span class="hljs-built_in">_</span><span class="hljs-keyword">\_</span>&lt;|&gt;<span class="hljs-built_in">_</span>/<span class="hljs-built_in">_</span><span class="hljs-built_in">_</span><span class="hljs-built_in">_</span>.&#x27; &gt;&#x27;  &quot;&quot;.<br>           | | : &#x27;-  <span class="hljs-keyword">\&#x27;</span>.;&#x27;<span class="hljs-keyword">\ </span><span class="hljs-built_in">_</span> /&#x27;;.&#x27;/ - &#x27; : | |<br>           <span class="hljs-keyword">\ </span> <span class="hljs-keyword">\ </span>&#x27;<span class="hljs-built_in">_</span>.   <span class="hljs-keyword">\_</span> <span class="hljs-built_in">_</span><span class="hljs-built_in">_</span><span class="hljs-keyword">\ </span>/<span class="hljs-built_in">_</span><span class="hljs-built_in">_</span> <span class="hljs-built_in">_</span>/   .-&#x27; /  /<br>       =====&#x27;-.<span class="hljs-built_in">_</span><span class="hljs-built_in">_</span><span class="hljs-built_in">_</span><span class="hljs-built_in">_</span>&#x27;.<span class="hljs-built_in">_</span><span class="hljs-built_in">_</span><span class="hljs-built_in">_</span> <span class="hljs-keyword">\_</span><span class="hljs-built_in">_</span><span class="hljs-built_in">_</span><span class="hljs-built_in">_</span><span class="hljs-built_in">_</span>/<span class="hljs-built_in">_</span><span class="hljs-built_in">_</span><span class="hljs-built_in">_</span>.-&#x27;<span class="hljs-built_in">_</span><span class="hljs-built_in">_</span><span class="hljs-built_in">_</span><span class="hljs-built_in">_</span>.-&#x27;=====<br>                         &#x27;=---=&#x27;<br><br>^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^<br>^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^<br><br>                       将进酒<br>                               -- 李白<br><br>             君不见黄河之水天上来，奔流到海不复回。<br>             君不见高堂明镜悲白发，朝如青丝暮成雪。<br>             人生得意须尽欢，莫使金樽空对月。<br>             天生我材必有用，千金散尽还复来。<br>             烹羊宰牛且为乐，会须一饮三百杯。<br>             岑夫子，丹丘生，将进酒，杯莫停。<br>             与君歌一曲，请君为我倾耳听。<br>             钟鼓馔玉不足贵，但愿长醉不复醒。<br>             古来圣贤皆寂寞，惟有饮者留其名。<br>             陈王昔时宴平乐，斗酒十千恣欢谑。<br>             主人何为言少钱，径须沽取对君酌。<br>             五花马、千金裘，呼儿将出换美酒，与尔同销万古愁。<br><br></code></pre></td></tr></table></figure><p>其他图形：<a href="http://www.asciiworld.com/">http://www.asciiworld.com/</a></p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Linux其他篇</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux云服务器环境初始化</title>
    <link href="/articles/49695/"/>
    <url>/articles/49695/</url>
    
    <content type="html"><![CDATA[<span class="label label-success">Linux</span> <span class="label label-info">SSH</span>  <span class="label label-danger">Swap</span><hr /><span class="label label-warning">Supervisor</span> <span class="label label-primary">Nginx</span><span class="label label-default">git</span><h3 id="1、前言"><a href="#1、前言" class="headerlink" title="1、前言"></a>1、前言</h3><div class="note note-info">            <p>新购买的腾讯云服务器需要在上面进行环境的一些处理以及软件安装，这里我介绍一下我的服务器初始化过程。</p>          </div><span id="more"></span><hr /><p><img src="/articles/49695/20201128-001.png"></p><h3 id="2、系统"><a href="#2、系统" class="headerlink" title="2、系统"></a>2、系统</h3><p>CentOS Linux release 7.5.1804 (Core)</p><p>Linux查看系统版本：</p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs makefile">cat /etc/*release*<br><br><br>CentOS Stream release 8<br>NAME=<span class="hljs-string">&quot;CentOS Stream&quot;</span><br>VERSION=<span class="hljs-string">&quot;8&quot;</span><br>ID=<span class="hljs-string">&quot;centos&quot;</span><br>ID_LIKE=<span class="hljs-string">&quot;rhel fedora&quot;</span><br>VERSION_ID=<span class="hljs-string">&quot;8&quot;</span><br>PLATFORM_ID=<span class="hljs-string">&quot;platform:el8&quot;</span><br>PRETTY_NAME=<span class="hljs-string">&quot;CentOS Stream 8&quot;</span><br>ANSI_COLOR=<span class="hljs-string">&quot;0;31&quot;</span><br>CPE_NAME=<span class="hljs-string">&quot;cpe:/o:centos:centos:8&quot;</span><br>HOME_URL=<span class="hljs-string">&quot;https://centos.org/&quot;</span><br>BUG_REPORT_URL=<span class="hljs-string">&quot;https://bugzilla.redhat.com/&quot;</span><br>REDHAT_SUPPORT_PRODUCT=<span class="hljs-string">&quot;Red Hat Enterprise Linux 8&quot;</span><br>REDHAT_SUPPORT_PRODUCT_VERSION=<span class="hljs-string">&quot;CentOS Stream&quot;</span><br>CentOS Stream release 8<br>CentOS Stream release 8<br><span class="hljs-section">cpe:/o:centos:centos:8</span><br></code></pre></td></tr></table></figure><h3 id="3、初始化"><a href="#3、初始化" class="headerlink" title="3、初始化"></a>3、初始化</h3><h4 id="3-1、用户"><a href="#3-1、用户" class="headerlink" title="3.1、用户"></a>3.1、用户</h4><blockquote><p>添加用户与组</p></blockquote><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-comment"># 新建用户</span><br><span class="hljs-attribute">useradd</span> mingliang.gao<br><span class="hljs-comment"># 新建组</span><br>groupadd opsdev<br><span class="hljs-comment"># 用户设置密码</span><br>passwd mingliang.gao<br><span class="hljs-comment"># 用户添加工作组</span><br>usermod -G opsdev mingliang.gao<br></code></pre></td></tr></table></figure><blockquote><p>配置用户root权限</p></blockquote><p>root用户vim &#x2F;etc&#x2F;sudoers</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ada">root<span class="hljs-keyword">ALL</span>=(<span class="hljs-keyword">ALL</span>) <span class="hljs-keyword">ALL</span><br>mingliang.gao    <span class="hljs-keyword">ALL</span>=(<span class="hljs-keyword">ALL</span>)    <span class="hljs-keyword">ALL</span><br></code></pre></td></tr></table></figure><blockquote><p>其他</p></blockquote><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs">删除用户：userdel 用户名<br>删除组：groupdel 组名<br></code></pre></td></tr></table></figure><h4 id="3-2、环境编码"><a href="#3-2、环境编码" class="headerlink" title="3.2、环境编码"></a>3.2、环境编码</h4><p>修改服务器系统环境编码，执行vim &#x2F;etc&#x2F;profile，加入一下内容：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-comment"># 编码</span><br><span class="hljs-built_in">export</span> <span class="hljs-attribute">LC_ALL</span>=en_US.UTF-8<br><span class="hljs-built_in">export</span> <span class="hljs-attribute">LANG</span>=en_US.UTF-8<br></code></pre></td></tr></table></figure><p>查看环境编码：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs routeros">[root@VM-4-7-centos mingliang.gao]# echo <span class="hljs-variable">$LANG</span><br>en_US.UTF-8<br><br>[root@VM-4-7-centos mingliang.gao]# locale<br>locale: Cannot <span class="hljs-built_in">set</span> LC_CTYPE <span class="hljs-keyword">to</span><span class="hljs-built_in"> default </span>locale: <span class="hljs-literal">No</span> such file <span class="hljs-keyword">or</span> directory<br>locale: Cannot <span class="hljs-built_in">set</span> LC_ALL <span class="hljs-keyword">to</span><span class="hljs-built_in"> default </span>locale: <span class="hljs-literal">No</span> such file <span class="hljs-keyword">or</span> directory<br><span class="hljs-attribute">LANG</span>=en_US.UTF-8<br><span class="hljs-attribute">LC_CTYPE</span>=zh_CN.UTF-8<br><span class="hljs-attribute">LC_NUMERIC</span>=<span class="hljs-string">&quot;en_US.UTF-8&quot;</span><br><span class="hljs-attribute">LC_TIME</span>=<span class="hljs-string">&quot;en_US.UTF-8&quot;</span><br><span class="hljs-attribute">LC_COLLATE</span>=<span class="hljs-string">&quot;en_US.UTF-8&quot;</span><br><span class="hljs-attribute">LC_MONETARY</span>=<span class="hljs-string">&quot;en_US.UTF-8&quot;</span><br><span class="hljs-attribute">LC_MESSAGES</span>=<span class="hljs-string">&quot;en_US.UTF-8&quot;</span><br><span class="hljs-attribute">LC_PAPER</span>=<span class="hljs-string">&quot;en_US.UTF-8&quot;</span><br><span class="hljs-attribute">LC_NAME</span>=<span class="hljs-string">&quot;en_US.UTF-8&quot;</span><br><span class="hljs-attribute">LC_ADDRESS</span>=<span class="hljs-string">&quot;en_US.UTF-8&quot;</span><br><span class="hljs-attribute">LC_TELEPHONE</span>=<span class="hljs-string">&quot;en_US.UTF-8&quot;</span><br><span class="hljs-attribute">LC_MEASUREMENT</span>=<span class="hljs-string">&quot;en_US.UTF-8&quot;</span><br><span class="hljs-attribute">LC_IDENTIFICATION</span>=<span class="hljs-string">&quot;en_US.UTF-8&quot;</span><br>LC_ALL=<br></code></pre></td></tr></table></figure><h4 id="3-3、VIM"><a href="#3-3、VIM" class="headerlink" title="3.3、VIM"></a>3.3、VIM</h4><p>新的云服务器初始化环境只有VI，但是编辑的时候VIM很好用，需要安装。</p><blockquote><p>安装</p></blockquote><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">yum -y <span class="hljs-keyword">install</span> vim<br></code></pre></td></tr></table></figure><blockquote><p>配置</p></blockquote><p>vi &#x2F;etc&#x2F;vimrc，打开vimrc配置问题添加一下2行简单配置，如果详细配置请百度。</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">set</span> <span class="hljs-keyword">nu</span>          <span class="hljs-comment">&quot; 设置显示行号</span><br><span class="hljs-keyword">set</span> showmode    <span class="hljs-comment">&quot; 设置在命令行界面最下面显示当前模式等</span><br></code></pre></td></tr></table></figure><h4 id="3-4、SSH"><a href="#3-4、SSH" class="headerlink" title="3.4、SSH"></a>3.4、SSH</h4><p>用于免密码连接登录。</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs applescript">ssh-<span class="hljs-keyword">copy</span>-<span class="hljs-built_in">id</span> 用户@服务器IP<br>输入用户登录密码<br></code></pre></td></tr></table></figure><p>详情：<code>&lt;a href=&quot;/articles/1431/&quot; target=&quot;_blank&quot; class=&quot;block_project_a&quot;&gt;</code>SSH之免密码登录 <code>&lt;/a&gt;</code></p><h4 id="3-5、SWAP"><a href="#3-5、SWAP" class="headerlink" title="3.5、SWAP"></a>3.5、SWAP</h4><p>有些人可能对swap可能陌生，简单说下SWAP可以理解成虚拟内存，当服务器物理内存不足时，拿出部分硬盘指定空间当swap分区（虚拟成内存）使用，从而解决内存容量不足的情况。<br>可以先free一下看下是否又swap，如果想配置请用root用户操作。</p><blockquote><p>生成</p></blockquote><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs routeros">dd <span class="hljs-attribute">if</span>=/dev/zero <span class="hljs-attribute">of</span>=/var/swap <span class="hljs-attribute">bs</span>=1024 <span class="hljs-attribute">count</span>=3072000<br>mkswap /var/swap<br>swapon /var/swap<br>free -m<br></code></pre></td></tr></table></figure><p>解释一下dd，可以理解成dd获取了磁盘的一块空间，有兴趣的可以深入学习一下dd。</p><blockquote><p>Swap开机初始化</p></blockquote><p>vi &#x2F;etc&#x2F;fstab，最后一行添加</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs avrasm"><span class="hljs-keyword">swap</span> /var/<span class="hljs-keyword">swap</span> <span class="hljs-keyword">swap</span> defaults <span class="hljs-number">0</span> <span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><blockquote><p>清理swap</p></blockquote><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs actionscript">swapoff /<span class="hljs-keyword">var</span>/swap<br></code></pre></td></tr></table></figure><blockquote><p>Swap活跃使用度</p></blockquote><p>vim &#x2F;proc&#x2F;sys&#x2F;vm&#x2F;swappiness，范围是0～100，指数越大使用的活跃度越大，建议30-50即可。</p><h4 id="3-6、GIT"><a href="#3-6、GIT" class="headerlink" title="3.6、GIT"></a>3.6、GIT</h4><blockquote><p>查看</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">which</span> git<br></code></pre></td></tr></table></figure><blockquote><p>安装</p></blockquote><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">yum -y <span class="hljs-keyword">install</span> git<br></code></pre></td></tr></table></figure><blockquote><p>配置</p></blockquote><p>下面是全局配置，也可以在单独的git项目中单独配置属于项目的git配置。</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli"><span class="hljs-comment"># 用户名</span><br>git config <span class="hljs-params">--global</span> user.name <span class="hljs-string">&quot;mingliang.gao&quot;</span><br><span class="hljs-comment"># 邮箱</span><br>git config <span class="hljs-params">--global</span> user.email <span class="hljs-string">&quot;gaoming971366@163.com&quot;</span><br><br><span class="hljs-comment"># 查看配置</span><br>git config <span class="hljs-params">--list</span><br></code></pre></td></tr></table></figure><h4 id="3-7、MariaDB"><a href="#3-7、MariaDB" class="headerlink" title="3.7、MariaDB"></a>3.7、MariaDB</h4><p><a href="/articles/3296/" target="_blank" class="block_project_a">MariaDB安装与配置</a></p><h4 id="3-8、Miniconda"><a href="#3-8、Miniconda" class="headerlink" title="3.8、Miniconda"></a>3.8、Miniconda</h4><blockquote><p>下载</p></blockquote><p>这里介绍2种方式，第一种就是直接去官网下载：<a href="https://docs.conda.io/projects/miniconda/en/latest/">https://docs.conda.io/projects/miniconda/en/latest/</a><br>第二种方式直接在服务器上执行wget：</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">wget https:<span class="hljs-regexp">//</span>repo.anaconda.com<span class="hljs-regexp">/miniconda/</span>Miniconda3-latest-Linux-x86_64.sh<br></code></pre></td></tr></table></figure><blockquote><p>安装</p></blockquote><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">base</span> Miniconda3-latest-Linux-x86_64.sh<br></code></pre></td></tr></table></figure><ul><li>Do you accept the license terms? [yes|no] 输入yes接受许可条款</li><li>配置安装路径，默认安装到根目录下的，可自定义路径（建议&#x2F;usr&#x2F;local&#x2F;miniconda）</li><li>等待安装后，出现Do you wish the installer to initialize Miniconda3，如果输入yes会对~&#x2F;.bashrc文件添加一下内容</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># &gt;&gt;&gt; conda initialize &gt;&gt;&gt;</span><br><span class="hljs-comment"># !! Contents within this block are managed by &#x27;conda init&#x27; !!</span><br>__conda_setup=<span class="hljs-string">&quot;<span class="hljs-subst">$(&#x27;/usr/local/miniconda/bin/conda&#x27; &#x27;shell.bash&#x27; &#x27;hook&#x27; 2&gt; /dev/null)</span>&quot;</span><br><span class="hljs-keyword">if</span> [ $? -eq 0 ]; <span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">eval</span> <span class="hljs-string">&quot;<span class="hljs-variable">$__conda_setup</span>&quot;</span><br><span class="hljs-keyword">else</span><br>    <span class="hljs-keyword">if</span> [ -f <span class="hljs-string">&quot;/usr/local/miniconda/etc/profile.d/conda.sh&quot;</span> ]; <span class="hljs-keyword">then</span><br>        . <span class="hljs-string">&quot;/usr/local/miniconda/etc/profile.d/conda.sh&quot;</span><br>    <span class="hljs-keyword">else</span><br>        <span class="hljs-built_in">export</span> PATH=<span class="hljs-string">&quot;/usr/local/miniconda/bin:<span class="hljs-variable">$PATH</span>&quot;</span><br>    <span class="hljs-keyword">fi</span><br><span class="hljs-keyword">fi</span><br><span class="hljs-built_in">unset</span> __conda_setup<br><span class="hljs-comment"># &lt;&lt;&lt; conda initialize &lt;&lt;&lt;</span><br></code></pre></td></tr></table></figure><blockquote><p>配置</p></blockquote><p>生效：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">source</span> ~/.bashrc<br></code></pre></td></tr></table></figure><p>禁止用户登录后自动激活base环境：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">conda<span class="hljs-built_in"> config </span>--<span class="hljs-built_in">set</span> auto_activate_base<br></code></pre></td></tr></table></figure><p>具体conda命令请参考学习官网或者baidu。</p><h4 id="3-9、Gunicorn"><a href="#3-9、Gunicorn" class="headerlink" title="3.9、Gunicorn"></a>3.9、Gunicorn</h4><blockquote><p>安装</p></blockquote><p>在python项目运行环境中会进行安装，单独安装命令：</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">pip <span class="hljs-keyword">install</span> gunicorn<br></code></pre></td></tr></table></figure><blockquote><p>日志配置</p></blockquote><p>python项目需要用到，提前建好，用来存放日志，root用户执行。</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs maxima"><span class="hljs-built_in">mkdir</span> -p /<span class="hljs-built_in">var</span>/<span class="hljs-built_in">log</span>/gunicorn<br></code></pre></td></tr></table></figure><h4 id="3-10、Supervisor"><a href="#3-10、Supervisor" class="headerlink" title="3.10、Supervisor"></a>3.10、Supervisor</h4><blockquote><p>安装</p></blockquote><figure class="highlight nsis"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs nsis">yum install -y supervisor<br><br><span class="hljs-comment"># 启动服务</span><br><span class="hljs-params">system</span>ctl start supervisord<br><br><span class="hljs-comment"># 开机自启动：</span><br><span class="hljs-params">system</span>ctl enable supervisord<br></code></pre></td></tr></table></figure><blockquote><p>查看下进程</p></blockquote><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">ps</span> -ef | <span class="hljs-keyword">grep</span> supervisord<br></code></pre></td></tr></table></figure><p>系统默认的启用命令是：&#x2F;usr&#x2F;bin&#x2F;supervisord -c &#x2F;etc&#x2F;supervisord.conf</p><blockquote><p>自定义配置</p></blockquote><p>切换root执行。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs stata">echo_supervisord_conf &gt; /etc/supervisord.<span class="hljs-keyword">d</span>/supervisord.<span class="hljs-keyword">conf</span><br><span class="hljs-keyword">cd</span> /etc/supervisord.<span class="hljs-keyword">d</span><br><span class="hljs-keyword">mkdir</span> <span class="hljs-keyword">include</span><br><span class="hljs-keyword">mkdir</span> -p /<span class="hljs-keyword">var</span>/<span class="hljs-keyword">log</span>/supervisord<br></code></pre></td></tr></table></figure><p>echo_supervisord_conf是配置文件写入，把项目配置文件与是sp的配置文件放在一起便于管理，建立include存放项目的对应配置文件，以下是本人的配置文件：</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-section">[unix_http_server]</span><br><span class="hljs-attr">file</span>=/var/run/supervisor.sock   <span class="hljs-comment">;;UNIX socket 文件，supervisorctl会使用其与supervisord通信</span><br><span class="hljs-attr">chmod</span>=<span class="hljs-number">0777</span>                     <span class="hljs-comment">;;socket文件的mode，默认是0700，改成0777: chmod 777 /var/run/supervisor.sock</span><br><span class="hljs-comment">;chown=nobody:nogroup           ;;socket文件的owner，格式：uid:gid</span><br><br><span class="hljs-comment">;[inet_http_server]          ;;web管理界面</span><br><span class="hljs-comment">;port=0.0.0.0:10001          ;;Web管理后台运行的IP和端口</span><br><span class="hljs-comment">;username=mingliang.gao      ;;登录管理后台的用户名</span><br><span class="hljs-comment">;password=971366             ;;登录管理后台的密码</span><br><br><span class="hljs-section">[supervisorctl]</span><br><span class="hljs-attr">serverurl</span>=unix:///var/run/supervisor.sock   <span class="hljs-comment">;;通过UNIX socket连接supervisord，路径与unix_http_server部分的file一致</span><br><span class="hljs-comment">;serverurl=http://0.0.0.0:10001              ;;通过HTTP的方式连接supervisord</span><br><br><span class="hljs-section">[rpcinterface:supervisor]</span><br><span class="hljs-attr">supervisor.rpcinterface_factory</span> = supervisor.rpcinterface:make_main_rpcinterface<br><br><span class="hljs-section">[supervisord]</span><br><span class="hljs-attr">logfile</span>=/var/log/supervisord/supervisord.log    <span class="hljs-comment">;;日志文件</span><br><span class="hljs-attr">logfile_maxbytes</span>=<span class="hljs-number">50</span>MB               <span class="hljs-comment">;;日志文件大小，超出会rotate，默认 50MB。如果设成0，表示不限制大小</span><br><span class="hljs-attr">logfile_backups</span>=<span class="hljs-number">10</span>                  <span class="hljs-comment">;;日志文件保留备份数量默认10，设为0表示不备份</span><br><span class="hljs-attr">loglevel</span>=info                       <span class="hljs-comment">;;日志级别，默认info，其它: debug,warn,trace</span><br><span class="hljs-attr">pidfile</span>=/var/run/supervisord.pid    <span class="hljs-comment">;;pid 文件</span><br><span class="hljs-attr">nodaemon</span>=<span class="hljs-literal">false</span>                      <span class="hljs-comment">;;是否在前台启动，默认是false，即以 daemon 的方式启动</span><br><span class="hljs-attr">minfds</span>=<span class="hljs-number">1024</span>                         <span class="hljs-comment">;;可以打开的文件描述符的最小值，默认 1024</span><br><span class="hljs-attr">minprocs</span>=<span class="hljs-number">200</span>                        <span class="hljs-comment">;;可以打开的进程数的最小值，默认 200</span><br><br><span class="hljs-section">[include]</span><br><span class="hljs-attr">files</span> = /etc/supervisord.d/include/*.conf<br></code></pre></td></tr></table></figure><p>启动命令：&#x2F;usr&#x2F;bin&#x2F;supervisord -c &#x2F;etc&#x2F;supervisord.d&#x2F;supervisord.conf<br>-c为指定配置文件。</p><p>这样启动的supervisor如果重启需要杀死进程：</p><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs perl">ps -ef | <span class="hljs-keyword">grep</span> supervisord<br><span class="hljs-keyword">kill</span> 进程ID<br></code></pre></td></tr></table></figure><p>为了方便我把2个命令合并到一起：</p><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs perl">ps -ef | <span class="hljs-keyword">grep</span> supervisord | <span class="hljs-keyword">grep</span> -v <span class="hljs-keyword">grep</span> | awk -F <span class="hljs-string">&quot; &quot;</span> <span class="hljs-string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs <span class="hljs-keyword">kill</span><br></code></pre></td></tr></table></figure><p>直接执行上面这句话就可以直接杀死进行，这是个通用杀死指定进程的命令，只需要更换grep supervisord需要查询过滤的进程关键字。</p><blockquote><p>其他</p></blockquote><p>贴一下自己的supervisord项目配置文件。</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-section">[program:open2lisapi]</span><br><span class="hljs-attr">directory</span>=/home/mingliang.gao/projects/open2lisapi<br><span class="hljs-attr">command</span>=/home/mingliang.gao/projects/open2lisapi/.venv/bin/gunicorn -c /home/mingliang.gao/projects/open2lisapi/etc/prod/gunicorn.conf wsgi:app   <span class="hljs-comment">;; ERROR (no such file)，把gunicorn启动命令写全，绝对路径</span><br><span class="hljs-attr">autostart</span>=<span class="hljs-literal">True</span>                          <span class="hljs-comment">;; 是否开机自动启动</span><br><span class="hljs-attr">autorestart</span>=<span class="hljs-literal">True</span>                        <span class="hljs-comment">;; 是否挂了自动重启</span><br><span class="hljs-attr">startretries</span> = <span class="hljs-number">3</span>                        <span class="hljs-comment">;; 启动失败自动重试次数，默认是 3</span><br><span class="hljs-attr">redirect_stderr</span>=<span class="hljs-literal">True</span>                    <span class="hljs-comment">;; 是否把stderr定向到stdout</span><br><span class="hljs-attr">stopasgroup</span>=<span class="hljs-literal">True</span><br><span class="hljs-comment">;;user=mingliang.gao                    ;;用哪个用户启动进程，默认是root</span><br><span class="hljs-attr">priority</span>=<span class="hljs-number">999</span>                            <span class="hljs-comment">;;进程启动优先级，默认999，值小的优先启动</span><br><span class="hljs-attr">stdout_logfile_maxbytes</span>=<span class="hljs-number">20</span>MB            <span class="hljs-comment">;;stdout 日志文件大小，默认50MB</span><br><span class="hljs-attr">stdout_logfile_backups</span> = <span class="hljs-number">20</span>             <span class="hljs-comment">;;stdout 日志文件备份数，默认是10</span><br><span class="hljs-attr">stdout_logfile</span>=/var/log/supervisord/supervisor_open2lisapi.log<br></code></pre></td></tr></table></figure><h4 id="3-11、Nginx"><a href="#3-11、Nginx" class="headerlink" title="3.11、Nginx"></a>3.11、Nginx</h4><blockquote><p>检查gcc环境</p></blockquote><p>gcc编译器。</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-comment"># 检查gcc环境</span><br>gcc -v<br><br><span class="hljs-comment"># 安装</span><br>yum -y <span class="hljs-keyword">install</span> gcc<br></code></pre></td></tr></table></figure><blockquote><p>安装Nginx</p></blockquote><p>root用户或者sudo命令。</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs 1c"><span class="hljs-meta"># 查看版本</span><br>yum list <span class="hljs-string">| grep nginx</span><br><br><span class="hljs-meta"># 安装</span><br>yum <span class="hljs-punctuation">-</span>y install nginx<br></code></pre></td></tr></table></figure><p>安装后执行whereis Nginx</p><ul><li>执行目录：&#x2F;usr&#x2F;sbin&#x2F;nginx</li><li>模块所在目录：&#x2F;usr&#x2F;lib64&#x2F;nginx</li><li>配置所在目录：&#x2F;etc&#x2F;nginx&#x2F;</li><li>默认站点目录：&#x2F;usr&#x2F;share&#x2F;nginx&#x2F;html</li></ul><blockquote><p>启动</p></blockquote><figure class="highlight nsis"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs nsis"><span class="hljs-comment"># 启动/停止/重启</span><br><span class="hljs-params">system</span>ctl start/stop/restart nginx.service<br><span class="hljs-comment"># 开启启动</span><br><span class="hljs-params">system</span>ctl enable nginx.service<br><span class="hljs-comment"># 重新加载配置</span><br><span class="hljs-params">system</span>ctl reload nginx.service<br><span class="hljs-comment"># 查看状态</span><br><span class="hljs-params">system</span>ctl status nginx.service<br></code></pre></td></tr></table></figure><blockquote><p>查看进程</p></blockquote><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">ps</span> -ef | <span class="hljs-keyword">grep</span> nginx<br></code></pre></td></tr></table></figure><blockquote><p>开放端口</p></blockquote><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli"><span class="hljs-comment"># 添加端口</span><br>firewall-cmd <span class="hljs-params">--zone=public</span> <span class="hljs-params">--add-port=80/tcp</span> <span class="hljs-params">--permanent</span><br><br><span class="hljs-comment"># 重加载或者重启</span><br>firewall-cmd <span class="hljs-params">--reload</span><br>systemctl restart firewalld<br><br><span class="hljs-comment"># 查看</span><br>firewall-cmd <span class="hljs-params">--list-all</span><br></code></pre></td></tr></table></figure><p>这里根据自己的项目需求，对外开放端口。</p><blockquote><p>配置</p></blockquote><p>下面是我的nginx配置，仅供参考：</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-comment"># For more information on configuration, see:</span><br><span class="hljs-comment">#   * Official English Documentation: http://nginx.org/en/docs/</span><br><span class="hljs-comment">#   * Official Russian Documentation: http://nginx.org/ru/docs/</span><br><br><span class="hljs-attribute">user</span> root;<br><span class="hljs-attribute">worker_processes</span> <span class="hljs-number">2</span>;<br><span class="hljs-attribute">error_log</span> /var/log/nginx/<span class="hljs-literal">error</span>.log;<br><span class="hljs-attribute">pid</span> /run/nginx.pid;<br><br><span class="hljs-comment"># Load dynamic modules. See /usr/share/doc/nginx/README.dynamic.</span><br><span class="hljs-attribute">include</span> /usr/share/nginx/modules/<span class="hljs-regexp">*.conf</span>;<br><br><span class="hljs-section">events</span> &#123;<br>    <span class="hljs-comment"># use epoll</span><br>    <span class="hljs-attribute">worker_connections</span> <span class="hljs-number">1024</span>;<br>&#125;<br><br><span class="hljs-comment"># sendfile on;</span><br><span class="hljs-comment"># tcp_nopush on;</span><br><br><span class="hljs-comment"># keepalive_timeout 65;</span><br><br><span class="hljs-comment"># gzip压缩功能设置</span><br><span class="hljs-comment"># gzip on;</span><br><span class="hljs-comment"># gzip_min_length 1k;</span><br><span class="hljs-comment"># gzip_buffers 4 16k;</span><br><span class="hljs-comment"># gzip_http_version 1.0;</span><br><span class="hljs-comment"># gzip_comp_level 6;</span><br><span class="hljs-comment"># gzip_types text/html text/plain text/css text/javascript application/json application/javascript application/x-javascript application/xml;</span><br><span class="hljs-comment"># gzip_vary on;</span><br><br><span class="hljs-comment"># http_proxy 设置</span><br><span class="hljs-comment"># client_max_body_size 10m;</span><br><span class="hljs-comment"># client_body_buffer_size 128k;</span><br><span class="hljs-comment"># proxy_connect_timeout 75;</span><br><span class="hljs-comment"># proxy_send_timeout 75;</span><br><span class="hljs-comment"># proxy_read_timeout 75;</span><br><span class="hljs-comment"># proxy_buffer_size 4k;</span><br><span class="hljs-comment"># proxy_buffers 4 32k;</span><br><span class="hljs-comment"># proxy_busy_buffers_size 64k;</span><br><span class="hljs-comment"># proxy_temp_file_write_size 64k;</span><br><span class="hljs-comment"># proxy_temp_path /usr/local/nginx/proxy_temp 1 2;</span><br><br><span class="hljs-section">http</span> &#123;<br>    <span class="hljs-attribute">log_format</span>  main  <span class="hljs-string">&#x27;<span class="hljs-variable">$remote_addr</span> - <span class="hljs-variable">$remote_user</span> [<span class="hljs-variable">$time_local</span>] &quot;<span class="hljs-variable">$request</span>&quot; &#x27;</span><br>                      <span class="hljs-string">&#x27;<span class="hljs-variable">$status</span> <span class="hljs-variable">$body_bytes_sent</span> &quot;<span class="hljs-variable">$http_referer</span>&quot; &#x27;</span><br>                      <span class="hljs-string">&#x27;&quot;<span class="hljs-variable">$http_user_agent</span>&quot; &quot;<span class="hljs-variable">$http_x_forwarded_for</span>&quot;&#x27;</span>;<br><br>    <span class="hljs-attribute">access_log</span>  /var/log/nginx/access.log  main;<br><br>    <span class="hljs-attribute">sendfile</span>            <span class="hljs-literal">on</span>;<br>    <span class="hljs-attribute">tcp_nopush</span>          <span class="hljs-literal">on</span>;<br>    <span class="hljs-attribute">tcp_nodelay</span>         <span class="hljs-literal">on</span>;<br>    <span class="hljs-attribute">keepalive_timeout</span>   <span class="hljs-number">65</span>;<br>    <span class="hljs-attribute">types_hash_max_size</span> <span class="hljs-number">2048</span>;<br><br>    <span class="hljs-attribute">include</span>             /etc/nginx/mime.types;<br>    <span class="hljs-attribute">default_type</span>        application/octet-stream;<br><br>    <span class="hljs-comment"># Load modular configuration files from the /etc/nginx/conf.d directory.</span><br>    <span class="hljs-comment"># See http://nginx.org/en/docs/ngx_core_module.html#include</span><br>    <span class="hljs-comment"># for more information.</span><br>    <span class="hljs-attribute">include</span> /etc/nginx/conf.d/<span class="hljs-regexp">*.conf</span>;<br><br><span class="hljs-comment"># Settings for a TLS enabled server.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#    server &#123;</span><br><span class="hljs-comment">#        listen       443 ssl http2 default_server;</span><br><span class="hljs-comment">#        listen       [::]:443 ssl http2 default_server;</span><br><span class="hljs-comment">#        server_name  _;</span><br><span class="hljs-comment">#        root         /usr/share/nginx/html;</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#        ssl_certificate &quot;/etc/pki/nginx/server.crt&quot;;</span><br><span class="hljs-comment">#        ssl_certificate_key &quot;/etc/pki/nginx/private/server.key&quot;;</span><br><span class="hljs-comment">#        ssl_session_cache shared:SSL:1m;</span><br><span class="hljs-comment">#        ssl_session_timeout  10m;</span><br><span class="hljs-comment">#        ssl_ciphers HIGH:!aNULL:!MD5;</span><br><span class="hljs-comment">#        ssl_prefer_server_ciphers on;</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#        # Load configuration files for the default server block.</span><br><span class="hljs-comment">#        include /etc/nginx/default.d/*.conf;</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#        location / &#123;</span><br><span class="hljs-comment">#        &#125;</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#        error_page 404 /404.html;</span><br><span class="hljs-comment">#            location = /40x.html &#123;</span><br><span class="hljs-comment">#        &#125;</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#        error_page 500 502 503 504 /50x.html;</span><br><span class="hljs-comment">#            location = /50x.html &#123;</span><br><span class="hljs-comment">#        &#125;</span><br><span class="hljs-comment">#    &#125;</span><br><br>&#125;<br><br></code></pre></td></tr></table></figure><ul><li>因为有些参数在腾讯云服务器不能识别，所以有些被注释。</li><li>user root本人使用root用户启动，使用哪个用户就配置哪个</li></ul><p>server配置，单独文件，存放&#x2F;etc&#x2F;nginx&#x2F;conf.d</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-section">server</span> &#123;<br>    <span class="hljs-attribute">listen</span>  <span class="hljs-number">80</span>;<br>    <span class="hljs-attribute">server_name</span>     _;<br><br>    <span class="hljs-attribute">access_log</span>  /var/log/nginx/default_server.access.log  main;<br>    <span class="hljs-attribute">root</span>        /home/mingliang.gao/projects/blog;<br><br>    <span class="hljs-section">location</span> = / &#123;<br>        <span class="hljs-comment"># index    index.html index.htm;</span><br>        <span class="hljs-attribute">index</span>    root.html;<br>    &#125;<br>    <span class="hljs-section">location</span> / &#123;<br>        <span class="hljs-attribute">index</span> index.jsp index.html index.htm;<br>        <span class="hljs-attribute">proxy_redirect</span> <span class="hljs-literal">off</span>;<br>        <span class="hljs-attribute">proxy_set_header</span> Host <span class="hljs-variable">$host</span>;<br>        <span class="hljs-attribute">proxy_set_header</span> X-Real-IP <span class="hljs-variable">$remote_addr</span>;<br>        <span class="hljs-attribute">proxy_set_header</span> X-Real-PORT <span class="hljs-variable">$remote_port</span>;<br>        <span class="hljs-attribute">proxy_set_header</span> X-Forwarded-For <span class="hljs-variable">$proxy_add_x_forwarded_for</span>;<br>    &#125;<br><br>    <span class="hljs-attribute">error_page</span> <span class="hljs-number">404</span> /<span class="hljs-literal">error</span>.html;<br>        <span class="hljs-section">location</span> = /40x.html &#123;<br>    &#125;<br><br>    <span class="hljs-attribute">error_page</span> <span class="hljs-number">500</span> <span class="hljs-number">502</span> <span class="hljs-number">503</span> <span class="hljs-number">504</span> /<span class="hljs-literal">error</span>.html;<br>        <span class="hljs-section">location</span> = /50x.html &#123;<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><ul><li>server_name：域名</li><li>listen：端口</li></ul><blockquote><p>常用命令</p></blockquote><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli"><span class="hljs-comment"># 指定配置文件</span><br>nginx -c <span class="hljs-string">/etc/nginx/nginx.conf</span><br><br><span class="hljs-comment"># 重新加载配置文件，执行这个可以不用重启</span><br>nginx -s <span class="hljs-keyword">reload</span><br></code></pre></td></tr></table></figure><blockquote><p>访问</p></blockquote><p>配置完把nginx重启之后，访问IP:PORT。</p><blockquote><p>源码安装</p></blockquote><p><a href="/articles/47364/" target="_blank" class="block_project_a">Nginx源码安装教程</a></p><h3 id="4、详细连接"><a href="#4、详细连接" class="headerlink" title="4、详细连接"></a>4、详细连接</h3><ul><li><a href="/articles/3296/" target="_blank" class="block_project_a">MariaDB安装与配置</a></li><li><a href="/articles/40662/" target="_blank" class="block_project_a">Git服务器仓库并上传</a></li><li>Supervisor学习：<a href="https://www.cnblogs.com/xuezhigu/p/7660203.html">https://www.cnblogs.com/xuezhigu/p/7660203.html</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>服务器</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Mysql</tag>
      
      <tag>Linux</tag>
      
      <tag>git</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MariaDB安装与配置</title>
    <link href="/articles/3296/"/>
    <url>/articles/3296/</url>
    
    <content type="html"><![CDATA[<span class="label label-default">MariaDB</span> <span class="label label-success">配置</span> <span class="label label-info">user</span><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><div class="note note-primary">            <p>在腾讯云上的服务器到期了，又重新买了一个3年的，需要把项目、数据库、管理工具都得迁移新的机器，本篇主要讲MariaDB的安装、初始化以及一些配置，后续会给出一个云服务器环境初始化的讲解。<br>简单说下Mysql与MariaDB的不同：MySQL创始人担心MySQL被Oracle收购后使用MySQL收费，于是基于MySQL6.0研发的分支研发了MariaDB，开源、性能、操作等与MySQL一样。</p>          </div><span id="more"></span><hr /><h3 id="1、系统说明"><a href="#1、系统说明" class="headerlink" title="1、系统说明"></a>1、系统说明</h3><table><thead><tr><th align="center">Name</th><th align="center">Version</th></tr></thead><tbody><tr><td align="center">服务器</td><td align="center">Centos7.5x64</td></tr><tr><td align="center">MariaDB</td><td align="center">5.5.68</td></tr></tbody></table><h3 id="2、正文"><a href="#2、正文" class="headerlink" title="2、正文"></a>2、正文</h3><h4 id="2-1、安装"><a href="#2-1、安装" class="headerlink" title="2.1、安装"></a>2.1、安装</h4><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs axapta">yum -y install mariadb mariadb-<span class="hljs-keyword">server</span><br></code></pre></td></tr></table></figure><ul><li>mariadb为客户端</li><li>mariadb-server服务端</li></ul><blockquote><p>安装指定版本</p></blockquote><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs 1c"><span class="hljs-meta"># yum 查询 &amp;&amp; 安装</span><br>yum list <span class="hljs-string">| grep mariadb</span><br>yum <span class="hljs-punctuation">-</span>y install mariadb<span class="hljs-punctuation">-</span>server.x86_64<br><br><span class="hljs-meta"># rpm 不建议使用</span><br>rpm <span class="hljs-punctuation">-</span>qa <span class="hljs-string">| grep mariadb</span><br>rpm <span class="hljs-punctuation">-</span>ivh xxxxx<br></code></pre></td></tr></table></figure><h4 id="2-2、开启服务"><a href="#2-2、开启服务" class="headerlink" title="2.2、开启服务"></a>2.2、开启服务</h4><figure class="highlight nsis"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs nsis"><span class="hljs-comment"># 开启服务</span><br><span class="hljs-params">system</span>ctl start mariadb<br><span class="hljs-comment"># 设置为开机自启动服务</span><br><span class="hljs-params">system</span>ctl enable mariadb<br></code></pre></td></tr></table></figure><p>Centos7之后，服务管理用systemctl。</p><h4 id="2-3、初始化配置"><a href="#2-3、初始化配置" class="headerlink" title="2.3、初始化配置"></a>2.3、初始化配置</h4><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">mysql_secure_installation</span><br></code></pre></td></tr></table></figure><p>执行数据库初始化命令：</p><ul><li>Enter current password for root (enter for none):<br>回车就行，初始化的时候root密码默认是空的。</li><li>Set root password? [Y&#x2F;n]<br>是否设置root用户密码，输入y</li><li>New password:</li><li>Re-enter new password:<br>输入2次root密码，2次不一样会让重新输入。</li><li>Remove anonymous users? [Y&#x2F;n]<br>是否移除匿名用户，输入 y</li><li>Disallow root login remotely? [Y&#x2F;n]<br>是否拒绝root远程登录，建议输入y，毕竟是root，为了数据安全，为每个数据库创建指定用户，在创建一个总的用户来进行操作，后续会给出相关配置。</li><li>Remove test database and access to it? [Y&#x2F;n]<br>是否删除test数据库，输入y，不需要测试数据库。</li><li>Reload privilege tables now? [Y&#x2F;n]<br>重新加载权限表，输入y。</li></ul><h4 id="2-4、测试"><a href="#2-4、测试" class="headerlink" title="2.4、测试"></a>2.4、测试</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">mysql -u root -<span class="hljs-selector-tag">p</span><br></code></pre></td></tr></table></figure><p>输入密码即可。</p><h4 id="2-5、配置UTF-8字符"><a href="#2-5、配置UTF-8字符" class="headerlink" title="2.5、配置UTF-8字符"></a>2.5、配置UTF-8字符</h4><p>切换root用户，vim操作。</p><blockquote><p>&#x2F;etc&#x2F;my.cnf</p></blockquote><p>在[mysqld]标签下添加</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">init_connect=<span class="hljs-string">&#x27;SET collation_connection = utf8_unicode_ci&#x27;</span><br>init_connect=<span class="hljs-string">&#x27;SET NAMES utf8&#x27;</span><br><span class="hljs-type">character</span>-<span class="hljs-keyword">set</span>-<span class="hljs-keyword">server</span>=utf8<br><span class="hljs-keyword">collation</span>-<span class="hljs-keyword">server</span>=utf8_unicode_ci<br>skip-<span class="hljs-type">character</span>-<span class="hljs-keyword">set</span>-client-handshake<br></code></pre></td></tr></table></figure><blockquote><p>&#x2F;etc&#x2F;my.cnf.d&#x2F;client.cnf</p></blockquote><p>在[client]标签下添加</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">default</span><span class="hljs-operator">-</span><span class="hljs-type">character</span><span class="hljs-operator">-</span><span class="hljs-keyword">set</span><span class="hljs-operator">=</span>utf8<br></code></pre></td></tr></table></figure><blockquote><p>&#x2F;etc&#x2F;my.cnf.d&#x2F;mysql-clients.cnf</p></blockquote><p>在[mysql]标签下添加</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">default</span><span class="hljs-operator">-</span><span class="hljs-type">character</span><span class="hljs-operator">-</span><span class="hljs-keyword">set</span><span class="hljs-operator">=</span>utf8<br></code></pre></td></tr></table></figure><blockquote><p>重启服务</p></blockquote><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">systemctl restart mariadb</span><br></code></pre></td></tr></table></figure><blockquote><p>查看字符集</p></blockquote><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gams">show <span class="hljs-keyword">variables</span> like <span class="hljs-comment">&quot;%character%&quot;</span>;<br></code></pre></td></tr></table></figure><p><img src="/articles/3296/2.png"></p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gams">show <span class="hljs-keyword">variables</span> like <span class="hljs-comment">&quot;%collation%&quot;</span>;<br></code></pre></td></tr></table></figure><p><img src="/articles/3296/1.png"></p><h4 id="2-6、创建用户"><a href="#2-6、创建用户" class="headerlink" title="2.6、创建用户"></a>2.6、创建用户</h4><p>上面说过了，创建一个新的用户用来管理或者连接所有数据，这个账号可以作为管理账号，以后创建每一个数据库都对应创建一个用户，分配指定权限，用于数据隔离。创建用户之前在Mysql常用命令中我已经总结了，在这里直接干命令了。<br>连接数据库：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">user</span> <span class="hljs-string">&#x27;mingliang.gao&#x27;</span>@<span class="hljs-string">&#x27;%&#x27;</span> identified <span class="hljs-keyword">by</span> <span class="hljs-string">&#x27;密码&#x27;</span>;<br><span class="hljs-keyword">grant</span> <span class="hljs-keyword">all</span> <span class="hljs-keyword">privileges</span> <span class="hljs-keyword">on</span> *.* <span class="hljs-keyword">to</span> <span class="hljs-string">&#x27;mingliang.gao&#x27;</span>;<br># 授权root访问，建议禁止<br><span class="hljs-keyword">grant</span> <span class="hljs-keyword">all</span> <span class="hljs-keyword">privileges</span> <span class="hljs-keyword">on</span> *.* <span class="hljs-keyword">TO</span> <span class="hljs-string">&#x27;root&#x27;</span>@<span class="hljs-string">&#x27;%&#x27;</span> identified <span class="hljs-keyword">by</span> <span class="hljs-string">&#x27;密码&#x27;</span> <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">OPTION</span>;<br>flush  <span class="hljs-keyword">privileges</span>;<br></code></pre></td></tr></table></figure><ul><li>创建一个mingliang.gao的用户，%代表可以远程连接。</li><li>授权所有数据库*所有表对mingliang.gao用户，第一个星号为数据库，第二个为表内容，常用的就是第一个星号改成对应分配的数据以及用户。</li></ul><h4 id="2-7、开启远程连接"><a href="#2-7、开启远程连接" class="headerlink" title="2.7、开启远程连接"></a>2.7、开启远程连接</h4><p>云服务器都是禁用端口访问的，所以需要开启，这里用到了firewall-cmd命令，不清楚的可以baidu一下。<br>Root用户操作：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-comment"># 查看所有防火墙信息</span><br><span class="hljs-attribute">firewall</span>-cmd --list-<span class="hljs-literal">all</span><br></code></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs yaml">[<span class="hljs-string">sudo</span>] <span class="hljs-attr">password for mingliang.gao:</span><br><span class="hljs-string">public</span><br>  <span class="hljs-attr">target:</span> <span class="hljs-string">default</span><br>  <span class="hljs-attr">icmp-block-inversion:</span> <span class="hljs-literal">no</span><br>  <span class="hljs-attr">interfaces:</span><br>  <span class="hljs-attr">sources:</span><br>  <span class="hljs-attr">services:</span> <span class="hljs-string">dhcpv6-client</span> <span class="hljs-string">ssh</span><br>  <span class="hljs-attr">ports:</span> <span class="hljs-number">3306</span><span class="hljs-string">/tcp</span><br>  <span class="hljs-attr">protocols:</span><br>  <span class="hljs-attr">masquerade:</span> <span class="hljs-literal">no</span><br>  <span class="hljs-attr">forward-ports:</span><br>  <span class="hljs-attr">source-ports:</span><br>  <span class="hljs-attr">icmp-blocks:</span><br>  <span class="hljs-attr">rich rules:</span><br></code></pre></td></tr></table></figure><figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs dsconfig"><span class="hljs-comment"># 添加端口</span><br><span class="hljs-string">firewall-cmd</span> <span class="hljs-built_in">--zone=public</span> <span class="hljs-built_in">--add-port=3306/tcp</span> <span class="hljs-built_in">--permanent</span><br><br><span class="hljs-comment"># 加载或者重启</span><br><span class="hljs-string">firewall-cmd</span> <span class="hljs-built_in">--reload</span><br><span class="hljs-string">systemctl</span> <span class="hljs-string">restart</span> <span class="hljs-string">firewalld</span><br></code></pre></td></tr></table></figure><p>添加完需要reload或者重启服务，在进行list-all查询，在本机或者其他机器可以进行连接了。</p><h3 id="3、结束语"><a href="#3、结束语" class="headerlink" title="3、结束语"></a>3、结束语</h3><p>后续会出一篇关于云服务器初始化环境的文章。</p><hr /><p><font size=6.5 color='red'>既然决定了在技术道路上走下去，就要坚持，致自己。。。。。。</font></p>]]></content>
    
    
    <categories>
      
      <category>数据库</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Mysql</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Windows常用命令</title>
    <link href="/articles/48352/"/>
    <url>/articles/48352/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p>目前换工作之后，对于Windows系统的机子或者服务器接触日益频繁，身为一个开发，无时不刻不能忘记自己的使命，<font color='red' size=6.5>用命令去装13</font>。<br>在这里总结一下常用的Windows常用的系统命令，比如：cmd、shutdown、compmgmt.msc、net等等，方便快捷的打开需要的软件或者设置。</p>          </div><span id="more"></span><hr /><div class="post_cus_note">方式</div><p>command + R打开允许，输入命令。</p><blockquote><p>常用命令</p></blockquote><table><thead><tr><th align="center">describe</th><th align="center">command</th></tr></thead><tbody><tr><td align="center">控制台</td><td align="center">cmd</td></tr><tr><td align="center">打开资源管理器（我的电脑）</td><td align="center">explorer</td></tr><tr><td align="center">注销</td><td align="center">logoff</td></tr><tr><td align="center">关机（60s后）</td><td align="center">shutdown</td></tr><tr><td align="center">计算机管理</td><td align="center">compmgmt.msc</td></tr><tr><td align="center">系统服务</td><td align="center">services.msc</td></tr><tr><td align="center">任务管理器</td><td align="center">taskmgr</td></tr><tr><td align="center">记事本</td><td align="center">notepad</td></tr><tr><td align="center">垃圾整理</td><td align="center">clearmgr</td></tr><tr><td align="center">开启&#x2F;关闭XXXXX服务</td><td align="center">net start&#x2F;stop XXXXX</td></tr><tr><td align="center">计算器</td><td align="center">calc</td></tr><tr><td align="center">注册表</td><td align="center">regedit.exe</td></tr><tr><td align="center">远程桌面连接</td><td align="center">mstsc</td></tr></tbody></table><div class="post_cus_note">学习参考</div><p>Windows命令大全：<a href="https://www.jb51.net/article/141568.htm">https://www.jb51.net/article/141568.htm</a></p>]]></content>
    
    
    <categories>
      
      <category>Windows</category>
      
    </categories>
    
    
    <tags>
      
      <tag>命令工具</tag>
      
      <tag>Windows</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ADB模拟按键代码</title>
    <link href="/articles/11756/"/>
    <url>/articles/11756/</url>
    
    <content type="html"><![CDATA[<p>ADB模拟按键代码参考表，记录一下。</p><span id="more"></span><hr /><table><thead><tr><th align="center">keycode</th><th align="center">desc</th></tr></thead><tbody><tr><td align="center">3</td><td align="center">HOME 键</td></tr><tr><td align="center">4</td><td align="center">返回键</td></tr><tr><td align="center">5</td><td align="center">打开拨号应用</td></tr><tr><td align="center">6</td><td align="center">挂断电话</td></tr><tr><td align="center">24</td><td align="center">增加音量</td></tr><tr><td align="center">25</td><td align="center">降低音量</td></tr><tr><td align="center">26</td><td align="center">电源键</td></tr><tr><td align="center">27</td><td align="center">拍照（需要在相机应用里）</td></tr><tr><td align="center">64</td><td align="center">打开浏览器</td></tr><tr><td align="center">82</td><td align="center">菜单键</td></tr><tr><td align="center">85</td><td align="center">播放&#x2F;暂停</td></tr><tr><td align="center">86</td><td align="center">停止播放</td></tr><tr><td align="center">87</td><td align="center">播放下一首</td></tr><tr><td align="center">88</td><td align="center">播放上一首</td></tr><tr><td align="center">122</td><td align="center">移动光标到行首或列表顶部</td></tr><tr><td align="center">123</td><td align="center">移动光标到行末或列表底部</td></tr><tr><td align="center">126</td><td align="center">恢复播放</td></tr><tr><td align="center">127</td><td align="center">暂停播放</td></tr><tr><td align="center">164</td><td align="center">静音</td></tr><tr><td align="center">176</td><td align="center">打开系统设置</td></tr><tr><td align="center">187</td><td align="center">切换应用</td></tr><tr><td align="center">207</td><td align="center">打开联系人</td></tr><tr><td align="center">208</td><td align="center">打开日历</td></tr><tr><td align="center">209</td><td align="center">打开音乐</td></tr><tr><td align="center">210</td><td align="center">打开计算器</td></tr><tr><td align="center">220</td><td align="center">降低屏幕亮度</td></tr><tr><td align="center">221</td><td align="center">提高屏幕亮度</td></tr><tr><td align="center">223</td><td align="center">系统休眠</td></tr><tr><td align="center">224</td><td align="center">点亮屏幕</td></tr><tr><td align="center">231</td><td align="center">打开语音助手</td></tr><tr><td align="center">276</td><td align="center">如果没有 wakelock 则让系统休眠</td></tr></tbody></table><p>暂时总结这么多，<font size=6.5 color='red'>欢迎留言补全。。。。。。</font></p>]]></content>
    
    
    <categories>
      
      <category>移动端</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ADB</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>DB2导入与导出</title>
    <link href="/articles/33542/"/>
    <url>/articles/33542/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p>继续学习DB2，本篇主要关于导入与导出的操作。</p>          </div><span id="more"></span><hr /><span class="label label-warning">DB2</span> <span class="label label-default">导入</span> <span class="label label-info">导出</span><p>说明：<br>操作在db2cmd控制台。</p><h4 id="导入"><a href="#导入" class="headerlink" title="导入"></a>导入</h4><p>模式说明：<br>一共有5种。</p><ul><li>CREATE：首先创建目标表和它的索引，然后将数据导入到新表中。该选项惟一支持的文件格式是 PC&#x2F;IXF，还可以指定新表所在表空间的名称。</li><li>INSERT：将导入的数据插入表中，目标表必须已经存在。</li><li>INSERT_UPDATE：将数据插入表中，或者更新表中具有匹配主键的行。目标表必须已经存在，并且定义了一个主键。</li><li>REPLACE：删除所有已有的数据，并将导入的数据插入到一个已有的目标表中。</li><li>REPLACE_CREATE：如果目标表已经存在，则导入实用程序删除已有的数据，并插入新的数据，就像REPLACE选项那样；如果表结构不存在。创建。</li></ul><p>codepage编码：</p><ul><li>1386 GBK</li><li>1208 UTF-8</li></ul><p>文件格式del与ixf区别：</p><ul><li>del格式是一个文本文件，文件按行来存储，含有回车的文本内容在del文件中会另起一行，del文件可视。</li><li>ixf格式保存的是结构和数据，是一个二进制文件，ixf文件不可视。</li></ul><p>load和import区别：</p><ul><li>import导入是以insert方式插入数据。</li><li>import在导入数据的时候需要写入日志、load在导入数据的时候不需要写入日志。</li><li>import在导入数据的时候，目标表是可以进行访问和操作的，load只能进行select操作。</li><li>import在导入数据的时候，不能对索引模式进行选择，load可以。</li><li>import在导入数据的时候，不会使被导入数据表所属的表空间处于backup pending状态，而load会，当然如果load加nonrecoverable就可以避免表空间处于pending。</li><li>import在导入数据的时候，要进行各种约束性验证、触发器和参照完整性的约束，而load导入数据的时候只会进行唯一性检查和非法值检查，不会进行完整性检查，不会调用触发器。</li></ul><blockquote><p>load</p></blockquote><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver"><span class="hljs-comment"># 无行警告</span><br>db2 <span class="hljs-built_in">load</span> <span class="hljs-built_in">from</span> <span class="hljs-string">&#x27;文件全路径&#x27;</span> <span class="hljs-keyword">of</span> del modified <span class="hljs-keyword">by</span> norowwarnings <span class="hljs-built_in">replace</span> <span class="hljs-keyword">into</span> 表名<br><span class="hljs-comment"># 设置编码</span><br>db2 <span class="hljs-built_in">load</span> <span class="hljs-built_in">from</span> <span class="hljs-string">&#x27;文件全路径&#x27;</span> <span class="hljs-keyword">of</span> del modified <span class="hljs-keyword">by</span> codepage=<span class="hljs-number">1386</span> <span class="hljs-built_in">replace</span> <span class="hljs-keyword">into</span> 表名<br><br><span class="hljs-comment"># 监控载入的进展</span><br>db2 <span class="hljs-built_in">load</span> query table 表名<br><br><span class="hljs-comment"># 中断加载</span><br>db2 <span class="hljs-built_in">load</span> <span class="hljs-built_in">from</span> <span class="hljs-string">&#x27;文件全路径&#x27;</span> <span class="hljs-keyword">of</span> del terminate <span class="hljs-keyword">into</span> 表名<br></code></pre></td></tr></table></figure><blockquote><p>import</p></blockquote><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"># 标准<br>db2 <span class="hljs-keyword">import</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;XXXX.ixf&#x27;</span> <span class="hljs-keyword">of</span> ixf <span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> <span class="hljs-keyword">table</span><br><br># 批量提交，达到<span class="hljs-number">5</span>w条<span class="hljs-keyword">commit</span>一次<br>db2 <span class="hljs-keyword">import</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;filename&#x27;</span> <span class="hljs-keyword">of</span> del COMMITCOUNT <span class="hljs-number">50000</span> <span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> tabname<br><br># 批量插入，一次插入<span class="hljs-number">500</span>条<br>db2 <span class="hljs-keyword">import</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;filename&#x27;</span> <span class="hljs-keyword">of</span> del MODIFIED <span class="hljs-keyword">BY</span> COMPOUND=<span class="hljs-number">500</span> <span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> tabname<br><br># 导入条数限制，只导入<span class="hljs-number">1</span>w条<br>db2 <span class="hljs-keyword">import</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;filename&#x27;</span> <span class="hljs-keyword">of</span> del ROWCOUNT <span class="hljs-number">10000</span> <span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> tabname<br><br># 导入指定起点数据<br>db2 <span class="hljs-keyword">import</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;filename&#x27;</span> <span class="hljs-keyword">of</span> del RESTARTCOUNT <span class="hljs-number">10</span> <span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> tabname<br><br># 警告数据的条数限制<br>db2 <span class="hljs-keyword">import</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;filename&#x27;</span> <span class="hljs-keyword">of</span> del WARNINGCOUNT <span class="hljs-number">10</span> <span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> tabname<br><br># 禁止发出行警告<br>db2 <span class="hljs-keyword">import</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;filename&#x27;</span> <span class="hljs-keyword">of</span> del MODIFIED <span class="hljs-keyword">BY</span> NOROWWARNINGS <span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> tabname<br></code></pre></td></tr></table></figure><p>常用：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">db2 <span class="hljs-keyword">import</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;filename&#x27;</span> <span class="hljs-keyword">of</span> del MODIFIED <span class="hljs-keyword">BY</span> COMMITCOUNT <span class="hljs-number">50000</span> COMPOUND=<span class="hljs-number">1000</span> <span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> tabname<br></code></pre></td></tr></table></figure><blockquote><p>db2</p></blockquote><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">db2</span> –cvf xxx.sql<br></code></pre></td></tr></table></figure><blockquote><p>导入存储过程&#x2F;函数</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">db2 -<span class="hljs-selector-tag">td</span>@ -v -f <span class="hljs-attribute">e</span>:\procudure.sql<br></code></pre></td></tr></table></figure><h4 id="导出"><a href="#导出" class="headerlink" title="导出"></a>导出</h4><blockquote><p>export</p></blockquote><p>单个表导出数据，支持IXF，DEL或WSF。</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"># 标准语法<br>db2 export <span class="hljs-keyword">to</span> <span class="hljs-string">&#x27;XXXX.ixf&#x27;</span> <span class="hljs-keyword">of</span> ixf <span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> XXXX <span class="hljs-keyword">where</span> XXXX<br><br># 不同字符集的导出 MODIFIED <span class="hljs-keyword">BY</span> CODEPAGE=<span class="hljs-number">1386</span><br>db2 exprot <span class="hljs-keyword">to</span> <span class="hljs-string">&#x27;filename.del&#x27;</span> <span class="hljs-keyword">of</span> del MODIFIED <span class="hljs-keyword">BY</span> CODEPAGE=<span class="hljs-number">1386</span> <span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> XXXX <span class="hljs-keyword">where</span> XXXX<br><br># 时间字段格式化的 MODIFIED <span class="hljs-keyword">BY</span> TIMESTAMPFORMAT=&quot;yyyy-mm-dd hh:mm:ss tt&quot;<br>db2 exprot <span class="hljs-keyword">to</span> <span class="hljs-string">&#x27;filename.del&#x27;</span> <span class="hljs-keyword">of</span> del MODIFIED <span class="hljs-keyword">BY</span> TIMESTAMPFORMAT=&quot;yyyy-mm-dd hh:mm:ss tt&quot; <span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> XXXX <span class="hljs-keyword">where</span> XXXX<br></code></pre></td></tr></table></figure><p>其中XXXX.ixf、filename.del文件的路径+名称。</p><blockquote><p>db2move</p></blockquote><p>导入数据库的所有表及数据</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs elm"><span class="hljs-title">db2move</span> &lt;数据库名&gt; <span class="hljs-keyword">import</span><br></code></pre></td></tr></table></figure><blockquote><p>db2look</p></blockquote><p>导出表创建语句</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml">db2look -d xxxpas -e -a -x -i pas -w pas123 -o e:\db2look.sql<br>db2look -d <span class="hljs-tag">&lt;<span class="hljs-name">数据库名</span>&gt;</span> -u <span class="hljs-tag">&lt;<span class="hljs-name">用户</span>&gt;</span> -e -o <span class="hljs-tag">&lt;<span class="hljs-name">脚本名称</span>&gt;</span>.sql<br></code></pre></td></tr></table></figure><h4 id="备份与恢复"><a href="#备份与恢复" class="headerlink" title="备份与恢复"></a>备份与恢复</h4><p>缺点：必须断开所有连接，属于离线备份。</p><blockquote><p>准备工作</p></blockquote><p>首先，在指定存放文件备份的目前建立对应数据的文件夹。<br>第二，在执行下列命令，断开所有连接：</p><figure class="highlight nsis"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs nsis"><span class="hljs-comment"># 断开所有连接</span><br>db2 <span class="hljs-literal">force</span> application <span class="hljs-literal">all</span><br><br><span class="hljs-comment"># 查看是否还有连着连接</span><br>db2 list applications<br></code></pre></td></tr></table></figure><p>如果还有连接，请继续等待，直至到没有连接。</p><blockquote><p>备份</p></blockquote><figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs pf">db2 backup db <span class="hljs-variable">&lt;database name&gt;</span> [ <span class="hljs-keyword">to</span> <span class="hljs-variable">&lt;dir name&gt;</span> ]<br><span class="hljs-comment"># demo</span><br>db2 backup db $生产库名 <span class="hljs-keyword">to</span> $备份路径 PARALLELISM <span class="hljs-number">2</span> COMPRESS<br></code></pre></td></tr></table></figure><p>database name：表示数据库。<br>to dir name：表示为备份到的目录路径,为可选项,默认在当前目录下。</p><blockquote><p>检查</p></blockquote><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">db2ckbkp -h &lt;<span class="hljs-keyword">database</span> <span class="hljs-type">name</span>&gt;<br></code></pre></td></tr></table></figure><p>备份的数据库全名。</p><blockquote><p>恢复</p></blockquote><figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pf">db2 restore db <span class="hljs-variable">&lt;OLD_DB_NAME&gt;</span> [ <span class="hljs-keyword">from</span> <span class="hljs-variable">&lt;dir name&gt;</span> ] taken at <span class="hljs-number">20190505181334</span> into <span class="hljs-variable">&lt;NEW_DB_NAME&gt;</span><br></code></pre></td></tr></table></figure><p>OLD_DB_NAME：表示恢复的数据库名。<br>NEW_DB_NAME：新的数据库名称。<br>from dir name：表示为备份到的目录路径,为可选项,默认在当前目录下。<br>20190505181334：backup备份的时候有个时间。</p><blockquote><p>历史备份查看</p></blockquote><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim">db2 <span class="hljs-keyword">list</span> <span class="hljs-keyword">history</span> backup <span class="hljs-keyword">all</span> <span class="hljs-keyword">for</span> 数据库<br></code></pre></td></tr></table></figure><h4 id="学习参考"><a href="#学习参考" class="headerlink" title="学习参考"></a>学习参考</h4><p>导入与导出：<a href="https://blog.csdn.net/reaper1022/article/details/18601973">https://blog.csdn.net/reaper1022/article/details/18601973</a></p>]]></content>
    
    
    <categories>
      
      <category>数据库</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DB2</tag>
      
      <tag>命令工具</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>DB2基础学习之常用命令</title>
    <link href="/articles/8747/"/>
    <url>/articles/8747/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p>工作环境的原因，第一次实际上使用到了DB2这个数据库，记录一下学习的要点与过程，都是一些比较基础的命令。</p>          </div><span id="more"></span><hr /><h3 id="1、基本操作"><a href="#1、基本操作" class="headerlink" title="1、基本操作"></a>1、基本操作</h3><h4 id="1-1、cmd"><a href="#1-1、cmd" class="headerlink" title="1.1、cmd"></a>1.1、cmd</h4><p>在系统cmd中执行的命令。</p><figure class="highlight hsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs hsp"><span class="hljs-meta"># 普通用户</span><br>db2cmd<br><br><span class="hljs-meta"># 管理员<span class="hljs-keyword">cmd</span>，有权限执行：db2start，db2stop</span><br>db2cmdadmin<br></code></pre></td></tr></table></figure><h4 id="1-2、创建数据库"><a href="#1-2、创建数据库" class="headerlink" title="1.2、创建数据库"></a>1.2、创建数据库</h4><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver"><span class="hljs-comment"># SAMPLE数据库</span><br>db2sampl<br>db2sampl -force<br><br><span class="hljs-comment"># 标准数据库创建</span><br>db2 <span class="hljs-built_in">create</span> db TEST  <span class="hljs-built_in">alias</span> TEST <span class="hljs-keyword">using</span> codeset gbk territory cn collate <span class="hljs-keyword">using</span> <span class="hljs-keyword">system</span> PAGESIZE <span class="hljs-number">8</span> K<br></code></pre></td></tr></table></figure><h4 id="1-3、删除数据库"><a href="#1-3、删除数据库" class="headerlink" title="1.3、删除数据库"></a>1.3、删除数据库</h4><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs excel"><span class="hljs-symbol">db2</span> <span class="hljs-built_in">drop</span> <span class="hljs-built_in">db</span> XXXX<br></code></pre></td></tr></table></figure><h4 id="1-4、查看数据库列表"><a href="#1-4、查看数据库列表" class="headerlink" title="1.4、查看数据库列表"></a>1.4、查看数据库列表</h4><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs crmsh"><span class="hljs-comment"># 数据库</span><br>db2 list db directory<br><br><span class="hljs-comment"># 节点</span><br>db2 list <span class="hljs-keyword">node</span> <span class="hljs-title">directory</span><br></code></pre></td></tr></table></figure><h4 id="1-5、数据库连接"><a href="#1-5、数据库连接" class="headerlink" title="1.5、数据库连接"></a>1.5、数据库连接</h4><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"># 连接<br>db2 <span class="hljs-keyword">connect</span> <span class="hljs-keyword">to</span> XXXX <span class="hljs-keyword">user</span> 用户名 <span class="hljs-keyword">using</span> 密码<br><br># 断开（<span class="hljs-number">2</span>种方式）<br>db2 <span class="hljs-keyword">connect</span> <span class="hljs-keyword">reset</span><br>db2 terminate<br><br># 断开所有<br>db2 force application <span class="hljs-keyword">all</span><br></code></pre></td></tr></table></figure><h4 id="1-6、数据库添加schema"><a href="#1-6、数据库添加schema" class="headerlink" title="1.6、数据库添加schema"></a>1.6、数据库添加schema</h4><p>connect数据库状态</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"># 创建<br>db2 <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">SCHEMA</span> XXXX<br># 设置<br>db2 <span class="hljs-keyword">SET</span> <span class="hljs-keyword">SCHEMA</span> XXXX<br># 删除<br>db2  <span class="hljs-keyword">DROP</span> <span class="hljs-keyword">SCHEMA</span> XXXX <span class="hljs-keyword">RESTRICT</span><br></code></pre></td></tr></table></figure><h4 id="1-7、授权"><a href="#1-7、授权" class="headerlink" title="1.7、授权"></a>1.7、授权</h4><p>connect数据库状态<br>授权在这里说2种，都是亲身实践</p><div class="post_cus_note">代码方式</div><p>语法糖：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">db2 <span class="hljs-keyword">grant</span> 权限 <span class="hljs-keyword">on</span> <span class="hljs-keyword">database</span> <span class="hljs-keyword">to</span> <span class="hljs-keyword">user</span> XXXX<br></code></pre></td></tr></table></figure><p>注意：sql语句中的database是固定写法，不是数据库名称。</p><ul><li>dbadm：DBADM 用户对一个数据库有几乎完全的控制能力。DBADM 用户不能执行某些维护或管理任务</li><li>CREATETAB：用户可以在数据库中创建表。 　　</li><li>BINDADD：用户可以使用 BIND 命令在数据库中创建包。 　　</li><li>CONNECT：用户可以连接数据库。 　　</li><li>CREATE_NOT_FENCED：用户可以创建 unfenced 用户定义函数(UDF)。 　　</li><li>IMPLICIT_SCHEMA：用户可以在数据库中隐式地创建模式，而不需要使用 CREATE SCHEMA 命令。</li><li>LOAD：用户可以将数据装载进表中。 　　</li><li>QUIESCE_CONNECT：用户可以访问处于静默(quiesced)状态的数据库。 　　</li><li>CREATE_EXTERNAL_ROUTINE：用户可以创建供应用程序和数据库的其他用户使用的过程。</li><li>secadm：安全性管理员</li></ul><div class="post_cus_note">可视化操作方式</div><ul><li>打开DB2的控制中心</li><li>点击要进行授权的数据库</li><li>找到用户和组对象-&gt;数据库用户</li><li>双击要进行授权的用户</li><li>勾选权限，确定</li></ul><p><img src="/articles/8747/db2_grant.png"></p><h4 id="1-8、缓冲池"><a href="#1-8、缓冲池" class="headerlink" title="1.8、缓冲池"></a>1.8、缓冲池</h4><p>connect数据库连接状态</p><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs gauss"><span class="hljs-meta"># 创建 XXXX为名称</span><br>db2 <span class="hljs-keyword">CREATE</span> BUFFERPOOL XXXX IMMEDIATE SIZE <span class="hljs-number">250</span> AUTOMATIC PAGESIZE <span class="hljs-number">8</span> K<br><br><span class="hljs-meta"># 查看</span><br>db2 <span class="hljs-built_in">select</span> * from SYSCAT.BUFFERPOOLS<br><br><span class="hljs-meta"># 删除</span><br>db2 <span class="hljs-built_in">DROP</span> BUFFERPOOL XXXX<br></code></pre></td></tr></table></figure><h4 id="1-9、数据库参数配置"><a href="#1-9、数据库参数配置" class="headerlink" title="1.9、数据库参数配置"></a>1.9、数据库参数配置</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-comment"># 查看</span><br>db2 <span class="hljs-built_in">get</span> db cfg<br><br><span class="hljs-comment"># 更新</span><br>db2 <span class="hljs-string">&quot;UPDATE DB CFG USING KEY VALUE&quot;</span><br></code></pre></td></tr></table></figure><p>在更新的语法糖上，key为DB2数据库参数，value为参数值。</p><h3 id="2、高级操作"><a href="#2、高级操作" class="headerlink" title="2、高级操作"></a>2、高级操作</h3><h4 id="2-1、表空间"><a href="#2-1、表空间" class="headerlink" title="2.1、表空间"></a>2.1、表空间</h4><p>表空间类别：</p><ul><li><p>系统表空间（SYSCATSPACE）<br>系统表空间又称为系统编目表空间，DB2系统编目表是DB2数据库保存所有DB2对象元数据的地方。</p></li><li><p>系统工具表空间（SYSTOOLSPACE）<br>系统工具表空间是供DB2管理工具和SQL管理例程使用的特定表空。</p></li><li><p>用户表空间（USERSPACE）<br>用户表空间也是数据库创建时自动创建的，表空间名称为USERSPACE1<br>数据库中用户表默认存放于这个表空间中，必须至少有一个用户表空间。</p></li><li><p>临时表空间（TEMPSPACE）<br>数据库管理器使用临时表空间在执行SQL操作时存储临时数据，例如排序，表重组，索引创建以及表链接等操作所产生的中间表都由临时表空间存储，数据库必须至少有一个临时表空间，也可以有多个。<br>DB2支持系统临时表空间和用户临时表空间两种类型，系统临时表空间必须存在，用户临时表空间可以有0个或多个。</p></li><li><p>常规表空间<br>常规表空间根据容量将表空间划分为常规表空间和大型表空间。</p></li></ul><p>表空间管理类型：</p><ul><li><p>系统管理表空间（SMS，System-Managed Space）<br>数据存储空间完全由操作系统管理；<br>SMS表空间的大小是可以动态增加的。</p></li><li><p>数据库管理表空间（DMS，Database-Managed Space）<br>DMS表空间由数据库管理系统（DBMS）自己管理控制；<br>这些容器的空间都是预先分配的且不允许修改大小的。</p></li><li><p>DMS自动存储表空间（Automatic Storage DMS）<br>它是DMS存储的另外一种处理方法。<br>DMS需要很多的维护操作，而自动存储器则是作为一种简化的空间管理手段，</p></li></ul><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"># 创建<br>db2 <span class="hljs-keyword">create</span> <span class="hljs-keyword">large</span> <span class="hljs-keyword">tablespace</span> 表空间名 pagesize 页大小 managed <span class="hljs-keyword">by</span> <span class="hljs-keyword">database</span> <span class="hljs-keyword">using</span>(容器类型 路径 大小) bufferpool 缓冲池名<br># 示例<br>db2 <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">LARGE</span> <span class="hljs-keyword">TABLESPACE</span> TBS_PAS PAGESIZE <span class="hljs-number">16</span> K MANAGED <span class="hljs-keyword">BY</span> <span class="hljs-keyword">DATABASE</span> <span class="hljs-keyword">USING</span> ( FILE <span class="hljs-string">&#x27;/home/TBS_PAS01&#x27;</span> <span class="hljs-number">1000</span>M) BUFFERPOOL  IBMDEFAULTBP<br><br># 删除<br>db2 <span class="hljs-keyword">drop</span> <span class="hljs-keyword">tablespace</span> 表空间名<br><br># 增加表空间容器<br>db2 <span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLESPACE</span>  TBS_PAS <span class="hljs-keyword">add</span> (FILE <span class="hljs-string">&#x27;/home/TBS_PAS02&#x27;</span> <span class="hljs-number">1000</span>)<br><br># 增加容器会涉及到表空间容器的重新平衡，可使用命令<br>db2 list utilities [<span class="hljs-keyword">show</span> detail]<br><br># 更改表空间容器<br>db2 <span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLESPACE</span> TBS_PAS resize (FILE <span class="hljs-string">&#x27;/home/TBS_PAS02&#x27;</span> <span class="hljs-number">1000</span>M)<br><br># 删除表空间容器<br>db2 <span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLESPACE</span> TBS_PAS <span class="hljs-keyword">drop</span> (FILE <span class="hljs-string">&#x27;/home/TBS_PAS02&#x27;</span>)<br></code></pre></td></tr></table></figure><h4 id="2-2、修改用户密码（控制台）"><a href="#2-2、修改用户密码（控制台）" class="headerlink" title="2.2、修改用户密码（控制台）"></a>2.2、修改用户密码（控制台）</h4><p>密码与系统用户保持一致，也可以通过更改用户密码来更改数据库用户密码</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">db2 <span class="hljs-keyword">connect</span> <span class="hljs-keyword">to</span> neu <span class="hljs-keyword">user</span> db2admin <span class="hljs-keyword">using</span> db2admin<br>db2 <span class="hljs-keyword">connect</span> <span class="hljs-keyword">to</span> neu <span class="hljs-keyword">user</span> db2admin <span class="hljs-keyword">using</span> db2admin <span class="hljs-built_in">new</span> <span class="hljs-number">1</span> confirm <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><blockquote><p>node节点操作</p></blockquote><p>个人认为，node主要用于集群，如果是单节点，貌似没啥用</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">增加结点编目：db2 catalog tcpip <span class="hljs-keyword">node</span> <span class="hljs-title">结点名字 remote</span> 结点所在ip地址 server 服务端口<br>查看结点编目：db2 list <span class="hljs-keyword">node</span> <span class="hljs-title">directory</span><br>删除结点编目：db2 uncatalog <span class="hljs-keyword">node</span> <span class="hljs-title">结点别名</span><br><span class="hljs-title"></span><br><span class="hljs-title">增加数据库编目：db2</span> catalog db 远程数据库名字 as 数据库别名 at <span class="hljs-keyword">node</span> <span class="hljs-title">结点名字</span><br><span class="hljs-title">查看数据库编目：db2</span> list db directory<br>删除数据库编目：db2 uncatalog db 数据库别名<br></code></pre></td></tr></table></figure><h3 id="3、拓展"><a href="#3、拓展" class="headerlink" title="3、拓展"></a>3、拓展</h3><h4 id="3-1、命令编辑器"><a href="#3-1、命令编辑器" class="headerlink" title="3.1、命令编辑器"></a>3.1、命令编辑器</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">db2ce<br></code></pre></td></tr></table></figure><h4 id="3-2、控制中心"><a href="#3-2、控制中心" class="headerlink" title="3.2、控制中心"></a>3.2、控制中心</h4><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs llvm">db<span class="hljs-number">2</span><span class="hljs-keyword">cc</span><br></code></pre></td></tr></table></figure><h4 id="3-3、配置助手"><a href="#3-3、配置助手" class="headerlink" title="3.3、配置助手"></a>3.3、配置助手</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">db2ca<br></code></pre></td></tr></table></figure><h4 id="3-4、查看db2参数"><a href="#3-4、查看db2参数" class="headerlink" title="3.4、查看db2参数"></a>3.4、查看db2参数</h4><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim">db2 <span class="hljs-keyword">list</span> <span class="hljs-keyword">command</span> <span class="hljs-keyword">options</span><br></code></pre></td></tr></table></figure><h3 id="4、坑"><a href="#4、坑" class="headerlink" title="4、坑"></a>4、坑</h3><div class="note note-danger">            <p>1.节点名称不能包含下划线</p>          </div><h3 id="5、学习参考"><a href="#5、学习参考" class="headerlink" title="5、学习参考"></a>5、学习参考</h3><p>授权：<a href="http://blog.sina.com.cn/s/blog_626e70700102uxu0.html">http://blog.sina.com.cn/s/blog_626e70700102uxu0.html</a><br>DB2删除schema：<a href="https://blog.csdn.net/conglushao5834/article/details/100469210?utm_medium=distribute.pc_relevant.none-task-blog-OPENSEARCH-3.edu_weight&depth_1-utm_source=distribute.pc_relevant.none-task-blog-OPENSEARCH-3.edu_weight" target="_blank" class="block_project_a">DB2删除schema</a><br>表空间：<a href="http://macsishu.com/db23000/db23400">http://macsishu.com/db23000/db23400</a><br>node节点操作：<a href="http://blog.sina.com.cn/s/blog_4d887acf0102wydv.html">http://blog.sina.com.cn/s/blog_4d887acf0102wydv.html</a></p>]]></content>
    
    
    <categories>
      
      <category>数据库</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DB2</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Git工具服务器建立仓库并上传</title>
    <link href="/articles/40662/"/>
    <url>/articles/40662/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p>项目要经常修改bug、上线等操作，如果是公司的话会有统一的gitlab、jenkins等工具，但是对于我个人来说，我自己的博客、开源项目都需要发不到服务器上。<br>目前，本人经常用2种方式：</p><ul><li>把项目tar打包压缩，通过scp上传到服务器，解压，通过supervisor管理项目。</li><li>在服务器上做一个git仓库，用来实时更新。<br>本篇主要讲述第二种git仓库方式，<font color='red' size=4.5>完美使用</font>！！！。</li></ul>          </div><span class="label label-default">git</span> <span class="label label-primary">代码发布</span> <span class="label label-success">版本管理</span><span id="more"></span><hr /><h4 id="1、ssh-用户-服务器IP"><a href="#1、ssh-用户-服务器IP" class="headerlink" title="1、ssh 用户@服务器IP"></a>1、ssh 用户@服务器IP</h4><h4 id="2、切换目录"><a href="#2、切换目录" class="headerlink" title="2、切换目录"></a>2、切换目录</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> 目标目录<br><span class="hljs-comment"># git目录</span><br><span class="hljs-built_in">mkdir</span> -p /home/mingliang.gao/git<br><span class="hljs-comment"># 项目目录</span><br><span class="hljs-built_in">mkdir</span> -p /home/mingliang.gao/projects<br></code></pre></td></tr></table></figure><p>这里要mkdir2个目录，一个用于存放git仓库，一个用于真实存放项目文件。</p><h4 id="3、初始化仓库"><a href="#3、初始化仓库" class="headerlink" title="3、初始化仓库"></a>3、初始化仓库</h4><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli"><span class="hljs-keyword">cd</span> 仓库目录<br>git init <span class="hljs-params">--bare</span> 项目名<span class="hljs-string">.git</span><br></code></pre></td></tr></table></figure><h4 id="4、编辑post-receive钩子"><a href="#4、编辑post-receive钩子" class="headerlink" title="4、编辑post-receive钩子"></a>4、编辑post-receive钩子</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> 项目名.git/hooks<br>vim post-receive<br></code></pre></td></tr></table></figure><p>post-receive内容如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/sh</span><br>git --work-tree=/home/mingliang.gao/projects/blog --git-dir=/home/mingliang.gao/git/blog.git checkout -f<br></code></pre></td></tr></table></figure><p>–work-tree：项目实际目录<br>–git-dir：仓库目录</p><h4 id="5、post-receive权限"><a href="#5、post-receive权限" class="headerlink" title="5、post-receive权限"></a>5、post-receive权限</h4><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">chmod</span> <span class="hljs-number">777</span> post-receive<br></code></pre></td></tr></table></figure><h4 id="6、push"><a href="#6、push" class="headerlink" title="6、push"></a>6、push</h4><p>到这里就可以对项目进行git操作，push项目到服务器了。</p>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
    </categories>
    
    
    <tags>
      
      <tag>git</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Select2的基础使用</title>
    <link href="/articles/47159/"/>
    <url>/articles/47159/</url>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>写html的人必定用过select标签，样式确实有些。。。如果自己写样式可以。<br>上网找select组件，发现select2，有好的组件咱们直接用就好了。</p>          </div><span id="more"></span><hr /><h4 id="1、下载地址"><a href="#1、下载地址" class="headerlink" title="1、下载地址"></a>1、下载地址</h4><p>下载之后放在本地。<br>CSS：<a href="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/css/select2.min.css">https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/css/select2.min.css</a><br>JS：<a href="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/js/select2.min.js">https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/js/select2.min.js</a></p><h4 id="2、Demo"><a href="#2、Demo" class="headerlink" title="2、Demo"></a>2、Demo</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;select2-4.1.0/select2.min.css&quot;</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;select2-4.1.0/select2.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;js-example-basic-single&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;state&quot;</span> <span class="hljs-attr">multiple</span>=<span class="hljs-string">&quot;multiple&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 100%;&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;AL&quot;</span>&gt;</span>Alabama<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;WY&quot;</span>&gt;</span>Wyoming<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    $(<span class="hljs-variable language_">document</span>).<span class="hljs-title function_">ready</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">        $(<span class="hljs-string">&#x27;.js-example-basic-single&#x27;</span>).<span class="hljs-title function_">select2</span>();</span><br><span class="language-javascript">    &#125;);</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>需要其他写法的可以查看官网。</p><h4 id="3、配置"><a href="#3、配置" class="headerlink" title="3、配置"></a>3、配置</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs php">$(<span class="hljs-string">&#x27;#problem_types&#x27;</span>).<span class="hljs-title function_ invoke__">select2</span>(&#123;<br>    <span class="hljs-attr">placeholder</span>: <span class="hljs-string">&#x27;可多选，最多支持4个一级分类，支持模糊查询&#x27;</span>,<br>    <span class="hljs-attr">maximumSelectionLength</span>: <span class="hljs-number">4</span>,<br>    <span class="hljs-attr">allowClear</span>: <span class="hljs-literal">true</span>,<br>    <span class="hljs-attr">closeOnSelect</span>: <span class="hljs-literal">false</span>,<br>    <span class="hljs-attr">selectionCssClass</span>: <span class="hljs-string">&#x27;info_red&#x27;</span>,<br>    //<span class="hljs-attr">dropdownCssClass</span>: <span class="hljs-string">&#x27;info_red&#x27;</span>,<br>    <span class="hljs-attr">tags</span>: <span class="hljs-literal">false</span>,<br>    <span class="hljs-attr">tokenSeparators</span>: [<span class="hljs-string">&#x27;,&#x27;</span>, <span class="hljs-string">&#x27; &#x27;</span>], // 多选 - 输入逗号和空格会自动完成一个选项 前提是：<span class="hljs-attr">tags</span>: <span class="hljs-literal">true</span><br>    //<span class="hljs-attr">theme</span>: <span class="hljs-string">&quot;classic&quot;</span><br>&#125;);<br></code></pre></td></tr></table></figure><ul><li>multiple：支持多选</li><li>placeholder：标签的默认文字显示</li><li>maximumSelectionLength：最大选择的个数</li><li>allowClear：启用一键清除选择的功能</li><li>closeOnSelect：是否选择一个就关闭option选择栏</li><li>selectionCssClass：选择的options类x的样式类</li><li>dropdownCssClass：下拉列表的文字样式</li><li>tags：是否启动自定义选择的功能</li><li>tokenSeparators：输入逗号和空格会自动完成一个选项 前提是：tags: true</li><li>theme：select2的样式，目前只看到了classic还有默认</li></ul><h4 id="4、学习参考"><a href="#4、学习参考" class="headerlink" title="4、学习参考"></a>4、学习参考</h4><p>官网：<a href="https://select2.org/">https://select2.org/</a><br>配置：<a href="https://select2.org/configuration/options-api">https://select2.org/configuration/options-api</a></p>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HTML</tag>
      
      <tag>前端组件</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Javascript添加和移除Class类名</title>
    <link href="/articles/27102/"/>
    <url>/articles/27102/</url>
    
    <content type="html"><![CDATA[<h4 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h4><div class="note note-primary">            <p>最近再写一个综合系统，包含业务部分、日常任务管理、软件&#x2F;模板管理等多种功能，前端使用的Adminlte样式，基于Bootstrap的。但是，写HTML经常会遇到添加和移除Class类名的情况，经常忘记，写个blog来记录。</p>          </div><span id="more"></span><hr /><h4 id="添加Class类名"><a href="#添加Class类名" class="headerlink" title="添加Class类名"></a>添加Class类名</h4><blockquote><p>方法一</p></blockquote><p>一次只能设定一个类。</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-comment">// 获取元素</span><br>element = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;元素id&#x27;</span>);<br>element.className = <span class="hljs-string">&#x27;类名&#x27;</span>;<br><br><span class="hljs-comment">// 等同代码</span><br><span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;元素id&#x27;</span>).className = <span class="hljs-string">&#x27;类名&#x27;</span>;<br></code></pre></td></tr></table></figure><blockquote><p>方法二</p></blockquote><p>用来设置自定义属性和值，如果是class，直接传入”class”即可；可以通过 .getAttribute 方法获取。</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs dart">element = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;元素id&#x27;</span>);<br>element.setAttribute(<span class="hljs-string">&#x27;属性名&#x27;</span>,<span class="hljs-string">&#x27;值&#x27;</span>);<br><br><span class="hljs-comment">// 等同代码</span><br><span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;元素id&#x27;</span>).setAttribute(<span class="hljs-string">&#x27;属性名&#x27;</span>,<span class="hljs-string">&#x27;值&#x27;</span>);<br></code></pre></td></tr></table></figure><h4 id="移除Class类名"><a href="#移除Class类名" class="headerlink" title="移除Class类名"></a>移除Class类名</h4><p>移除的方法与添加的方式都是对应的。</p><blockquote><p>方法一</p></blockquote><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-comment">// 获取元素</span><br>element = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;元素id&#x27;</span>);<br>element.className = <span class="hljs-string">&#x27;&#x27;</span>;<br><br><span class="hljs-comment">// 等同代码</span><br><span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;元素id&#x27;</span>).className = <span class="hljs-string">&#x27;&#x27;</span>;<br></code></pre></td></tr></table></figure><blockquote><p>方法二</p></blockquote><p>直接通过removeAttribute移除。</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs dart">element = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;元素id&#x27;</span>);<br>element.removeAttribute(<span class="hljs-string">&#x27;属性名&#x27;</span>);<br><br><span class="hljs-comment">// 等同代码</span><br><span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;元素id&#x27;</span>).removeAttribute(<span class="hljs-string">&#x27;属性名&#x27;</span>);<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Javascript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ADB设备包列表</title>
    <link href="/articles/14917/"/>
    <url>/articles/14917/</url>
    
    <content type="html"><![CDATA[<p>Android设备的包列表</p><span class="label label-default">ADB</span> <span class="label label-info">APP包名称</span><span id="more"></span><hr /><table><thead><tr><th align="center">ID</th><th align="center">Package</th><th align="center">App</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">com.tencent.mm</td><td align="center">微信</td></tr><tr><td align="center">2</td><td align="center">com.tencent.mobileqq</td><td align="center">QQ</td></tr><tr><td align="center">3</td><td align="center">com.tencent.weishi</td><td align="center">微视</td></tr><tr><td align="center">4</td><td align="center">com.achievo.vipshop</td><td align="center">唯品会</td></tr><tr><td align="center">5</td><td align="center">net.oschina.app</td><td align="center">OsChina</td></tr><tr><td align="center">6</td><td align="center">cn.wps.moffice_eng</td><td align="center">WPS Office</td></tr><tr><td align="center">7</td><td align="center">com.heytap.smarthome</td><td align="center">智能家居</td></tr><tr><td align="center">8</td><td align="center">tv.danmaku.bili</td><td align="center">Bibi</td></tr><tr><td align="center">9</td><td align="center">com.netease.cloudmusic</td><td align="center">网易云音乐</td></tr><tr><td align="center">10</td><td align="center">com.netease.newsreader.activity</td><td align="center">网易新闻</td></tr><tr><td align="center">11</td><td align="center">com.taobao.taobao</td><td align="center">淘宝</td></tr><tr><td align="center">12</td><td align="center">com.jingdong.app.mall</td><td align="center">京东</td></tr><tr><td align="center">13</td><td align="center">com.baidu.netdisk</td><td align="center">百度云</td></tr><tr><td align="center">14</td><td align="center">com.baidu.searchbox</td><td align="center">百度浏览器</td></tr><tr><td align="center">15</td><td align="center">com.baidu.tieba</td><td align="center">百度贴吧</td></tr><tr><td align="center">16</td><td align="center">com.baidu.BaiduMap</td><td align="center">百度地图</td></tr><tr><td align="center">17</td><td align="center">sina.weibo</td><td align="center">微博</td></tr><tr><td align="center">18</td><td align="center">com.tencent.tmgp.pubgmhd</td><td align="center">和平精英</td></tr><tr><td align="center">19</td><td align="center">com.hpbr.bosszhipin</td><td align="center">Boss直聘</td></tr><tr><td align="center">20</td><td align="center">com.qiyi.video</td><td align="center">爱奇艺</td></tr><tr><td align="center">21</td><td align="center">com.heytap.cloud</td><td align="center">Oppo云服务</td></tr><tr><td align="center">22</td><td align="center">com.sankuai.meituan</td><td align="center">美团</td></tr><tr><td align="center">23</td><td align="center">cmb.pb</td><td align="center">招商银行</td></tr><tr><td align="center">24</td><td align="center">com.chinamworld.main</td><td align="center">建设银行</td></tr><tr><td align="center">25</td><td align="center">com.xingin.xhs</td><td align="center">小红书</td></tr><tr><td align="center">26</td><td align="center">com.sdu.didi.psnger</td><td align="center">滴滴</td></tr><tr><td align="center">27</td><td align="center">com.to8to.housekeeper</td><td align="center">土巴兔</td></tr><tr><td align="center">28</td><td align="center">com.wuba</td><td align="center">58同城</td></tr><tr><td align="center">29</td><td align="center">com.mfw.roadbook</td><td align="center">马蜂窝</td></tr><tr><td align="center">30</td><td align="center">com.xunmeng.pinduoduo</td><td align="center">拼多多</td></tr><tr><td align="center">31</td><td align="center">com.cubic.autohome</td><td align="center">汽车之家</td></tr><tr><td align="center">32</td><td align="center">com.huatu.handheld_huatu</td><td align="center">华图</td></tr><tr><td align="center">33</td><td align="center">com.zhongduomei.rrmj.society</td><td align="center">人人视频</td></tr><tr><td align="center">34</td><td align="center">com.Qunar</td><td align="center">去哪儿</td></tr><tr><td align="center">35</td><td align="center">qsbk.app</td><td align="center">糗百</td></tr><tr><td align="center">36</td><td align="center">com.jiongji.andriod.card</td><td align="center">百词斩</td></tr><tr><td align="center">37</td><td align="center">com.hipipal.qpyplus</td><td align="center">Python</td></tr><tr><td align="center">38</td><td align="center">com.qicai.translate</td><td align="center">翻译官</td></tr><tr><td align="center">39</td><td align="center">com.autonavi.minimap</td><td align="center">高德地图</td></tr><tr><td align="center">40</td><td align="center">com.smartisanos.smartfolder.aoa</td><td align="center">HandShaker</td></tr><tr><td align="center">41</td><td align="center">com.ss.android.ugc.aweme</td><td align="center">抖音</td></tr></tbody></table><p><font size=6.5 color='red'>持续更新中。。。。。。</font></p>]]></content>
    
    
    <categories>
      
      <category>移动端</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ADB</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ADB基础命令</title>
    <link href="/articles/61770/"/>
    <url>/articles/61770/</url>
    
    <content type="html"><![CDATA[<p><strong>ADB</strong>：Android Debug Bridge</p><span id="more"></span><hr /><p>搞了几天的ADB命令，记录一下，都是一些比较基础的命令。</p><p>环境：MacOs</p><h4 id="1、安装"><a href="#1、安装" class="headerlink" title="1、安装"></a>1、安装</h4><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-keyword">brew </span><span class="hljs-keyword">install </span><span class="hljs-keyword">android-platform-tools</span><br></code></pre></td></tr></table></figure><h4 id="2、服务"><a href="#2、服务" class="headerlink" title="2、服务"></a>2、服务</h4><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs axapta"><span class="hljs-meta"># 启动adb服务</span><br>adb start-<span class="hljs-keyword">server</span><br><br><span class="hljs-meta"># 结束adb服务</span><br>adb kill-<span class="hljs-keyword">server</span><br></code></pre></td></tr></table></figure><p>指定端口服务：adb -P <strong>port</strong> start-server，这个port与设备tcpip开放的端口对应。</p><h4 id="3、连接"><a href="#3、连接" class="headerlink" title="3、连接"></a>3、连接</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 连接（one）-数据线</span><br>adb devices<br><br><span class="hljs-comment"># 连接/断开-IP</span><br>adb connect/disconnect 设备IP<br></code></pre></td></tr></table></figure><h4 id="4、设备状态"><a href="#4、设备状态" class="headerlink" title="4、设备状态"></a>4、设备状态</h4><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs actionscript">adb <span class="hljs-keyword">get</span>-state<br></code></pre></td></tr></table></figure><ul><li>device：设备正常连接</li><li>offline：连接出现异常，设备无响应</li><li>unknown：没有连接设备</li></ul><h4 id="5、重启设备"><a href="#5、重启设备" class="headerlink" title="5、重启设备"></a>5、重启设备</h4><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">adb</span> -s 设备名称 reboot<br></code></pre></td></tr></table></figure><p>重启到recovery&#x2F;bootloader模式：adb reboot recovery&#x2F;bootloader。</p><h4 id="6、APP包"><a href="#6、APP包" class="headerlink" title="6、APP包"></a>6、APP包</h4><blockquote><p>查看设备包</p></blockquote><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dockerfile">adb <span class="hljs-keyword">shell</span><span class="language-bash"> pm list packages</span><br></code></pre></td></tr></table></figure><ul><li>不加参数，默认：所有应用</li><li>-f：显示应用关联的 apk 文件</li><li>-d：只显示 disabled 的应用</li><li>-e：只显示 enabled 的应用</li><li>-s：只显示系统应用</li><li>-3：只显示第三方应用</li><li>-i：显示应用的installer</li><li>-u：包含已卸载应用</li></ul><blockquote><p>获取当前窗口APP包名</p></blockquote><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs gauss"><span class="hljs-meta"># 第一种</span><br>adb <span class="hljs-built_in">shell</span> dumpsys <span class="hljs-built_in">window</span> | grep mCurrentFocus <br><span class="hljs-meta"># 第二种</span><br>adb <span class="hljs-built_in">shell</span> dumpsys activity activities | grep mResumedActivity<br></code></pre></td></tr></table></figure><blockquote><p>启动包</p></blockquote><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus">adb shell monkey -<span class="hljs-selector-tag">p</span> com<span class="hljs-selector-class">.ss</span><span class="hljs-selector-class">.android</span><span class="hljs-selector-class">.ugc</span><span class="hljs-selector-class">.aweme</span> -v <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><ul><li>1: 代表事件次数</li><li>-v: 日志级别，-v&#x2F;-v -v&#x2F;-v -v -v</li></ul><p>包名：<a href="/articles/14917/" target="_blank" class="block_project_a">ADB设备包列表</a>。</p><blockquote><p>安装&#x2F;卸载应用程序</p></blockquote><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs avrasm"><span class="hljs-meta"># 安装</span><br>adb install -r 安装包a.apk<br><span class="hljs-meta"># 卸载</span><br>adb uninstall <span class="hljs-keyword">com</span>.ss.android.ugc.aweme<br></code></pre></td></tr></table></figure><p>安装：<br>-r：允许覆盖安装<br>-s：将应用安装到 sdcard<br>-d：允许降级覆盖安装</p><p>卸载： -k：参数可选，表示卸载应用但保留数据和缓存目录</p><blockquote><p>查看应用详细信息</p></blockquote><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">adb shell dumpsys <span class="hljs-keyword">package</span> <span class="hljs-title">&lt;packagename&gt;</span><br></code></pre></td></tr></table></figure><p>输出中包含很多信息，包括 Activity Resolver Table、Registered ContentProviders、包名、userId、安装后的文件资源代码等路径、版本信息、权限信息和授予状态、签名版本信息等。</p><blockquote><p>查看应用安装路径</p></blockquote><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim">adb <span class="hljs-keyword">shell</span> pm path <span class="hljs-symbol">&lt;PACKAGE&gt;</span><br></code></pre></td></tr></table></figure><blockquote><p>清除应用数据与缓存</p></blockquote><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gauss">adb <span class="hljs-built_in">shell</span> pm <span class="hljs-keyword">clear</span> 包名<br></code></pre></td></tr></table></figure><blockquote><p>强制停止应用</p></blockquote><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus">adb shell am force-<span class="hljs-selector-tag">stop</span> 包名（com<span class="hljs-selector-class">.ss</span><span class="hljs-selector-class">.android</span><span class="hljs-selector-class">.ugc</span>.aweme）<br></code></pre></td></tr></table></figure><h4 id="7、查看设备信息"><a href="#7、查看设备信息" class="headerlink" title="7、查看设备信息"></a>7、查看设备信息</h4><blockquote><p>型号</p></blockquote><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dockerfile">adb <span class="hljs-keyword">shell</span><span class="language-bash"> getprop ro.product.model</span><br></code></pre></td></tr></table></figure><blockquote><p>电池状况</p></blockquote><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dockerfile">adb <span class="hljs-keyword">shell</span><span class="language-bash"> dumpsys battery</span><br></code></pre></td></tr></table></figure><blockquote><p>屏幕分辨率</p></blockquote><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs dockerfile">adb <span class="hljs-keyword">shell</span><span class="language-bash"> wm size</span><br><br><span class="hljs-comment"># 修改</span><br>adb <span class="hljs-keyword">shell</span><span class="language-bash"> wm size 480x1024</span> <br><br><span class="hljs-comment"># 恢复</span><br>adb <span class="hljs-keyword">shell</span><span class="language-bash"> wm size reset</span><br></code></pre></td></tr></table></figure><blockquote><p>屏幕密度</p></blockquote><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dockerfile">adb <span class="hljs-keyword">shell</span><span class="language-bash"> wm density</span><br></code></pre></td></tr></table></figure><blockquote><p>屏幕参数</p></blockquote><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">adb</span> shell dumpsys window displays<br><br><span class="hljs-comment"># 显示范围</span><br><span class="hljs-attribute">adb</span> shell wm overscan <span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">200</span> <br><br><span class="hljs-comment"># 恢复</span><br><span class="hljs-attribute">adb</span> shell wm overscan reset<br></code></pre></td></tr></table></figure><blockquote><p>android_id</p></blockquote><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">adb shell<span class="hljs-built_in"> settings </span><span class="hljs-built_in">get</span> secure android_id<br></code></pre></td></tr></table></figure><blockquote><p>CPU</p></blockquote><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dockerfile">adb <span class="hljs-keyword">shell</span><span class="language-bash"> <span class="hljs-built_in">cat</span> /proc/cpuinfo</span><br></code></pre></td></tr></table></figure><p>与Linux查看实施cpu一致。</p><blockquote><p>内存</p></blockquote><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dockerfile">adb <span class="hljs-keyword">shell</span><span class="language-bash"> <span class="hljs-built_in">cat</span> /proc/meminfo</span><br></code></pre></td></tr></table></figure><p>同上。</p><h4 id="8、设备shell"><a href="#8、设备shell" class="headerlink" title="8、设备shell"></a>8、设备shell</h4><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dockerfile">adb <span class="hljs-keyword">shell</span><br></code></pre></td></tr></table></figure><p>ls, cd, rm, mkdir, touch, pwd, cp, mv, ifconfig, netstat, ping, ps, top等，进入adb shell即可执行，与linux相似。</p><h4 id="9、日志"><a href="#9、日志" class="headerlink" title="9、日志"></a>9、日志</h4><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-comment"># 查看日志</span><br><span class="hljs-attribute">adb</span> logcat<br><br><span class="hljs-comment"># 清除日志</span><br>adb logcat -c<br></code></pre></td></tr></table></figure><h4 id="10、操作"><a href="#10、操作" class="headerlink" title="10、操作"></a>10、操作</h4><blockquote><p>点击</p></blockquote><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">adb</span> shell input tap <span class="hljs-number">300</span> <span class="hljs-number">1000</span><br></code></pre></td></tr></table></figure><p>x坐标 y坐标。</p><blockquote><p>滑动</p></blockquote><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">adb</span> shell input swipe <span class="hljs-number">540</span> <span class="hljs-number">1300</span> <span class="hljs-number">540</span> <span class="hljs-number">500</span> <span class="hljs-number">100</span><br></code></pre></td></tr></table></figure><p>起始点x坐标 起始点y坐标 结束点x坐标 结束点y坐标。</p><blockquote><p>输入文本</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">adb shell <span class="hljs-selector-tag">input</span> <span class="hljs-selector-tag">text</span> hello<br></code></pre></td></tr></table></figure><p>焦点处于某文本框。</p><blockquote><p>输入系统keycode</p></blockquote><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stata">adb <span class="hljs-keyword">shell</span> <span class="hljs-keyword">input</span> keyevent XXXX<br></code></pre></td></tr></table></figure><p>keycode具参考：<a href="/articles/11756/" target="_blank" class="block_project_a">ADB模拟按键代码</a>。</p><h4 id="11、复制文件"><a href="#11、复制文件" class="headerlink" title="11、复制文件"></a>11、复制文件</h4><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs gherkin"><span class="hljs-comment"># 复制设备里的文件到电脑</span><br>adb pull <span class="hljs-variable">&lt;设备里的文件路径&gt;</span> [电脑上的目录]<br><br><span class="hljs-comment"># 复制电脑里的文件到设备</span><br>adb push <span class="hljs-variable">&lt;电脑上的文件路径&gt;</span> <span class="hljs-variable">&lt;设备里的目录&gt;</span><br></code></pre></td></tr></table></figure><h4 id="12、关闭USB调试模式"><a href="#12、关闭USB调试模式" class="headerlink" title="12、关闭USB调试模式"></a>12、关闭USB调试模式</h4><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">adb <span class="hljs-built_in">shell</span> settings <span class="hljs-built_in">put</span> <span class="hljs-built_in">global</span> adb_enabled <span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><h4 id="13、实用工具"><a href="#13、实用工具" class="headerlink" title="13、实用工具"></a>13、实用工具</h4><blockquote><p>截图</p></blockquote><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs stata"># 新<br>adb exec-<span class="hljs-keyword">out</span> screencap -p &gt; <span class="hljs-keyword">sc</span>.png <br><br># 旧<br>adb <span class="hljs-keyword">shell</span> screencap -p /sdcard/<span class="hljs-keyword">sc</span>.png adb pull /sdcard/<span class="hljs-keyword">sc</span>.png<br></code></pre></td></tr></table></figure><blockquote><p>录制屏幕</p></blockquote><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">adb shell screenrecord <span class="hljs-regexp">/sdcard/</span>filename.mp4 adb pull <span class="hljs-regexp">/sdcard/</span>filename.mp4<br></code></pre></td></tr></table></figure><div class="post_cus_note">其他</div><h4 id="14、Connection-refused"><a href="#14、Connection-refused" class="headerlink" title="14、Connection refused"></a>14、Connection refused</h4><p>无线连接失败，执行一下命令：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">adb</span> tcpip <span class="hljs-number">5555</span><br></code></pre></td></tr></table></figure><h4 id="15、Windows过滤关键字"><a href="#15、Windows过滤关键字" class="headerlink" title="15、Windows过滤关键字"></a>15、Windows过滤关键字</h4><p>findstr</p><p><font size=6.5 color='red'>持续更新中。。。。。。</font></p>]]></content>
    
    
    <categories>
      
      <category>移动端</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ADB</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Mac卡顿Updating-Homebrew的解决方案</title>
    <link href="/articles/62547/"/>
    <url>/articles/62547/</url>
    
    <content type="html"><![CDATA[<h4 id="问题背景"><a href="#问题背景" class="headerlink" title="问题背景"></a>问题背景</h4><div class="note note-primary">            <p>MacOS系统，用brew进行安装，但是每次执行brew install XXXX，都会有Updating Homebrew的提示，而且还要花费很久等待的时候，<code>&lt;font color=&#39;red&#39; size=6.5&gt;</code>是时候展现真正的技术了<code>&lt;/font&gt;</code>。</p>          </div><span id="more"></span><hr /><h4 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h4><p>归根结底就是brew开启了自动更新，关闭即可。</p><blockquote><p>编辑配置文件</p></blockquote><p>我用的是item2 + zsh。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">vim ~/.zshrc<br></code></pre></td></tr></table></figure><p>如果使用自带的shell，编辑下面文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">vim ~/.bash_profile<br></code></pre></td></tr></table></figure><blockquote><p>文件结尾新增一行</p></blockquote><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-built_in">export</span> <span class="hljs-attribute">HOMEBREW_NO_AUTO_UPDATE</span>=<span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><blockquote><p>重新加载配置文件</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">source</span> ~/.zshrc<br><span class="hljs-built_in">source</span> ~/.bash_profile<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MacOS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>感谢DataTables的礼物</title>
    <link href="/articles/24409/"/>
    <url>/articles/24409/</url>
    
    <content type="html"><![CDATA[<p>Datatables是一款jquery表格插件。它是一个高度灵活的工具，可以将任何HTML表格添加高级的交互功能。</p><span id="more"></span><hr /><div style="margin-top: 20px;"><font size=5.5 color='red'>特色：</font><span class="label label-success">实用</span> <span class="label label-warning">简单</span> <span class="label label-danger">上手快</span>  </div><div style="margin-top: 20px;"><font size=5.5>DataTables官网：http://datatables.club/ </font><font size=5.5>DataTables QQ交流群：20779435</font></div><p><font size=6.5 color='red'>欢迎大家一起来交流Share。。。。。。</font></p><div class="note note-success">            <p><font size=5.5 color='red'>感谢DataTables赠送的七夕节小熊宝宝礼物。<code>&lt;/font&gt;</code></p>          </div><p><img src="/articles/24409/article_dt1.png"><br><img src="/articles/24409/article_dt2.png"></p>]]></content>
    
    
    <categories>
      
      <category>生活记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DataTables</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux-学习之基础篇-cat</title>
    <link href="/articles/10790/"/>
    <url>/articles/10790/</url>
    
    <content type="html"><![CDATA[<span class="label label-danger">Linux</span> <span class="label label-primary">cat</span> <span class="label label-success">基础教程系列</span><p>cat命令，日志查看最常用的命令，全名：<font size=6.5 color='red'>concatenate files and print on the standard output</font></p><span id="more"></span><hr /><h3 id="1、简介"><a href="#1、简介" class="headerlink" title="1、简介"></a>1、简介</h3><div class="note note-info">            <p>你看没错，本篇研究的是<strong>cat</strong>，不过不是会动的cat，它是用来查看日志的cat。</p>          </div><h3 id="2、介绍"><a href="#2、介绍" class="headerlink" title="2、介绍"></a>2、介绍</h3><p>cat主要使用来查看文件的命令，其他的命令还有tac、tail（tail -f xxx 动态的查看日志）、awk（增强篇中已有）、sed、less、more等等，很多命令。</p><p>cat主要用来<font size=6.5 color='red'><strong>全量查看日志</strong></font>。</p><h3 id="3、正文"><a href="#3、正文" class="headerlink" title="3、正文"></a>3、正文</h3><h4 id="3-1、格式"><a href="#3-1、格式" class="headerlink" title="3.1、格式"></a>3.1、格式</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">cat <span class="hljs-selector-attr">[参数]</span> <span class="hljs-selector-attr">[文件名]</span><br></code></pre></td></tr></table></figure><h4 id="3-2、参数说明"><a href="#3-2、参数说明" class="headerlink" title="3.2、参数说明"></a>3.2、参数说明</h4><blockquote><p>-n</p></blockquote><p>对输出的文件添加<strong>行号</strong>，包含空行。</p><blockquote><p>-b</p></blockquote><p>对输出的文件添加<strong>行号</strong>，去掉空行。</p><h4 id="3-3、常用命令"><a href="#3-3、常用命令" class="headerlink" title="3.3、常用命令"></a>3.3、常用命令</h4><blockquote><p>基本</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cat</span> 文件名<br></code></pre></td></tr></table></figure><p>可以是相对路径，也可以是绝对路径。</p><blockquote><p>输出行号</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cat</span> -n 文件名<br><br><span class="hljs-built_in">cat</span> -n 文件名 &gt; 新文件<br></code></pre></td></tr></table></figure><p>第二个命令可以把原来不带行号的文件输出到新的文件，并且带行号。</p><blockquote><p>查找关键字的行</p></blockquote><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">cat</span> 文件名 | <span class="hljs-keyword">grep</span> <span class="hljs-string">&quot;关键字&quot;</span><br></code></pre></td></tr></table></figure><p>这个命令平时用的相对较多。</p><h3 id="4、补充"><a href="#4、补充" class="headerlink" title="4、补充"></a>4、补充</h3><p>关于其他查看日志的方式以后会陆续给出文章。</p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Linux基础篇</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>邪恶力量</title>
    <link href="/articles/57641/"/>
    <url>/articles/57641/</url>
    
    <content type="html"><![CDATA[<span class="label label-default">剧情</span> <span class="label label-primary">灵异</span> <span class="label label-success">魔幻</span> <span class="label label-info">悬疑</span> <span class="label label-danger">惊悚</span><span id="more"></span><hr /><div class="note note-success">            <p><font size="4" color="red"><strong>简介</strong></font><br>美国驱魔类型题材的电视剧，目前已经出了十三季，本人看到第六季，<font size=4.5 color='red'>very good</font>，与《康斯但丁》大同小异。</p>          </div><blockquote><p>推荐指数</p></blockquote><pre><code class="hljs">⭐️⭐️⭐️⭐️⭐️</code></pre><blockquote><p>人物角色</p></blockquote><p>主角：兄弟二人</p><blockquote><p>主线剧情</p></blockquote><p>兄弟二人代表人类，与特天使、恶魔进行斗智斗勇的故事。</p><blockquote><p>观后感</p></blockquote><p><em><strong><font color="#dd0000" size="5">科幻、刺激</font></strong></em></p><blockquote><p>观看地址</p></blockquote><p>人人视频（并不是打广告，而且真的好用）。</p>]]></content>
    
    
    <categories>
      
      <category>影视说</category>
      
    </categories>
    
    
    <tags>
      
      <tag>电视剧</tag>
      
      <tag>美国大片</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Mysql常用命令</title>
    <link href="/articles/14802/"/>
    <url>/articles/14802/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p>记录一下常用的命令，虽然关于查询相关的命令常用（select、order by、where、join等），但是关于建立数据库、建立用户、授权等并不常用的命令，做个整理，也方便了自己进行查询和使用。</p>          </div><span class="label label-default">Mysql</span> <span class="label label-primary">select into</span> <span class="label label-success">create</span> <span class="label label-info">user</span><span id="more"></span><hr /><blockquote><h4 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h4></blockquote><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">database</span> 数据库名称 <span class="hljs-keyword">default</span> <span class="hljs-type">character</span> <span class="hljs-keyword">set</span> utf8 <span class="hljs-keyword">collate</span> utf8_general_ci;<br></code></pre></td></tr></table></figure><blockquote><h4 id="创建用户"><a href="#创建用户" class="headerlink" title="创建用户"></a>创建用户</h4></blockquote><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">user</span> <span class="hljs-string">&#x27;用户名&#x27;</span>@<span class="hljs-string">&#x27;%&#x27;</span> identified <span class="hljs-keyword">by</span> <span class="hljs-string">&#x27;密码&#x27;</span>;<br><span class="hljs-comment">-- % 表示通配符，任意远程主机都可以连接主机【常用】</span><br><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">user</span> <span class="hljs-string">&#x27;用户名&#x27;</span>@<span class="hljs-string">&#x27;localhost&#x27;</span> identified <span class="hljs-keyword">by</span> <span class="hljs-string">&#x27;123456&#x27;</span>;<br><span class="hljs-comment">-- localhost 表示本机，用户只有通过本机进行连接主机</span><br><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">user</span> <span class="hljs-string">&#x27;用户名&#x27;</span>@<span class="hljs-string">&#x27;XXX.XXX.XX.XXX&#x27;</span> identified <span class="hljs-keyword">by</span> <span class="hljs-string">&#x27;123456&#x27;</span>;<br><span class="hljs-comment">-- XXX.XXX.XX.XXX 表示ip，用户只有通过指定的ip主机进行连接</span><br></code></pre></td></tr></table></figure><blockquote><h4 id="授权"><a href="#授权" class="headerlink" title="授权"></a>授权</h4></blockquote><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"># 所有权限 所有表【常用】<br><span class="hljs-keyword">grant</span> <span class="hljs-keyword">all</span> <span class="hljs-keyword">privileges</span> <span class="hljs-keyword">on</span> *.* <span class="hljs-keyword">to</span> <span class="hljs-string">&#x27;用户名称&#x27;</span>;<br><br># 授权root可以访问，不建议<br><span class="hljs-keyword">grant</span> <span class="hljs-keyword">all</span> <span class="hljs-keyword">privileges</span> <span class="hljs-keyword">on</span> *.* <span class="hljs-keyword">TO</span> <span class="hljs-string">&#x27;root&#x27;</span>@<span class="hljs-string">&#x27;%&#x27;</span> identified <span class="hljs-keyword">by</span> <span class="hljs-string">&#x27;密码&#x27;</span> <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">OPTION</span>;<br><br># 所有权限 指定数据库 外网连接【常用】<br><span class="hljs-keyword">grant</span> <span class="hljs-keyword">all</span> <span class="hljs-keyword">privileges</span> <span class="hljs-keyword">on</span> 数据库名称.* <span class="hljs-keyword">to</span> <span class="hljs-string">&#x27;用户名称&#x27;</span>@<span class="hljs-string">&#x27;%&#x27;</span>;<br><br># 指定权限 指定数据库<br><span class="hljs-keyword">grant</span> <span class="hljs-keyword">select</span>,<span class="hljs-keyword">insert</span>,<span class="hljs-keyword">update</span>,<span class="hljs-keyword">delete</span>,<span class="hljs-keyword">create</span> <span class="hljs-keyword">on</span> 数据库名称.* <span class="hljs-keyword">to</span> <span class="hljs-string">&#x27;用户名称&#x27;</span>;<br><br># 刷新生效<br>flush  <span class="hljs-keyword">privileges</span>;<br><br># 查看权限，方案一<br><span class="hljs-keyword">show</span> grants <span class="hljs-keyword">for</span> <span class="hljs-string">&#x27;用户名称&#x27;</span>;<br># 方案二<br>use mysql;<br><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">User</span>, <span class="hljs-keyword">Password</span>, Host <span class="hljs-keyword">FROM</span> <span class="hljs-keyword">user</span>;<br></code></pre></td></tr></table></figure><blockquote><p>创建用户 + 授权</p></blockquote><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">ALL</span> <span class="hljs-keyword">PRIVILEGES</span> <span class="hljs-keyword">ON</span> etherpad.* <span class="hljs-keyword">TO</span> <span class="hljs-string">&#x27;etherpad&#x27;</span>@<span class="hljs-string">&#x27;localhost&#x27;</span> IDENTIFIED <span class="hljs-keyword">BY</span> <span class="hljs-string">&#x27;123456&#x27;</span>;<br></code></pre></td></tr></table></figure><blockquote><h4 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h4></blockquote><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">数据库列表：<span class="hljs-keyword">show</span> <span class="hljs-keyword">database</span>;<br>表列表：<span class="hljs-keyword">show</span> <span class="hljs-keyword">tables</span>;<br>切换数据库：use 数据库;<br></code></pre></td></tr></table></figure><div class="post_cus_note">查询方面略</div>]]></content>
    
    
    <categories>
      
      <category>数据库</category>
      
    </categories>
    
    
    <tags>
      
      <tag>命令工具</tag>
      
      <tag>Mysql</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>抖音BMG</title>
    <link href="/articles/16635/"/>
    <url>/articles/16635/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p>抖音记录美好生活</p><p>记录自己喜欢的BGM，喜欢的请拿去，不用谢！</p>          </div><span id="more"></span><hr /><p><font color="red" size="6">【歌单列表，持续更新中~~~】</font></p><ul><li>batte fort 凤舞九天：<a href="https://music.163.com/#/song?id=1379910808&userid=555314631">https://music.163.com/#/song?id=1379910808&amp;userid=555314631</a></li><li>Dan Bălan-Lendo Calendo：<a href="https://music.163.com/#/song?id=1435770027&userid=555314631">https://music.163.com/#/song?id=1435770027&amp;userid=555314631</a></li><li>等什么君-赤伶：<a href="https://music.163.com/song?id=1447509197&userid=555314631">https://music.163.com/song?id=1447509197&amp;userid=555314631</a></li><li>杨千嬅-野孩子抖音：<a href="https://music.163.com/song?id=1385757429&userid=555314631">https://music.163.com/song?id=1385757429&amp;userid=555314631</a></li><li>猜不透 (咚鼓版)：<a href="https://music.163.com/song?id=1361558668&userid=555314631">https://music.163.com/song?id=1361558668&amp;userid=555314631</a></li><li>真的爱你 (咚鼓版)：<a href="https://music.163.com/song?id=1396568322&userid=555314631">https://music.163.com/song?id=1396568322&amp;userid=555314631</a></li><li>送给未来的你(DJ弹鼓版)：<a href="https://music.163.com/song?id=1425463866&userid=555314631">https://music.163.com/song?id=1425463866&amp;userid=555314631</a></li><li>Tony Igy-Astronomia：<a href="https://music.163.com/song?id=446154202&userid=555314631">https://music.163.com/song?id=446154202&amp;userid=555314631</a></li><li>世间美好与你环环相扣：<a href="https://music.163.com/song?id=1399664349&userid=555314631">https://music.163.com/song?id=1399664349&amp;userid=555314631</a></li><li>Be Your Sun (DJ版)：<a href="https://music.163.com/song?id=1386946637&userid=555314631">https://music.163.com/song?id=1386946637&amp;userid=555314631</a></li><li>ProgHouse（DJ抖音版）：<a href="https://music.163.com/song?id=1401433235&userid=555314631">https://music.163.com/song?id=1401433235&amp;userid=555314631</a></li><li>Bingo（DJ抖音版）：<a href="https://music.163.com/song?id=22834906&userid=555314631">https://music.163.com/song?id=22834906&amp;userid=555314631</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>生活记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>音乐</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python开发实例之信息管理系统</title>
    <link href="/articles/12268/"/>
    <url>/articles/12268/</url>
    
    <content type="html"><![CDATA[<span class="label label-default">Python实战</span>  <span class="label label-success">Web</span> <span class="label label-danger">flask</span> <span class="label label-info">脚手架</span><h3 id="1、背景"><a href="#1、背景" class="headerlink" title="1、背景"></a>1、背景</h3><div class="note note-primary">            <p>项目基于Python+mysql+gunicorn+supervisor进行搭建的一个web脚手架，python的web框架使用的是flask。架子已经基本搭建起来，备具Restful API、验证session、页面模板功能、一键式安装包、启动等功能。</p><p>通过这个脚手架开发的一个信息管理综合小系统，用来做Demo，<font color='red' size=4.5>完美使用</font>！！！。</p>          </div><span id="more"></span><hr /><h3 id="2、环境说明"><a href="#2、环境说明" class="headerlink" title="2、环境说明"></a>2、环境说明</h3><h4 id="2-1、开发环境"><a href="#2-1、开发环境" class="headerlink" title="2.1、开发环境"></a>2.1、开发环境</h4><table><thead><tr><th align="center">id</th><th align="center">name</th><th align="center">Version</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">Os</td><td align="center">MacOS10.15.6</td></tr><tr><td align="center">2</td><td align="center">IDE</td><td align="center">PyCharm</td></tr></tbody></table><h4 id="2-2、基础架构"><a href="#2-2、基础架构" class="headerlink" title="2.2、基础架构"></a>2.2、基础架构</h4><table><thead><tr><th align="center">id</th><th align="center">name</th><th align="center">Version</th><th align="center">Function</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">Python</td><td align="center">2.7</td><td align="center">开发语言，基于python2</td></tr><tr><td align="center">2</td><td align="center">flask</td><td align="center">1.1.2</td><td align="center">使用的web框架</td></tr><tr><td align="center">3</td><td align="center">MariaDB</td><td align="center">5.5.65</td><td align="center">数据库</td></tr><tr><td align="center">4</td><td align="center">gunicorn</td><td align="center">20.0.4</td><td align="center">web服务与进程</td></tr><tr><td align="center">5</td><td align="center">supervisor</td><td align="center">3.4.0</td><td align="center">项目启动、停止、重启等操作</td></tr></tbody></table><p>项目主要运行于Linux系统上，本人开发使用的是MacOS，线上服务使用的是腾讯云服务器（Centos7.0）。</p><h3 id="3、项目说明"><a href="#3、项目说明" class="headerlink" title="3、项目说明"></a>3、项目说明</h3><h4 id="3-1、项目地址（gitub）"><a href="#3-1、项目地址（gitub）" class="headerlink" title="3.1、项目地址（gitub）"></a>3.1、项目地址（gitub）</h4><p><a href="https://github.com/GIS90/base_webframe">https://github.com/GIS90/base_webframe</a></p><h4 id="3-2、Demo地址"><a href="#3-2、Demo地址" class="headerlink" title="3.2、Demo地址"></a>3.2、Demo地址</h4><ul><li>地址：<a href="http://121.4.56.169:18888/">http://121.4.56.169:18888/</a></li><li>账号：admin</li><li>密码：0</li></ul><p><img src="/articles/12268/demo.png"></p><p>现有功能：</p><ul><li>订单管理</li><li>任务管理</li><li>人员管理</li><li>下载功能</li><li>定制功能</li><li>问题检索</li><li>系统设置</li></ul><h4 id="3-3、环境搭建与项目运行"><a href="#3-3、环境搭建与项目运行" class="headerlink" title="3.3、环境搭建与项目运行"></a>3.3、环境搭建与项目运行</h4><ul><li>Centos7.0系统服务器（建议Mac或者云服务器）</li><li>mysql数据库安装与配置（略，建议baidu一下）</li><li>安装git命令，如果有进行下一步（检测：which git）</li><li>git clone <a href="https://github.com/GIS90/base_webframe.git">https://github.com/GIS90/base_webframe.git</a></li><li>更新web配置文件：etc&#x2F;prod&#x2F;config.py（线上）、etc&#x2F;dev&#x2F;config.py（测试），根据不同需求进行项目更改</li><li>安装项目运行的环境：python install_env.py，建立项目独立的运行环境，安装了virtualenv、python、gunicorn、packages等操作，了解具体详情请参考代码</li><li>cd 项目根目录</li><li>项目根目录：source .venv&#x2F;bin&#x2F;activate：激活项目环境</li><li>启动项目：gunicorn -c etc&#x2F;prod&#x2F;gunicorn.conf（线上）、gunicorn -c etc&#x2F;dev&#x2F;gunicorn.conf（测试）或者手动启动（下面有介绍），关于dev&#x2F;prod配置请参考上面介绍</li><li>【选做】：安装supervisor &amp;&amp; 项目加入supervisor进行管理，项目包含了supervisord配置文件&amp;&amp;项目supervisor配置文件</li></ul><h4 id="3-4、配置说明"><a href="#3-4、配置说明" class="headerlink" title="3.4、配置说明"></a>3.4、配置说明</h4><p>项目配置主要有2套，位于项目的根目录etc下：</p><ul><li>dev 测试环境</li><li>prod 线上环境</li></ul><p>每套配置文件夹下有3个配置文件，config与gunicorn进行绑定：</p><ul><li>config：项目的db、mail、log等配置，这里的log记录项目的log，关于项目相关的配置都可以在此文件进行配置</li><li>gunicorn：项目启动时所需要的IP、port、log、进程数量等配置</li><li>supervisor: 项目管理的配置信息</li></ul><p>.yaml格式的配置文件是有deploy&#x2F;config.py进行解析的，如果在config.yaml配置文件中添加配置信息，需要在此文件进行解析添加，建议添加配置默认值。</p><h4 id="3-5、手动启动"><a href="#3-5、手动启动" class="headerlink" title="3.5、手动启动"></a>3.5、手动启动</h4><ul><li>项目根目录wsgi.py文件加入</li><li>app.run(host&#x3D;”0.0.0.0”, port&#x3D;11111, debug&#x3D;True)</li><li>执行sudo python wsgi.py，代码目前已写入，处于注释状态</li></ul><div class="note note-danger">            <p><font size=5.5 color='red'>注意：</font></p><ul><li>通过手动启动的项目为dev开发环境配置，可在deploy&#x2F;config.py中进行默认调整（mode &#x3D; os.environ.get(‘mode’) or ‘dev’）</li><li>如果手动启动模式开启，在gunicorn进行启动，会error: [Errno 48] Address already in use.</li><li>启动项目一定要用virtualenv安装的python环境进行启动（source .venv&#x2F;bin&#x2F;activate）</li></ul>          </div><h3 id="4、其他"><a href="#4、其他" class="headerlink" title="4、其他"></a>4、其他</h3><h4 id="4-1、安装包"><a href="#4-1、安装包" class="headerlink" title="4.1、安装包"></a>4.1、安装包</h4><p>手动进行包安装：</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">pip <span class="hljs-keyword">install</span> -r requirements.txt<br></code></pre></td></tr></table></figure><p>此程序运行于python2，其中requirements.txt项目所需要的包，已固定版本。</p><h4 id="4-2、supervisor"><a href="#4-2、supervisor" class="headerlink" title="4.2、supervisor"></a>4.2、supervisor</h4><p>管理项目进程的启动、停止、重启等操作。<br>安装：</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">pip <span class="hljs-keyword">install</span> supervisor<br></code></pre></td></tr></table></figure><p>配置：</p><ul><li>dev：etc&#x2F;dev&#x2F;supervisor_base_webframe.conf</li><li>prod：etc&#x2F;prod&#x2F;supervisor_base_webframe.conf</li></ul><p>把指定环境的supervisor_base_webframe.conf cp到&#x2F;etc&#x2F;supervisord.d&#x2F;include&#x2F;*下。<br>项目root根目录下有supervisord.conf文件，用来配置supervisord。</p><h4 id="4-3、管理gunicorn"><a href="#4-3、管理gunicorn" class="headerlink" title="4.3、管理gunicorn"></a>4.3、管理gunicorn</h4><p>负责web项目进程、服务。</p><p>安装：</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">pip <span class="hljs-keyword">install</span> gunicorn<br></code></pre></td></tr></table></figure><p>配置：</p><ul><li>dev：etc&#x2F;dev&#x2F;gunicorn.conf</li><li>prod：etc&#x2F;prod&#x2F;gunicorn.conf</li></ul><p>  如需特别项目启动信息，可以加入gunicorn.conf或者更改命令行gunicorn启动方式加入参数即可。</p><h4 id="4-4、sql"><a href="#4-4、sql" class="headerlink" title="4.4、sql"></a>4.4、sql</h4><p>创建sql：deploy&gt;sql&gt;table_create_sql.sql，直接执行即可。</p><p>插入sql：deploy&gt;sql&gt;print_insert_sql.py，具体需要哪些insert的数据，看代码，根据需要插入。</p><h4 id="4-5、其他"><a href="#4-5、其他" class="headerlink" title="4.5、其他"></a>4.5、其他</h4><ul><li>base_webframe_start.bash、base_webframe_end.bash为手动方式进行项目启动与项目结束（已废弃）。</li><li>deploy&gt;utils&gt;utils.py 为工具方法，任何python2项目都适合使用。</li></ul><h3 id="5、结束语"><a href="#5、结束语" class="headerlink" title="5、结束语"></a>5、结束语</h3><p><font size=6.5 color='red'>如果觉得脚手架还可以，麻烦在github上点个小星星。。。。。。</font></p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Flask</tag>
      
      <tag>Python程序篇</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Nginx源码安装</title>
    <link href="/articles/47364/"/>
    <url>/articles/47364/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p>身为一个Python Web开发者，当然对Nginx的使用需要了解一点，本篇对Nginx安装进行记录，<font color='red' size=4.5>基于源码安装</font>！！！。</p>          </div><span id="more"></span><hr /><h4 id="1、系统环境"><a href="#1、系统环境" class="headerlink" title="1、系统环境"></a>1、系统环境</h4><p>腾讯云服务器：CentOS Linux release 7.5.1804 (Core)</p><h4 id="2、安装依赖"><a href="#2、安装依赖" class="headerlink" title="2、安装依赖"></a>2、安装依赖</h4><ul><li>gcc<br>Nginx编译需要依赖编译依赖gcc环境，如果没有gcc环境，则需要安装：</li></ul><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">yum -y <span class="hljs-keyword">install</span> gcc<br></code></pre></td></tr></table></figure><ul><li>pcre pcre-devel<br>都是正则表达库。</li></ul><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">yum <span class="hljs-keyword">install</span> -y pcre pcre-devel<br></code></pre></td></tr></table></figure><ul><li>zlib<br>压缩和解压缩库。</li></ul><figure class="highlight nsis"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nsis">yum install -y <span class="hljs-literal">zlib</span> <span class="hljs-literal">zlib</span>-devel<br></code></pre></td></tr></table></figure><ul><li>OpenSSL 安装<br>ssl协议库。</li></ul><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">yum <span class="hljs-keyword">install</span> -y openssl openssl-devel<br></code></pre></td></tr></table></figure><h4 id="3、下载Nginx源码包"><a href="#3、下载Nginx源码包" class="headerlink" title="3、下载Nginx源码包"></a>3、下载Nginx源码包</h4><p>访问下列地址，看使用哪个源码包进行下载，又开发版、稳定版、历史版本，建议稳定版。<br><a href="https://nginx.org/en/download.html%EF%BC%8C">https://nginx.org/en/download.html，</a></p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">wget</span> https://nginx.org/download/nginx-<span class="hljs-number">1</span>.<span class="hljs-number">18</span>.<span class="hljs-number">0</span>.tar.gz<br></code></pre></td></tr></table></figure><p>使用wget进行下载，没有的搞一下，wget可是一个下载神器。</p><p>解压</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">tar</span> -zxvf  nginx-<span class="hljs-number">1</span>.<span class="hljs-number">9</span>.<span class="hljs-number">9</span>.tar.gz<br></code></pre></td></tr></table></figure><h4 id="4、编译安装"><a href="#4、编译安装" class="headerlink" title="4、编译安装"></a>4、编译安装</h4><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">cd</span> nginx-<span class="hljs-number">1.18</span>.<span class="hljs-number">0</span><br><br>./configure<br><br><span class="hljs-keyword">make</span><br><br><span class="hljs-keyword">make</span> install<br></code></pre></td></tr></table></figure><p>如果在编译安装过程中出现错误，大部分原因都是依赖问题，yum去解决依赖问题即可。</p><p>查看安装目录</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">whereis nginx</span><br></code></pre></td></tr></table></figure><p>执行目录：&#x2F;usr&#x2F;sbin&#x2F;nginx<br>模块所在目录：&#x2F;usr&#x2F;lib64&#x2F;nginx<br>配置所在目录：&#x2F;etc&#x2F;nginx&#x2F;<br>默认站点目录：&#x2F;usr&#x2F;share&#x2F;nginx&#x2F;html</p><h4 id="5、启动"><a href="#5、启动" class="headerlink" title="5、启动"></a>5、启动</h4><p>两种方式启动。</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-comment"># 启动/停止/重启</span><br>systemctl start<span class="hljs-regexp">/stop/</span>restart nginx.service<br>nginx -c <span class="hljs-regexp">/etc/</span>nginx/nginx.conf<br></code></pre></td></tr></table></figure><h4 id="6、其他设置"><a href="#6、其他设置" class="headerlink" title="6、其他设置"></a>6、其他设置</h4><figure class="highlight nsis"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs nsis"><span class="hljs-comment"># 开启启动</span><br><span class="hljs-params">system</span>ctl enable nginx.service<br><span class="hljs-comment"># 重新加载配置</span><br><span class="hljs-params">system</span>ctl reload nginx.service<br><span class="hljs-comment"># 查看状态</span><br><span class="hljs-params">system</span>ctl status nginx.service<br></code></pre></td></tr></table></figure><h4 id="7、进程"><a href="#7、进程" class="headerlink" title="7、进程"></a>7、进程</h4><ul><li>查看进程</li></ul><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">ps</span> -ef | <span class="hljs-keyword">grep</span> nginx<br></code></pre></td></tr></table></figure><ul><li>杀死</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">kill</span> 进程ID<br></code></pre></td></tr></table></figure><h4 id="8、常用命令"><a href="#8、常用命令" class="headerlink" title="8、常用命令"></a>8、常用命令</h4><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli"><span class="hljs-comment"># 指定配置文件</span><br>nginx -c <span class="hljs-string">/etc/nginx/nginx.conf</span><br><br><span class="hljs-comment"># 重新加载配置文件，执行这个可以不用重启</span><br>nginx -s <span class="hljs-keyword">reload</span><br></code></pre></td></tr></table></figure><h4 id="9、开放端口"><a href="#9、开放端口" class="headerlink" title="9、开放端口"></a>9、开放端口</h4><p>如果是云服务器，需要开放指定端口。</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli"><span class="hljs-comment"># 添加端口</span><br>firewall-cmd <span class="hljs-params">--zone=public</span> <span class="hljs-params">--add-port=80/tcp</span> <span class="hljs-params">--permanent</span><br><br><span class="hljs-comment"># 重加载或者重启</span><br>firewall-cmd <span class="hljs-params">--reload</span><br>systemctl restart firewalld<br><br><span class="hljs-comment"># 查看</span><br>firewall-cmd <span class="hljs-params">--list-all</span><br></code></pre></td></tr></table></figure><p>这里根据自己的项目需求，对外开放端口。</p><h4 id="10、访问"><a href="#10、访问" class="headerlink" title="10、访问"></a>10、访问</h4><p>配置完把nginx重启之后，访问IP:PORT。</p><p><img src="/articles/47364/nginx.png"></p>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Nginx</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux学习之番外篇-nohup</title>
    <link href="/articles/23692/"/>
    <url>/articles/23692/</url>
    
    <content type="html"><![CDATA[<span class="label label-default">Linux</span> <span class="label label-primary">nohub...&</span> <span class="label label-info">后台运行命令</span> <span class="label label-success">番外教程系列</span><h4 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h4><div class="note note-danger">            <p><font color="#red" size="5">用途</font>：用于linux后台执行命令，与&amp;一起使用，nohup不挂断地运行命令（退出终端不会影响程序的运行）。<br><font color="#blue" size="5">语法</font>：nohup command 参数 2&gt;&amp;1 &amp;</p>          </div><span id="more"></span><hr /><p>这个就是比较实用而且没有任何参数的命令，语法糖就一种。</p><h4 id="基本"><a href="#基本" class="headerlink" title="基本"></a>基本</h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-selector-attr">[root@localhost ~/py_work]</span><span class="hljs-selector-id">#nohup</span> /root/py_work/start<span class="hljs-selector-class">.sh</span> &amp;<br><span class="hljs-selector-attr">[1]</span> <span class="hljs-number">31491</span><br><span class="hljs-selector-attr">[root@localhost ~/py_work]</span><span class="hljs-selector-id">#nohup</span>: ignoring <span class="hljs-selector-tag">input</span> and appending output to ‘nohup.out’<br></code></pre></td></tr></table></figure><ul><li>建议命令写全路径，在命令可以写成sh脚本，也可以是直接<em><strong>命令+参数</strong></em>形式。</li><li>执行完nohup的时候，出现日志说明，会在<em><strong>当前命令执行文件夹建立日志文件</strong></em>。</li><li>终端退出的时候建议用exit。</li></ul><h4 id="拓展"><a href="#拓展" class="headerlink" title="拓展"></a>拓展</h4><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs 1c">nohup /root/py_work/start.sh &gt; xxxxxx.<span class="hljs-built_in">log</span> <span class="hljs-number">2</span>&gt;<span class="hljs-meta">&amp;1 &amp;</span><br></code></pre></td></tr></table></figure><p>2&gt;&amp;1说明：<br>将标准错误（2）重定向到标准输出（&amp;1），标准输出（&amp;1）再被重定向输入到日志xxxxxx.log文件中。</p><ul><li>0 stdin (standard input）标准输入</li><li>1 stdout (standard output）标准输出</li><li>2 stderr (standard error）标准错误输出</li><li>&#x2F;dev&#x2F;null 表示空设备文件</li></ul><p>输出文件中的方式：</p><ul><li><code>&gt;</code> xxxx.log <strong>输出</strong>到文件</li><li><code>&gt;&gt;</code> xxxx.log <strong>追加</strong>到文件</li></ul>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Linux番外篇</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>WIKI之Confluence授权的延期</title>
    <link href="/articles/39160/"/>
    <url>/articles/39160/</url>
    
    <content type="html"><![CDATA[<h4 id="简述"><a href="#简述" class="headerlink" title="简述"></a>简述</h4><div class="post_cus_note">关于WIKI Confluence的延期授权</div><span class="label label-default">WIKI</span> <span class="label label-primary">Confluence</span> <span class="label label-success">授权</span> <span class="label label-info">延期</span><span id="more"></span><hr /><h4 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h4><blockquote><p>点击My Altassian，进入到<a href="https://my.atlassian.com/%E5%AE%98%E7%BD%91%E3%80%82">https://my.atlassian.com/官网。</a></p></blockquote><p><img src="/articles/39160/1.png"></p><blockquote><p>点击New Trial License，创建新的Trial License。</p></blockquote><p><img src="/articles/39160/2.png"></p><blockquote><p>选择相关对应的产品：confluence。</p></blockquote><p><img src="/articles/39160/3.png"></p><blockquote><p>使用admin登录confluence服务器。</p></blockquote><p><img src="/articles/39160/4.png"></p><blockquote><p>查看confluence的服务器ID，在<font color='red' size=6.0>设置-&gt;一般配置-&gt;管理→授权细节</font>，复制服务ID信息。</p></blockquote><p><img src="/articles/39160/5.png"></p><blockquote><p>在填写New Trial License页面的相关信息，选择confluence产品，输入服务器ID，在create license，会自动生成授权码（复制）。</p></blockquote><p><img src="/articles/39160/6.png"></p><blockquote><p>回到confluence授权细节页面，把复制的授权码粘贴在授权细节中的授权码，点击保存，完成延期使用。</p></blockquote><p><img src="/articles/39160/7.png"></p>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
    </categories>
    
    
    <tags>
      
      <tag>WIKI</tag>
      
      <tag>运维工具</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Mysql的表复制</title>
    <link href="/articles/34145/"/>
    <url>/articles/34145/</url>
    
    <content type="html"><![CDATA[<span class="label label-default">Mysql</span> <span class="label label-primary">表复制</span> <span class="label label-success">INSERT INTO</span> <span class="label label-danger">SELECT * INTO</span><h4 id="1、背景"><a href="#1、背景" class="headerlink" title="1、背景"></a>1、背景</h4><div class="note note-primary">            <p>玩数据的都会涉及数据库，虽然Navicate带来了许多便利，但是本人还是喜欢使用sql，本篇介绍一下关于表复制的相关sql。</p>          </div><span id="more"></span><hr /><h4 id="2、正文"><a href="#2、正文" class="headerlink" title="2、正文"></a>2、正文</h4><p>表复制分为表结构复制、表数据复制与整表（表结构+表数据）复制。</p><blockquote><p>表结构</p></blockquote><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"># 创建表结构<br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> 新表 <span class="hljs-keyword">LIKE</span> 旧表;<br><br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> 新表 <span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> 旧表 <span class="hljs-keyword">WHERE</span> <span class="hljs-number">1</span>=<span class="hljs-number">2</span>;<br><br><span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">INTO</span> 表<span class="hljs-number">2</span> <span class="hljs-keyword">FROM</span> 表<span class="hljs-number">1</span> <span class="hljs-keyword">WHERE</span> <span class="hljs-number">1</span>=<span class="hljs-number">2</span>;<br><br># 查看创建表的<span class="hljs-keyword">sql</span><br><span class="hljs-keyword">SHOW</span> <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> 旧表;<br></code></pre></td></tr></table></figure><blockquote><p>表数据</p></blockquote><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs n1ql"><span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">INTO</span> 新表 <span class="hljs-keyword">FROM</span> 旧表;<br><br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> 新表 <span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> 旧表;<br></code></pre></td></tr></table></figure><blockquote><p>表结构+表数据</p></blockquote><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> 新表 <span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> 旧表;<br></code></pre></td></tr></table></figure><div class="note note-danger">            <p><font size=5.5 color='red'>弊端：</font><br>新表中没有旧表的primary key、auto_increment等属性，需要通过alter进行添加。</p>          </div><h4 id="3、建议"><a href="#3、建议" class="headerlink" title="3、建议"></a>3、建议</h4><p>如果是想复制出一个一模一样的表，建议使用：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"># 查看创建表的<span class="hljs-keyword">sql</span><br><span class="hljs-keyword">SHOW</span> <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> 旧表;<br><br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> 新表 <span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> 旧表;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>数据库</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Mysql</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux-学习之增强篇-crontab</title>
    <link href="/articles/40314/"/>
    <url>/articles/40314/</url>
    
    <content type="html"><![CDATA[<h4 id="1、简介"><a href="#1、简介" class="headerlink" title="1、简介"></a>1、简介</h4><div class="note note-danger">            <p><font size=5.5 color='#FF6600'>Linux自带的定时任务命令</font>。</p>          </div><span class="label label-danger">Linux</span> <span class="label label-warning">crontab</span> <span class="label label-success">高级教程系列</span> <span class="label label-info">定时任务</span><span id="more"></span><hr /><h4 id="2、推荐指数"><a href="#2、推荐指数" class="headerlink" title="2、推荐指数"></a>2、推荐指数</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">🌟🌟🌟<br></code></pre></td></tr></table></figure><h4 id="3、基本介绍"><a href="#3、基本介绍" class="headerlink" title="3、基本介绍"></a>3、基本介绍</h4><p>定时去执行指定的程序。</p><p>首先，先查看一下命令基础使用规则：</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs ruby">[root<span class="hljs-variable">@localhost</span> ~]<span class="hljs-comment">#cat /etc/crontab</span><br><span class="hljs-variable constant_">SHELL</span>=<span class="hljs-regexp">/bin/bash</span><br><span class="hljs-variable constant_">PATH</span>=<span class="hljs-regexp">/sbin:/bin</span><span class="hljs-symbol">:/usr/sbin</span><span class="hljs-symbol">:/usr/bin</span><br><span class="hljs-variable constant_">MAILTO</span>=root<br><br><span class="hljs-comment"># For details see man 4 crontabs</span><br><br><span class="hljs-comment"># Example of job definition:</span><br><span class="hljs-comment"># .---------------- minute (0 - 59)</span><br><span class="hljs-comment"># |  .------------- hour (0 - 23)</span><br><span class="hljs-comment"># |  |  .---------- day of month (1 - 31)</span><br><span class="hljs-comment"># |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...</span><br><span class="hljs-comment"># |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat</span><br><span class="hljs-comment"># |  |  |  |  |</span><br><span class="hljs-comment"># *  *  *  *  * user-name  command to be executed</span><br></code></pre></td></tr></table></figure><p>结合上图，可以语法糖：分钟 小时 日期 月份 星期 [用户] 命令</p><h4 id="4、参数详解"><a href="#4、参数详解" class="headerlink" title="4、参数详解"></a>4、参数详解</h4><p>crontab的参数很少。</p><blockquote><p>-e</p></blockquote><p>编辑任务，已vim的方式打开crontab的任务列表，可以进行新增、编辑、删除等任务操作。</p><blockquote><p>-l</p></blockquote><p>查看任务，相当于cat 任务表。</p><h4 id="5、符号说明"><a href="#5、符号说明" class="headerlink" title="5、符号说明"></a>5、符号说明</h4><blockquote><ul><li></li></ul></blockquote><p>代表全部，默认*。</p><blockquote><p>&#x2F;</p></blockquote><p>代表除，符合能被后面等数整除的条件，例如：&#x2F;2</p><blockquote><ul><li></li></ul></blockquote><p>代表范围，8-12包含：8、9、10、11、12</p><blockquote><p>,（英文）</p></blockquote><p>代表指定的数，1,10,22，只有在1,10,22才执行</p><h4 id="6、常用命令"><a href="#6、常用命令" class="headerlink" title="6、常用命令"></a>6、常用命令</h4><blockquote><p>每小时的第5和第10分钟执行command</p></blockquote><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">5</span>,<span class="hljs-number">10</span> * * * * command<br></code></pre></td></tr></table></figure><blockquote><p>每隔5min执行command</p></blockquote><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli">*<span class="hljs-string">/5</span> * * * * <span class="hljs-keyword">command</span><br></code></pre></td></tr></table></figure><blockquote><p>每隔1小时执行command</p></blockquote><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><span class="hljs-bullet">*</span> <span class="hljs-emphasis">*/1 *</span> * * command<br></code></pre></td></tr></table></figure><blockquote><p>8点的第5分钟执行command：</p></blockquote><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">5 </span><span class="hljs-number">8</span> * * * command<br></code></pre></td></tr></table></figure><blockquote><p>8-11点的第5和10分钟执行command：</p></blockquote><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">5</span>,<span class="hljs-number">10</span> <span class="hljs-number">8</span>-<span class="hljs-number">11</span> * * * command<br></code></pre></td></tr></table></figure><blockquote><p>每周一8-11点的第5和10分钟执行command：</p></blockquote><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">5</span>,<span class="hljs-number">10</span> <span class="hljs-number">8</span>-<span class="hljs-number">11</span> * * <span class="hljs-number">1</span> command<br></code></pre></td></tr></table></figure><blockquote><p>每月1，5，10号的8-11点的第5和10分钟执行command：</p></blockquote><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">5</span>,<span class="hljs-number">10</span> <span class="hljs-number">8</span>-<span class="hljs-number">11</span> <span class="hljs-number">1</span>,<span class="hljs-number">5</span>,<span class="hljs-number">10</span> * <span class="hljs-number">1</span> command<br></code></pre></td></tr></table></figure><h4 id="7、特别说明"><a href="#7、特别说明" class="headerlink" title="7、特别说明"></a>7、特别说明</h4><p>crontab很简单，但是很实用，欢迎大家一起交流share。</p><p><a href="/articles/44008/" target="_blank" class="block_project_a">Crontab指定用户运行任务</a></p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Linux增强篇</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux-学习之增强篇:firewall-cmd</title>
    <link href="/articles/60013/"/>
    <url>/articles/60013/</url>
    
    <content type="html"><![CDATA[<h3 id="1、简介"><a href="#1、简介" class="headerlink" title="1、简介"></a>1、简介</h3><div class="note note-danger">            <p>CentOS7开始，默认使用firewall来配置防火墙，没有安装iptables（旧版默认安装）。<br><font color="#dd0000" size="5">时代在更新、CentOS也在更新，我们也必须要更新。</font></p>          </div><span class="label label-info">Linux</span> <span class="label label-warning">防火墙</span> <span class="label label-success">高级教程系列</span><span id="more"></span><hr /><p>防火墙没什么好说的，直接开始正餐。</p><h4 id="2、推荐指数"><a href="#2、推荐指数" class="headerlink" title="2、推荐指数"></a>2、推荐指数</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">🌟🌟🌟🌟🌟<br></code></pre></td></tr></table></figure><h4 id="3、安装"><a href="#3、安装" class="headerlink" title="3、安装"></a>3、安装</h4><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">yum <span class="hljs-keyword">install</span> firewalld<br></code></pre></td></tr></table></figure><h4 id="4、使用方法"><a href="#4、使用方法" class="headerlink" title="4、使用方法"></a>4、使用方法</h4><blockquote><p>查看运行状态</p></blockquote><table><thead><tr><th align="center">command</th></tr></thead><tbody><tr><td align="center">firewall-cmd –state</td></tr><tr><td align="center">systemctl status firewalld</td></tr></tbody></table><blockquote><p>启动</p></blockquote><table><thead><tr><th align="center">function</th><th align="center">command</th></tr></thead><tbody><tr><td align="center">开启服务</td><td align="center">systemctl start firewalld.service</td></tr><tr><td align="center">关闭服务</td><td align="center">systemctl stop firewalld.service</td></tr><tr><td align="center">开机自动启动</td><td align="center">systemctl enable firewalld.service</td></tr><tr><td align="center">关闭开机启动</td><td align="center">systemctl disable firewalld.service</td></tr></tbody></table><blockquote><p>增加端口</p></blockquote><table><thead><tr><th align="center">function</th><th align="center">command</th></tr></thead><tbody><tr><td align="center">永久</td><td align="center">firewall-cmd –permanent –zone&#x3D;public –add-port&#x3D;8080-8081&#x2F;tcp</td></tr><tr><td align="center">临时</td><td align="center">firewall-cmd –zone&#x3D;public –add-port&#x3D;8080-8081&#x2F;tcp</td></tr></tbody></table><ul><li>firewall-cmd：Linux中提供的操作firewall的工具。<br>– zone：指定作用域。<br>– add-port&#x3D;3306&#x2F;tcp：添加的端口，格式为：端口&#x2F;通讯协议。<br>– permanent：表示永久生效，没有此参数重启后会失效。</li></ul><blockquote><p>删除端口</p></blockquote><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">firewall-cmd <span class="hljs-attribute">--zone</span>=public <span class="hljs-attribute">--remove-port</span>=3306/tcp --permanent<br></code></pre></td></tr></table></figure><p>改变端口即可。</p><blockquote><p>查看端口</p></blockquote><table><thead><tr><th align="center">function</th><th align="center">command</th></tr></thead><tbody><tr><td align="center">简略</td><td align="center">firewall-cmd –list-ports</td></tr><tr><td align="center">详情</td><td align="center">firewall-cmd –list-ports</td></tr></tbody></table><h4 id="5、其他知识"><a href="#5、其他知识" class="headerlink" title="5、其他知识"></a>5、其他知识</h4><p>关于***–zone&#x3D;public***，应该会有人不了解，对**–zone**的参数做个说明：</p><table><thead><tr><th align="center">type</th><th align="left">desc</th></tr></thead><tbody><tr><td align="center">drop</td><td align="left">任何接受的网络数据包都被丢弃，没有任何回复</td></tr><tr><td align="center">block</td><td align="left">任何接收的网络连接都被IPv4的icmp-host-prohibited信息和IPv6的icmp6-adm-prohibited信息所拒绝</td></tr><tr><td align="center">public</td><td align="left">在公共区域内使用，不能相信网络内的其他计算机不会对你的计算机造成危害</td></tr><tr><td align="center">external</td><td align="left">特别是为路由器启动了伪装功能的外部网</td></tr><tr><td align="center">dmz</td><td align="left">用于你的非军事区内的电脑</td></tr><tr><td align="center">work</td><td align="left">用于工作区</td></tr><tr><td align="center">home</td><td align="left">用于家庭网络</td></tr><tr><td align="center">internal</td><td align="left">用于内部网络。你可以基本相信网络内的其他计算机不会危害到你</td></tr><tr><td align="center">trusted</td><td align="left">可接受所有的网络连接</td></tr></tbody></table><p>firewalld 的默认zone是public。</p><p>详细了解firewall-cmd，请使用<em><strong>firewall-cmd –help</strong></em>查看。</p><h4 id="6、特殊说明"><a href="#6、特殊说明" class="headerlink" title="6、特殊说明"></a>6、特殊说明</h4><p>添加完端口之后，记得reload或者重启，重新加载，否则不会生效。</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs applescript"><span class="hljs-comment"># reload</span><br>firewall-cmd <span class="hljs-comment">--reload</span><br><br><span class="hljs-comment"># restart</span><br><span class="hljs-comment">#别忘记重启防火墙</span><br>systemctl restart firewalld<br></code></pre></td></tr></table></figure><p>本人也是属于探索阶段，欢迎大家一起交流，有问题请在博客进行留言。</p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Linux增强篇</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux学习之基础篇-ps</title>
    <link href="/articles/9834/"/>
    <url>/articles/9834/</url>
    
    <content type="html"><![CDATA[<span class="label label-default">Linux</span> <span class="label label-info">process status</span> <span class="label label-success">基础教程系列</span><p>ps，运维命令利器，查看运行的进程命令，全名：<font size=6.5 color='red'>process status</font></p><span id="more"></span><hr /><h3 id="1、简介"><a href="#1、简介" class="headerlink" title="1、简介"></a>1、简介</h3><div class="note note-warning">            <p>学习ps的用法【ps 参数】，显示系统进程。</p>          </div><h3 id="2、介绍"><a href="#2、介绍" class="headerlink" title="2、介绍"></a>2、介绍</h3><p>Linux中有很多命令可以查询正在运行的进程的信息，其中<strong>ps</strong>与<strong>top</strong>最为常用，至于二者的区别，可以认为ps是当前进程的镜像，是静态的，top可以动态的显示进行信息、内存、CPU等信息。<br>本文讲解ps的用法，至于top的使用会在后续中写出。</p><h3 id="3、正文"><a href="#3、正文" class="headerlink" title="3、正文"></a>3、正文</h3><div class="post_cus_note">来个美图  放飞一下</div><p><img src="/articles/9834/hushi.jpg"></p><div class="post_cus_note">开始正餐</div><h4 id="3-1、格式"><a href="#3-1、格式" class="headerlink" title="3.1、格式"></a>3.1、格式</h4><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs inform7">ps <span class="hljs-comment">[参数]</span><br><br>ps <span class="hljs-comment">[参数]</span> | grep <span class="hljs-comment">[内容]</span><br></code></pre></td></tr></table></figure><h4 id="3-2、参数说明"><a href="#3-2、参数说明" class="headerlink" title="3.2、参数说明"></a>3.2、参数说明</h4><p>由于ps的参数过多，这里常用的只列举常用参数，如有详细了解请<font color="red" size="5">man进行查询！！！</font>。</p><blockquote><p>-a</p></blockquote><p>显示同一终端下的所有程序。</p><blockquote><p>-A</p></blockquote><p>显示所有进程。</p><blockquote><p>c</p></blockquote><p>显示进程的真实名称。</p><blockquote><p>-C&lt;指令名称&gt; 　</p></blockquote><p>指定执行指令的名称，并列出该指令的进程的状况。</p><blockquote><p>-N</p></blockquote><p>反向选择。</p><blockquote><p>-e</p></blockquote><p>等于“-A”。</p><blockquote><p>e</p></blockquote><p>显示环境变量。</p><blockquote><p>f</p></blockquote><p>显示进程间的相互关系。</p><blockquote><p>-p&lt;进程识别码&gt; 　</p></blockquote><p>指定进程识别码，并列出该进程的状况。</p><blockquote><p>-H</p></blockquote><p>显示树状结构，表示进程间的相互关系。</p><blockquote><p>r</p></blockquote><p>显示当前终端的进程。</p><blockquote><p>-t&lt;终端机编号&gt; 　</p></blockquote><p>指定终端机编号，并列出属于该终端机的进程的状况。</p><blockquote><p>T</p></blockquote><p>显示当前终端的所有程序</p><blockquote><p>u</p></blockquote><p>指定用户的所有进程。</p><blockquote><p>-G&lt;群组识别码&gt;<br>-g&lt;群组识别码&gt;</p></blockquote><p>列出属于该群组的进程的状况，也可使用群组名称来指定。</p><blockquote><p>–help</p></blockquote><p>显示帮助信息。</p><blockquote><p>–version</p></blockquote><p>显示版本显示。</p><h4 id="3-3、常用命令"><a href="#3-3、常用命令" class="headerlink" title="3.3、常用命令"></a>3.3、常用命令</h4><blockquote><p>ps -ef</p></blockquote><p><img src="/articles/9834/ef.jpg"></p><ul><li>UID：进程拥有者ID</li><li>PID：进程的ID</li><li>PPID：父级进程的ID</li><li>C：进程CPU使用的百分比</li><li>STIME：进程的启动时间</li><li>TTY：登录终端</li><li>TIME：进程使用掉CPU的时间</li><li>CMD：执行的命令</li></ul><blockquote><p>ps -aux</p></blockquote><p><img src="/articles/9834/aux222.jpg"></p><ul><li>USER：用户名</li><li>%CPU：进程占用的CPU百分比</li><li>%MEM：占用内存的百分比</li><li>VSZ：进程使用的虚拟內存量（KB）</li><li>RSS：进程占用的固定內存量（KB）（驻留中页的数量）</li><li>TTY：登录终端</li><li>STAT：进程的状态</li></ul><table><thead><tr><th align="center">状态码</th><th align="center">简述</th><th align="left">详情</th></tr></thead><tbody><tr><td align="center">D</td><td align="center">不可中断</td><td align="left">收到信号不唤醒和不可运行, 进程必须等待直到有中断发生</td></tr><tr><td align="center">R</td><td align="center">运行</td><td align="left">正在运行或在运行队列中等待</td></tr><tr><td align="center">S</td><td align="center">中断</td><td align="left">中断 sleeping</td></tr><tr><td align="center">T</td><td align="center">停止或被追踪</td><td align="left">进程收到SIGSTOP, SIGSTP, SIGTIN, SIGTOU信号后停止运行运行</td></tr><tr><td align="center">Z</td><td align="center">僵尸进程</td><td align="left">进程已终止, 但进程描述符存在, 直到父进程调用wait4()系统调用后释放</td></tr><tr><td align="center">W</td><td align="center">内存交换</td><td align="left">进入内存交换</td></tr></tbody></table><ul><li>START：进程被触发启动时间</li><li>TIME：进程实际使用CPU运行的时间</li><li>COMMAND：执行的命令</li></ul><p>如果需要显示进程的真是名称：</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">ps -auxc</span><br></code></pre></td></tr></table></figure><blockquote><p>ps -axjf</p></blockquote><p><img src="/articles/9834/axjf.jpg"></p><p>信息内容与<strong>ps -aux</strong>差不多，唯一的区别就是在进程COMMAND显示这这块，<em><strong>ps -axjf</strong></em>树形显示进程，比较清晰。</p><blockquote><p>ps -ef -u root</p></blockquote><p>查询指定用户的进程。</p><p><img src="/articles/9834/ef.jpg"></p><blockquote><p>内容输出</p></blockquote><ul><li>文本</li></ul><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arcade">ps -ef &gt; <span class="hljs-regexp">/home/mi</span>ngliang.gao/cur_pro.txt<br></code></pre></td></tr></table></figure><ul><li>翻页</li></ul><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs 1c">ps <span class="hljs-punctuation">-</span>ef <span class="hljs-string">| less</span><br></code></pre></td></tr></table></figure><h3 id="4、补充"><a href="#4、补充" class="headerlink" title="4、补充"></a>4、补充</h3><blockquote><p>grep</p></blockquote><p>用ps去查询想要的进程，我一般都是配合上<em><strong>grep</strong></em>。</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs 1c"><span class="hljs-meta"># 格式</span><br>ps <span class="hljs-punctuation">-</span>ef <span class="hljs-string">| grep &quot;</span>XXXXX<span class="hljs-string">&quot;</span><br></code></pre></td></tr></table></figure><blockquote><p>pstree</p></blockquote><p>如果想以树节点形式显示整体的进程，用这个命令，一般系统没有，需要进行安装。</p><ul><li>在 Mac OS上</li></ul><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-keyword">brew </span><span class="hljs-keyword">install </span>pstree<br></code></pre></td></tr></table></figure><ul><li>在 Fedora&#x2F;Red Hat&#x2F;CentOS</li></ul><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">yum -y <span class="hljs-keyword">install</span> psmisc<br></code></pre></td></tr></table></figure><ul><li>在 Ubuntu&#x2F;Debian</li></ul><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">apt-<span class="hljs-built_in">get</span> install psmisc<br></code></pre></td></tr></table></figure><h3 id="5、学习"><a href="#5、学习" class="headerlink" title="5、学习"></a>5、学习</h3><p>菜鸟说明：<a href="https://www.runoob.com/linux/linux-comm-ps.html">https://www.runoob.com/linux/linux-comm-ps.html</a><br>man手册：<a href="http://man7.org/linux/man-pages/man1/ps.1.html">http://man7.org/linux/man-pages/man1/ps.1.html</a></p><p>推荐使用man手册，是最全面的文档，在文档的<em><strong>EXAMPLES</strong></em>部分，会有常用的命令。</p><p><img src="/articles/9834/examples.jpg"></p><p><font color="red" size="5">希望对大家有所帮助！！！</font></p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Linux基础篇</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python-YouZan数据处理小程序</title>
    <link href="/articles/24462/"/>
    <url>/articles/24462/</url>
    
    <content type="html"><![CDATA[<span class="label label-primary">Python实战</span> <span class="label label-success">数据存储</span><h4 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h4><div class="note note-primary">            <p>前几天朋友找我问我能不能把人家接口数据存下来，大致需求就是获取YouZan的数据进行存储，存到excel，方便使用。花了大概2days的时间，连查询YouZan官方的API，以及对数据进行一些确认处理，写完了记录下来发布到博客，<font color='red' size=4.5>如果有需求的人，拿走不谢</font>！！！。</p>          </div><span id="more"></span><hr /><h4 id="1、环境"><a href="#1、环境" class="headerlink" title="1、环境"></a>1、环境</h4><table><thead><tr><th align="center">id</th><th align="center">name</th><th align="center">Version</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">Python</td><td align="center">2.7</td></tr></tbody></table><h4 id="2、数据流"><a href="#2、数据流" class="headerlink" title="2、数据流"></a>2、数据流</h4><p><font color='red' size=5>YouZan -&gt; 获取数据 -&gt; 处理数据 -&gt;存储</font></p><h4 id="3、执行方法"><a href="#3、执行方法" class="headerlink" title="3、执行方法"></a>3、执行方法</h4><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">python2</span> get_youzan_task.py<br></code></pre></td></tr></table></figure><h4 id="4、存储方式"><a href="#4、存储方式" class="headerlink" title="4、存储方式"></a>4、存储方式</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-comment"># 数据库</span><br>youzan.<span class="hljs-built_in">run</span>(<span class="hljs-attribute">_type</span>=1)<br><span class="hljs-comment"># Excel</span><br>youzan.<span class="hljs-built_in">run</span>(<span class="hljs-attribute">_type</span>=2)<br></code></pre></td></tr></table></figure><h4 id="5、代码"><a href="#5、代码" class="headerlink" title="5、代码"></a>5、代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">------------------------------------------------</span><br><span class="hljs-string">describe:</span><br><span class="hljs-string">    先获取可以获取数据的token</span><br><span class="hljs-string">    以递增的频率方式进行获取全量数据</span><br><span class="hljs-string">    把数据存储到excel或者数据库</span><br><span class="hljs-string"></span><br><span class="hljs-string">usage:</span><br><span class="hljs-string">    python get_youzan.py</span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string">base_info:</span><br><span class="hljs-string">    __version__ = &quot;v.10&quot;</span><br><span class="hljs-string">    __author__ = &quot;mingliang.gao&quot;</span><br><span class="hljs-string">    __time__ = &quot;2019/9/6&quot;</span><br><span class="hljs-string">    __mail__ = &quot;mingliang.gao@qunar.com&quot;</span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string">create table sql:</span><br><span class="hljs-string">CREATE TABLE `blog`.`client_new` (</span><br><span class="hljs-string">    `id` bigint AUTO_INCREMENT NOT NULL,</span><br><span class="hljs-string">    `created_at` timestamp NULL COMMENT &#x27;\n成为客户的时间，时间戳格式，单位秒\n成为客户的时间\n成为会员的时间&#x27;,</span><br><span class="hljs-string">    `is_member` tinyint COMMENT &#x27;是否是会员\n是否是会员&#x27;,</span><br><span class="hljs-string">    `name` varchar(254) COMMENT &#x27;客户姓名&#x27;,</span><br><span class="hljs-string">    `show_name` varchar(254) COMMENT &#x27;推荐展示姓名&#x27;,</span><br><span class="hljs-string">    `mobile` varchar(30) COMMENT &#x27;手机号&#x27;,</span><br><span class="hljs-string">    `member_created_at` timestamp NULL COMMENT &#x27;\n成为会员的时间，时间戳格式，单位秒&#x27;,</span><br><span class="hljs-string">    PRIMARY KEY (`id`)</span><br><span class="hljs-string">) COMMENT=&#x27;&#x27;;</span><br><span class="hljs-string"></span><br><span class="hljs-string">insert test sql:</span><br><span class="hljs-string">insert into client(weixin_fans_id, fans_id, created_at, gender, is_member, trade_count, show_name, name, yz_uid, points, mobile, member_created_at)</span><br><span class="hljs-string">            VALUES(1111111, 111111, &quot;2020-10-10 00:00:00&quot;, &quot;1&quot;, 1, 2000, &quot;测试22222&quot;, &quot;测试1111&quot;, 22222222, 123123, &quot;123123123123&quot;, &quot;2020-10-10 00:00:00&quot;);</span><br><span class="hljs-string">------------------------------------------------</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> datetime<br><span class="hljs-keyword">import</span> pymysql<br><span class="hljs-keyword">import</span> xlwt<br><span class="hljs-keyword">from</span> dateutil.relativedelta <span class="hljs-keyword">import</span> relativedelta<br><br><br><span class="hljs-comment"># 数据库设置</span><br>DB_HOST = <span class="hljs-string">&#x27;212.64.61.62&#x27;</span><br>DB_PORT = <span class="hljs-number">3306</span><br>DB_USER = <span class="hljs-string">&#x27;mingliang.gao&#x27;</span><br>DB_PWD = <span class="hljs-string">&#x27;XXXXXXXXXXXX&#x27;</span><br>DB_NAME = <span class="hljs-string">&#x27;blog&#x27;</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">YOUZAN_Client</span>(<span class="hljs-title class_ inherited__">object</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-variable language_">self</span>.YOUZAN_ROOT_URL = <span class="hljs-string">&quot;https://open.youzanyun.com&quot;</span><br>        <span class="hljs-variable language_">self</span>.YOUZAN_TOKEN_URL = <span class="hljs-string">&quot;https://open.youzanyun.com/auth/token&quot;</span><br>        <span class="hljs-variable language_">self</span>.YOUZAN_CLIENT_URL = <span class="hljs-string">&quot;https://open.youzanyun.com/api/youzan.scrm.customer.search/3.1.2&quot;</span><br><br>        <span class="hljs-comment"># YouZan 客户端ID</span><br>        <span class="hljs-variable language_">self</span>.CLIENT_ID = <span class="hljs-string">&#x27;XXXXXX&#x27;</span><br>        <span class="hljs-variable language_">self</span>.CLIENT_SECRET = <span class="hljs-string">&#x27;XXXXXX&#x27;</span><br>        <span class="hljs-variable language_">self</span>.GRANT_ID = <span class="hljs-string">&#x27;XXXXXX&#x27;</span><br><br>        <span class="hljs-variable language_">self</span>.TOTAL = <span class="hljs-number">0</span><br><br>        <span class="hljs-comment"># 配置数据获取的开始时间、结束时间、排除时间</span><br>        <span class="hljs-variable language_">self</span>.START_DATETIME = <span class="hljs-string">&#x27;2020-02-01 00:00:00&#x27;</span><br>        <span class="hljs-variable language_">self</span>.END_DATETIME = <span class="hljs-string">&#x27;2020-02-12 10:00:00&#x27;</span><br>        <span class="hljs-variable language_">self</span>.EXCLUDE_DATETIME = [<br>            <span class="hljs-string">&#x27;2020-02-06 22:00:00&#x27;</span>,<br>            <span class="hljs-string">&#x27;2020-02-06 23:00:00&#x27;</span>,<br>            <span class="hljs-string">&#x27;2020-02-07 00:00:00&#x27;</span>,<br>            <span class="hljs-string">&#x27;2020-02-07 01:00:00&#x27;</span>,<br>            <span class="hljs-string">&#x27;2020-02-07 02:00:00&#x27;</span>,<br>            <span class="hljs-string">&#x27;2020-02-07 03:00:00&#x27;</span>,<br>            <span class="hljs-string">&#x27;2020-02-07 04:00:00&#x27;</span>,<br>            <span class="hljs-string">&#x27;2020-02-07 05:00:00&#x27;</span><br>        ]<br>        <span class="hljs-comment"># 配置excel字段，字段只能从返回数据list中进行选取</span><br>        <span class="hljs-comment"># weixin_fans_id, fans_id, created_at, gender, is_member, trade_count, show_name, name, yz_uid, points, mobile, member_created_at</span><br>        <span class="hljs-variable language_">self</span>.EXCEL_FIELDS = [<span class="hljs-string">&quot;id&quot;</span>, <span class="hljs-string">&quot;created_at&quot;</span>, <span class="hljs-string">&quot;is_member&quot;</span>, <span class="hljs-string">&quot;name&quot;</span>, <span class="hljs-string">&quot;show_name&quot;</span>, <span class="hljs-string">&#x27;mobile&#x27;</span>, <span class="hljs-string">&#x27;member_created_at&#x27;</span>]<br><br>        <span class="hljs-comment"># DB数据库初始化</span><br>        <span class="hljs-variable language_">self</span>.conn = pymysql.connect(host=DB_HOST,<br>                                    port=DB_PORT,<br>                                    user=DB_USER,<br>                                    password=DB_PWD,<br>                                    database=DB_NAME,<br>                                    charset=<span class="hljs-string">&#x27;utf8&#x27;</span>)<br><br>        <span class="hljs-variable language_">self</span>.MAX_PAGE_SIZE = <span class="hljs-number">50</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">add_month</span>(<span class="hljs-params">self, transfer_dt, num</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        实现时间上的月份相加</span><br><span class="hljs-string">        :param transfer_dt:</span><br><span class="hljs-string">        :param num:</span><br><span class="hljs-string">        :return:</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(transfer_dt, <span class="hljs-built_in">str</span>):<br>            transfer_dt = datetime.datetime.strptime(transfer_dt, <span class="hljs-string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>)<br>        <span class="hljs-keyword">return</span> datetime.datetime.strftime(transfer_dt + relativedelta(months=+<span class="hljs-number">1</span>), <span class="hljs-string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">deal_time</span>(<span class="hljs-params">self, transfer_dt, num, <span class="hljs-built_in">type</span>=<span class="hljs-string">&#x27;add&#x27;</span>, time_type=<span class="hljs-string">&#x27;day&#x27;</span></span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        实现时间上的天数相加相减</span><br><span class="hljs-string">        :param transfer_dt:</span><br><span class="hljs-string">        :param num:</span><br><span class="hljs-string">        :return:</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">type</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> [<span class="hljs-string">&#x27;add&#x27;</span>, <span class="hljs-string">&#x27;min&#x27;</span>]:<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br>        <span class="hljs-keyword">if</span> time_type <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> [<span class="hljs-string">&#x27;days&#x27;</span>, <span class="hljs-string">&#x27;hours&#x27;</span>, <span class="hljs-string">&#x27;minutes&#x27;</span>, <span class="hljs-string">&#x27;seconds&#x27;</span>]:<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br><br>        num = num <span class="hljs-keyword">if</span> <span class="hljs-built_in">type</span> == <span class="hljs-string">&#x27;add&#x27;</span> <span class="hljs-keyword">else</span> -num<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(transfer_dt, <span class="hljs-built_in">str</span>):<br>            transfer_dt = datetime.datetime.strptime(transfer_dt, <span class="hljs-string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>)<br><br>        <span class="hljs-keyword">if</span> time_type == <span class="hljs-string">&#x27;day&#x27;</span>:<br>            <span class="hljs-keyword">return</span> (transfer_dt + datetime.timedelta(days=num)).strftime(<span class="hljs-string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>)<br>        <span class="hljs-keyword">elif</span> time_type == <span class="hljs-string">&#x27;hours&#x27;</span>:<br>            <span class="hljs-keyword">return</span> (transfer_dt + datetime.timedelta(hours=num)).strftime(<span class="hljs-string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>)<br>        <span class="hljs-keyword">elif</span> time_type == <span class="hljs-string">&#x27;minutes&#x27;</span>:<br>            <span class="hljs-keyword">return</span> (transfer_dt + datetime.timedelta(minutes=num)).strftime(<span class="hljs-string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>)<br>        <span class="hljs-keyword">elif</span> time_type == <span class="hljs-string">&#x27;seconds&#x27;</span>:<br>            <span class="hljs-keyword">return</span> (transfer_dt + datetime.timedelta(seconds=num)).strftime(<span class="hljs-string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_check_token_expire</span>(<span class="hljs-params">self, token_time</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        check token is or expire</span><br><span class="hljs-string">        :param token_time:</span><br><span class="hljs-string">        :return:</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> token_time:<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>, <span class="hljs-string">&#x27;过期时间为null&#x27;</span><br><br>        <span class="hljs-comment"># 获取的时间为毫秒</span><br>        token_date_time = time.strftime(<span class="hljs-string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>, time.localtime(token_time/<span class="hljs-number">1000</span>))<br>        now_time = datetime.datetime.now().strftime(<span class="hljs-string">&#x27;%Y-%m-%d %H:%M:%S&#x27;</span>)<br>        <span class="hljs-keyword">return</span> (<span class="hljs-literal">True</span>, token_date_time) <span class="hljs-keyword">if</span> now_time &lt; token_date_time \<br>            <span class="hljs-keyword">else</span> (<span class="hljs-literal">False</span>, token_date_time)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_token</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        get available token from youzan</span><br><span class="hljs-string">        :return:</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        payload = &#123;<br>            <span class="hljs-string">&quot;client_id&quot;</span>: <span class="hljs-variable language_">self</span>.CLIENT_ID,<br>            <span class="hljs-string">&quot;client_secret&quot;</span>: <span class="hljs-variable language_">self</span>.CLIENT_SECRET,<br>            <span class="hljs-string">&quot;authorize_type&quot;</span>: <span class="hljs-string">&quot;silent&quot;</span>,<br>            <span class="hljs-string">&quot;grant_id&quot;</span>: <span class="hljs-variable language_">self</span>.GRANT_ID<br>        &#125;<br>        headers = &#123;<br>            <span class="hljs-string">&#x27;Content-Type&#x27;</span>: <span class="hljs-string">&quot;application/json&quot;</span>,<br>        &#125;<br><br>        <span class="hljs-keyword">try</span>:<br>            token_resp = requests.post(url=<span class="hljs-variable language_">self</span>.YOUZAN_TOKEN_URL,<br>                                       headers=headers,<br>                                       json=payload)<br>            <span class="hljs-keyword">if</span> token_resp.status_code != <span class="hljs-number">200</span>:<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>, <span class="hljs-string">&#x27;token请求失败&#x27;</span><br>            token_resp_json = token_resp.json()<br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> token_resp_json:<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>, <span class="hljs-string">&#x27;token无json数据&#x27;</span><br><br>            is_ok = token_resp_json.get(<span class="hljs-string">&#x27;success&#x27;</span>)<br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> is_ok:<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>, <span class="hljs-string">&#x27;token json success为false&#x27;</span><br><br>            token_time = token_resp_json.get(<span class="hljs-string">&#x27;data&#x27;</span>).get(<span class="hljs-string">&#x27;expires&#x27;</span>)<br>            is_ok, token_expires = <span class="hljs-variable language_">self</span>._check_token_expire(token_time)<br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> is_ok:<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>, <span class="hljs-string">&#x27;token过期：%s&#x27;</span> % token_expires<br><br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>, token_resp_json.get(<span class="hljs-string">&#x27;data&#x27;</span>).get(<span class="hljs-string">&#x27;access_token&#x27;</span>)<br>        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>, <span class="hljs-string">&#x27;token请求Exception失败: %s&#x27;</span> % e.message<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_transfer_to_time</span>(<span class="hljs-params">self, timeStamp, t_type=<span class="hljs-number">1</span></span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        type=1 把时间戳转换成datetime str类型</span><br><span class="hljs-string">        type=2 把datetime类型/datetime str类型转换成时间戳</span><br><span class="hljs-string"></span><br><span class="hljs-string">        :param timeStamp: dateTime or timeStamp</span><br><span class="hljs-string">        :param t_type: 1 or 2</span><br><span class="hljs-string">        :return:</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">if</span> t_type == <span class="hljs-number">2</span>:<br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(timeStamp, <span class="hljs-built_in">str</span>):<br>                timeStamp = time.strptime(timeStamp, <span class="hljs-string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>)<br>            <span class="hljs-keyword">return</span> <span class="hljs-built_in">int</span>(time.mktime(timeStamp))<br><br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(timeStamp, <span class="hljs-built_in">str</span>):<br>            timeStamp = <span class="hljs-built_in">int</span>(timeStamp)<br>        <span class="hljs-keyword">return</span> time.strftime(<span class="hljs-string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>, time.localtime(timeStamp))<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">set_style</span>(<span class="hljs-params">self, name, height, bold=<span class="hljs-literal">False</span></span>):<br>        style = xlwt.XFStyle()<br>        font = xlwt.Font()<br>        font.name = name<br>        font.bold = bold<br>        font.color_index = <span class="hljs-number">4</span><br>        font.height = height<br>        style.font = font<br>        <span class="hljs-keyword">return</span> style<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_deal_client_to_excel</span>(<span class="hljs-params">self, datas</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        :param datas: client object to excel</span><br><span class="hljs-string">        :return: None</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> datas:<br>            <span class="hljs-keyword">return</span><br><br>        f = xlwt.Workbook(encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>        sheet = f.add_sheet(<span class="hljs-string">&#x27;sheet&#x27;</span>, cell_overwrite_ok=<span class="hljs-literal">True</span>)<br><br>        title_style = <span class="hljs-variable language_">self</span>.set_style(<span class="hljs-string">&#x27;Times New Roman&#x27;</span>, <span class="hljs-number">220</span>, <span class="hljs-literal">True</span>)<br>        content_style = <span class="hljs-variable language_">self</span>.set_style(<span class="hljs-string">&#x27;Times New Roman&#x27;</span>, <span class="hljs-number">220</span>, <span class="hljs-literal">False</span>)<br>        <span class="hljs-comment"># 标题</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(<span class="hljs-variable language_">self</span>.EXCEL_FIELDS)):<br>            sheet.write(<span class="hljs-number">0</span>, i, <span class="hljs-variable language_">self</span>.EXCEL_FIELDS[i], title_style)<br><br>        row = <span class="hljs-number">1</span><br><br>        <span class="hljs-keyword">for</span> data <span class="hljs-keyword">in</span> datas:<br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> data:<br>                <span class="hljs-keyword">continue</span><br><br>            weixin_fans_id = data.get(<span class="hljs-string">&#x27;weixin_fans_id&#x27;</span>)<br>            fans_id = data.get(<span class="hljs-string">&#x27;fans_id&#x27;</span>)<br>            created_at = <span class="hljs-variable language_">self</span>._transfer_to_time(data.get(<span class="hljs-string">&#x27;created_at&#x27;</span>)) \<br>                <span class="hljs-keyword">if</span> data.get(<span class="hljs-string">&#x27;created_at&#x27;</span>) <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;&#x27;</span><br>            member_created_at = <span class="hljs-variable language_">self</span>._transfer_to_time(data.get(<span class="hljs-string">&#x27;member_created_at&#x27;</span>)) \<br>                <span class="hljs-keyword">if</span> data.get(<span class="hljs-string">&#x27;created_at&#x27;</span>) <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;&#x27;</span><br>            gender = data.get(<span class="hljs-string">&#x27;gender&#x27;</span>)<br>            is_member = data.get(<span class="hljs-string">&#x27;is_member&#x27;</span>)<br>            trade_count = data.get(<span class="hljs-string">&#x27;trade_count&#x27;</span>)<br>            show_name = data.get(<span class="hljs-string">&#x27;show_name&#x27;</span>)<br>            name = data.get(<span class="hljs-string">&#x27;name&#x27;</span>)<br>            yz_uid = data.get(<span class="hljs-string">&#x27;yz_uid&#x27;</span>)<br>            points = data.get(<span class="hljs-string">&#x27;points&#x27;</span>)<br>            mobile = data.get(<span class="hljs-string">&#x27;mobile&#x27;</span>)<br><br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(show_name, unicode):<br>                show_name = show_name.encode(<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(mobile, unicode):<br>                mobile = mobile.encode(<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(created_at, unicode):<br>                created_at = created_at.encode(<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(member_created_at, unicode):<br>                member_created_at = member_created_at.encode(<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(name, unicode):<br>                name = name.encode(<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(mobile, unicode):<br>                mobile = mobile.encode(<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br><br>            <span class="hljs-keyword">for</span> field <span class="hljs-keyword">in</span> <span class="hljs-variable language_">self</span>.EXCEL_FIELDS:<br>                <span class="hljs-keyword">if</span> field == <span class="hljs-string">&#x27;id&#x27;</span>:<br>                    sheet.write(row, <span class="hljs-variable language_">self</span>.EXCEL_FIELDS.index(field), row, title_style)<br>                <span class="hljs-keyword">elif</span> field == <span class="hljs-string">&#x27;weixin_fans_id&#x27;</span>:<br>                    sheet.write(row, <span class="hljs-variable language_">self</span>.EXCEL_FIELDS.index(field), weixin_fans_id, content_style)<br>                <span class="hljs-keyword">elif</span> field == <span class="hljs-string">&#x27;fans_id&#x27;</span>:<br>                    sheet.write(row, <span class="hljs-variable language_">self</span>.EXCEL_FIELDS.index(field), fans_id, content_style)<br>                <span class="hljs-keyword">elif</span> field == <span class="hljs-string">&#x27;created_at&#x27;</span>:<br>                    sheet.write(row, <span class="hljs-variable language_">self</span>.EXCEL_FIELDS.index(field), created_at, content_style)<br>                <span class="hljs-keyword">elif</span> field == <span class="hljs-string">&#x27;member_created_at&#x27;</span>:<br>                    sheet.write(row, <span class="hljs-variable language_">self</span>.EXCEL_FIELDS.index(field), member_created_at, content_style)<br>                <span class="hljs-keyword">elif</span> field == <span class="hljs-string">&#x27;gender&#x27;</span>:<br>                    sheet.write(row, <span class="hljs-variable language_">self</span>.EXCEL_FIELDS.index(field), gender, content_style)<br>                <span class="hljs-keyword">elif</span> field == <span class="hljs-string">&#x27;is_member&#x27;</span>:<br>                    sheet.write(row, <span class="hljs-variable language_">self</span>.EXCEL_FIELDS.index(field), is_member, content_style)<br>                <span class="hljs-keyword">elif</span> field == <span class="hljs-string">&#x27;trade_count&#x27;</span>:<br>                    sheet.write(row, <span class="hljs-variable language_">self</span>.EXCEL_FIELDS.index(field), trade_count, content_style)<br>                <span class="hljs-keyword">elif</span> field == <span class="hljs-string">&#x27;show_name&#x27;</span>:<br>                    sheet.write(row, <span class="hljs-variable language_">self</span>.EXCEL_FIELDS.index(field), show_name, content_style)<br>                <span class="hljs-keyword">elif</span> field == <span class="hljs-string">&#x27;name&#x27;</span>:<br>                    sheet.write(row, <span class="hljs-variable language_">self</span>.EXCEL_FIELDS.index(field), name, content_style)<br>                <span class="hljs-keyword">elif</span> field == <span class="hljs-string">&#x27;yz_uid&#x27;</span>:<br>                    sheet.write(row, <span class="hljs-variable language_">self</span>.EXCEL_FIELDS.index(field), yz_uid, content_style)<br>                <span class="hljs-keyword">elif</span> field == <span class="hljs-string">&#x27;points&#x27;</span>:<br>                    sheet.write(row, <span class="hljs-variable language_">self</span>.EXCEL_FIELDS.index(field), points, content_style)<br>                <span class="hljs-keyword">elif</span> field == <span class="hljs-string">&#x27;mobile&#x27;</span>:<br>                    sheet.write(row, <span class="hljs-variable language_">self</span>.EXCEL_FIELDS.index(field), mobile, content_style)<br>            row += <span class="hljs-number">1</span><br><br>        f.save(<span class="hljs-string">&#x27;%s-%s名单.xls&#x27;</span> % (<span class="hljs-variable language_">self</span>.START_DATETIME, <span class="hljs-variable language_">self</span>.END_DATETIME))<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_deal_client_to_db</span>(<span class="hljs-params">self, data</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        :param data: client object to database</span><br><span class="hljs-string">        :return: None</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> data:<br>            <span class="hljs-keyword">return</span><br><br>        weixin_fans_id = data.get(<span class="hljs-string">&#x27;weixin_fans_id&#x27;</span>)<br>        fans_id = data.get(<span class="hljs-string">&#x27;fans_id&#x27;</span>)<br>        created_at = <span class="hljs-variable language_">self</span>._transfer_to_time(data.get(<span class="hljs-string">&#x27;created_at&#x27;</span>)) \<br>            <span class="hljs-keyword">if</span> data.get(<span class="hljs-string">&#x27;created_at&#x27;</span>) <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;&#x27;</span><br>        member_created_at = <span class="hljs-variable language_">self</span>._transfer_to_time(data.get(<span class="hljs-string">&#x27;member_created_at&#x27;</span>)) \<br>            <span class="hljs-keyword">if</span> data.get(<span class="hljs-string">&#x27;created_at&#x27;</span>) <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;&#x27;</span><br>        gender = data.get(<span class="hljs-string">&#x27;gender&#x27;</span>)<br>        is_member = data.get(<span class="hljs-string">&#x27;is_member&#x27;</span>)<br>        trade_count = data.get(<span class="hljs-string">&#x27;trade_count&#x27;</span>)<br>        show_name = data.get(<span class="hljs-string">&#x27;show_name&#x27;</span>)<br>        name = data.get(<span class="hljs-string">&#x27;name&#x27;</span>)<br>        yz_uid = data.get(<span class="hljs-string">&#x27;yz_uid&#x27;</span>)<br>        points = data.get(<span class="hljs-string">&#x27;points&#x27;</span>)<br>        mobile = data.get(<span class="hljs-string">&#x27;mobile&#x27;</span>)<br><br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(show_name, unicode):<br>            show_name = show_name.encode(<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(mobile, unicode):<br>            mobile = mobile.encode(<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(created_at, unicode):<br>            created_at = created_at.encode(<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(member_created_at, unicode):<br>            member_created_at = member_created_at.encode(<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(name, unicode):<br>            name = name.encode(<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(mobile, unicode):<br>            mobile = mobile.encode(<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br><br>        <span class="hljs-comment"># insert_sql = &quot;&quot;&quot;</span><br>        <span class="hljs-comment"># insert into client(weixin_fans_id, fans_id, created_at, gender, is_member, trade_count, show_name, name, yz_uid, points, mobile, member_created_at)</span><br>        <span class="hljs-comment"># VALUES(%s, %s, &quot;%s&quot;, &quot;%s&quot;, %s, %s, &quot;%s&quot;, &quot;%s&quot;, %s, %s, &quot;%s&quot;, &quot;%s&quot;);</span><br>        <span class="hljs-comment"># &quot;&quot;&quot; % (weixin_fans_id, fans_id, created_at, gender, is_member, trade_count, show_name, name, yz_uid, points, mobile, member_created_at)</span><br>        insert_sql = <span class="hljs-string">&#x27;insert into client_new(created_at, is_member, name, show_name, mobile, member_created_at) VALUES(%s, %s, %s, %s, %s, %s);&#x27;</span><br>        cursor = <span class="hljs-variable language_">self</span>.conn.cursor()<br>        cursor.execute(insert_sql, (created_at, is_member, name, show_name, mobile, member_created_at))<br>        <span class="hljs-variable language_">self</span>.conn.commit()<br>        cursor.close()<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">deal_client_by_token</span>(<span class="hljs-params">self, token, store</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        main method by token</span><br><span class="hljs-string">        设置一个起始时间，每次递增加1月进行数据获取，以此方式进行all data获取</span><br><span class="hljs-string">        :param token:</span><br><span class="hljs-string">        :param store: db or excel</span><br><span class="hljs-string">        :return:</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br><br>        all_datas = <span class="hljs-built_in">list</span>()<br>        end_time = <span class="hljs-variable language_">self</span>.START_DATETIME<br><br>        <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>            start_time = end_time<br>            <span class="hljs-keyword">if</span> start_time == <span class="hljs-variable language_">self</span>.END_DATETIME:<br>                <span class="hljs-keyword">break</span><br><br>            end_time = <span class="hljs-variable language_">self</span>.deal_time(start_time, <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;add&#x27;</span>, <span class="hljs-string">&#x27;hours&#x27;</span>)<br>            <span class="hljs-comment"># 去掉脏数据时间段</span><br>            <span class="hljs-keyword">if</span> start_time <span class="hljs-keyword">in</span> <span class="hljs-variable language_">self</span>.EXCLUDE_DATETIME:<br>                <span class="hljs-built_in">print</span> <span class="hljs-string">&#x27;【%s】is exclude datetime&#x27;</span> % start_time<br>                <span class="hljs-keyword">continue</span><br><br>            payload = &#123;<br>                <span class="hljs-comment"># &quot;is_member&quot;: 1,   # 是否会员</span><br>                <span class="hljs-string">&quot;created_at_start&quot;</span>: <span class="hljs-variable language_">self</span>._transfer_to_time(start_time, <span class="hljs-number">2</span>),     <span class="hljs-comment"># 成为客户的时间</span><br>                <span class="hljs-string">&quot;created_at_end&quot;</span>: <span class="hljs-variable language_">self</span>._transfer_to_time(end_time, <span class="hljs-number">2</span>)     <span class="hljs-comment"># 成为客户的时间</span><br>            &#125;<br>            headers = &#123;<br>                <span class="hljs-string">&#x27;Content-Type&#x27;</span>: <span class="hljs-string">&quot;multipart/form-data&quot;</span>,<br>            &#125;<br>            real_url = <span class="hljs-string">&#x27;%s?access_token=%s&#x27;</span> % (<span class="hljs-variable language_">self</span>.YOUZAN_CLIENT_URL, token)<br>            data_resp = requests.post(url=real_url,<br>                                      <span class="hljs-comment"># headers=headers,</span><br>                                      data=payload)<br><br>            <span class="hljs-keyword">if</span> data_resp.status_code != <span class="hljs-number">200</span>:<br>                <span class="hljs-built_in">print</span> <span class="hljs-string">&#x27;【%s】client请求失败&#x27;</span> % start_time<br>                <span class="hljs-keyword">continue</span><br>            resp_json_datas = data_resp.json()<br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> resp_json_datas:<br>                <span class="hljs-built_in">print</span> <span class="hljs-string">&#x27;【%s】client无json数据&#x27;</span> % start_time<br>                <span class="hljs-keyword">continue</span><br>            code = resp_json_datas.get(<span class="hljs-string">&#x27;code&#x27;</span>)<br>            <span class="hljs-keyword">if</span> code != <span class="hljs-number">200</span>:<br>                <span class="hljs-built_in">print</span> <span class="hljs-string">&#x27;【%s】client code is error: %s&#x27;</span> % (start_time, code)<br>                <span class="hljs-keyword">continue</span><br>            total = resp_json_datas.get(<span class="hljs-string">&#x27;data&#x27;</span>).get(<span class="hljs-string">&#x27;total&#x27;</span>)<br>            <span class="hljs-keyword">if</span> total &lt; <span class="hljs-number">1</span>:<br>                <span class="hljs-built_in">print</span> <span class="hljs-string">&#x27;【%s】client json数据total: %s&#x27;</span> % (start_time, total)<br>                <span class="hljs-keyword">continue</span><br><br>            <span class="hljs-comment"># 特别说2 = 1 + 1，有一个page页面的1，还有一个range的1</span><br>            page = <span class="hljs-built_in">int</span>(total / <span class="hljs-number">50</span>) + <span class="hljs-number">2</span><br>            <span class="hljs-variable language_">self</span>.TOTAL = <span class="hljs-variable language_">self</span>.TOTAL + total<br>            <span class="hljs-built_in">print</span> <span class="hljs-string">&#x27;%s - %s total: %s, page: %s&#x27;</span> \<br>                  % (start_time, end_time, total, (page - <span class="hljs-number">1</span>))<br><br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, page, <span class="hljs-number">1</span>):<br>                <span class="hljs-built_in">print</span> <span class="hljs-string">&#x27;===========%s&#x27;</span> % i<br>                sub_payload = &#123;<br>                    <span class="hljs-string">&quot;created_at_start&quot;</span>: <span class="hljs-variable language_">self</span>._transfer_to_time(start_time, <span class="hljs-number">2</span>),     <span class="hljs-comment"># 成为客户的时间</span><br>                    <span class="hljs-string">&quot;created_at_end&quot;</span>: <span class="hljs-variable language_">self</span>._transfer_to_time(end_time, <span class="hljs-number">2</span>),     <span class="hljs-comment"># 成为客户的时间</span><br>                    <span class="hljs-string">&quot;page_size&quot;</span>: <span class="hljs-variable language_">self</span>.MAX_PAGE_SIZE     <span class="hljs-comment"># 每页数量，最多支持50个</span><br>                &#125;<br>                sub_data_resp = requests.post(url=real_url,<br>                                              data=sub_payload)<br>                sub_resp_json_datas = sub_data_resp.json()<br>                datas = sub_resp_json_datas.get(<span class="hljs-string">&#x27;data&#x27;</span>).get(<span class="hljs-string">&#x27;record_list&#x27;</span>)<br>                <span class="hljs-keyword">for</span> data <span class="hljs-keyword">in</span> datas:<br>                    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> data:<br>                        <span class="hljs-keyword">continue</span><br>                    <span class="hljs-variable language_">self</span>._deal_client_to_db(data) <span class="hljs-keyword">if</span> store == <span class="hljs-string">&#x27;db&#x27;</span> \<br>                        <span class="hljs-keyword">else</span> all_datas.append(data)<br><br>        <span class="hljs-keyword">if</span> store == <span class="hljs-string">&#x27;excel&#x27;</span>:<br>            <span class="hljs-variable language_">self</span>._deal_client_to_excel(all_datas)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">run</span>(<span class="hljs-params">self, _<span class="hljs-built_in">type</span>=<span class="hljs-number">1</span></span>):<br>        store = <span class="hljs-string">&#x27;db&#x27;</span> <span class="hljs-keyword">if</span> _<span class="hljs-built_in">type</span> == <span class="hljs-number">1</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;excel&#x27;</span><br>        is_ok, message = <span class="hljs-variable language_">self</span>.get_token()<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> is_ok:<br>            <span class="hljs-built_in">print</span> <span class="hljs-string">&#x27;YouZan token获取失败：【%s】&#x27;</span> % message<br>            os._exit()<br><br>        <span class="hljs-built_in">print</span> <span class="hljs-string">&#x27;token: %s&#x27;</span> % message<br>        <span class="hljs-variable language_">self</span>.deal_client_by_token(message, store)<br>        <span class="hljs-keyword">if</span> store == <span class="hljs-string">&#x27;db&#x27;</span>:<br>            youzan.conn.close()<br>        <span class="hljs-built_in">print</span> <span class="hljs-string">&#x27;===================end: %s&#x27;</span> % <span class="hljs-variable language_">self</span>.TOTAL<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br><br>    youzan = YOUZAN_Client()<br>    youzan.run(_<span class="hljs-built_in">type</span>=<span class="hljs-number">2</span>)<br></code></pre></td></tr></table></figure><p><img src="/articles/24462/py.jpeg"></p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Python程序篇</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>行尸走肉</title>
    <link href="/articles/21862/"/>
    <url>/articles/21862/</url>
    
    <content type="html"><![CDATA[<span class="label label-default">惊悚</span> <span class="label label-primary">科幻</span> <span class="label label-success">冒险</span> <span class="label label-info">剧情</span> <span class="label label-warning">感情</span><span id="more"></span><hr /><div class="note note-success">            <p><font size="4" color="red"><strong>简介</strong></font><br>《行尸走肉》（The walking dead），是一部美国恐怖电视系列剧，改编自同名漫画，始于2010年10月31日在AMC有线电视网开播，是电视史上第一部正宗的丧尸电视剧。<br><font color="red" size="5">如果你喜欢丧尸剧，那么这个绝对是你的菜！！！</font></p>          </div><blockquote><p>推荐指数</p></blockquote><pre><code class="hljs">⭐️⭐️⭐️⭐️⭐️</code></pre><blockquote><p>人物角色</p></blockquote><p>男主（前八季）：<a href="https://baike.baidu.com/item/%E7%91%9E%E5%85%8B%C2%B7%E6%A0%BC%E8%8E%B1%E5%A7%86%E6%96%AF"><em><strong>瑞克·格莱姆斯</strong></em></a><br>男二：<a href="https://baike.baidu.com/item/%E8%BE%BE%E9%87%8C%E5%B0%94%C2%B7%E8%BF%AA%E5%85%8B%E6%A3%AE/22218077?fromtitle=%E8%BE%BE%E9%87%8C%E5%B0%94&fromid=16985070"><em><strong>达里尔·迪克森(弩哥)</strong></em></a><br>女二：<a href="https://baike.baidu.com/item/%E6%A2%85%E4%B8%BD%E8%8E%8E%C2%B7%E9%BA%A6%E5%85%8B%E5%B8%83%E8%8E%B1%E5%BE%B7/16413532?fromtitle=%E6%A2%85%E4%B8%BD%E8%8E%8E%C2%B7%E8%8B%8F%E5%A7%97%E5%A6%AE%C2%B7%E9%BA%A6%E5%85%8B%E5%B8%83%E8%8E%B1%E5%BE%B7&fromid=16282064"><em><strong>卡萝尔(卡妈)</strong></em></a><br>男主（8、9、10季）：<a href="https://baike.baidu.com/item/%E6%9D%B0%E5%BC%97%E9%87%8C%C2%B7%E8%BF%AA%E6%81%A9%C2%B7%E6%91%A9%E6%A0%B9"><em><strong>Negan(尼根)</strong></em></a></p><p>人物实在是太多了，这里只列举了我比较喜欢的几个人。</p><blockquote><p>主线剧情</p></blockquote><p>世界突然变成充满丧尸的世界，但是人必须需要活下去，由瑞克带领的团队与<em><strong>丧尸、总督、食人族、低语者</strong></em>等等一系列团队进行斗争。<br>前几季丧尸比较牛逼的，后来全都是人与人之间的争斗。</p><blockquote><p>观后感</p></blockquote><p><em><strong><font color="#dd0000" size="5">如果我是瑞克，我该怎么做？真是人性的考验！！！</font></strong></em></p>]]></content>
    
    
    <categories>
      
      <category>影视说</category>
      
    </categories>
    
    
    <tags>
      
      <tag>电视剧</tag>
      
      <tag>美国大片</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>元旦节【&lt;font color=&quot;red&quot; size=&quot;15&quot;&gt;中国节&lt;/font&gt;】</title>
    <link href="/articles/22707/"/>
    <url>/articles/22707/</url>
    
    <content type="html"><![CDATA[<p><img src="/img_index/index/20200101-001.jpeg"></p><span id="more"></span><hr /><p><font size=6.5 color='red'>持续更新中。。。。。。</font></p><table><thead><tr><th align="center">时间</th><th align="center">地点</th></tr></thead><tbody><tr><td align="center">2020-01-01</td><td align="center">保康</td></tr><tr><td align="center">2025-01-01</td><td align="center">内蒙古-满洲里</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>生活记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>节日</tag>
      
      <tag>中国节</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python-判断PC是否连网</title>
    <link href="/articles/19515/"/>
    <url>/articles/19515/</url>
    
    <content type="html"><![CDATA[<span class="label label-default">Python</span> <span class="label label-primary">socket</span> <span class="label label-success">测试PC是否连网</span><hr /><span class="label label-info">Python脚本</span> <span class="label label-warning">curl</span> <span class="label label-danger">wget</span><div class="post_cus_note">life is short, me use Python.</div><p>2019年的最后一片技术博客了，写一个初始学Python的知识点，在这里先祝<font size=6.5 color='red'>【大家元旦快乐】<code>&lt;/font&gt;</code>。</p><span id="more"></span><hr /><p>代码很简单，需要设置能访问的url即可。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> socket<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">is_connected</span>(<span class="hljs-params">url</span>):<br><br><span class="hljs-keyword">try</span>:<br>    host = socket.gethostbyname(url)<br>    s = socket.create_connection((host, <span class="hljs-number">80</span>), <span class="hljs-number">2</span>)<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br><span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>URL = <span class="hljs-string">&quot;www.baidu.com&quot;</span><br><br><span class="hljs-built_in">print</span> is_connected(URL )<br></code></pre></td></tr></table></figure><p><font size=6.5 color='red'>此代码写于2016-09-12。。。。。。【自学Python期间】</font></p><div class="post_cus_note">其他方式</div><blockquote><p>curl</p></blockquote><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs 1c">curl http<span class="hljs-punctuation">:</span><span class="hljs-comment">//www.baidu.com</span><br></code></pre></td></tr></table></figure><blockquote><p>wget</p></blockquote><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs 1c">wget http<span class="hljs-punctuation">:</span><span class="hljs-comment">//www.baidu.com</span><br></code></pre></td></tr></table></figure><p><font size=6.5 color='blue'>生命不息，奋斗不止！</font></p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Python程序篇</tag>
      
      <tag>Python基础篇</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Github热门的Python项目推荐</title>
    <link href="/articles/12867/"/>
    <url>/articles/12867/</url>
    
    <content type="html"><![CDATA[<div class="post_cus_note">推荐几款Github上热门的Python项目</div><p><font size=6.5 color='red'>持续更新中。。。。。。</font></p><span id="more"></span><hr /><table><thead><tr><th align="center">NAME</th><th align="center">URL</th></tr></thead><tbody><tr><td align="center">抢票神器（web版）</td><td align="center"><a href="https://github.com/pjialin/py12306/">https://github.com/pjialin/py12306/</a></td></tr><tr><td align="center">实时GPS接数处理程序</td><td align="center"><a href="https://github.com/GIS90/realgpserver.git">https://github.com/GIS90/realgpserver.git</a></td></tr><tr><td align="center">自由上网</td><td align="center"><a href="https://github.com/Alvin9999/new-pac.git">https://github.com/Alvin9999/new-pac.git</a></td></tr><tr><td align="center">爬虫集合</td><td align="center"><a href="https://github.com/facert/awesome-spider.git">https://github.com/facert/awesome-spider.git</a></td></tr><tr><td align="center">年会抽奖</td><td align="center"><a href="https://github.com/fouber/lottery.git">https://github.com/fouber/lottery.git</a></td></tr></tbody></table><p>从事于Python语言开发。。。。。。</p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Github</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Etherpad在线协作编辑</title>
    <link href="/articles/7544/"/>
    <url>/articles/7544/</url>
    
    <content type="html"><![CDATA[<h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><div class="note note-primary">            <p>官网：Etherpad is a highly customizable Open Source online editor providing collaborative editing in really real-time.</p><p>个人翻译：Etherpad是一款定制、开源的在线编辑器，提供实时协作编辑。</p>          </div><span class="label label-default">etherpad</span> <span class="label label-primary">在线协作</span> <span class="label label-success">文本编辑</span> <span class="label label-info">多用户</span><span id="more"></span><hr /><p><img src="/articles/7544/article_etherpad.jpg"></p><h3 id="1、版本"><a href="#1、版本" class="headerlink" title="1、版本"></a>1、版本</h3><p><img src="/articles/7544/version.png"></p><h3 id="2、安装"><a href="#2、安装" class="headerlink" title="2、安装"></a>2、安装</h3><p>本人实践的机器是阿里云服务器，系统是：</p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs makefile">[mingliang.gao@VM_0_16_centos ~]$ cat /etc/*release*<br><br>CentOS Linux release 7.5.1804 (Core)<br>Derived from Red Hat Enterprise Linux 7.5 (Source)<br>NAME=<span class="hljs-string">&quot;CentOS Linux&quot;</span><br>VERSION=<span class="hljs-string">&quot;7 (Core)&quot;</span><br>ID=<span class="hljs-string">&quot;centos&quot;</span><br>ID_LIKE=<span class="hljs-string">&quot;rhel fedora&quot;</span><br>VERSION_ID=<span class="hljs-string">&quot;7&quot;</span><br>PRETTY_NAME=<span class="hljs-string">&quot;CentOS Linux 7 (Core)&quot;</span><br>ANSI_COLOR=<span class="hljs-string">&quot;0;31&quot;</span><br>CPE_NAME=<span class="hljs-string">&quot;cpe:/o:centos:centos:7&quot;</span><br>HOME_URL=<span class="hljs-string">&quot;https://www.centos.org/&quot;</span><br>BUG_REPORT_URL=<span class="hljs-string">&quot;https://bugs.centos.org/&quot;</span><br><br>CENTOS_MANTISBT_PROJECT=<span class="hljs-string">&quot;CentOS-7&quot;</span><br>CENTOS_MANTISBT_PROJECT_VERSION=<span class="hljs-string">&quot;7&quot;</span><br>REDHAT_SUPPORT_PRODUCT=<span class="hljs-string">&quot;centos&quot;</span><br>REDHAT_SUPPORT_PRODUCT_VERSION=<span class="hljs-string">&quot;7&quot;</span><br><br>CentOS Linux release 7.5.1804 (Core)<br>CentOS Linux release 7.5.1804 (Core)<br><span class="hljs-section">cpe:/o:centos:centos:7</span><br></code></pre></td></tr></table></figure><h4 id="2-1、node环境"><a href="#2-1、node环境" class="headerlink" title="2.1、node环境"></a>2.1、node环境</h4><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs crmsh"><span class="hljs-comment"># 安装</span><br>yum install -y nodejs<br><br><span class="hljs-comment"># check</span><br><span class="hljs-keyword">node</span> <span class="hljs-title">-v</span><br></code></pre></td></tr></table></figure><h4 id="2-2、依赖包"><a href="#2-2、依赖包" class="headerlink" title="2.2、依赖包"></a>2.2、依赖包</h4><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim">yum install curl <span class="hljs-keyword">vim</span> gcc-<span class="hljs-keyword">c</span>++ <span class="hljs-keyword">make</span><br></code></pre></td></tr></table></figure><h4 id="2-3、MariaDB数据库安装与配置"><a href="#2-3、MariaDB数据库安装与配置" class="headerlink" title="2.3、MariaDB数据库安装与配置"></a>2.3、MariaDB数据库安装与配置</h4><blockquote><p>安装</p></blockquote><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs axapta">yum install mariadb-<span class="hljs-keyword">server</span><br></code></pre></td></tr></table></figure><p>执行过程略，在安装过程中会让出现root密码等设置，具体请参考文章最后的MariaDB安装与配置，进行下一步启动。</p><blockquote><p>启动</p></blockquote><figure class="highlight nsis"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs nsis"><span class="hljs-comment"># 开启mariadb数据库</span><br><span class="hljs-params">system</span>ctl start mariadb.service<br><br><span class="hljs-comment"># 设置开机自动启动</span><br><span class="hljs-params">system</span>ctl enable mariadb.service<br></code></pre></td></tr></table></figure><blockquote><p>首次安装</p></blockquote><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs vbnet">[root@VM_0_16_centos conf.d]#  mysql_secure_installation<br><br><span class="hljs-symbol">NOTE:</span> RUNNING ALL PARTS <span class="hljs-keyword">OF</span> THIS SCRIPT <span class="hljs-built_in">IS</span> RECOMMENDED <span class="hljs-keyword">FOR</span> ALL MariaDB<br>      SERVERS <span class="hljs-keyword">IN</span> PRODUCTION USE!  PLEASE READ <span class="hljs-keyword">EACH</span> <span class="hljs-keyword">STEP</span> CAREFULLY!<br><br><span class="hljs-keyword">In</span> <span class="hljs-keyword">order</span> <span class="hljs-keyword">to</span> log <span class="hljs-keyword">into</span> MariaDB <span class="hljs-keyword">to</span> secure it, we<span class="hljs-comment">&#x27;ll need the current</span><br>password <span class="hljs-keyword">for</span> the root user.  <span class="hljs-keyword">If</span> you<span class="hljs-comment">&#x27;ve just installed MariaDB, and</span><br>you haven<span class="hljs-comment">&#x27;t set the root password yet, the password will be blank,</span><br>so you should just press enter here.<br><br>Enter current password <span class="hljs-keyword">for</span> root (enter <span class="hljs-keyword">for</span> none):<br><span class="hljs-keyword">ERROR</span> <span class="hljs-number">1045</span> (<span class="hljs-number">28000</span>): Access denied <span class="hljs-keyword">for</span> user <span class="hljs-comment">&#x27;root&#x27;@&#x27;localhost&#x27; (using password: YES)</span><br>Enter current password <span class="hljs-keyword">for</span> root (enter <span class="hljs-keyword">for</span> none):<br><span class="hljs-keyword">ERROR</span> <span class="hljs-number">1045</span> (<span class="hljs-number">28000</span>): Access denied <span class="hljs-keyword">for</span> user <span class="hljs-comment">&#x27;root&#x27;@&#x27;localhost&#x27; (using password: YES)</span><br>Enter current password <span class="hljs-keyword">for</span> root (enter <span class="hljs-keyword">for</span> none):<br>OK, successfully used password, moving <span class="hljs-keyword">on</span>...<br><br>Setting the root password ensures that nobody can log <span class="hljs-keyword">into</span> the MariaDB<br>root user without the proper authorisation.<br><br><span class="hljs-keyword">Set</span> root password? [Y/n] y<br><span class="hljs-built_in">New</span> password:<br>Re-enter <span class="hljs-built_in">new</span> password:<br>Password updated successfully!<br>Reloading privilege tables..<br> ... Success!<br><br><br><span class="hljs-keyword">By</span> <span class="hljs-keyword">default</span>, a MariaDB installation has an anonymous user, allowing anyone<br><span class="hljs-keyword">to</span> log <span class="hljs-keyword">into</span> MariaDB without having <span class="hljs-keyword">to</span> have a user account created <span class="hljs-keyword">for</span><br>them.  This <span class="hljs-built_in">is</span> intended only <span class="hljs-keyword">for</span> testing, <span class="hljs-built_in">and</span> <span class="hljs-keyword">to</span> make the installation<br>go a bit smoother.  You should remove them before moving <span class="hljs-keyword">into</span> a<br>production environment.<br><br>Remove anonymous users? [Y/n] n<br> ... skipping.<br><br>Normally, root should only be allowed <span class="hljs-keyword">to</span> connect <span class="hljs-keyword">from</span> <span class="hljs-comment">&#x27;localhost&#x27;.  This</span><br>ensures that someone cannot guess at the root password <span class="hljs-keyword">from</span> the network.<br><br>Disallow root login remotely? [Y/n] n<br> ... skipping.<br><br><span class="hljs-keyword">By</span> <span class="hljs-keyword">default</span>, MariaDB comes <span class="hljs-keyword">with</span> a database named <span class="hljs-comment">&#x27;test&#x27; that anyone can</span><br>access.  This <span class="hljs-built_in">is</span> also intended only <span class="hljs-keyword">for</span> testing, <span class="hljs-built_in">and</span> should be removed<br>before moving <span class="hljs-keyword">into</span> a production environment.<br><br>Remove test database <span class="hljs-built_in">and</span> access <span class="hljs-keyword">to</span> it? [Y/n] n<br> ... skipping.<br><br>Reloading the privilege tables will ensure that all changes made so far<br>will <span class="hljs-keyword">take</span> effect immediately.<br><br>Reload privilege tables now? [Y/n] y<br> ... Success!<br><br>Cleaning up...<br><br>All done!  <span class="hljs-keyword">If</span> you<span class="hljs-comment">&#x27;ve completed all of the above steps, your MariaDB</span><br>installation should now be secure.<br><br>Thanks <span class="hljs-keyword">for</span> <span class="hljs-keyword">using</span> MariaDB!<br></code></pre></td></tr></table></figure><p>完成初始化设置，主要是root密码的设置最重要。</p><blockquote><p>连接</p></blockquote><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">mysql</span> -h <span class="hljs-number">127.0.0.1</span> -P <span class="hljs-number">3306</span> -u root -p<br></code></pre></td></tr></table></figure><p>具体mysql命令怎么使用这里也不做解释，不知道的请自行查资料。</p><blockquote><p>配置</p></blockquote><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">MariaDB [(<span class="hljs-keyword">none</span>)]&gt; <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">DATABASE</span> etherpad;<br>MariaDB [(<span class="hljs-keyword">none</span>)]&gt; <span class="hljs-keyword">create</span> <span class="hljs-keyword">user</span> <span class="hljs-string">&#x27;etherpad&#x27;</span>@<span class="hljs-string">&#x27;%&#x27;</span> identified <span class="hljs-keyword">by</span> <span class="hljs-string">&#x27;123456&#x27;</span>;<br>MariaDB [(<span class="hljs-keyword">none</span>)]&gt; <span class="hljs-keyword">grant</span> <span class="hljs-keyword">all</span> <span class="hljs-keyword">privileges</span> <span class="hljs-keyword">on</span> etherpad.* <span class="hljs-keyword">to</span> <span class="hljs-string">&#x27;etherpad&#x27;</span>@<span class="hljs-string">&#x27;%&#x27;</span>;<br>MariaDB [(<span class="hljs-keyword">none</span>)]&gt; FLUSH <span class="hljs-keyword">PRIVILEGES</span>;<br>MariaDB [(<span class="hljs-keyword">none</span>)]&gt; \q<br></code></pre></td></tr></table></figure><p>在这里操作是创建etherpad数据库，以及etherpad用户并分配etherpad用户有访问etherpad数据库的权限，用户名：etherpad，密码：123456。<br>关于数据库、用户、密码自己定义，在etherpad安装与配置中需要用户。</p><h4 id="2-4、创建linux用户"><a href="#2-4、创建linux用户" class="headerlink" title="2.4、创建linux用户"></a>2.4、创建linux用户</h4><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">adduser etherpad</span><br></code></pre></td></tr></table></figure><p>用户启动使用etherpad程序，我之前没有建立用户，直接用root去启动，会提示：</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ada">[root@VM_0_16_centos opt]# bash /opt/etherpad/etherpad-lite/bin/run.sh<br>You shouldn<span class="hljs-symbol">&#x27;t</span> start Etherpad as root!<br>Please <span class="hljs-keyword">type</span> <span class="hljs-type">&#x27;Etherpad </span>rocks my socks&#x27; <span class="hljs-keyword">or</span> supply the &#x27;<span class="hljs-comment">--root&#x27; argument if you still want to start it as root</span><br></code></pre></td></tr></table></figure><p>也可以在启动的命令后面加上–root进行启动，但是既然etherpad不让用root，那就新建一个就好了。</p><div class="post_cus_note">准备工作已经完毕。。。。。。</div><h4 id="2-5、下载etherpad"><a href="#2-5、下载etherpad" class="headerlink" title="2.5、下载etherpad"></a>2.5、下载etherpad</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">su root<br><span class="hljs-built_in">mkdir</span> -p /opt/www/etherpad<br><span class="hljs-built_in">cd</span> /opt/www/etherpad<br>git <span class="hljs-built_in">clone</span> https://github.com/ether/etherpad-lite<br></code></pre></td></tr></table></figure><p>切换etherpad用户，如果没有git命令的用户进行安装，文章最后有相关参考。<br>把etherpad放在自己想要放的目录。</p><h4 id="2-6、文件授权-所属者"><a href="#2-6、文件授权-所属者" class="headerlink" title="2.6、文件授权 + 所属者"></a>2.6、文件授权 + 所属者</h4><p>root用户。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">chmod</span> 755 -R etherpad-lite<br><span class="hljs-built_in">chown</span> -R etherpad:etherpad etherpad-lite<br><br><span class="hljs-comment"># 查看用户名称与组</span><br><span class="hljs-built_in">id</span> 用户<br></code></pre></td></tr></table></figure><h4 id="2-7、配置文件"><a href="#2-7、配置文件" class="headerlink" title="2.7、配置文件"></a>2.7、配置文件</h4><blockquote><p>创建配置文件</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cp</span> ./etherpad-lite/settings.json.template ./etherpad-lite/settings.json<br></code></pre></td></tr></table></figure><blockquote><p>编辑配置</p></blockquote><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">vim .<span class="hljs-regexp">/etherpad-lite/</span>settings.json<br></code></pre></td></tr></table></figure><ul><li>Ip配置<br>在配置中搜索<em><strong>0.0.0.0</strong></em>，在文件88行，<em><strong>IP</strong></em>0.0.0.0改成127.0.0.1只能本机访问，完了在用nginx做个反向代理即可，<em><strong>PORT</strong></em>端口改成自己设置的端口，去掉注释，配置更改如下：</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-attr">&quot;ip&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;127.0.0.1&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;port&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">9002</span><span class="hljs-punctuation">,</span><br></code></pre></td></tr></table></figure><ul><li>数据库配置<br>在配置中搜索<em><strong>dbType</strong></em>，在文件144行，这里用的信息都是在数据库安装配置中设置的配置，写清楚即可，去掉注释，配置更改如下：</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-attr">&quot;dbType&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;mysql&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;dbSettings&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;user&quot;</span><span class="hljs-punctuation">:</span>     <span class="hljs-string">&quot;etherpad&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;host&quot;</span><span class="hljs-punctuation">:</span>     <span class="hljs-string">&quot;localhost&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;port&quot;</span><span class="hljs-punctuation">:</span>     <span class="hljs-number">3306</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;password&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;123456&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;database&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;etherpad&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;charset&quot;</span><span class="hljs-punctuation">:</span>  <span class="hljs-string">&quot;utf8mb4&quot;</span><br><span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br></code></pre></td></tr></table></figure><ul><li><p>代理配置<br>trustProxy设置为true。</p></li><li><p>管理员<br>在配置中搜索<em><strong>password</strong></em>，在文件365行，这里用的信息都是在数据库安装配置中设置的配置，去掉注释，配置更改如下：</p></li></ul><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">&quot;users&quot;: &#123;<br>  &quot;admin&quot;: &#123;<br>    // <span class="hljs-number">1</span>) &quot;password&quot; can be replaced <span class="hljs-keyword">with</span> &quot;hash&quot; <span class="hljs-keyword">if</span> you install ep_hash_auth<br>    // <span class="hljs-number">2</span>) please note that <span class="hljs-keyword">if</span> <span class="hljs-keyword">password</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">null</span>, the <span class="hljs-keyword">user</span> will <span class="hljs-keyword">not</span> be created<br>    &quot;password&quot;: &quot;admin&quot;,<br>    &quot;is_admin&quot;: <span class="hljs-keyword">true</span><br>  &#125;,<br>  &quot;user&quot;: &#123;<br>    // <span class="hljs-number">1</span>) &quot;password&quot; can be replaced <span class="hljs-keyword">with</span> &quot;hash&quot; <span class="hljs-keyword">if</span> you install ep_hash_auth<br>    // <span class="hljs-number">2</span>) please note that <span class="hljs-keyword">if</span> <span class="hljs-keyword">password</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">null</span>, the <span class="hljs-keyword">user</span> will <span class="hljs-keyword">not</span> be created<br>    &quot;password&quot;: &quot;user&quot;,<br>    &quot;is_admin&quot;: <span class="hljs-keyword">false</span><br>  &#125;<br>&#125;,<br></code></pre></td></tr></table></figure><blockquote><p>保存配置</p></blockquote><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs clojure"><span class="hljs-symbol">:wq</span><br><br><span class="hljs-symbol">:X</span><br></code></pre></td></tr></table></figure><p>用哪个都可以，vim保存并退出。</p><h4 id="2-8、Etherpad安装依赖"><a href="#2-8、Etherpad安装依赖" class="headerlink" title="2.8、Etherpad安装依赖"></a>2.8、Etherpad安装依赖</h4><p>root用户执行。</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">bash .<span class="hljs-regexp">/etherpad-lite/</span>bin/installDeps.sh<br></code></pre></td></tr></table></figure><p>安装一下etherpad所需要的依赖包。</p><ul><li>npm更新</li></ul><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim">curl -L https://npmjs.<span class="hljs-keyword">com</span>/install.<span class="hljs-keyword">sh</span> | <span class="hljs-keyword">sh</span><br></code></pre></td></tr></table></figure><ul><li>nodejs更新：<a href="https://www.cnblogs.com/xiashan17/p/6907537.html">https://www.cnblogs.com/xiashan17/p/6907537.html</a><br>安装n管理工具，进行nodejs版本安装、选择。<br>安装指定版本node：</li></ul><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">n</span> install node/<span class="hljs-number">13</span>.<span class="hljs-number">3</span>.<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><p>安装完之后：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">installing</span> : node-v13.<span class="hljs-number">3</span>.<span class="hljs-number">0</span><br>   <span class="hljs-attribute">mkdir</span> : /usr/local/n/versions/node/<span class="hljs-number">13</span>.<span class="hljs-number">3</span>.<span class="hljs-number">0</span><br>   <span class="hljs-attribute">fetch</span> : https://nodejs.org/dist/v13.<span class="hljs-number">3</span>.<span class="hljs-number">0</span>/node-v13.<span class="hljs-number">3</span>.<span class="hljs-number">0</span>-linux-x64.tar.xz<br><span class="hljs-attribute">installed</span> : v13.<span class="hljs-number">3</span>.<span class="hljs-number">0</span> (with npm <span class="hljs-number">6</span>.<span class="hljs-number">13</span>.<span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure><p>处理完以上问题，在重新安装依赖。</p><h4 id="2-9、启动"><a href="#2-9、启动" class="headerlink" title="2.9、启动"></a>2.9、启动</h4><p>etherpad用户。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stata">./etherpad-lite/bin/<span class="hljs-keyword">run</span>.<span class="hljs-keyword">sh</span><br></code></pre></td></tr></table></figure><p>用etherpad用户直接执行上面命令。</p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs prolog">[root@localhost ~]#/opt/etherpad/etherpad-lite/bin/run.sh<br><br><span class="hljs-symbol">Ensure</span> that all dependencies are up to date...  <span class="hljs-symbol">If</span> this is the first time you have run <span class="hljs-symbol">Etherpad</span> please be patient.<br>audited <span class="hljs-number">13370</span> packages in <span class="hljs-number">5.363</span>s<br><br><span class="hljs-number">8</span> packages are looking for funding<br>  run <span class="hljs-string">`npm fund`</span> for details<br><br>found <span class="hljs-number">5</span> vulnerabilities (<span class="hljs-number">3</span> low, <span class="hljs-number">2</span> high)<br>  run <span class="hljs-string">`npm audit fix`</span> to fix them, or <span class="hljs-string">`npm audit`</span> for details<br><span class="hljs-symbol">Clearing</span> minified cache...<br><span class="hljs-symbol">Started</span> <span class="hljs-symbol">Etherpad</span>...<br>[<span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-28</span> <span class="hljs-number">15</span>:<span class="hljs-number">27</span>:<span class="hljs-number">21.215</span>] [<span class="hljs-symbol">DEBUG</span>] console - <span class="hljs-symbol">Running</span> on <span class="hljs-symbol">Node</span> v12<span class="hljs-number">.14</span><span class="hljs-number">.0</span> (minimum required <span class="hljs-symbol">Node</span> version: <span class="hljs-number">8.9</span><span class="hljs-number">.0</span>)<br>[<span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-28</span> <span class="hljs-number">15</span>:<span class="hljs-number">27</span>:<span class="hljs-number">21.324</span>] [<span class="hljs-symbol">INFO</span>] console - <span class="hljs-symbol">All</span> relative paths will be interpreted relative to the identified <span class="hljs-symbol">Etherpad</span> base dir: /opt/etherpad/etherpad-lite<br>[<span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-28</span> <span class="hljs-number">15</span>:<span class="hljs-number">27</span>:<span class="hljs-number">21.324</span>] [<span class="hljs-symbol">DEBUG</span>] <span class="hljs-symbol">AbsolutePaths</span> - <span class="hljs-symbol">Relative</span> path <span class="hljs-string">&quot;settings.json&quot;</span> can be rewritten to <span class="hljs-string">&quot;/opt/etherpad/etherpad-lite/settings.json&quot;</span><br>[<span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-28</span> <span class="hljs-number">15</span>:<span class="hljs-number">27</span>:<span class="hljs-number">21.325</span>] [<span class="hljs-symbol">DEBUG</span>] <span class="hljs-symbol">AbsolutePaths</span> - <span class="hljs-symbol">Relative</span> path <span class="hljs-string">&quot;credentials.json&quot;</span> can be rewritten to <span class="hljs-string">&quot;/opt/etherpad/etherpad-lite/credentials.json&quot;</span><br>[<span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-28</span> <span class="hljs-number">15</span>:<span class="hljs-number">27</span>:<span class="hljs-number">21.331</span>] [<span class="hljs-symbol">INFO</span>] console - settings loaded from: /opt/etherpad/etherpad-lite/settings.json<br>[<span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-28</span> <span class="hljs-number">15</span>:<span class="hljs-number">27</span>:<span class="hljs-number">21.331</span>] [<span class="hljs-symbol">INFO</span>] console - <span class="hljs-symbol">No</span> credentials file found in /opt/etherpad/etherpad-lite/credentials.json. <span class="hljs-symbol">Ignoring</span>.<br>[<span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-28</span> <span class="hljs-number">15</span>:<span class="hljs-number">27</span>:<span class="hljs-number">21.332</span>] [<span class="hljs-symbol">INFO</span>] console - <span class="hljs-symbol">Using</span> skin <span class="hljs-string">&quot;colibris&quot;</span> in dir: /opt/etherpad/etherpad-lite/src/static/skins/colibris<br>[<span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-28</span> <span class="hljs-number">15</span>:<span class="hljs-number">27</span>:<span class="hljs-number">21.332</span>] [<span class="hljs-symbol">INFO</span>] console - <span class="hljs-symbol">Session</span> key loaded from: /opt/etherpad/etherpad-lite/<span class="hljs-symbol">SESSIONKEY</span>.txt<br>[<span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-28</span> <span class="hljs-number">15</span>:<span class="hljs-number">27</span>:<span class="hljs-number">21.381</span>] [<span class="hljs-symbol">ERROR</span>] console - (node:<span class="hljs-number">25518</span>) [<span class="hljs-symbol">DEP0126</span>] <span class="hljs-symbol">DeprecationWarning</span>: timers.active() is deprecated. <span class="hljs-symbol">Please</span> use timeout.refresh() instead.<br>[<span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-28</span> <span class="hljs-number">15</span>:<span class="hljs-number">27</span>:<span class="hljs-number">21.382</span>] [<span class="hljs-symbol">ERROR</span>] console - (node:<span class="hljs-number">25518</span>) [<span class="hljs-symbol">DEP0096</span>] <span class="hljs-symbol">DeprecationWarning</span>: timers.unenroll() is deprecated. <span class="hljs-symbol">Please</span> use clearTimeout instead.<br>[<span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-28</span> <span class="hljs-number">15</span>:<span class="hljs-number">27</span>:<span class="hljs-number">21.831</span>] [<span class="hljs-symbol">INFO</span>] <span class="hljs-symbol">APIHandler</span> - <span class="hljs-symbol">Api</span> key file read from: <span class="hljs-string">&quot;/opt/etherpad/etherpad-lite/APIKEY.txt&quot;</span><br>[<span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-28</span> <span class="hljs-number">15</span>:<span class="hljs-number">27</span>:<span class="hljs-number">22.139</span>] [<span class="hljs-symbol">INFO</span>] console - <span class="hljs-symbol">Installed</span> plugins: ep_align@<span class="hljs-number">0.0</span><span class="hljs-number">.24</span>, ep_image_upload@<span class="hljs-number">1.0</span><span class="hljs-number">.12</span><br>[<span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-28</span> <span class="hljs-number">15</span>:<span class="hljs-number">27</span>:<span class="hljs-number">22.142</span>] [<span class="hljs-symbol">INFO</span>] console - <span class="hljs-symbol">Report</span> bugs at https://github.com/ether/etherpad-lite/issues<br>[<span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-28</span> <span class="hljs-number">15</span>:<span class="hljs-number">27</span>:<span class="hljs-number">22.143</span>] [<span class="hljs-symbol">INFO</span>] console - <span class="hljs-symbol">Your</span> <span class="hljs-symbol">Etherpad</span> version is <span class="hljs-number">1.8</span><span class="hljs-number">.0</span> (<span class="hljs-number">5</span>bcc5a3)<br>[<span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-28</span> <span class="hljs-number">15</span>:<span class="hljs-number">27</span>:<span class="hljs-number">22.228</span>] [<span class="hljs-symbol">INFO</span>] console - <span class="hljs-symbol">You</span> can access your <span class="hljs-symbol">Etherpad</span> instance at http://<span class="hljs-number">192.168</span><span class="hljs-number">.151</span><span class="hljs-number">.64</span>:<span class="hljs-number">9001</span>/<br>[<span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-28</span> <span class="hljs-number">15</span>:<span class="hljs-number">27</span>:<span class="hljs-number">22.228</span>] [<span class="hljs-symbol">INFO</span>] console - <span class="hljs-symbol">The</span> plugin admin page is at http://<span class="hljs-number">192.168</span><span class="hljs-number">.151</span><span class="hljs-number">.64</span>:<span class="hljs-number">9001</span>/admin/plugins<br>[<span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-28</span> <span class="hljs-number">15</span>:<span class="hljs-number">27</span>:<span class="hljs-number">22.228</span>] [<span class="hljs-symbol">WARN</span>] console - <span class="hljs-symbol">Etherpad</span> is running in <span class="hljs-symbol">Development</span> mode.  <span class="hljs-symbol">This</span> mode is slower for users and less secure than production mode.  <span class="hljs-symbol">You</span> should set the <span class="hljs-symbol">NODE_ENV</span> environment variable to production by using: export <span class="hljs-symbol">NODE_ENV</span>=production<br></code></pre></td></tr></table></figure><h4 id="2-10、访问"><a href="#2-10、访问" class="headerlink" title="2.10、访问"></a>2.10、访问</h4><p>在浏览器上直接访问：<a href="http://IP:PORT，服务器IP">http://IP:PORT，服务器IP</a> + 配置的PORT端口。</p><div class="post_cus_note">列举一下可能遇到的问题</div><h3 id="3、常见问题"><a href="#3、常见问题" class="headerlink" title="3、常见问题"></a>3、常见问题</h3><blockquote><p>端口设置</p></blockquote><p>如果在浏览器访问，提示服务不可以用，那么检查一下服务器防火墙问题。</p><ul><li>检查端口是否开通</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs yaml">[<span class="hljs-string">root@localhost</span> <span class="hljs-string">~</span>]<span class="hljs-comment">#firewall-cmd --list-all</span><br><span class="hljs-string">public</span> <span class="hljs-string">(active)</span><br>  <span class="hljs-attr">target:</span> <span class="hljs-string">default</span><br>  <span class="hljs-attr">icmp-block-inversion:</span> <span class="hljs-literal">no</span><br>  <span class="hljs-attr">interfaces:</span> <span class="hljs-string">enp3s0</span><br>  <span class="hljs-attr">sources:</span><br>  <span class="hljs-attr">services:</span> <span class="hljs-string">dhcpv6-client</span> <span class="hljs-string">mysql</span> <span class="hljs-string">ssh</span><br>  <span class="hljs-attr">ports:</span> <span class="hljs-number">3306</span><span class="hljs-string">/tcp</span> <span class="hljs-number">8090</span><span class="hljs-string">/tcp</span> <span class="hljs-number">80</span><span class="hljs-string">/tcp</span> <span class="hljs-number">10000</span><span class="hljs-string">/tcp</span> <span class="hljs-number">9001</span><span class="hljs-string">/tcp</span><br>  <span class="hljs-attr">protocols:</span><br>  <span class="hljs-attr">masquerade:</span> <span class="hljs-literal">no</span><br>  <span class="hljs-attr">forward-ports:</span><br>  <span class="hljs-attr">source-ports:</span><br>  <span class="hljs-attr">icmp-blocks:</span><br>  <span class="hljs-attr">rich rules:</span><br></code></pre></td></tr></table></figure><ul><li>开放端口</li></ul><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">firewall-cmd <span class="hljs-attribute">--zone</span>=public <span class="hljs-attribute">--add-port</span>=9001/tcp --permanent<br></code></pre></td></tr></table></figure><ul><li>重启服务</li></ul><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">systemctl restart firewalld</span><br></code></pre></td></tr></table></figure><blockquote><p>npm版本</p></blockquote><p>在安装etherpad依赖包或者其他包的时候，有的也许会提示<em><strong>node版本过低</strong></em>，更新下就好，这里推荐用n去更新。</p><p>文章最后有相关参考。</p><blockquote><p>etherpad依赖脚本不可执行</p></blockquote><p>如果遇到***&#x2F;opt&#x2F;www&#x2F;etherpad&#x2F;etherpad-lite&#x2F;bin&#x2F;run.sh***脚本不被执行，那么将脚本改变读、写、执行的权限。</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">chmod <span class="hljs-number">777</span> <span class="hljs-regexp">/opt/</span>www<span class="hljs-regexp">/etherpad/</span>etherpad-lite<span class="hljs-regexp">/bin/</span>run.sh<br></code></pre></td></tr></table></figure><h3 id="4、插件配置"><a href="#4、插件配置" class="headerlink" title="4、插件配置"></a>4、插件配置</h3><p>在这里，是主要配置etherpad的插件，有几个还是蛮好用，具体配置在下面有解释，访问Ip:Port&#x2F;admin，账号密码就是在etherpad配置的那个。</p><p><img src="/articles/7544/search_plugin.png"></p><h4 id="4-1、align"><a href="#4-1、align" class="headerlink" title="4.1、align"></a>4.1、align</h4><p>作用：文字左、中、右对齐插件。</p><blockquote><p>查找</p></blockquote><p>在搜索出查找<em><strong>align</strong></em>。</p><blockquote><p>安装</p></blockquote><p>搜索到之后进行<em><strong>install</strong></em>安装。</p><blockquote><p>配置</p></blockquote><p>打开Settings找到toolbar，去掉toolbar的注视，在414行添加以下内容：</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-string">[“alignLeft”, “alignCenter”, “alignJustify”, “alignRight”]</span><br></code></pre></td></tr></table></figure><blockquote><p>结果</p></blockquote><p><img src="/articles/7544/align.jpg"></p><h4 id="4-2、image-upload"><a href="#4-2、image-upload" class="headerlink" title="4.2、image_upload"></a>4.2、image_upload</h4><p>作用：图片上传功能。</p><blockquote><p>查找</p></blockquote><p>在搜索出查找<em><strong>image</strong></em>。</p><blockquote><p>安装</p></blockquote><p>搜索到之后进行<em><strong>install</strong></em>安装。</p><blockquote><p>配置</p></blockquote><p>打开Settings找到toolbar，在415行添加以下内容：</p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs prolog"><br>  <span class="hljs-string">&quot;toolbar&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;left&quot;</span>: [<br>      [<span class="hljs-string">&quot;bold&quot;</span>, <span class="hljs-string">&quot;italic&quot;</span>, <span class="hljs-string">&quot;underline&quot;</span>, <span class="hljs-string">&quot;strikethrough&quot;</span>],<br>      [<span class="hljs-string">&quot;orderedlist&quot;</span>, <span class="hljs-string">&quot;unorderedlist&quot;</span>, <span class="hljs-string">&quot;indent&quot;</span>, <span class="hljs-string">&quot;outdent&quot;</span>],<br>      [<span class="hljs-string">&quot;undo&quot;</span>, <span class="hljs-string">&quot;redo&quot;</span>],<br>      [<span class="hljs-string">&quot;clearauthorship&quot;</span>],<br>      [<span class="hljs-string">&quot;alignLeft&quot;</span>, <span class="hljs-string">&quot;alignCenter&quot;</span>, <span class="hljs-string">&quot;alignJustify&quot;</span>, <span class="hljs-string">&quot;alignRight&quot;</span>],<br>      [<span class="hljs-string">&quot;addImage&quot;</span>]<br>    ],<br>    <span class="hljs-string">&quot;right&quot;</span>: [<br>      [<span class="hljs-string">&quot;importexport&quot;</span>, <span class="hljs-string">&quot;timeslider&quot;</span>, <span class="hljs-string">&quot;savedrevision&quot;</span>],<br>      [<span class="hljs-string">&quot;settings&quot;</span>, <span class="hljs-string">&quot;embed&quot;</span>],<br>      [<span class="hljs-string">&quot;showusers&quot;</span>]<br>    ],<br>    <span class="hljs-string">&quot;timeslider&quot;</span>: [<br>      [<span class="hljs-string">&quot;timeslider_export&quot;</span>, <span class="hljs-string">&quot;timeslider_returnToPad&quot;</span>]<br>    ]<br>  &#125;,<br><br><br><br><span class="hljs-string">&quot;ep_image_upload&quot;</span>: &#123;<br>      <span class="hljs-string">&quot;fileTypes&quot;</span>: [<span class="hljs-string">&quot;jpeg&quot;</span>,<span class="hljs-string">&quot;jpg&quot;</span>,<span class="hljs-string">&quot;bmp&quot;</span>,<span class="hljs-string">&quot;gif&quot;</span>,<span class="hljs-string">&quot;png&quot;</span>],<br>      <span class="hljs-string">&quot;maxFileSize&quot;</span>: <span class="hljs-number">5000000</span><br>&#125;,<br><br></code></pre></td></tr></table></figure><blockquote><p>结果</p></blockquote><p><img src="/articles/7544/image-upload.png"></p><p><font size=6.5 color='red'>插件根据自己的需求制定。。。。。。</font></p><h3 id="5、额外脚本"><a href="#5、额外脚本" class="headerlink" title="5、额外脚本"></a>5、额外脚本</h3><p>我把启动与杀死进程做成了.sh脚本，具体如下：</p><blockquote><p>start</p></blockquote><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dts">nohup <span class="hljs-keyword">/opt/</span>www<span class="hljs-keyword">/etherpad/</span>etherpad-lite<span class="hljs-keyword">/bin/</span>run.sh&gt;<span class="hljs-keyword">/dev/</span>null  <span class="hljs-number">2</span>&gt;<span class="hljs-variable">&amp;1</span> &amp;<br></code></pre></td></tr></table></figure><blockquote><p>end</p></blockquote><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs perl">ps -ef | <span class="hljs-keyword">grep</span> etherpad | <span class="hljs-keyword">grep</span> -v <span class="hljs-keyword">grep</span> | awk -F <span class="hljs-string">&quot; &quot;</span> <span class="hljs-string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs <span class="hljs-keyword">kill</span><br></code></pre></td></tr></table></figure><blockquote><p>nohub无此命令</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 切换用户</span><br>su root<br><br><span class="hljs-comment"># 安装</span><br>yum install coreutils<br><br><span class="hljs-comment"># check</span><br><span class="hljs-built_in">which</span> nohub<br></code></pre></td></tr></table></figure><h3 id="6、nginx域名配置"><a href="#6、nginx域名配置" class="headerlink" title="6、nginx域名配置"></a>6、nginx域名配置</h3><p>nginx配置：</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli">[root@VM_0_16_centos nginx]<span class="hljs-comment"># cat /etc/nginx/conf.d/etherpad.conf</span><br>server &#123;<br>    listen  9001;<br>    server_name     _;<br><br>    access_log  <span class="hljs-string">/var/log/nginx/etherpad9001.access.log</span>  main;<br><br>    location / &#123;<br>         proxy_pass http:<span class="hljs-string">//127.0.0.1</span><span class="hljs-function">:9002</span>/;<br>         proxy_<span class="hljs-keyword">set</span>_header Host $host;<br>         proxy_<span class="hljs-keyword">set</span>_header X-Real-IP $remote_addr;<br>         proxy_<span class="hljs-keyword">set</span>_header X-Real-PORT $remote_port;<br>         proxy_<span class="hljs-keyword">set</span>_header X-Forwarded-For $proxy_add_x_forwarded_for;<br>    &#125;<br><br>    error_page 404 <span class="hljs-string">/error.html</span>;<br>    location = <span class="hljs-string">/40x.html</span> &#123;<br><br>    &#125;<br><br>    error_page 500 502 503 504 <span class="hljs-string">/error.html</span>;<br>    location = <span class="hljs-string">/50x.html</span> &#123;<br><br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><p>因为本人的域名还在审核中，这里用ip进行访问。</p><div class="note note-danger">            <p>说明一下：本人的服务器是腾讯云服务器，所以在配置nginx监听的IP是外网IP、端口是9001，在etherpad配置里面配置内网IP以及端口是9002。</p>          </div><h3 id="7、测试地址"><a href="#7、测试地址" class="headerlink" title="7、测试地址"></a>7、测试地址</h3><p><a href="http://121.4.56.169:9001/">http://121.4.56.169:9001/</a></p><h3 id="8、学习参考"><a href="#8、学习参考" class="headerlink" title="8、学习参考"></a>8、学习参考</h3><ul><li>官网：<a href="https://etherpad.org/">https://etherpad.org/</a></li><li>Github：<a href="https://github.com/ether/etherpad-lite">https://github.com/ether/etherpad-lite</a></li><li>MariaDB安装：<a href="https://www.jianshu.com/p/85ad52c88399">https://www.jianshu.com/p/85ad52c88399</a></li><li>Git安装：<a href="https://www.jianshu.com/p/f19d1473c3e1">https://www.jianshu.com/p/f19d1473c3e1</a></li><li>node与npm更新：<a href="https://www.jianshu.com/p/2ad99f605499">https://www.jianshu.com/p/2ad99f605499</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
    </categories>
    
    
    <tags>
      
      <tag>运维工具</tag>
      
      <tag>etherpad</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>圣诞节【&lt;font color=&quot;#00BB00&quot; size=&quot;15&quot;&gt;西方节&lt;/font&gt;】</title>
    <link href="/articles/2901/"/>
    <url>/articles/2901/</url>
    
    <content type="html"><![CDATA[<p><img src="/img_index/index/20191224-001.jpg"></p><span id="more"></span><hr /><p><font size=6.5 color='red'>持续更新中。。。。。。</font></p><table><thead><tr><th align="center">时间</th><th align="center">地点</th></tr></thead><tbody><tr><td align="center">2019-12-25</td><td align="center">满洲里</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>生活记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>节日</tag>
      
      <tag>西方节</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux学习之番外篇-w、who、whoami</title>
    <link href="/articles/52265/"/>
    <url>/articles/52265/</url>
    
    <content type="html"><![CDATA[<span class="label label-default">Linux</span> <span class="label label-info">w who whoami</span> <span class="label label-warning">用户</span> <span class="label label-success">番外教程系列</span><h3 id="1、简介"><a href="#1、简介" class="headerlink" title="1、简介"></a>1、简介</h3><div class="note note-danger">            <p>简单总结一下<font color="#dd0000" size="5">w、who、whoami</font>，用于显示当前登录Linux的用户信息，在本篇结束的时候又额外赠送了2个命令，关于学习<font size=6.5 color='red'>多多益善。。。。。。</font>。</p>          </div><span id="more"></span><hr /><p>在Linux系统中，多账户进行ssh登录是常有的事，但是有时候会去查看一下登录的用户都有谁以及相关的登录信息。</p><h3 id="2、总结"><a href="#2、总结" class="headerlink" title="2、总结"></a>2、总结</h3><table><thead><tr><th align="center">命令</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">w</td><td align="center">显示当前登录的用户及信息</td></tr><tr><td align="center">who</td><td align="center">显示当前已经登录的用户名、终端名称、登录时间及登录IP</td></tr><tr><td align="center">whoami</td><td align="center">显示当前用户的用户名</td></tr><tr><td align="center">id</td><td align="center">用于check系统是有此用户</td></tr><tr><td align="center">last</td><td align="center">显示近期用户或终端的登录情况</td></tr></tbody></table><h4 id="2-1、w"><a href="#2-1、w" class="headerlink" title="2.1、w"></a>2.1、w</h4><p>显示当前登录的用户及信息，除了这些还会显示当前登录了几个用户、系统当前的load。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs BASH">[root@bash ~]# w<br>20:22:25 up 15:55,  3 <span class="hljs-built_in">users</span>,  load average: 0.00, 0.01, 0.05<br>USER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT<br>root     tty1                      Tue21   15:27m  0.09s  0.09s -bash<br>root     pts/0    192.168.1.116    19:23    1.00s  0.12s  0.01s w<br>root     tty2                      07:43   19:29   0.02s  0.02s -bash<br></code></pre></td></tr></table></figure><h4 id="2-2、who"><a href="#2-2、who" class="headerlink" title="2.2、who"></a>2.2、who</h4><p>显示当前已经登录的用户名、终端名称、登录时间及登录IP。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs BASH">[root@bash ~]# <span class="hljs-built_in">who</span><br>root     tty1         2019-12-24 21:23<br>root     pts/0        2019-12-24 19:23 (192.168.1.116)<br>root     tty2         2019-12-24 07:43<br></code></pre></td></tr></table></figure><h4 id="2-3、whoami"><a href="#2-3、whoami" class="headerlink" title="2.3、whoami"></a>2.3、whoami</h4><p>显示当前用户的用户名。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs BASH">[root@bash ~]# <span class="hljs-built_in">whoami</span><br>root<br></code></pre></td></tr></table></figure><div class="post_cus_note">额外赠送</div><h4 id="2-4、id"><a href="#2-4、id" class="headerlink" title="2.4、id"></a>2.4、id</h4><p>用于显示用户的ID，以及所属群组的ID，主要用于check系统是有此用户。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs BASH">[root@bash ~]# <span class="hljs-built_in">id</span> root<br>uid=0(root) gid=0(wheel) <span class="hljs-built_in">groups</span>=0(wheel)<br></code></pre></td></tr></table></figure><h4 id="2-5、last"><a href="#2-5、last" class="headerlink" title="2.5、last"></a>2.5、last</h4><p>显示近期用户或终端的登录情况。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs BASH">[root@bash ~]# last -n 5<br>root     pts/0        :0.0             Wed Apr 25 10:12   still logged <span class="hljs-keyword">in</span><br>root     pts/1        :0.0             Wed Apr 25 10:06 - 10:10  (00:03)<br>root     pts/0        :0.0             Wed Apr 25 10:06 - 10:10  (00:03)<br>root     pts/0        :0.0             Wed Apr 25 10:02 - 10:06  (00:04)<br>root     pts/0        :0.0             Wed Apr 25 09:51 - 09:51  (00:00)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Linux番外篇</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo-环境搭建之node版本问题</title>
    <link href="/articles/10512/"/>
    <url>/articles/10512/</url>
    
    <content type="html"><![CDATA[<h4 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h4><div class="note note-success">            <p>昨天买了个腾讯云服务器 + 域名，于是把自己的blog迁移云服务上，就得搭建nodejs、npm、hexo等运行环境。但是环境都装好了，一运行<em><strong>hexo</strong></em>居然报错了，错的内容在正文。</p><p>既然出现错误，解决就好了。</p>          </div><span id="more"></span><hr /><h4 id="错误内容"><a href="#错误内容" class="headerlink" title="错误内容"></a>错误内容</h4><figure class="highlight roboconf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs roboconf">usr/lib/node_modules/hexo-cli/node_modules/chokidar/index.js:150<br>async remove(item) &#123;<br>^^^^^^<br><br><br><span class="hljs-attribute">SyntaxError</span>: Unexpected identifier<br>at createScript (vm<span class="hljs-variable">.js</span>:56:10)<br>at Object<span class="hljs-variable">.runInThisContext</span> (vm<span class="hljs-variable">.js</span>:97:10)<br>at Module<span class="hljs-variable">._compile</span> (module<span class="hljs-variable">.js</span>:549:28)<br>at Object<span class="hljs-variable">.Module</span><span class="hljs-variable">._extensions</span>.<span class="hljs-variable">.js</span> (module<span class="hljs-variable">.js</span>:586:10)<br>at Module<span class="hljs-variable">.load</span> (module<span class="hljs-variable">.js</span>:494:32)<br>at tryModuleLoad (module<span class="hljs-variable">.js</span>:453:12)<br>at Function<span class="hljs-variable">.Module</span><span class="hljs-variable">._load</span> (module<span class="hljs-variable">.js</span>:445:3)<br>at Module<span class="hljs-variable">.require</span> (module<span class="hljs-variable">.js</span>:504:17)<br>at require (internal/module<span class="hljs-variable">.js</span>:20:19)<br>at Object.&lt;anonymous&gt; (/usr/lib/node_modules/hexo-cli/node_modules/hexo-fs/lib/fs<span class="hljs-variable">.js</span>:6:18)<br>at Module<span class="hljs-variable">._compile</span> (module<span class="hljs-variable">.js</span>:577:32)<br>at Object<span class="hljs-variable">.Module</span><span class="hljs-variable">._extensions</span>.<span class="hljs-variable">.js</span> (module<span class="hljs-variable">.js</span>:586:10)<br>at Module<span class="hljs-variable">.load</span> (module<span class="hljs-variable">.js</span>:494:32)<br>at tryModuleLoad (module<span class="hljs-variable">.js</span>:453:12)<br>at Function<span class="hljs-variable">.Module</span><span class="hljs-variable">._load</span> (module<span class="hljs-variable">.js</span>:445:3)<br>at Module<span class="hljs-variable">.require</span> (module<span class="hljs-variable">.js</span>:504:17)<br></code></pre></td></tr></table></figure><p>上述的错误搜索了好半天才没有到找到一个解决办法，不过在失去希望的时候，发了在baidu论坛有个人跟我报了一样的错误，而且还解决了，不买官司了，原因是：<font size=6.5 color='red'>node版本过低</font>。</p><h4 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h4><p>升级nodejs即可，具体操作如下：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">npm</span> install -g n<br><br><span class="hljs-comment"># 升级到最新稳定版本：</span><br><span class="hljs-attribute">n</span> stable<br><br><span class="hljs-comment"># 升级到最新版本：</span><br><span class="hljs-attribute">n</span> latest<br><br><span class="hljs-comment"># 升级到指定版本：</span><br><span class="hljs-attribute">n</span> <span class="hljs-number">0</span>.<span class="hljs-number">10</span>.<span class="hljs-number">26</span><br></code></pre></td></tr></table></figure><h4 id="学习参考"><a href="#学习参考" class="headerlink" title="学习参考"></a>学习参考</h4><p>n：<a href="https://www.jianshu.com/p/a2ee8f61a8ca">https://www.jianshu.com/p/a2ee8f61a8ca</a><br>帖子：<a href="https://tieba.baidu.com/p/6311927039?red_tag=1232994946">https://tieba.baidu.com/p/6311927039?red_tag=1232994946</a></p>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>视频工具Ffmpeg的基础学习</title>
    <link href="/articles/37692/"/>
    <url>/articles/37692/</url>
    
    <content type="html"><![CDATA[<h3 id="1、简介"><a href="#1、简介" class="headerlink" title="1、简介"></a>1、简介</h3><div class="note note-primary">            <p>大致的意思：FFmpeg是一款多媒体框架，能处理音频、视频等，不管什么格式的数据都可以进行处理，支持MacOS、Windows、Linux等各种系统。</p>          </div><span class="label label-default">ffmpeg</span> <span class="label label-primary">视频</span> <span class="label label-success">音频</span> <span class="label label-info">格式转换</span> <span class="label label-danger">压缩</span><span id="more"></span><hr /><p>FFmpeg：<font size=6 color='red'>我是处理媒介数据方面的专家，我很牛逼，快来用我吧！！！</font><br>我：<font size=6 color='blue'>好的，👌！</font></p><p><img src="/articles/37692/article_ffmpeg.png"></p><h3 id="2、背景"><a href="#2、背景" class="headerlink" title="2、背景"></a>2、背景</h3><p>因为公司做了一个宣传片，把宣传片视频上传到第三方网站上，发现非会员会有广告。这还得了，如果客户没有会员，岂不是要等，为了解决这个问题，从一个程序员的角度来想办法，直接做个页面，把视频放进去，通过域名访问就可以解决无广告的问题。</p><p>周末花了一上午的时候搞完了，通过域名直接访问看，可以播放视频，但是发现视频有点卡，查看了一下视频大小：6分钟的视频500M，有点大啊，于是想压缩一下，上网搜索<em><strong>在线 视频压缩</strong></em>，TMD，要不就收费、要不就限制100M，身为程序员的我咋可能花钱去处理。于是，继续搜索<em><strong>python 视频压缩</strong></em>，看到了自己没有见过的<em><strong>ffmpeg</strong></em>命令，查了下资料，评价还不错，花了1小时搞定了<em><strong>ffmpeg</strong></em>环境，压缩 + 转格式的方式处理，最后视频110M，压缩了将近4&#x2F;5，为了方便日后使用以及推荐给大家使用，写下本篇。</p><p>背景介绍完毕了，开始搞。</p><h3 id="3、下载"><a href="#3、下载" class="headerlink" title="3、下载"></a>3、下载</h3><p>安装需要下载2个文件：ffmpeg音视频处理工具，yasm是一款汇编器。yasm是安不安装都可以，既然ffmpeg里面都要求了就装上，省得日后麻烦。<br>文件下载地址：<br>yasm：<a href="http://yasm.tortall.net/Download.html">http://yasm.tortall.net/Download.html</a><br>ffmpeg：<a href="http://ffmpeg.org/download.html">http://ffmpeg.org/download.html</a></p><p>都是国外下载地址，如果翻不过去，本篇提供下载地址，百度云盘：</p><table><thead><tr><th align="center">name</th><th align="center">url</th><th align="center">password</th></tr></thead><tbody><tr><td align="center">yasm</td><td align="center"><a href="https://pan.baidu.com/s/14CEpqZvDhgyIcwjsINw4Gg">https://pan.baidu.com/s/14CEpqZvDhgyIcwjsINw4Gg</a></td><td align="center">ymw5</td></tr><tr><td align="center">ffmpeg</td><td align="center"><a href="https://pan.baidu.com/s/1n65Ss2S7rtp5bYIFxKHeHQ">https://pan.baidu.com/s/1n65Ss2S7rtp5bYIFxKHeHQ</a></td><td align="center">j3oj</td></tr></tbody></table><h3 id="4、安装"><a href="#4、安装" class="headerlink" title="4、安装"></a>4、安装</h3><h4 id="4-1、上传-解压"><a href="#4-1、上传-解压" class="headerlink" title="4.1、上传 &amp;&amp; 解压"></a>4.1、上传 &amp;&amp; 解压</h4><p>把yasm &amp;&amp; ffmpeg文件下载到本地，需要上传到Linux服务器，在这里我采用的<em><strong>scp</strong></em>命令。</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs elixir">scp ~/<span class="hljs-title class_">Downloads</span>/ffmpeg/* root<span class="hljs-variable">@192</span>.<span class="hljs-number">168.151</span>.<span class="hljs-number">64</span><span class="hljs-symbol">:~</span><br></code></pre></td></tr></table></figure><p>上传完之后，ssh连接服务器，找到上传的文件进行解压：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-comment"># ffmpeg</span><br><span class="hljs-attribute">tar</span> -jxvf ffmpeg-<span class="hljs-number">4</span>.<span class="hljs-number">2</span>.<span class="hljs-number">1</span>.tar.bz2<br><br><span class="hljs-comment"># yasm</span><br><span class="hljs-attribute">tar</span> -zxvf yasm-<span class="hljs-number">1</span>.<span class="hljs-number">3</span>.<span class="hljs-number">0</span>.tar.gz<br></code></pre></td></tr></table></figure><p>看好了，在这里yasm用的参数是<strong>z</strong>，ffmpeg用的是<strong>j</strong>，因为压缩的格式不一样，所以参数是不一样的，不知道的请看下tar的用法。</p><h4 id="4-2、yasm安装"><a href="#4-2、yasm安装" class="headerlink" title="4.2、yasm安装"></a>4.2、yasm安装</h4><p>进入到yasm-1.3.0进行编译安装，因为是源码：</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">cd</span> yasm-<span class="hljs-number">1.3</span>.<span class="hljs-number">0</span>/<br>./configure<br><span class="hljs-keyword">make</span><br><span class="hljs-keyword">make</span> install<br></code></pre></td></tr></table></figure><p>这个安装过程是没有任何问题的，等待安装完成即可。</p><h4 id="4-3、ffmpeg安装"><a href="#4-3、ffmpeg安装" class="headerlink" title="4.3、ffmpeg安装"></a>4.3、ffmpeg安装</h4><p>进入ffmpeg-4.2.1文件夹进行编译安装。</p><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs gauss">./configure --<span class="hljs-keyword">enable</span>-shared --prefix=/usr/loacl/ffmpeg<br><span class="hljs-built_in">make</span><br><span class="hljs-built_in">make</span> install<br></code></pre></td></tr></table></figure><p>编译过程有点长，请耐心等待，也可以做些别的事情。<br>安装成功后，<em><strong>cd &#x2F;usr&#x2F;loacl&#x2F;ffmpeg</strong></em>进入安装目录，查看一下发现有bin、include,、ib、share这4个目录，</p><ul><li>bin：是ffmpeg主程序二进制目录</li><li>include是C&#x2F;C++头文件目录</li><li>lib是编译好的库文件目录</li><li>share是文档目录</li></ul><h4 id="4-4、lib配置"><a href="#4-4、lib配置" class="headerlink" title="4.4、lib配置"></a>4.4、lib配置</h4><blockquote><p>ld.so.conf</p></blockquote><p>编辑lib包的配置文件，加入***&#x2F;usr&#x2F;local&#x2F;ffmpeg&#x2F;lib***内容（&#x2F;usr&#x2F;local&#x2F;ffmpeg是ffmpeg的安装目录，根据个人不同安装目录修改）。</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">vim</span> /etc/ld.<span class="hljs-keyword">so</span>.<span class="hljs-keyword">conf</span><br></code></pre></td></tr></table></figure><p>更新环境变量</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">ldconfig</span><br></code></pre></td></tr></table></figure><blockquote><p>&#x2F;etc&#x2F;profile</p></blockquote><p>打开&#x2F;etc&#x2F;profile文件，在文件末尾加入以下内容:<br>export PATH&#x3D;”&#x2F;usr&#x2F;local&#x2F;ffmpeg&#x2F;bin:$PATH”</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">vim</span> /etc/<span class="hljs-keyword">profile</span><br></code></pre></td></tr></table></figure><p>然后保存并运行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">source</span> /etc/profile<br></code></pre></td></tr></table></figure><h4 id="4-5、运行"><a href="#4-5、运行" class="headerlink" title="4.5、运行"></a>4.5、运行</h4><p>如果上步配置正确了，那么运行ffmpeg命令就会出现下图所示，因为ffmpeg不是系统命令，也不再系统PATH里面，所以执行要写全路径+ffmpeg。</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs nix">[root@localhost <span class="hljs-operator">/</span>usr<span class="hljs-operator">/</span>local<span class="hljs-operator">/</span>ffmpeg<span class="hljs-operator">/</span>bin]<span class="hljs-comment">#./ffmpeg</span><br>ffmpeg version <span class="hljs-number">4.2</span>.<span class="hljs-number">1</span> Copyright (c) <span class="hljs-number">200</span>0-<span class="hljs-number">2019</span> the FFmpeg developers<br>  built <span class="hljs-keyword">with</span> gcc <span class="hljs-number">4.8</span>.<span class="hljs-number">5</span> (GCC) <span class="hljs-number">20150623</span> (Red Hat <span class="hljs-number">4.8</span>.<span class="hljs-number">5</span><span class="hljs-operator">-</span><span class="hljs-number">39</span>)<br>  <span class="hljs-params">configuration:</span> <span class="hljs-operator">-</span>-enable-shared <span class="hljs-operator">-</span>-prefix<span class="hljs-operator">=</span><span class="hljs-symbol">/usr/local/ffmpeg</span><br>  libavutil      <span class="hljs-number">56</span>. <span class="hljs-number">31.100</span> <span class="hljs-symbol">/</span> <span class="hljs-number">56</span>. <span class="hljs-number">31.100</span><br>  libavcodec     <span class="hljs-number">58</span>. <span class="hljs-number">54.100</span> <span class="hljs-symbol">/</span> <span class="hljs-number">58</span>. <span class="hljs-number">54.100</span><br>  libavformat    <span class="hljs-number">58</span>. <span class="hljs-number">29.100</span> <span class="hljs-symbol">/</span> <span class="hljs-number">58</span>. <span class="hljs-number">29.100</span><br>  libavdevice    <span class="hljs-number">58</span>.  <span class="hljs-number">8.100</span> <span class="hljs-symbol">/</span> <span class="hljs-number">58</span>.  <span class="hljs-number">8.100</span><br>  libavfilter     <span class="hljs-number">7</span>. <span class="hljs-number">57.100</span> <span class="hljs-symbol">/</span>  <span class="hljs-number">7</span>. <span class="hljs-number">57.100</span><br>  libswscale      <span class="hljs-number">5</span>.  <span class="hljs-number">5.100</span> <span class="hljs-symbol">/</span>  <span class="hljs-number">5</span>.  <span class="hljs-number">5.100</span><br>  libswresample   <span class="hljs-number">3</span>.  <span class="hljs-number">5.100</span> <span class="hljs-symbol">/</span>  <span class="hljs-number">3</span>.  <span class="hljs-number">5.100</span><br>Hyper fast Audio and Video encoder<br><span class="hljs-params">usage:</span> ffmpeg [options] [[infile options] <span class="hljs-operator">-</span>i infile]... &#123;[outfile options] outfile&#125;...<br><br>Use <span class="hljs-operator">-</span>h to get full help <span class="hljs-keyword">or</span>, even better, run &#x27;man ffmpeg&#x27;<br></code></pre></td></tr></table></figure><h4 id="4-6、问题"><a href="#4-6、问题" class="headerlink" title="4.6、问题"></a>4.6、问题</h4><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stata">libavdevice.<span class="hljs-keyword">so</span>.57: cannot <span class="hljs-keyword">open</span> shared object <span class="hljs-keyword">file</span>: <span class="hljs-keyword">No</span> such <span class="hljs-keyword">file</span> or directory<br></code></pre></td></tr></table></figure><p>如果出现了以上问题，那么就检查一下在lib配置配置那步，是否做对了；如果解决不了，欢迎留言咨询。</p><h3 id="5、使用"><a href="#5、使用" class="headerlink" title="5、使用"></a>5、使用</h3><p>总结一下本人暂时学到的一些基础使用方法，这个命令很强大，喜欢的可以去官网进行查看详细的使用方法。</p><h4 id="5-1、信息获取"><a href="#5-1、信息获取" class="headerlink" title="5.1、信息获取"></a>5.1、信息获取</h4><blockquote><p>获取媒体信息</p></blockquote><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/ffmpeg/</span>bin/ffmpeg -i file_name<br></code></pre></td></tr></table></figure><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs nix">[root@localhost ~]<span class="hljs-comment">#/usr/local/ffmpeg/bin/ffmpeg -i elt.mp4</span><br>ffmpeg version <span class="hljs-number">4.2</span>.<span class="hljs-number">1</span> Copyright (c) <span class="hljs-number">200</span>0-<span class="hljs-number">2019</span> the FFmpeg developers<br>  built <span class="hljs-keyword">with</span> gcc <span class="hljs-number">4.8</span>.<span class="hljs-number">5</span> (GCC) <span class="hljs-number">20150623</span> (Red Hat <span class="hljs-number">4.8</span>.<span class="hljs-number">5</span><span class="hljs-operator">-</span><span class="hljs-number">39</span>)<br>  <span class="hljs-params">configuration:</span> <span class="hljs-operator">-</span>-enable-shared <span class="hljs-operator">-</span>-prefix<span class="hljs-operator">=</span><span class="hljs-symbol">/usr/local/ffmpeg</span><br>  libavutil      <span class="hljs-number">56</span>. <span class="hljs-number">31.100</span> <span class="hljs-symbol">/</span> <span class="hljs-number">56</span>. <span class="hljs-number">31.100</span><br>  libavcodec     <span class="hljs-number">58</span>. <span class="hljs-number">54.100</span> <span class="hljs-symbol">/</span> <span class="hljs-number">58</span>. <span class="hljs-number">54.100</span><br>  libavformat    <span class="hljs-number">58</span>. <span class="hljs-number">29.100</span> <span class="hljs-symbol">/</span> <span class="hljs-number">58</span>. <span class="hljs-number">29.100</span><br>  libavdevice    <span class="hljs-number">58</span>.  <span class="hljs-number">8.100</span> <span class="hljs-symbol">/</span> <span class="hljs-number">58</span>.  <span class="hljs-number">8.100</span><br>  libavfilter     <span class="hljs-number">7</span>. <span class="hljs-number">57.100</span> <span class="hljs-symbol">/</span>  <span class="hljs-number">7</span>. <span class="hljs-number">57.100</span><br>  libswscale      <span class="hljs-number">5</span>.  <span class="hljs-number">5.100</span> <span class="hljs-symbol">/</span>  <span class="hljs-number">5</span>.  <span class="hljs-number">5.100</span><br>  libswresample   <span class="hljs-number">3</span>.  <span class="hljs-number">5.100</span> <span class="hljs-symbol">/</span>  <span class="hljs-number">3</span>.  <span class="hljs-number">5.100</span><br>Input <span class="hljs-comment">#0, mov,mp4,m4a,3gp,3g2,mj2, from &#x27;elt.mp4&#x27;:</span><br>  <span class="hljs-params">Metadata:</span><br>    <span class="hljs-params">major_brand     :</span> mp42<br>    <span class="hljs-params">minor_version   :</span> <span class="hljs-number">0</span><br>    <span class="hljs-params">compatible_brands:</span> mp42mp41<br>    <span class="hljs-params">creation_time   :</span> <span class="hljs-number">201</span>9-<span class="hljs-number">1</span>2-<span class="hljs-number">12</span>T07:<span class="hljs-number">49</span>:<span class="hljs-number">20.000000</span>Z<br>  <span class="hljs-params">Duration:</span> <span class="hljs-number">00</span>:<span class="hljs-number">06</span>:<span class="hljs-number">22.93</span>, <span class="hljs-params">start:</span> <span class="hljs-number">0.000000</span>, <span class="hljs-params">bitrate:</span> <span class="hljs-number">10291</span> kb<span class="hljs-symbol">/s</span><br>    Stream <span class="hljs-comment">#0:0(eng): Video: h264 (Main) (avc1 / 0x31637661), yuv420p, 1920x1080 [SAR 1:1 DAR 16:9], 9966 kb/s, 25 fps, 25 tbr, 25k tbn, 50 tbc (default)</span><br>    <span class="hljs-params">Metadata:</span><br>      <span class="hljs-params">creation_time   :</span> <span class="hljs-number">201</span>9-<span class="hljs-number">1</span>2-<span class="hljs-number">12</span>T07:<span class="hljs-number">49</span>:<span class="hljs-number">20.000000</span>Z<br>      <span class="hljs-params">handler_name    :</span> <span class="hljs-operator">?</span>Mainconcept Video Media Handler<br>      <span class="hljs-params">encoder         :</span> AVC Coding<br>    Stream <span class="hljs-comment">#0:1(eng): Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, stereo, fltp, 317 kb/s (default)</span><br>    <span class="hljs-params">Metadata:</span><br>      <span class="hljs-params">creation_time   :</span> <span class="hljs-number">201</span>9-<span class="hljs-number">1</span>2-<span class="hljs-number">12</span>T07:<span class="hljs-number">49</span>:<span class="hljs-number">20.000000</span>Z<br>      <span class="hljs-params">handler_name    :</span> <span class="hljs-comment">#Mainconcept MP4 Sound Media Handler</span><br>At least one output file must be specified<br></code></pre></td></tr></table></figure><p>音频、视频都可以，读取文件的相关信息。</p><blockquote><p>查看支持格式</p></blockquote><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/ffmpeg/</span>bin/ffmpeg -formats<br></code></pre></td></tr></table></figure><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs nix">[root@localhost ~]<span class="hljs-comment">#/usr/local/ffmpeg/bin/ffmpeg -formats | head -n 10</span><br>ffmpeg version <span class="hljs-number">4.2</span>.<span class="hljs-number">1</span> Copyright (c) <span class="hljs-number">200</span>0-<span class="hljs-number">2019</span> the FFmpeg developers<br>  built <span class="hljs-keyword">with</span> gcc <span class="hljs-number">4.8</span>.<span class="hljs-number">5</span> (GCC) <span class="hljs-number">20150623</span> (Red Hat <span class="hljs-number">4.8</span>.<span class="hljs-number">5</span><span class="hljs-operator">-</span><span class="hljs-number">39</span>)<br>  <span class="hljs-params">configuration:</span> <span class="hljs-operator">-</span>-enable-shared <span class="hljs-operator">-</span>-prefix<span class="hljs-operator">=</span><span class="hljs-symbol">/usr/local/ffmpeg</span><br>  libavutil      <span class="hljs-number">56</span>. <span class="hljs-number">31.100</span> <span class="hljs-symbol">/</span> <span class="hljs-number">56</span>. <span class="hljs-number">31.100</span><br>  libavcodec     <span class="hljs-number">58</span>. <span class="hljs-number">54.100</span> <span class="hljs-symbol">/</span> <span class="hljs-number">58</span>. <span class="hljs-number">54.100</span><br>  libavformat    <span class="hljs-number">58</span>. <span class="hljs-number">29.100</span> <span class="hljs-symbol">/</span> <span class="hljs-number">58</span>. <span class="hljs-number">29.100</span><br>  libavdevice    <span class="hljs-number">58</span>.  <span class="hljs-number">8.100</span> <span class="hljs-symbol">/</span> <span class="hljs-number">58</span>.  <span class="hljs-number">8.100</span><br>  libavfilter     <span class="hljs-number">7</span>. <span class="hljs-number">57.100</span> <span class="hljs-symbol">/</span>  <span class="hljs-number">7</span>. <span class="hljs-number">57.100</span><br>  libswscale      <span class="hljs-number">5</span>.  <span class="hljs-number">5.100</span> <span class="hljs-symbol">/</span>  <span class="hljs-number">5</span>.  <span class="hljs-number">5.100</span><br>  libswresample   <span class="hljs-number">3</span>.  <span class="hljs-number">5.100</span> <span class="hljs-symbol">/</span>  <span class="hljs-number">3</span>.  <span class="hljs-number">5.100</span><br>File <span class="hljs-params">formats:</span><br> D. <span class="hljs-operator">=</span> Demuxing supported<br> .E <span class="hljs-operator">=</span> Muxing supported<br> <span class="hljs-operator">-</span>-<br> D  <span class="hljs-number">3</span>dostr          <span class="hljs-number">3</span>DO STR<br>  E <span class="hljs-number">3</span>g2             <span class="hljs-number">3</span>GP2 (<span class="hljs-number">3</span>GPP2 file format)<br>  E <span class="hljs-number">3</span>gp             <span class="hljs-number">3</span>GP (<span class="hljs-number">3</span>GPP file format)<br> D  <span class="hljs-number">4</span>xm             <span class="hljs-number">4</span>X Technologies<br>  E a64             a64 <span class="hljs-operator">-</span> video for Commodore <span class="hljs-number">64</span><br> D  aa              Audible AA format files<br></code></pre></td></tr></table></figure><p>查看支持的音频、视频格式。</p><h4 id="5-2、格式转换"><a href="#5-2、格式转换" class="headerlink" title="5.2、格式转换"></a>5.2、格式转换</h4><blockquote><p>基础使用</p></blockquote><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/ffmpeg/</span>bin/ffmpeg -i elt.mp4 elt_output.avi<br><br><span class="hljs-comment"># 多格式输出</span><br><span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/ffmpeg/</span>bin/ffmpeg -i elt.mp4 elt_output.avi elt_output.wmv<br></code></pre></td></tr></table></figure><p><img src="/articles/37692/ffmpeg_i_tf.png"></p><p>命令行中指定文件的输入和输出文件名就行了，这个方法同样适用于视频和音频文件，这个是常用的命令之一。</p><blockquote><p>保留视频质量</p></blockquote><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus">/usr/local/ffmpeg/bin/ffmpeg -<span class="hljs-selector-tag">i</span> elt<span class="hljs-selector-class">.mp4</span> -qscale <span class="hljs-number">0</span> elt_output<span class="hljs-selector-class">.avi</span><br><br></code></pre></td></tr></table></figure><p>通过-qscale 0参数来保留视频格式转换的视频质量。</p><h4 id="5-3、视频压缩"><a href="#5-3、视频压缩" class="headerlink" title="5.3、视频压缩"></a>5.3、视频压缩</h4><blockquote><p>降低比特率</p></blockquote><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus">ffmpeg -<span class="hljs-selector-tag">i</span> elt<span class="hljs-selector-class">.mp4</span> -<span class="hljs-selector-tag">b</span>:v <span class="hljs-number">1000</span>k -bufsize <span class="hljs-number">1000</span>k elt.mp4<br></code></pre></td></tr></table></figure><p>通过降低比特率(使用 -b:a 或 -ab)来进行视频压缩，一些常用的比特率有: 96k, 112k, 128k, 160k, 192k, 256k, 320k.值越大，文件所需要的体积就越大。</p><h3 id="6、学习参考"><a href="#6、学习参考" class="headerlink" title="6、学习参考"></a>6、学习参考</h3><p>ffmpeg官网：<a href="http://ffmpeg.org/ffmpeg.html#Audio-Options">http://ffmpeg.org/ffmpeg.html#Audio-Options</a><br>Linux上的ffmpeg完全使用指南：<a href="https://eyehere.net/2019/the-complete-guide-for-using-ffmpeg-in-linux/#basic-usage">https://eyehere.net/2019/the-complete-guide-for-using-ffmpeg-in-linux/#basic-usage</a></p><h3 id="7、结束语"><a href="#7、结束语" class="headerlink" title="7、结束语"></a>7、结束语</h3><p>ffmpeg的安装与基础使用先记录到这里吧，但是关于ffmpeg的探索不会停止，学习永无止境，日后有使用到其他命令会更新此博客。</p><p><font size=6 color='red'>不会的东西，干它就完了！！！</font></p>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
    </categories>
    
    
    <tags>
      
      <tag>命令工具</tag>
      
      <tag>ffmpeg</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>WIKI之Confluence之隐藏人员菜单栏</title>
    <link href="/articles/13168/"/>
    <url>/articles/13168/</url>
    
    <content type="html"><![CDATA[<div class="post_cus_note">配置WIKI之Confluence隐藏菜单栏人员的设置</div><span id="more"></span><hr /><h4 id="问题背景"><a href="#问题背景" class="headerlink" title="问题背景"></a>问题背景</h4><p>在公司搭建了一个Wiki，用的是Confluence + MariaDB + Linux架构，搭建之后不管在任何用户的菜单栏都会有用户这个选项，导致不管任何用户都可以邀请、注册等操作，正常来说用户管理只有管理员才有的权限，解决前如下图：</p><p><img src="/articles/13168/article_confluence_qian.png"></p><p><font color='red' size=6.0>解决后如下图：</font></p><p><img src="/articles/13168/article_confluence_hou.png"></p><h4 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h4><p>在网上查了很多，都没有实际的解决方案。于是，官网走起，在官网的<code>&lt;font color=&#39;red&#39; size=6.0&gt;</code>Search<code>&lt;/font&gt;</code>下，搜索关键字：<code>&lt;font color=&#39;red&#39; size=6.0&gt;</code>hide tools menu users<code>&lt;/font&gt;</code>，结果如下：</p><p><img src="/articles/13168/confluence_search.png"></p><p>点进去查看之后，发现给了我一个解决的灵感，具体如下：</p><blockquote><p>登录管理员账户</p></blockquote><blockquote><p>打开设置 -&gt; 一般配置</p></blockquote><p><img src="/articles/13168/confluence_config.png"></p><blockquote><p>找到自定义HTML</p></blockquote><p><img src="/articles/13168/confluence_html.png"></p><blockquote><p>在HEAD尾部加入一下代码</p></blockquote><p><img src="/articles/13168/confluence_set.png"></p><blockquote><p>保存后进行刷新测试</p></blockquote><h4 id="具体代码"><a href="#具体代码" class="headerlink" title="具体代码"></a>具体代码</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-title function_">jQuery</span>().<span class="hljs-title function_">ready</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">  <span class="hljs-title function_">jQuery</span>(<span class="hljs-string">&quot;#people-directory-link&quot;</span>).<span class="hljs-title function_">hide</span>();</span><br><span class="language-javascript">&#125;);</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="官方说明"><a href="#官方说明" class="headerlink" title="官方说明"></a>官方说明</h4><p>Confluence官方：<a href="https://confluence.atlassian.com/confkb/how-to-hide-the-space-tools-menu-for-certain-users-or-groups-in-confluence-816877024.html">https://confluence.atlassian.com/confkb/how-to-hide-the-space-tools-menu-for-certain-users-or-groups-in-confluence-816877024.html</a></p>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
    </categories>
    
    
    <tags>
      
      <tag>WIKI</tag>
      
      <tag>运维工具</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux学习之增强篇-lsof</title>
    <link href="/articles/35042/"/>
    <url>/articles/35042/</url>
    
    <content type="html"><![CDATA[<h4 id="1、简介"><a href="#1、简介" class="headerlink" title="1、简介"></a>1、简介</h4><div class="note note-danger">            <p>Linux万能命令之lsof，<font size=6.5 color='red'>只有你想不到的，没有踏做不到</font>。</p>          </div><span class="label label-default">Linux</span> <span class="label label-info">lsof</span> <span class="label label-danger">万物皆文件</span><span id="more"></span><hr /><h4 id="2、推荐指数"><a href="#2、推荐指数" class="headerlink" title="2、推荐指数"></a>2、推荐指数</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">🌟🌟🌟🌟🌟<br></code></pre></td></tr></table></figure><h4 id="3、基本介绍"><a href="#3、基本介绍" class="headerlink" title="3、基本介绍"></a>3、基本介绍</h4><p>lsof &#x3D; list opened files，大致的意思就是列举系统中被打开的文件。玩linux的人都知道：“linux万物皆文件”，目录、sockets文件、字符设备、块设备、管道符等等。所以在linux系统之内，不管干什么都会跟文件挂上边，lsof是打开这些被使用文件列表的一个工具。不过，在平常，我用的最多就是查端口以及文件被哪个进程使用，命令非常强大。</p><h4 id="4、文件类型"><a href="#4、文件类型" class="headerlink" title="4、文件类型"></a>4、文件类型</h4><p>在关于lsof能进行查看的文件类型，做了一下分类统计，结果如下：</p><ul><li>普通文件（.txt、.log等等）</li><li>目录</li><li>网络文件系统的文件</li><li>字符或设备文件</li><li>(函数)共享库（lib文件目录下的，.so等）</li><li>管道、命名管道（.pip等）</li><li>符号链接（软链）</li><li>网络文件（socket相关文件，.sock）</li></ul><p>应该还有其他的文件，本人刚入linux系统，不足的地方请各路神山补充，欢迎留言👏👏👏。</p><h4 id="5、安装"><a href="#5、安装" class="headerlink" title="5、安装"></a>5、安装</h4><p>lsof命令是linux系统非自带的一个命令。</p><blockquote><p>检查是否已安装</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">方式一：<br>lsof<br><br>方式二：<br><span class="hljs-built_in">which</span> lsof<br></code></pre></td></tr></table></figure><p>出现***-bash: lsof: command not found ***，说明命令还没被安装，如果命令已存在，忽略安装步骤。</p><blockquote><p>安装</p></blockquote><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">[root@localhost ~]# yum install lsof<br>Loaded plugins: fastestmirror<br>base                                                                                | 3.6 kB  00:00:00<br>extras                                                                              | 3.4 kB  00:00:00<br>updates                                                                             | 3.4 kB  00:00:00<br>extras/7/x86<span class="hljs-emphasis">_64/primary_db                                                          | 200 kB  00:00:00</span><br><span class="hljs-emphasis">Loading mirror speeds from cached hostfile</span><br><span class="hljs-emphasis"> * base: mirrors.tuna.tsinghua.edu.cn</span><br><span class="hljs-emphasis"> * extras: mirrors.tuna.tsinghua.edu.cn</span><br><span class="hljs-emphasis"> * updates: mirrors.tuna.tsinghua.edu.cn</span><br><span class="hljs-emphasis">Resolving Dependencies</span><br><span class="hljs-emphasis">--&gt; Running transaction check</span><br><span class="hljs-emphasis">---&gt; Package lsof.x86_</span>64 0:4.87-6.el7 will be installed<br>--&gt; Finished Dependency Resolution<br><br>Dependencies Resolved<br><br>===========================================================================================================<br> Package                Arch                     Version                      Repository              Size<br>===========================================================================================================<br>Installing:<br><span class="hljs-code"> lsof                   x86_64                   4.87-6.el7                   base                   331 k</span><br><br><span class="hljs-section">Transaction Summary</span><br><span class="hljs-section">===========================================================================================================</span><br>Install  1 Package<br><br>Total download size: 331 k<br>Installed size: 927 k<br>Is this ok [y/d/N]: y<br>Downloading packages:<br>lsof-4.87-6.el7.x86<span class="hljs-emphasis">_64.rpm                                                          | 331 kB  00:00:00</span><br><span class="hljs-emphasis">Running transaction check</span><br><span class="hljs-emphasis">Running transaction test</span><br><span class="hljs-emphasis">Transaction test succeeded</span><br><span class="hljs-emphasis">Running transaction</span><br><span class="hljs-emphasis">  Installing : lsof-4.87-6.el7.x86_64                                                                  1/1</span><br><span class="hljs-emphasis">  Verifying  : lsof-4.87-6.el7.x86_</span>64                                                                  1/1<br><br>Installed:<br><span class="hljs-code">  lsof.x86_64 0:4.87-6.el7</span><br><br>Complete!<br><br></code></pre></td></tr></table></figure><p>整个安装过程问题不大，大大小小的lsof安装已经也装过10几次了，重没发生过意外，有问题的话可以邮件、微信联系我，一起来进行解决。</p><h4 id="6、输出内容"><a href="#6、输出内容" class="headerlink" title="6、输出内容"></a>6、输出内容</h4><p>这个先简单介绍一下lsof输出信息的内容，具体格式如图：</p><p><img src="/articles/35042/lsof_fields.png"></p><blockquote><p>COMMAND</p></blockquote><p>command，进程的名称</p><blockquote><p>PID</p></blockquote><p>process id，进程标识符id</p><blockquote><p>TID</p></blockquote><p>thread id，线程标识符id</p><blockquote><p>USER</p></blockquote><p>user，进程所属用户</p><blockquote><p>FD</p></blockquote><p>file description，文件描述符，应用程序可以通过文件描述符识别该文件，一般有以下取值：</p><ul><li>cwd：current work dirctory，应用程序启动的目录</li><li>txt：program text (code and data)，该类型的文件是程序代码，如应用程序二进制文件本身或共享库</li><li>lnn：library references (AIX)</li><li>er：FD information error (see NAME column)</li><li>jld：jail directory (FreeBSD)</li><li>ltx：shared library text (code and data)</li><li>mxx：hex memory-mapped type number xx</li><li>m86：DOS Merge mapped file</li><li>mem：memory-mapped file</li><li>mmap：memory-mapped device</li><li>pd：parent directory</li><li>rtd：root directory</li><li>tr：kernel trace file (OpenBSD)</li><li>v86：VP&#x2F;ix mapped file</li><li>0：表示标准输出</li><li>1：表示标准输入</li><li>2：表示标准错误</li></ul><blockquote><p>TYPE</p></blockquote><p>type，文件类型，常见的文件类型有以下几种：</p><ul><li>DIR：表示目录</li><li>CHR：表示字符类型</li><li>BLK：块设备类型</li><li>UNIX：UNIX域套接字</li><li>FIFO：先进先出(FIFO)队列</li><li>IPv4：网际协议(IP)套接字</li></ul><blockquote><p>DEVICE</p></blockquote><p>device，指定磁盘的名称</p><blockquote><p>SIZE&#x2F;OFF</p></blockquote><p>size，文件的大小</p><blockquote><p>NODE</p></blockquote><p>node，索引节点，在这里啰嗦几句，磁盘存储机制，来个比喻吧：每个磁盘是一个大房子，大房子里面有多个小房子用来存储东西，但是呢每个小房子都有自己的房间号1、2、3、4、5、6……就这样一直排，我们把需要存储的数据放在小房子里面，一个不够就两个、两个不够就三个、以此类推，但是有个记录表需要记录刚存储的数据所对应的房间号，这样物流存储与房间号就对应起来了，所谓的房间号就是现在看的NODE节点，NODE节点就是文件在磁盘上的标识。</p><blockquote><p>NAME</p></blockquote><p>name，打开文件的确切名称</p><h4 id="7、参数详解"><a href="#7、参数详解" class="headerlink" title="7、参数详解"></a>7、参数详解</h4><p>lsof参数有太多太多，这里不一一列举，只讲解一下常用的参数，如果有想深入了解的，请<font size=5.5 color='red'>man lsof</font>。</p><blockquote><p>-a</p></blockquote><p>列出打开文件存在的进程</p><blockquote><p>-c &lt;进程名&gt;</p></blockquote><p>列出指定名称进程所使用到的文件</p><blockquote><p>-d &lt;文件&gt;</p></blockquote><p>列出打开指定文件描述的进程</p><blockquote><p>+d &lt;目录&gt;</p></blockquote><p>列出目录下被打开的文件</p><blockquote><p>+D &lt;目录&gt;</p></blockquote><p>递归列出目录下被打开的文件</p><blockquote><p>-n &lt;目录&gt;</p></blockquote><p>列出使用NFS的文件</p><blockquote><p>-u &lt;用户名&gt;</p></blockquote><p>列出指定用户打开的文件</p><blockquote><p>-p &lt;进程id&gt;</p></blockquote><p>列出指定进程号所打开的文件</p><blockquote><p>-i &lt;条件&gt;</p></blockquote><p>列出打开的套接字，过滤条件：tcp、udp、4、6、协议、:端口、 @ip</p><h4 id="8、常用命令"><a href="#8、常用命令" class="headerlink" title="8、常用命令"></a>8、常用命令</h4><blockquote><p>查看端口</p></blockquote><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">lsof</span> -i :<span class="hljs-number">80</span><br></code></pre></td></tr></table></figure><p><img src="/articles/35042/lsof_port.png"></p><p>列出80端口目前打开的文件列表。</p><blockquote><p>查看连接</p></blockquote><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-comment"># 所有网络连接信息</span><br><span class="hljs-attribute">lsof</span> -i<br><br><span class="hljs-comment"># TCP网络连接信息</span><br><span class="hljs-attribute">lsof</span> -i tcp<br><br><span class="hljs-comment"># UDP网络连接信息</span><br><span class="hljs-attribute">lsof</span> -i udp<br><br><span class="hljs-comment"># TCP连接方式、端口为8080的连接信息</span><br><span class="hljs-attribute">lsof</span> -i tcp:<span class="hljs-number">8080</span><br><br><span class="hljs-comment"># UDP连接方式、端口为8080的连接信息</span><br><span class="hljs-attribute">lsof</span> -i udp:<span class="hljs-number">8080</span><br></code></pre></td></tr></table></figure><p><img src="/articles/35042/lsof_i.png"></p><blockquote><p>指定进程名称</p></blockquote><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">lsof -c nginx</span><br></code></pre></td></tr></table></figure><p><img src="/articles/35042/lsof_c.png"></p><p>列出以nginx开头的进程打开的文件列表。</p><blockquote><p>指定进程id</p></blockquote><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">lsof</span> -p <span class="hljs-number">3215</span><br></code></pre></td></tr></table></figure><p><img src="/articles/35042/lsof_c_id.png"></p><p>列出指定进程打开的文件列表。</p><blockquote><p>指定用户</p></blockquote><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">lsof -u root</span><br></code></pre></td></tr></table></figure><p><img src="/articles/35042/lsof_user.png"></p><p>列出指定用户打开的文件列表。</p><blockquote><p>查看指定目录被打开的文件（目录非遍历）</p></blockquote><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs applescript">lsof +d /usr/<span class="hljs-keyword">local</span>/<br></code></pre></td></tr></table></figure><p><img src="/articles/35042/lsof_dd.png"></p><p>列出目录下被进程打开的文件列表。</p><blockquote><p>查看指定目录被打开的文件（目录遍历）</p></blockquote><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs applescript">lsof +D /usr/<span class="hljs-keyword">local</span>/<br></code></pre></td></tr></table></figure><p><img src="/articles/35042/lsof_D.png"></p><p>遍历搜索的方式列出目录下被进程打开的文件列表。</p><h4 id="9、结束语"><a href="#9、结束语" class="headerlink" title="9、结束语"></a>9、结束语</h4><p>本篇先写到这里吧，以上是我常用的命令以及参数说明，各种参数可以一起使用，如果不能满足大家的需求请见谅，毕竟本人是linux小白一枚，<font size=6.5 color='blue'>在不断尝试中去学习、去进步、去成长、去积累吧</font>，敬自己。</p><h4 id="10、学习参考"><a href="#10、学习参考" class="headerlink" title="10、学习参考"></a>10、学习参考</h4><p>lsof简书：<a href="https://www.jianshu.com/p/be0c534c6a41">https://www.jianshu.com/p/be0c534c6a41</a><br>每日一命令lsof：<a href="https://www.cnblogs.com/peida/archive/2013/02/26/2932972.html">https://www.cnblogs.com/peida/archive/2013/02/26/2932972.html</a></p><p>感谢上面的2篇文章。</p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Linux增强篇</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python爬虫之公司网站首页Title、Keywords、Description</title>
    <link href="/articles/43681/"/>
    <url>/articles/43681/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p>工作上涉及公司网站SEO优化相关的工作，但是在<font color='red' size=6.5>Title、Keywords、Description</font>这块有点不清楚。于是，参考了一些与自己公司业务上有相同的公司网站内容，在进行词语分析选取一些关键词，在结合本公司的业务内容关键词进行综合，完成了网站SEO优化的<font color='red' size=6.5>Keywords</font>。</p>          </div><span id="more"></span><span class="label label-default">Python实战</span> <span class="label label-primary">爬虫教程系列</span><hr /><p>废话也不多说了，关于爬虫相关使用的教程在前面以及介绍了，而且还有栗子，这里主要贴上相关代码。除了爬取数据之外，本程序还把处理好的数据进行分析选取出现频率最多<em><strong>Keywords</strong></em>，以及把爬取的数据存储到excel中。</p><img src="article_kwpachong.jpg" style="border:1.5px solid blue"/><h3 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h3><p>抓取数据 -&gt; 解析 -&gt; 存储 -&gt; 分析</p><h3 id="特色"><a href="#特色" class="headerlink" title="特色"></a>特色</h3><p>在本次爬虫中，运用了<em><strong>gevent协程</strong></em>，玩python不清楚协程的同学请自行脑补。</p><h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">------------------------------------------------</span><br><span class="hljs-string"></span><br><span class="hljs-string">describe:</span><br><span class="hljs-string">    用来抓取指定的物流公司官网的信息，包含title、keywords、description。</span><br><span class="hljs-string"></span><br><span class="hljs-string">usage:</span><br><span class="hljs-string">    python comp_infos_grab.py</span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string">base_info:</span><br><span class="hljs-string">    __version__ = &quot;v.10&quot;</span><br><span class="hljs-string">    __author__ = &quot;PyGo&quot;</span><br><span class="hljs-string">    __time__ = &quot;2019/12/3&quot;</span><br><span class="hljs-string">    __mail__ = &quot;gaoming971366@163.com&quot;</span><br><span class="hljs-string"></span><br><span class="hljs-string">------------------------------------------------</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">import</span> gevent<br><span class="hljs-keyword">import</span> xlrd<br><span class="hljs-keyword">import</span> xlwt<br><span class="hljs-keyword">from</span> gevent <span class="hljs-keyword">import</span> monkey; monkey.patch_all()<br><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br><span class="hljs-keyword">import</span> jieba<br><br>PUBLIC_URL_LIST = &#123;<br>    <span class="hljs-string">&quot;IML俄罗斯海外仓&quot;</span>: <span class="hljs-string">&quot;http://www.imlb2c.com/&quot;</span>,<br>    <span class="hljs-string">&quot;旺集科技&quot;</span>: <span class="hljs-string">&quot;http://www.wangjigroup.com/&quot;</span>,<br>    <span class="hljs-string">&quot;黑龙江俄速通国际物流有限公司&quot;</span>: <span class="hljs-string">&quot;http://www.ruston.cc/&quot;</span>,<br>    <span class="hljs-string">&quot;AliExpress全球速卖通&quot;</span>: <span class="hljs-string">&quot;https://sell.aliexpress.com/zh/__pc/shipping/aliexpress_shipping.htm&quot;</span>,<br>    <span class="hljs-string">&quot;中外运集装箱运输有限公司&quot;</span>: <span class="hljs-string">&quot;http://www.sinolines.com/&quot;</span>,<br>    <span class="hljs-string">&quot;乐泰国际物流有限公司&quot;</span>: <span class="hljs-string">&quot;http://www.letaimzl.com/&quot;</span>,<br>    <span class="hljs-string">&quot;NOEL诺艾尔集团&quot;</span>: <span class="hljs-string">&quot;http://www.noelworld.com/&quot;</span>,<br>    <span class="hljs-string">&quot;慧承国际物流&quot;</span>: <span class="hljs-string">&quot;http://www.hcwuliu.com/&quot;</span>,<br>    <span class="hljs-string">&quot;满洲里新颖国际货运代理有限公司&quot;</span>: <span class="hljs-string">&quot;http://www.mzlxinying.com/&quot;</span>,<br>    <span class="hljs-string">&quot;运盟国际物流&quot;</span>: <span class="hljs-string">&quot;http://www.ym-trans.com/&quot;</span>,<br>    <span class="hljs-string">&quot;如易科技&quot;</span>: <span class="hljs-string">&quot;http://www.ruecom.cn/&quot;</span><br>&#125;<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">companyGrap</span>(<span class="hljs-title class_ inherited__">object</span>):<br>    _instance = <span class="hljs-literal">None</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">super</span>(companyGrap, <span class="hljs-variable language_">self</span>).__init__()<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__new__</span>(<span class="hljs-params">cls, *args, **kwargs</span>):<br>        <span class="hljs-keyword">if</span> companyGrap._instance <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>            companyGrap._instance = <span class="hljs-built_in">object</span>.__new__(cls, *args, **kwargs)<br>    <br>        <span class="hljs-keyword">return</span> companyGrap._instance<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_get_infos</span>(<span class="hljs-params">self, url</span>):<br>    <br>        results = <span class="hljs-built_in">dict</span>()<br>        results[<span class="hljs-string">&#x27;url&#x27;</span>] = url<br>    <br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> url:<br>            <span class="hljs-keyword">return</span> results<br>    <br>        payload = <span class="hljs-string">&quot;&quot;</span><br>        headers = &#123;<br>            <span class="hljs-string">&quot;User-Agent&quot;</span>: <span class="hljs-string">&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36&quot;</span><br>            &#125;<br>        response = requests.get(url, data=payload, headers=headers)<br>        <span class="hljs-keyword">if</span> response.status_code == <span class="hljs-number">200</span>:<br>            soup = BeautifulSoup(response.content, <span class="hljs-string">&#x27;html.parser&#x27;</span>)<br>            head = soup.head<br>            titles = head.find_all(<span class="hljs-string">&#x27;title&#x27;</span>)<br>            tl = titles[<span class="hljs-number">0</span>].string <span class="hljs-keyword">if</span> titles <span class="hljs-keyword">else</span> <span class="hljs-string">&quot;&quot;</span><br>            results[<span class="hljs-string">&#x27;title&#x27;</span>] = tl<br>            keywords = head.find_all(<span class="hljs-string">&#x27;meta&#x27;</span>, attrs=&#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;keywords&#x27;</span>&#125;)<br>            kw = keywords[<span class="hljs-number">0</span>].attrs.get(<span class="hljs-string">&#x27;content&#x27;</span>) <span class="hljs-keyword">if</span> keywords <span class="hljs-keyword">else</span> <span class="hljs-string">&quot;&quot;</span><br>            results[<span class="hljs-string">&#x27;keyword&#x27;</span>] = kw<br>            descriptions = head.find_all(<span class="hljs-string">&#x27;meta&#x27;</span>, attrs=&#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;description&#x27;</span>&#125;)<br>            desc = descriptions[<span class="hljs-number">0</span>].attrs.get(<span class="hljs-string">&#x27;content&#x27;</span>) <span class="hljs-keyword">if</span> descriptions <span class="hljs-keyword">else</span> <span class="hljs-string">&quot;&quot;</span><br>            results[<span class="hljs-string">&#x27;description&#x27;</span>] = desc<br>    <br>        <span class="hljs-keyword">return</span> results<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">to_excel</span>(<span class="hljs-params">self, datas, exlname</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        generate data of excel format to save</span><br><span class="hljs-string">        :param datas: excel data</span><br><span class="hljs-string">        :param exlname: excel name</span><br><span class="hljs-string">        :return: None, excel data</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        f = xlwt.Workbook(encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>        sheet = f.add_sheet(<span class="hljs-string">&#x27;sheet&#x27;</span>, cell_overwrite_ok=<span class="hljs-literal">True</span>)<br>        EXCEL_TITLES = [<span class="hljs-string">&quot;ID&quot;</span>, <span class="hljs-string">&quot;NAME&quot;</span>, <span class="hljs-string">&quot;URL&quot;</span>, <span class="hljs-string">&#x27;TITLE&#x27;</span>, <span class="hljs-string">&#x27;KEYWORDS&#x27;</span>, <span class="hljs-string">&#x27;DESCRIPTION&#x27;</span>, <span class="hljs-string">&quot;REMARK&quot;</span>]<br>        BUSINESS = <span class="hljs-string">&quot;BUSINESS&quot;</span><br>    <br>        style_title = xlwt.XFStyle()<br>        font = xlwt.Font()<br>        font.name = <span class="hljs-string">&#x27;Times New Roman&#x27;</span><br>        font.bold = <span class="hljs-literal">True</span><br>        font.color_index = <span class="hljs-number">4</span><br>        font.height = <span class="hljs-number">220</span><br>        style_title.font = font<br>    <br>        style_content = xlwt.XFStyle()<br>        font = xlwt.Font()<br>        font.name = <span class="hljs-string">&#x27;Times New Roman&#x27;</span><br>        font.bold = <span class="hljs-literal">False</span><br>        font.color_index = <span class="hljs-number">4</span><br>        font.height = <span class="hljs-number">220</span><br>        style_content.font = font<br>    <br>        <span class="hljs-comment"># 标题</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(EXCEL_TITLES)):<br>            sheet.write(<span class="hljs-number">0</span>, i, EXCEL_TITLES[i], style_title)<br>    <br>        <span class="hljs-comment"># 合并 &amp;&amp; 重写</span><br>        sheet.write_merge(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, BUSINESS, style_title)<br>        sheet.write_merge(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;ID&#x27;</span>, style_title)<br>        sheet.write_merge(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;NAME&#x27;</span>, style_title)<br>        sheet.write_merge(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-string">&#x27;URL&#x27;</span>, style_title)<br>        sheet.write_merge(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">6</span>, <span class="hljs-number">6</span>, <span class="hljs-string">&#x27;REMARK&#x27;</span>, style_title)<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>, <span class="hljs-number">6</span>):<br>            sheet.write(<span class="hljs-number">1</span>, i, EXCEL_TITLES[i], style_content)<br>    <br>        row = <span class="hljs-number">2</span><br>        count = <span class="hljs-number">1</span><br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> datas:<br>            sheet.write(row, <span class="hljs-number">0</span>, count, style_title)<br>            sheet.write(row, <span class="hljs-number">1</span>, line.get(<span class="hljs-string">&#x27;name&#x27;</span>), style_content)<br>            sheet.write(row, <span class="hljs-number">2</span>, line.get(<span class="hljs-string">&#x27;url&#x27;</span>), style_content)<br>            sheet.write(row, <span class="hljs-number">3</span>, line.get(<span class="hljs-string">&#x27;title&#x27;</span>), style_content)<br>            sheet.write(row, <span class="hljs-number">4</span>, line.get(<span class="hljs-string">&#x27;keyword&#x27;</span>), style_content)<br>            sheet.write(row, <span class="hljs-number">5</span>, line.get(<span class="hljs-string">&#x27;description&#x27;</span>), style_content)<br>            row += <span class="hljs-number">1</span><br>            count += <span class="hljs-number">1</span><br>    <br>        f.save(exlname)<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_deal_url</span>(<span class="hljs-params">self, k, v</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>._get_infos(v)<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">to_generate_kw</span>(<span class="hljs-params">self, datas</span>):<br>        keywords_src = <span class="hljs-string">&quot;&quot;</span><br>        <span class="hljs-keyword">for</span> data <span class="hljs-keyword">in</span> datas:<br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> data:<br>                <span class="hljs-keyword">continue</span><br>            keywords_src += data.get(<span class="hljs-string">&#x27;keyword&#x27;</span>)<br>    <br>        keywords = jieba.lcut(keywords_src, cut_all=<span class="hljs-literal">False</span>)<br>        counts = <span class="hljs-built_in">dict</span>()<br>        <span class="hljs-keyword">for</span> word <span class="hljs-keyword">in</span> keywords:<br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> word:<br>                <span class="hljs-keyword">continue</span><br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(word, unicode):<br>                word = word.encode(<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>            <span class="hljs-keyword">if</span> word <span class="hljs-keyword">in</span> (<span class="hljs-string">&#x27;|&#x27;</span>, <span class="hljs-string">&#x27;,&#x27;</span>, <span class="hljs-string">&#x27; &#x27;</span>, <span class="hljs-string">&#x27;-&#x27;</span>, <span class="hljs-string">&#x27;，&#x27;</span>):<br>                <span class="hljs-keyword">continue</span><br>            counts[word] = counts.get(word, <span class="hljs-number">0</span>) + <span class="hljs-number">1</span><br>    <br>        ord_counts = <span class="hljs-built_in">sorted</span>(counts.items(), key=<span class="hljs-keyword">lambda</span> x: x[<span class="hljs-number">1</span>], reverse=<span class="hljs-literal">True</span>)<br>        <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> ord_counts:<br>            <span class="hljs-built_in">print</span> <span class="hljs-string">&quot;%s: %s&quot;</span> % (k[<span class="hljs-number">0</span>], k[<span class="hljs-number">1</span>])<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">run</span>(<span class="hljs-params">self, to_excel=<span class="hljs-literal">False</span></span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        process run</span><br><span class="hljs-string">        :param to_excel:</span><br><span class="hljs-string">        :return:</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        jobs = <span class="hljs-built_in">list</span>()<br>        names = <span class="hljs-built_in">list</span>()<br>        excel_datas = <span class="hljs-built_in">list</span>()<br>        <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> PUBLIC_URL_LIST.iteritems():<br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> k <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> v:<br>                <span class="hljs-keyword">continue</span><br>            names.append(k)<br>            jobs.append(gevent.spawn(<span class="hljs-variable language_">self</span>._deal_url, k, v))<br>        gevent.joinall(jobs)<br>        <span class="hljs-keyword">for</span> name, job <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(names, jobs):<br>            value = job.value<br>            <span class="hljs-built_in">print</span> <span class="hljs-string">&#x27;==================%s==================&#x27;</span> % name<br>            <span class="hljs-built_in">print</span> <span class="hljs-string">&#x27;Title: %s&#x27;</span> % value.get(<span class="hljs-string">&#x27;title&#x27;</span>)<br>            <span class="hljs-built_in">print</span> <span class="hljs-string">&#x27;Keyword: %s&#x27;</span> % value.get(<span class="hljs-string">&#x27;keyword&#x27;</span>)<br>            <span class="hljs-built_in">print</span> <span class="hljs-string">&#x27;Description: %s&#x27;</span> % value.get(<span class="hljs-string">&#x27;description&#x27;</span>)<br>            value[<span class="hljs-string">&#x27;name&#x27;</span>] = name<br>            excel_datas.append(value)<br>    <br>        <span class="hljs-variable language_">self</span>.to_generate_kw(excel_datas)<br>    <br>        <span class="hljs-keyword">if</span> to_excel:<br>            <span class="hljs-built_in">print</span> <span class="hljs-string">&#x27;---------excel ok&#x27;</span><br>            <span class="hljs-variable language_">self</span>.to_excel(excel_datas, <span class="hljs-string">&#x27;companys.xls&#x27;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    companyGrap().run(to_excel=<span class="hljs-literal">False</span>)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Python程序篇</tag>
      
      <tag>爬虫系列</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>新MacOS系统更新导致微信截图问题</title>
    <link href="/articles/17077/"/>
    <url>/articles/17077/</url>
    
    <content type="html"><![CDATA[<h4 id="1、问题背景"><a href="#1、问题背景" class="headerlink" title="1、问题背景"></a>1、问题背景</h4><div class="note note-primary">            <p>Mac更新了新版的OS之后，发现微信截图除了能获取到微信界面信息，其他的信息都获取不到了。微信设置了截图的快捷键，平时也用习惯了，不能快捷键去操作常用的操作，岂不<font color='red' size=6.5>蓝瘦、香菇</font>。</p>          </div><span id="more"></span><hr /><p>问题出现的很简单，更新系统前可以使用，更新系统后不能使用了，说明还是系统的问题。直接针对于系统进行排查即可，而且MacOS基于unix开发的，所以跟权限差不多相关。</p><p>快捷键： shift + command + 4</p><h4 id="2、解决方案"><a href="#2、解决方案" class="headerlink" title="2、解决方案"></a>2、解决方案</h4><blockquote><p>系统偏好设置 -&gt; 安全与隐私</p></blockquote><p><img src="/articles/17077/shezhi.png"></p><blockquote><p>隐私 -&gt; 找到屏幕录制 -&gt; 勾选微信</p></blockquote><p><img src="/articles/17077/anquanyuyinsi.png"></p><h4 id="3、温馨提示"><a href="#3、温馨提示" class="headerlink" title="3、温馨提示"></a>3、温馨提示</h4><p><font color='red' size=6.5>解决问题要有思路，而且要善于思考。</font></p>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MacOS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python爬虫之糗百笑话</title>
    <link href="/articles/32384/"/>
    <url>/articles/32384/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p>之前已经介绍过了<font color='red' size=6.5>爬虫</font>的利器：Requests、BeautifulSoup。在陆续跟上几个实战来进行演示，本篇主要是爬糗百网站的文本笑话以及笑话图片，纯属于技术宅的磨牙的事情。</p>          </div><p><font size=6.5 color='red'>糗百服务器更新中。。。。。。文章暂无</font></p><span id="more"></span><span class="label label-default">Python实战</span> <span class="label label-primary">爬虫教程系列</span><hr /><img src="qiubaipachong.gif" style="border:1.5px solid blue"/><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>实现糗百网站的文本笑话以及笑话图片数据获取，并存储到本地。</p><h3 id="技术流程"><a href="#技术流程" class="headerlink" title="技术流程"></a>技术流程</h3><p><img src="/articles/32384/article_qiubai_liuchengtu.png"></p><h3 id="结束语"><a href="#结束语" class="headerlink" title="结束语"></a>结束语</h3><p>本人不是专业做爬虫数据方向的，业余爱好。</p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>爬虫系列</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>新、旧民主主义革命的异同【&lt;font color=&quot;red&quot; size=&quot;4.5&quot;&gt;历史&lt;/font&gt;】</title>
    <link href="/articles/43171/"/>
    <url>/articles/43171/</url>
    
    <content type="html"><![CDATA[<p>论述新民主主义革命与旧民主主义革命的异同点。</p><span id="more"></span><hr /><h4 id="不同点"><a href="#不同点" class="headerlink" title="不同点"></a>不同点</h4><table border="1" cellspacing="0" width="50%" height="150">    <tr>        <th style="text-align:center;">类型</th>        <th style="text-align:center;">社会背景</th>        <th style="text-align:center;">革命对象</th>    </tr>    <tr>        <td style="text-align:center;">新民主主义革命</td>        <td rowspan="2" style="text-align:center;">半殖民地半封建社会</td>        <td rowspan="2" style="text-align:center;">反帝反封建</td>    </tr>    <tr>        <td style="text-align:center;">旧民主主义革命</td>    </tr></table><h4 id="相同点"><a href="#相同点" class="headerlink" title="相同点"></a>相同点</h4><table border="1" cellspacing="0" width="50%" height="150">    <tr>        <th style="text-align:center;">类型</th>        <th style="text-align:center;">领导阶级</th>        <th style="text-align:center;">指导思想</th>        <th style="text-align:center;">革命前景</th>        <th style="text-align:center;">革命性质</th>    </tr>    <tr>        <td style="text-align:center;">新民主主义革命</td>        <td style="text-align:center;">无产阶级</td>        <td style="text-align:center;">马克思列宁主义</td>        <td style="text-align:center;">建立人民民主专政的国家，走社会主义路线</td>        <td style="text-align:center;">无产阶级革命</td>    </tr>    <tr>        <td style="text-align:center;">旧民主主义革命</td>        <td style="text-align:center;">资产阶级</td>        <td style="text-align:center;">三民主义（民权、民主、民生）</td>        <td style="text-align:center;">建立资产阶级共和国，走资本主义路线</td>        <td style="text-align:center;">资产阶级革命</td>    </tr></table>]]></content>
    
    
    <categories>
      
      <category>公务员</category>
      
    </categories>
    
    
    <tags>
      
      <tag>历史</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>中秋节【&lt;font color=&quot;red&quot; size=&quot;15&quot;&gt;中国节&lt;/font&gt;】</title>
    <link href="/articles/53637/"/>
    <url>/articles/53637/</url>
    
    <content type="html"><![CDATA[<p><img src="/img_index/index/20190913-001.jpg"></p><span id="more"></span><hr /><p><font size=6.5 color='red'>持续更新中。。。。。。</font></p><table><thead><tr><th align="center">时间</th><th align="center">地点</th></tr></thead><tbody><tr><td align="center">2019-09-13</td><td align="center">保康</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>生活记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>节日</tag>
      
      <tag>中国节</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SSH之免密码登录</title>
    <link href="/articles/1431/"/>
    <url>/articles/1431/</url>
    
    <content type="html"><![CDATA[<h4 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h4><div class="note note-warning">            <p>前几天的文章中介绍了SSH的快捷配置，今天讲述一下SSH免密码登录服务器，这个操作在玩服务器中经常用到，建议收藏。</p>          </div><span id="more"></span><hr /><span class="label label-default">SSH</span> <span class="label label-success">免密码</span> <span class="label label-info">SSH配置</span><h4 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h4><blockquote><p>生成密钥公钥</p></blockquote><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arcade">ssh-keygen -t rsa -P <span class="hljs-string">&#x27;&#x27;</span> -f ~<span class="hljs-regexp">/.ssh/i</span>d_dsa<br></code></pre></td></tr></table></figure><p>这个命令会产生一个公钥文件id_rsa.pub和密钥文件id_rsa，</p><ul><li>-t rsa：表示使用密钥的加密类型</li><li>-P ‘’：表示不需要密码登录</li><li>-f ~&#x2F;.ssh&#x2F;id_dsa：表示密钥存放的路径为用户&#x2F;.ssh&#x2F;id_dsa</li></ul><blockquote><p>公钥上传服务器</p></blockquote><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs applescript">ssh-<span class="hljs-keyword">copy</span>-<span class="hljs-built_in">id</span> 用户@服务器IP<br>输入用户登录密码<br></code></pre></td></tr></table></figure><p>执行这个命令，会把刚生成公钥文件内容复制到服务器~&#x2F;.ssh&#x2F;authorized_keys文件中。<br>也可以用其他方式，只要把公钥复制到服务器authorized_keys文件中即可。</p><p>这样就实现SSH免密码登录服务器，加上上篇SSH配置中config，以后直接ssh XXXX即可登录服务器。</p><blockquote><p>SSH长连接配置</p></blockquote><p>第一步 编辑服务器的 sshd_config</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">vim  <span class="hljs-regexp">/etc/</span>ssh/sshd_config<br></code></pre></td></tr></table></figure><p>第二步 找到如下配置并且修改参数</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">ClientAliveInterval</span> <span class="hljs-number">60</span>      ## 这个属性表示超时时间(单位是秒)，修改为 <span class="hljs-number">60</span>,需要可以加到<span class="hljs-number">600</span><br><span class="hljs-attribute">ClientAliveCountMax</span> <span class="hljs-number">10</span>     ## 这个属性是超时链接次数，允许你超时的次数 <span class="hljs-number">10</span><br></code></pre></td></tr></table></figure><p>这个配置表示超时时间为一分钟，超时连接次数为10次，也就是允许长连接十分钟不操作<br>第三步 保存配置并生效</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">systemctl restart sshd</span><br></code></pre></td></tr></table></figure><h4 id="特别说明"><a href="#特别说明" class="headerlink" title="特别说明"></a>特别说明</h4><p>服务器ssh目录以及authorized_keys文件的权限：</p><ul><li>chmod 700 ~&#x2F;.ssh&#x2F;</li><li>chmod 600 authorized_keys</li></ul>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
      <category>服务器</category>
      
    </categories>
    
    
    <tags>
      
      <tag>SSH</tag>
      
      <tag>协议类</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SSH之快捷配置</title>
    <link href="/articles/24280/"/>
    <url>/articles/24280/</url>
    
    <content type="html"><![CDATA[<h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><div class="note note-warning">            <p>上篇文章介绍了有关<font color='red' size=4.5>SSH协议</font>的基础知识，正常工作中都是通过下列命令进行ssh连接：</p><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">ssh 用户名<span class="hljs-meta">@服务器IP</span><br></code></pre></td></tr></table></figure><span id="more"></span><hr /><p>工作中，需要ssh连接到服务器，然后每次需要输入服务的IP或者机器名，而且连接到一台服务器后，还可能跳转到另外一台服务器，每次还需要输入密码，个人感觉比较麻烦。通过配置ssh_config的方式简化连接命令，在ssh远程连接上更加高效。</p>          </div><span class="label label-default">SSH</span> <span class="label label-primary">服务器连接</span> <span class="label label-info">SSH配置</span><h3 id="结果对比"><a href="#结果对比" class="headerlink" title="结果对比"></a>结果对比</h3><blockquote><p>配置前</p></blockquote><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">ssh 用户名<span class="hljs-meta">@服务器IP</span><br></code></pre></td></tr></table></figure><p>每次都需要输入密码</p><blockquote><p>配置后</p></blockquote><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">ssh</span> 别名<br></code></pre></td></tr></table></figure><p>每日只需输入一次密码</p><h3 id="配置详解"><a href="#配置详解" class="headerlink" title="配置详解"></a>配置详解</h3><p>1 进入到<em><strong>~&#x2F;.ssh</strong></em>目录，查看是否有<em><strong>config</strong></em>文件，如果没有这个文件，需要通过<em><strong>touch config</strong></em>手动进行建立。</p><p><img src="/articles/24280/ssh_config.png"></p><p>2 配置文件内容</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">Host XXXX<br>HostName IP<br><span class="hljs-keyword">User</span> <span class="hljs-title">mingliang</span>.gao<br>ControlMaster auto<br>ControlPath ~/.ssh/<span class="hljs-literal">master</span>-%r@%h:@%p<br>ControlPersist yes<br>PasswordAuthentication no<br>IdentityFile ~/.ssh/id_rsa<br></code></pre></td></tr></table></figure><ul><li>Host：ssh进行连接的别名</li><li>HostName：服务器的IP或者机器名</li><li>User：用户名</li><li>Port：端口</li><li>ControlMaster：是否多个会话连接用一个session文件的模式，需要配合ControlPath、ControlPersist一起使用</li><li>ControlPath：保存的session会话文件（%r远程连接的用户，%h远程连接的ip，%s远程连接的端口）</li><li>ControlPersist：连接是否保持长连接</li><li>PasswordAuthentication：是否需要密码认证</li><li>IdentityFile：私钥文件</li></ul><p>如果需要了解更多的参数，请<font color='red' size=5><em><strong>man ssh_config</strong></em></font>进行查看。</p><h3 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h3><p>配置完之后，每次只需要<em><strong>ssh 别名</strong></em>就可以连接到指定配置的服务器，而且在会话session结束之前只需要第一次密码即可。</p>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
      <category>服务器</category>
      
    </categories>
    
    
    <tags>
      
      <tag>SSH</tag>
      
      <tag>协议类</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>三大作风三大法宝三大灵魂【&lt;font color=&quot;red&quot; size=&quot;4.5&quot;&gt;历史&lt;/font&gt;】</title>
    <link href="/articles/17252/"/>
    <url>/articles/17252/</url>
    
    <content type="html"><![CDATA[<p>介绍党的三大作风、三大法宝、三大灵魂。</p><span id="more"></span><hr /><h4 id="三大作风"><a href="#三大作风" class="headerlink" title="三大作风"></a>三大作风</h4><p>中国共产党的三大作风</p><ul><li>理论和实际相结合</li><li>密切联系群众</li><li>批评与自我批评</li></ul><p>出自《论联合政府》</p><h4 id="三大法宝"><a href="#三大法宝" class="headerlink" title="三大法宝"></a>三大法宝</h4><p>中国革命的三大法宝</p><ul><li>武装斗争</li><li>统一战线</li><li>党的建设</li></ul><p>出自《&lt;共产党人&gt;发刊词》</p><h4 id="三大灵魂"><a href="#三大灵魂" class="headerlink" title="三大灵魂"></a>三大灵魂</h4><p>毛泽东思想的三大灵魂</p><ul><li>实事求是</li><li>群众路线</li><li>独立自主</li></ul>]]></content>
    
    
    <categories>
      
      <category>公务员</category>
      
    </categories>
    
    
    <tags>
      
      <tag>历史</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SSH协议的基础知识</title>
    <link href="/articles/62041/"/>
    <url>/articles/62041/</url>
    
    <content type="html"><![CDATA[<h3 id="1、背景"><a href="#1、背景" class="headerlink" title="1、背景"></a>1、背景</h3><div class="note note-warning">            <p>因为一些原因，把github.io重新在github搭建一下，但是<strong>hexo deploy</strong>去提交代码的时候，发生代码提交失败的情况。原来在GIS90.github.io Repository上没有进行<em><strong>Deploy keys</strong></em>的配置，导致push失败。</p><p>配置好<em><strong>Deploy keys</strong></em>的配置，代码成功提交，但是为何配置完key就可以成功提交呢？原理是<font color='red' size=4.5>SSH协议</font>。</p>          </div><span id="more"></span><hr /><span class="label label-default">SSH配置</span> <span class="label label-primary">SSH安装</span> <span class="label label-success">协议</span> <span class="label label-info">服务器</span><h3 id="2、定义"><a href="#2、定义" class="headerlink" title="2、定义"></a>2、定义</h3><p><em><strong>The SSH protocol uses encryption to secure the connection between a client and a server. All user authentication, commands, output, and file transfers are encrypted to protect against attacks in the network. For details of how the SSH protocol works, see the protocol page. To understand the SSH File Transfer Protocol, see the SFTP page.</strong></em></p><p><em><strong>The SSH protocol (also referred to as Secure Shell) is a method for secure remote login from one computer to another. It provides several alternative options for strong authentication, and it protects the communications security and integrity with strong encryption. It is a secure alternative to the non-protected login protocols (such as telnet, rlogin) and insecure file transfer methods (such as FTP).</strong></em></p><p>直接摘录了官网的原话，不多说了直接捞干的，大概意思就是说<font color='red' size=4.5>SSH协议是一种连接服务器的一种简单、安全、可靠的连接方法。</font></p><h3 id="3、验证方式"><a href="#3、验证方式" class="headerlink" title="3、验证方式"></a>3、验证方式</h3><p>目前，后端开发、运维等工作中经常需要登录远程服务并操作，常用的连接方式都是ssh，方式如下：</p><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">ssh 用户名<span class="hljs-meta">@IP</span><br>ssh 用户名<span class="hljs-meta">@机器名</span><br></code></pre></td></tr></table></figure><p>使用ssh登录的时候，验证方式主要有2种：</p><blockquote><p>密码验证</p></blockquote><p>使用用户名和密码进行登录，两者匹配才可以登录，但是密码认证有以下的缺点：</p><ul><li>密码泄漏。一个帐户多个人进行使用，需要让所有使用人都知道密码，很容易密码泄露。</li><li>另外，多账户使用修改密码时必须通知所有人，否则就会造成其他人登录失败。</li></ul><blockquote><p>公钥验证</p></blockquote><p>使用公钥、私钥的方式就行验证。保证了多个用户可以通过各自的密钥登录到服务器，互不干扰，而且认证也可以允许使用空密码，省去每次登录都需要输入密码的麻烦。</p><h3 id="4、配置"><a href="#4、配置" class="headerlink" title="4、配置"></a>4、配置</h3><p>通过<font color='red' size=4.5>ssh-keygen</font>命令进行生成公钥私钥，下面详细说明。</p><p>1、执行<em><strong>ssh-keygen -t rsa</strong></em>命令。<br>通过<em><strong>ssh-keygen –help</strong></em>可知，-t是加密的参数，最常用。除了rsa，还有dsa、ecdsa、ed25519，其中rsa是安全的加密方式。</p><p>2、输入要生成的文件名，默认回车即可。</p><p>3、输入密码，默认回车即可。</p><p>4、输入确认密码，，默认回车即可。</p><p>5、出现下列图案代表成功。</p><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">+--[ RSA 2048]----+<br>|<span class="hljs-string">    .+=*..       </span>|<br>|<span class="hljs-string">  .  += +        </span>|<br>|<span class="hljs-string">   o oo+         </span>|<br>|<span class="hljs-string">  E . . o        </span>|<br>|<span class="hljs-string">      ..S.       </span>|<br>|<span class="hljs-string">      .o .       </span>|<br>|<span class="hljs-string">       .o +      </span>|<br>|<span class="hljs-string">       ...oo     </span>|<br>|<span class="hljs-string">         +.      </span>|<br>+-----------------+<br></code></pre></td></tr></table></figure><p>具体的ssh-keygen参数可以通过<em><strong>ssh-keygen –help</strong></em>进行查看，这里不作详解。</p><h3 id="5、原理讲解"><a href="#5、原理讲解" class="headerlink" title="5、原理讲解"></a>5、原理讲解</h3><ol><li><h4 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h4><p> 这里主要针对于公钥私钥的验证方式进行讲解，通过执行ssh-kengen命令可以得到<strong>公钥、私钥</strong>，都是经过加密后的文件。<br> 公钥：能被其他人知道的加密文件，id_rsa.pub。<br> 私钥：只能自己知道的加密文件，id_rsa。</p><p> 只要私钥不被泄漏，就不会出现任何指定用户登录的问题。</p><p> <img src="/articles/62041/ssh_keys.png"></p></li><li><h4 id="流程图"><a href="#流程图" class="headerlink" title="流程图"></a>流程图</h4><p> <img src="/articles/62041/ssh_yuanli.png"></p></li><li><h4 id="验证流程"><a href="#验证流程" class="headerlink" title="验证流程"></a>验证流程</h4><p> 1、Client通过<em><strong>ssh-keygen</strong></em>命令生成公钥和私钥。</p><p> 2、Client将自己的公钥<em><strong>id_rsa.pub</strong></em>存放到Server服务器上的认证文件。</p><p> 3、Client通过<em><strong>ssh</strong></em>命令将用户、IP发送请求连接指定的服务器。</p><p> 4、Server收到到请求之后，先去authorized_keys中进行查找是否有指定的用户，如果有将进行下一步，无此用户拒绝验证连接。</p><p> 5、验证文件中包含指定用户，Server将生成一个随机字符串通过*<strong>公钥</strong>进行加密，发送给Client。</p><p> 6、Client接收到Server加密的字符串，利用<em><strong>私钥</strong></em>进行解密，解密后在将这个随机字符串再发送给Server。</p><p> 7、Server接收到Client发送的解密字符串与生成的原始随机字符串进行比对，如果正确就让客户端登录，否则拒绝。</p></li></ol><h3 id="6、学习参考"><a href="#6、学习参考" class="headerlink" title="6、学习参考"></a>6、学习参考</h3><p>SSH官网：<a href="https://www.ssh.com/ssh/">https://www.ssh.com/ssh/</a></p>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
      <category>服务器</category>
      
    </categories>
    
    
    <tags>
      
      <tag>SSH</tag>
      
      <tag>协议类</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Qunar项目之总结篇</title>
    <link href="/articles/30296/"/>
    <url>/articles/30296/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p>Qunar负责的项目汇总。</p><p><font color=#1E90FF size=8 face="黑体"> 感谢Qunar让我成长 ！！！</font></p>          </div><span id="more"></span><hr /><span class="label label-danger">项目总结</span> <span class="label label-primary">Qunar</span> <span class="label label-success">Python实战</span> <span class="label label-info">Web</span><hr /><h3 id="1、背景"><a href="#1、背景" class="headerlink" title="1、背景"></a>1、背景</h3><p>统计一下负责项目的说明。</p><h3 id="2、统计"><a href="#2、统计" class="headerlink" title="2、统计"></a>2、统计</h3><table><thead><tr><th align="center">ID</th><th align="center">项目名称</th><th align="center">中文名称</th><th align="center">重要程度</th><th align="left">技术架构</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">backyard</td><td align="center">骆驼帮</td><td align="center">★★★</td><td align="left">前后端分离项目【Python + React】</td></tr><tr><td align="center">2</td><td align="center">isapi</td><td align="center">员工信息API</td><td align="center">★★★</td><td align="left">rest api，Python编写</td></tr><tr><td align="center">3</td><td align="center">new_hrtools</td><td align="center">AD账号管理系统</td><td align="center">★★</td><td align="left">任务脚本较多，Python编写</td></tr><tr><td align="center">4</td><td align="center">officedb</td><td align="center">办公大厦管理系统</td><td align="center">★</td><td align="left">后台【Flask】+ 模板</td></tr><tr><td align="center">5</td><td align="center">opsapp</td><td align="center">Qtalk Apis</td><td align="center">★★</td><td align="left">rest api</td></tr><tr><td align="center">6</td><td align="center">outage</td><td align="center">故障系统</td><td align="center">★★★</td><td align="left">后台【Flask】+ 前端【angularjs】</td></tr><tr><td align="center">7</td><td align="center">psapproval</td><td align="center">qtalk审批申请</td><td align="center">★★</td><td align="left">rest api，Python编写</td></tr><tr><td align="center">8</td><td align="center">wwwhr</td><td align="center">员工信息采集系统</td><td align="center">★★</td><td align="left">后台【Flask】+ 模板</td></tr><tr><td align="center">9</td><td align="center">newoa_api</td><td align="center">newoa审批Api</td><td align="center">★★</td><td align="left">rest api，Python编写</td></tr><tr><td align="center">10</td><td align="center">opsbi</td><td align="center">Ops故障可视化bi系统</td><td align="center">★</td><td align="left">后台【Flask】+ 前端【angularjs】</td></tr><tr><td align="center">11</td><td align="center">smsdb</td><td align="center">短信狗</td><td align="center">★★</td><td align="left">软件 + 硬件</td></tr><tr><td align="center">12</td><td align="center">opstools-cron</td><td align="center">定时任务</td><td align="center">★★</td><td align="left">Node</td></tr></tbody></table><h3 id="3、项目说明"><a href="#3、项目说明" class="headerlink" title="3、项目说明"></a>3、项目说明</h3><h4 id="3-1、Isapi"><a href="#3-1、Isapi" class="headerlink" title="3.1、Isapi"></a>3.1、Isapi</h4><blockquote><p><font size=4.5 color='red'>简述</font></p></blockquote><p>Isapi是一个提供qunar员工信息数据的api项目，主要针对的用户群体是内部员工。数据来源于ehr系统（peoplesoft，简称：ps），ps使用的是Oracle数据库，基于ps提供的view试图，把员工数据同步到一个新的数据库，Isapi选择使用了postgresql，把员工信息数据封装json，通过http api接口的方式开放给用户，不仅解决了其他系统使用员工信息数据的问题，还有让ps数据隔离，提高了安全性、可用性。</p><!-- > <font size=4.5 color='red'>详情</font>    <a href="/articles/7285/" target="_blank" class="block_project_a">Qunar项目之Isapi-员工信息apis</a> --><h4 id="3-2、backyard"><a href="#3-2、backyard" class="headerlink" title="3.2、backyard"></a>3.2、backyard</h4><blockquote><p><font size=4.5 color='red'>简述</font></p></blockquote><p>用于Qunar员工内部使用的一个web内网系统，主要用于员工信息查询、考勤、公司相关的制度、条例等信息，是一个员工访问量相对较大的一个web系统。</p><!-- > <font size=4.5 color='red'>详情</font>    <a href="/articles/39002/" target="_blank" class="block_project_a">Qunar项目之Backyard-骆驼帮</a> --><h4 id="3-3、new-hrtools"><a href="#3-3、new-hrtools" class="headerlink" title="3.3、new_hrtools"></a>3.3、new_hrtools</h4><blockquote><p><font size=4.5 color='red'>简述</font></p></blockquote><p>项目主要用于员工ad账号相关的处理，主要有API接口和定时任务2大部分组成，其中定时任务是重点，与ldap、数据库均有交互，是一样日常运维工作较多的一个项目。</p><!-- > <font size=4.5 color='red'>详情</font>     <a href="/articles/61124/" target="_blank" class="block_project_a">Qunar项目之New-hrtools【AD账号管理系统】</a> --><h4 id="3-4、officedb"><a href="#3-4、officedb" class="headerlink" title="3.4、officedb"></a>3.4、officedb</h4><blockquote><p><font size=4.5 color='red'>简述</font></p></blockquote><p>Officedb系统是Qunar行政管理员工办公大厦的一个内部系统，主要针对于Qunar行政、QunarIT对办公大厦进行费用、员工信息等管理，实现Qunar办公大厦的自动化。</p><!-- > <font size=4.5 color='red'>详情</font>    <a href="/articles/47129/" target="_blank" class="block_project_a">Qunar项目之Officedb-办公大厦管理系统</a> --><h4 id="3-5、opsapp"><a href="#3-5、opsapp" class="headerlink" title="3.5、opsapp"></a>3.5、opsapp</h4><blockquote><p><font size=4.5 color='red'>简述</font></p></blockquote><p>opsapp跟Isapi实现的功能大致一样，这个项目是专门用来提供给qtalk移动端在外网情况下进行使用的一个api接口，这个接口实现了访问内网需要的api接口，实现了在非内网情况使用qtalk功能。</p><!-- > <font size=4.5 color='red'>详情</font>    <a href="/articles/9363/" target="_blank" class="block_project_a">Qunar项目之Opsapp-QtalkApis</a> --><h4 id="3-6、outage"><a href="#3-6、outage" class="headerlink" title="3.6、outage"></a>3.6、outage</h4><blockquote><p><font size=4.5 color='red'>简述</font></p></blockquote><p>主要用于用户进行报故障所用，主要有故障通报、故障review、故障产品线、对外API4大部分。</p><!-- > <font size=4.5 color='red'>详情</font>    <a href="/articles/26073/" target="_blank" class="block_project_a">Qunar项目之Outage-故障系统</a> --><h4 id="3-7、psapproval"><a href="#3-7、psapproval" class="headerlink" title="3.7、psapproval"></a>3.7、psapproval</h4><blockquote><p><font size=4.5 color='red'>简述</font></p></blockquote><p>主要用于ehr系统部分流程审批、申请在qtalk移动端进行操作。ehr系统主要用于管理员工、员工使用的一个人事系统，只能通过pc端进行操作，为了能在qtalk移动端也同样进行操作，psapproval接入ehr的员工使用流程。</p><!-- > <font size=4.5 color='red'>详情</font>    <a href="/articles/204/" target="_blank" class="block_project_a">Qunar项目之Psapproval-Qtalk审批申请</a> --><h4 id="3-8、wwwhr"><a href="#3-8、wwwhr" class="headerlink" title="3.8、wwwhr"></a>3.8、wwwhr</h4><blockquote><p><font size=4.5 color='red'>简述</font></p></blockquote><p>用于采集入职Qunar员工基本个人信息的一个外部系统，信息主要用于ehr系统使用，是一个正常入职Qunar员工必须走的一步。</p><!-- > <font size=4.5 color='red'>详情</font>    <a href="/articles/3146/" target="_blank" class="block_project_a">Qunar项目之Wwwhr-信息采集系统</a> --><h4 id="3-9、newoa-api"><a href="#3-9、newoa-api" class="headerlink" title="3.9、newoa_api"></a>3.9、newoa_api</h4><blockquote><p><font size=4.5 color='red'>简述</font></p></blockquote><p>newoa_api是专门针对于PC端Newoa表单在移动端详情展示，主要用于数据格式化。</p><!-- > <font size=4.5 color='red'>详情</font>    <a href="/articles/34271/" target="_blank" class="block_project_a">Qunar项目之Newoa-api【Newoa审批Api】</a> --><h4 id="3-10、opsbi"><a href="#3-10、opsbi" class="headerlink" title="3.10、opsbi"></a>3.10、opsbi</h4><blockquote><p><font size=4.5 color='red'>简述</font></p></blockquote><p>Opsbi是针对于Ops组造成故障的数据做的一个可视化web系统，数据源来源于Outage故障系统，是一个前端【angularjs + echart】+ 后台【python】一体的项目。</p><!-- > <font size=4.5 color='red'>详情</font>    <a href="/articles/63144/" target="_blank" class="block_project_a">Qunar项目之Opsbi-Ops故障可视化bi系统</a> --><h4 id="3-11、smsdb"><a href="#3-11、smsdb" class="headerlink" title="3.11、smsdb"></a>3.11、smsdb</h4><blockquote><p><font size=4.5 color='red'>简述</font></p></blockquote><p>smsd是一个针对于机票事业部短信收发做的一个项目，实现了机票部门短信接收、发送、代收等功能。</p><!-- > <font size=4.5 color='red'>详情</font>    <a href="/articles/22299/" target="_blank" class="block_project_a">Qunar项目之Smsdb-短信狗</a> --><h4 id="3-12、opstools-cron"><a href="#3-12、opstools-cron" class="headerlink" title="3.12、opstools-cron"></a>3.12、opstools-cron</h4><blockquote><p><font size=4.5 color='red'>简述</font></p></blockquote><p>Opstools-cron项目主要针对于其他项目有定时任务写的一个请求request crontab，由pm2进行管理。</p><!-- > <font size=4.5 color='red'>详情</font>    <a href="/articles/9777/" target="_blank" class="block_project_a">Qunar项目之Opstools-cron【定时任务】</a> --><h3 id="4、发布"><a href="#4、发布" class="headerlink" title="4、发布"></a>4、发布</h3><h4 id="4-1、-提交代码"><a href="#4-1、-提交代码" class="headerlink" title="4.1、 提交代码"></a>4.1、 提交代码</h4><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">1 </span>git add .<br><br><span class="hljs-symbol">2 </span>git commit -m <span class="hljs-string">&quot;XXXX&quot;</span><br><br><span class="hljs-symbol">3 </span>git tag q-xxxxxxxx-xx<br><br><span class="hljs-symbol">4 </span>git push origin master --tags<br></code></pre></td></tr></table></figure><h4 id="4-2、自动化发布"><a href="#4-2、自动化发布" class="headerlink" title="4.2、自动化发布"></a>4.2、自动化发布</h4><p>1 打开自动化发布url。</p><p>2 左侧查看通过tag触发构建的项目，等待构建完成。如果构建过程中出现问题，请联系相关负责人进行处理。</p><p>3 点击Qunar Build，选择QA【beta环境】，先进行beta环境发布，参数详解如下：</p><pre><code class="hljs">- server_list_group：A- tag_name：q-xxxxxxxx-xx- server_list_group代表发布机器组，发哪个组写哪个组名即可，全部写ALL。- tag_name为构建的tag名称。</code></pre><p>  4 QA发布完成环境之后。</p><p>  5 在选择OPS【线上环境】进行发布，建议发布一台检查一台的方式去进行发现线上环境。</p><h3 id="5、项目启动"><a href="#5、项目启动" class="headerlink" title="5、项目启动"></a>5、项目启动</h3><h4 id="5-1、常规"><a href="#5-1、常规" class="headerlink" title="5.1、常规"></a>5.1、常规</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">(<span class="hljs-built_in">sudo</span>) python tools/install_venv.py<br><br>(<span class="hljs-built_in">sudo</span>)  tools/with_venv.sh python setup.py develop                  <span class="hljs-comment"># develop 软链</span><br><br>(<span class="hljs-built_in">sudo</span>)  tools/with_venv.sh main --config-file 配置文件 -v<br></code></pre></td></tr></table></figure><h4 id="5-2、调试"><a href="#5-2、调试" class="headerlink" title="5.2、调试"></a>5.2、调试</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash">(<span class="hljs-built_in">sudo</span>) virtualenv .venv<br><br>(<span class="hljs-built_in">sudo</span>) <span class="hljs-built_in">source</span> .venv/bin/activate<br><br>(<span class="hljs-built_in">sudo</span>) <span class="hljs-built_in">sudo</span> pip install -r requirements.txt -i 源地址 --trusted-host 源地址域名<br><br>(<span class="hljs-built_in">sudo</span>) tools/with_venv.sh python setup.py install                  <span class="hljs-comment"># install 复制</span><br><br>(<span class="hljs-built_in">sudo</span>) tools/with_venv.sh main --config-file 配置文件 -v<br></code></pre></td></tr></table></figure><h3 id="6、supervisorctl管理"><a href="#6、supervisorctl管理" class="headerlink" title="6、supervisorctl管理"></a>6、supervisorctl管理</h3><p>登录服务器上切换到sudo用户，执行supervisorctl：</p><p><img src="/articles/30296/qunar_supervisorctl.png"></p><p>常用命令说明：</p><ul><li>status 查看项目运行状态</li><li>restart outage-www 重启outage-www 项目</li><li>start outage-www 启动outage-www 项目</li><li>stop outage-www 停止outage-www项目</li><li>start all 启动所有项目</li><li>stop all停止所有项目</li><li>tail -f outage-www 动态的查看outage-www项目日志</li></ul>]]></content>
    
    
    <categories>
      
      <category>项目</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>北京西单抓娃娃心得篇</title>
    <link href="/articles/8059/"/>
    <url>/articles/8059/</url>
    
    <content type="html"><![CDATA[<p>本篇文章讲述作者本人总结的抓娃娃技巧，身为工程师不仅要会写代码，还要有浪漫的生活，<font color='red' size=5.0>不能只做会敲代码的工程师</font>。</p><span id="more"></span><hr /><p>相信生活中大部分人都看过抓娃娃机，甚至不少人也尝试过，但结果一般都是差强人意。本人在北京上班，经常去西单的一个游戏风云娱乐去抓娃娃，也总结了一些经验，写出来与大家进行<em><strong>Share</strong></em>。</p><h4 id="1、地点"><a href="#1、地点" class="headerlink" title="1、地点"></a>1、地点</h4><p>北京西单新一代商城7层<br>无直梯，需要一层层电梯上去</p><h4 id="2、时间"><a href="#2、时间" class="headerlink" title="2、时间"></a>2、时间</h4><p>周一 ～ 周日<br>10:00 ～ 22:00</p><h4 id="3、简介"><a href="#3、简介" class="headerlink" title="3、简介"></a>3、简介</h4><p>这家娱乐地，我并不是为了给这家打广告，而且单纯的觉得这家真的好玩，里面抓娃娃机有不同种的，娃娃更是大小不一样，五花八门，还有跳舞机、篮球机等等，最重要的还有拳皇97、98，相信很多人都有着美好的回忆，而且还经常能遇到<em><strong>cosplay</strong></em>。</p><h4 id="4、价格"><a href="#4、价格" class="headerlink" title="4、价格"></a>4、价格</h4><p>通过扫码进行网购，反正就是买的多赠送的也多。</p><p><img src="/articles/8059/jiage.png"></p><h4 id="5、技巧"><a href="#5、技巧" class="headerlink" title="5、技巧"></a>5、技巧</h4><p>我的抓娃娃技巧都是基于这家练出来的，总结一下：</p><ul><li><p>先观察爪子的松紧程度，看别人再决定是否进行抓取，紧的通常抓出来的概率大一些。</p></li><li><p>娃娃的摆放位置，最好选那些靠近出口的，周围又没有阻挡的娃娃，近边的娃娃通常会比远边的娃娃更容易出来。</p></li><li><p>等娃娃机秒数结束，让爪子自然下落，爪子抓到娃娃以后按住，按住会比按一下抓得更紧一些，出来的概率大。</p></li><li><p>抓娃娃的爪子有的时候可以靠摇晃的惯性把娃娃甩出来，有时间需要平稳的爪子取抓取，这种属于难一些的操作，看情况而定，如果不知道怎么选择，建议选择平稳的爪子去抓取娃娃。</p></li><li><p>根据娃娃的形状进行抓取，尽量让爪子抓到娃娃的<font color='red' size=4.0>重心</font>、<font color='red' size=5>重心</font>、<font color='red' size=6.0>重心</font>，看好了。【头大抓身】</p></li><li><p>还可以根据娃娃的材质柔软程度进行抓取，软的相对于硬材质的娃娃好抓，不止轻，抓到了还变形，出来的概率大。</p></li><li><p>还有一种情况，就是尽量选择满的娃娃机，有可能让娃娃抓起在滚落下来，也不失为一种方法。</p></li></ul><h4 id="6、特别说明"><a href="#6、特别说明" class="headerlink" title="6、特别说明"></a>6、特别说明</h4><p>下面说的这几条都是非常重要的，也是针对于西单这家，掌握了你将会抓的更多：</p><div class="note note-danger">            <ul><li><p><font color='blue' size=4.2>娃娃机挡板有2个方向，多抓挡板右侧的，不要抓上侧的，右侧出来的概率远远大于上侧的。</font></p></li><li><p><font color='blue' size=4.2>如果特别喜欢哪个，可以让服务人员帮忙摆一下，摆完之后抓取的概率也大大提高。</font></p></li></ul>          </div>]]></content>
    
    
    <categories>
      
      <category>生活记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>生活</tag>
      
      <tag>抓娃娃</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>浪漫二人行之天津二日游</title>
    <link href="/articles/28340/"/>
    <url>/articles/28340/</url>
    
    <content type="html"><![CDATA[<p>周六日来个天津二日游浪漫二人行，带上媳妇来到<font color='red'><strong>天津之眼</strong></font>。</p><span class="label label-default">旅行记</span> <span class="label label-primary">美食</span> <span class="label label-success">天津打卡</span><span id="more"></span><hr /><p><img src="/articles/28340/article_tianjinzhiyan.jpg"></p><h4 id="1、背景"><a href="#1、背景" class="headerlink" title="1、背景"></a>1、背景</h4><div class="note note-info">            <p>来了北京6年了，一直都没去天津嗨皮过，快离开北京了，觉得去天津转转。本来心里打算有2个嗨皮的地方：北京欢乐谷或者天津之旅，二者进行比较，已经去过上海的迪士尼乐园了，选择天津之旅，了却心里的一件憾事。<br>北京到天津的便利也不用多说，30分钟的城际快轨，超快。曾经的天津市是各国的租界，经历并见证了历史的变迁，重要的是天津还有很多小吃，这很吸引人啊。</p>          </div><h4 id="2、交通方式"><a href="#2、交通方式" class="headerlink" title="2、交通方式"></a>2、交通方式</h4><p>交通方式选择了城际快轨，仅30min就可以直达。至于天津市内游玩的话，我选择<strong>步行 + 滴滴</strong>混合式。</p><p><img src="/articles/28340/checi.png" alt="车次"></p><h4 id="3、日程安排"><a href="#3、日程安排" class="headerlink" title="3、日程安排"></a>3、日程安排</h4><h5 id="第一天"><a href="#第一天" class="headerlink" title="第一天"></a>第一天</h5><blockquote><p>日期</p></blockquote><p>2019-08-02</p><blockquote><p>景点</p></blockquote><p>解放桥 + 世纪钟 → 意大利风情街(2小时) → 古文化街(2小时) → 天津之眼(1小时) → 津湾广场(2小时-建议夜景) + 海河</p><blockquote><p>建议</p></blockquote><ul><li>天津之眼建议提前去排队，比较火。</li><li>微信天津之眼摩天轮上购票，可以购提前3天的票。</li></ul><h5 id="第二天"><a href="#第二天" class="headerlink" title="第二天"></a>第二天</h5><blockquote><p>日期</p></blockquote><p>2019-08-03</p><blockquote><p>景点</p></blockquote><p>五大道(2小时) → 天主教天津教区西开主教座堂天主堂(0.5小时) → 瓷房子(0.5小时) → 劝业场商场(和平路店)(2小时) → 南市食品街(2小时)</p><h4 id="4、必游景点"><a href="#4、必游景点" class="headerlink" title="4、必游景点"></a>4、必游景点</h4><blockquote><p>五大道</p></blockquote><p>历史文化名街，天津明信片的背景图。</p><p><img src="/articles/28340/wudadao.jpeg"></p><p>著名景点：</p><ul><li>疙瘩楼</li><li>天津市民园体育场</li><li>庆王府</li><li>五大道博物馆</li></ul><blockquote><p>天津之眼</p></blockquote><p>世界上唯一建在桥上的摩天轮 ，可看到方圆40公里以内的景致。</p><p><img src="/articles/28340/tianjinzhiyan.jpeg"></p><blockquote><p>意大利风情街</p></blockquote><p>近代意大利在国外保留最为完整的历史街区。</p><p><img src="/articles/28340/yidalifengqingjie.jpeg"></p><p>著名景点：</p><ul><li>马可波罗广场</li><li>梁启超旧居</li><li>新意街步行街</li><li>曹禺故居</li><li>意大利兵营旧址</li></ul><blockquote><p>古文化街</p></blockquote><p>中国味，天津味，文化味，古味。</p><p><img src="/articles/28340/guwenhuajie.jpeg"></p><p>著名景点：</p><ul><li>泥人张</li><li>天津天后宫</li><li>桂发祥十八街麻花</li></ul><h4 id="5、美食推荐"><a href="#5、美食推荐" class="headerlink" title="5、美食推荐"></a>5、美食推荐</h4><p>天津是一个美食、小吃的聚集地，在游玩过程中享受。<br>主要推荐：</p><ul><li>意大利风情街</li><li>古文化街</li></ul><h4 id="6、酒店住宿"><a href="#6、酒店住宿" class="headerlink" title="6、酒店住宿"></a>6、酒店住宿</h4><table><thead><tr><th align="center">日期</th><th align="center">名称</th><th align="center">价格</th><th align="center">位置</th></tr></thead><tbody><tr><td align="center">2019-08-02</td><td align="center">天津津塔河畔公馆</td><td align="center">243</td><td align="center">天津和平区天津和平区张自忠路162号津塔公寓2单元</td></tr></tbody></table><p><img src="/articles/28340/location.png"></p><h4 id="7、个人建议"><a href="#7、个人建议" class="headerlink" title="7、个人建议"></a>7、个人建议</h4><div class="note note-danger">            <ul><li>天津之眼摩天轮的<font color='red' size=4.5>票在网上进行购买</font>，成人70一张小孩35，搜索公众号：“天津之眼摩天轮”，在公众号上进行网购预约，可以提前购买3天的，建议选择晚上8点之后的观看时间，夜景很美。</li><li>建议酒店选择在天津站、津湾广场、意大利风情街附近，离海河很近，而且夜景很美，推荐。</li><li>天津吃得很多，暂时没有什么推荐必吃的，所以选择了边玩边吃，走一路吃一路。</li></ul>          </div>]]></content>
    
    
    <categories>
      
      <category>生活记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>旅行记</tag>
      
      <tag>美食</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux学习之番外篇-多命令执行</title>
    <link href="/articles/64874/"/>
    <url>/articles/64874/</url>
    
    <content type="html"><![CDATA[<h4 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h4><div class="note note-danger">            <p>解决多命令command1，command1，command1…。</p>          </div><span id="more"></span><hr /><p>学习以下多命令一起执行：&amp;、&amp;&amp;、；、||。</p><h4 id="推荐指数"><a href="#推荐指数" class="headerlink" title="推荐指数"></a>推荐指数</h4><p>🌟🌟🌟🌟🌟</p><h4 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h4><blockquote><p>;</p></blockquote><p>语法：command1 ; command2 [; command3] …<br>不管前面命令执行成功没有，后面的命令按顺序继续执行。</p><blockquote><p>&amp;</p></blockquote><p>语法：command1 &amp; command2 [&amp; command3] …<br>多命令同时执行，互不影响。</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">ls</span> &amp; <span class="hljs-keyword">ll</span> &amp; <span class="hljs-keyword">ls</span><br></code></pre></td></tr></table></figure><blockquote><p>&amp;&amp;</p></blockquote><p>语法：command1 &amp;&amp; command2 [&amp;&amp; command3] …<br>命令之间使用 &amp;&amp; 连接，实现逻辑<font color="red" size=5>与<code>&lt;/font&gt;</code>的功能，只有左边的命令执行成功，后面命令才继续执行。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">touch</span> 1.txt &amp;&amp; <span class="hljs-built_in">rm</span> ~/Desktop/1.txt &amp;&amp; <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;rm success&quot;</span><br></code></pre></td></tr></table></figure><p>先touch一个1.txt文件，接下来在rm删除，最后输出success。</p><blockquote><p>||</p></blockquote><p>语法：command1 || command2 [|| command3] …<br>命令之间使用 || 连接，实现逻辑<font color="red" size=5>或<code>&lt;/font&gt;</code>的功能，只有左边的命令执行失败，后面命令才继续执行。</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs 1c">las <span class="hljs-string">|| echo &quot;</span>无命令<span class="hljs-string">&quot;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Linux番外篇</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>大学之证书那点事</title>
    <link href="/articles/22143/"/>
    <url>/articles/22143/</url>
    
    <content type="html"><![CDATA[<p>回顾一下大学4年得到的证书🍉</p><span id="more"></span><div class="note note-success">            <h2 id="CET-4准考证"><a href="#CET-4准考证" class="headerlink" title="CET-4准考证"></a><strong>CET-4准考证</strong></h2>          </div><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/img_index/qita/college/cet4zhunkaozheng.jpeg"></div><div class="group-image-wrap"><img src="/img_index/qita/college/cet4.jpeg"></div><div class="group-image-wrap"><img src="/img_index/qita/college/cet6zhunkaozheng.jpeg"></div><div class="group-image-wrap"><img src="/img_index/qita/college/cet4zs.jpg"></div></div></div><div class="note note-info">            <h2 id="NCRE"><a href="#NCRE" class="headerlink" title="NCRE"></a><strong>NCRE</strong></h2>          </div><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/img_index/qita/college/jisuanjizhunkaozheng.jpeg"></div><div class="group-image-wrap"><img src="/img_index/qita/college/jisuanjierji.jpg"></div></div></div><div class="note note-danger">            <h2 id="研究生"><a href="#研究生" class="headerlink" title="研究生"></a><strong>研究生</strong></h2>          </div><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/img_index/qita/college/yanjiushengzhunkaozheng.jpeg"></div><div class="group-image-wrap"><img src="/img_index/qita/college/kaoyan.jpeg"></div></div></div><div class="note note-success">            <h2 id="GIS工程师"><a href="#GIS工程师" class="headerlink" title="GIS工程师"></a><strong>GIS工程师</strong></h2>          </div><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/img_index/qita/college/gisgongchengshi.jpg"></div><div class="group-image-wrap"><img src="/img_index/qita/college/giszuopin.jpeg"></div></div></div><div class="note note-warning">            <h2 id="表彰"><a href="#表彰" class="headerlink" title="表彰"></a><strong>表彰</strong></h2>          </div><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/img_index/qita/college/shixisheng.jpeg"></div><div class="group-image-wrap"><img src="/img_index/qita/college/jiangxuejin.jpeg"></div></div></div><div class="note note-light">            <h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a><strong>其他</strong></h2>          </div><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/img_index/qita/college/putonghua.jpeg"></div></div></div>]]></content>
    
    
    <categories>
      
      <category>生活记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>证书</tag>
      
      <tag>大学</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>父亲节【&lt;font color=&quot;blue&quot; size=&quot;15&quot;&gt;国际节&lt;/font&gt;】</title>
    <link href="/articles/38679/"/>
    <url>/articles/38679/</url>
    
    <content type="html"><![CDATA[<p><img src="/img_index/index/20190616-001.jpeg"></p><p>我也成为人父了，多了一份责任，加倍努力~~~</p><span id="more"></span><hr /><p><font size=6.5 color='red'>持续更新中。。。。。。</font></p><table><thead><tr><th align="center">时间</th><th align="center">地点</th></tr></thead><tbody><tr><td align="center">2019-06-16</td><td align="center">北京</td></tr><tr><td align="center">2025-06-15</td><td align="center">内蒙古-满洲里</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>生活记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>节日</tag>
      
      <tag>国际节</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>选词填空&lt;font color=&quot;blue&quot; size=&quot;15&quot;&gt;【图】&lt;/font&gt;</title>
    <link href="/articles/40001/"/>
    <url>/articles/40001/</url>
    
    <content type="html"><![CDATA[<p><font color="#dd0000" size="5">看图笑话</font></p><span id="more"></span><hr /><p><img src="/articles/40001/enjoy_xuance_1.jpg"></p><p><img src="/articles/40001/enjoy_xuance_2.jpg"></p><br/><div class="note note-info">            <p>感叹！现在的小学生都这么任性吗？</p>          </div>]]></content>
    
    
    <categories>
      
      <category>生活记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>看图笑话</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>鼠标自定义样式</title>
    <link href="/articles/3035/"/>
    <url>/articles/3035/</url>
    
    <content type="html"><![CDATA[<h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><div class="note note-success">            <p><strong>自定义鼠标样式</strong>，将blog的优化进行到底，让每天更加美化。</p>          </div><span id="more"></span><hr /><h3 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h3><ul><li><a class="btn" href="/images/custome_style.7z"  title="download fa-lg fa-fw" target="_blank">压缩包</a>点击下载样式文件，把**.cur**样式文件copy到**blog/public**目录下。</li><li><p>打开自定义样式文件：<strong>blog&#x2F;themes&#x2F;next&#x2F;source&#x2F;css&#x2F;_custom&#x2F;custom.styl</strong>，加入以下代码：</p></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">body</span> &#123;<br>    <span class="hljs-attribute">background</span>:<span class="hljs-built_in">url</span>(<span class="hljs-string">/images/background.jpg</span>);<br>    <span class="hljs-attribute">cursor</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">&#x27;/images/shubiao_guangmingxi.cur&#x27;</span>), auto <span class="hljs-meta">!important</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>我只定义了正常状态的鼠标样式，其他状态的样式根据自己的喜欢定义即可。</p><h3 id="学习"><a href="#学习" class="headerlink" title="学习"></a>学习</h3><p>详细教程：<a href="https://juejin.im/post/5b4876b66fb9a04f9e230066">https://juejin.im/post/5b4876b66fb9a04f9e230066</a></p><div class="note note-info">            <h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><p>鼠标样式文件我是从网上下载的，下载过程十分曲折，显示关注公众号，在网页百度网盘下载，在安装百度网盘。。。。。。麻烦的要死。百度的东西，你懂的，下载完我就卸载了。</p>          </div>]]></content>
    
    
    <categories>
      
      <category>前端开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Hexo美化</tag>
      
      <tag>前端其他分类</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>端午节【&lt;font color=&quot;red&quot; size=&quot;15&quot;&gt;中国节&lt;/font&gt;】</title>
    <link href="/articles/53227/"/>
    <url>/articles/53227/</url>
    
    <content type="html"><![CDATA[<p><img src="/img_index/index/20190607-001.png"></p><span id="more"></span><hr /><p><font size=6.5 color='red'>持续更新中。。。。。。</font></p><table><thead><tr><th align="center">时间</th><th align="center">地点</th></tr></thead><tbody><tr><td align="center">2019-06-07</td><td align="center">北京</td></tr><tr><td align="center">2020-06-25</td><td align="center">河北</td></tr><tr><td align="center">2025-05-31</td><td align="center">内蒙古-满洲里</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>生活记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>节日</tag>
      
      <tag>中国节</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo如何引用自定义js代码</title>
    <link href="/articles/41680/"/>
    <url>/articles/41680/</url>
    
    <content type="html"><![CDATA[<h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><div class="note note-success">            <p>上个月研究Hexo如何引用原生的html+css，而且也写了一篇文章发表。但是如果想把自己的博客做的更加突出、像模像样，没有js代码去实现功能是不行的，正好想做一个主题切换功能，借着这个功能介绍一下Hexo是如何引用js代码的。</p>          </div><span id="more"></span><hr /><h3 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h3><p>先讲述怎么引用js代码的，完了在通过实战验证。</p><h4 id="引用方式"><a href="#引用方式" class="headerlink" title="引用方式"></a>引用方式</h4><p>Hexo+Next通过渲染模板（.swig）以及md文件生成对应的html页面，那么问题就来了，既然是模板，肯定会有一个base文件，这里就不做详述了，直接说：<strong>blog&#x2F;themes&#x2F;next&#x2F;layout&#x2F;_layout.swig</strong>。<br>打开这个文件，会发现里面整个页面渲染的框架以及对第三方文件的引用，看下引用js文件代码：</p><figure class="highlight twig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs twig"><span class="hljs-template-tag">&#123;%</span> <span class="hljs-name">include</span> <span class="hljs-string">&#x27;_scripts/next-boot.swig&#x27;</span> <span class="hljs-template-tag">%&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;%</span> <span class="hljs-name">include</span> <span class="hljs-string">&#x27;_scripts/scroll-cookie.swig&#x27;</span> <span class="hljs-template-tag">%&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;%</span> <span class="hljs-name">include</span> <span class="hljs-string">&#x27;_scripts/exturl.swig&#x27;</span> <span class="hljs-template-tag">%&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;%</span> <span class="hljs-name">include</span> <span class="hljs-string">&#x27;_third-party/quicklink.swig&#x27;</span> <span class="hljs-template-tag">%&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;%</span> <span class="hljs-name">include</span> <span class="hljs-string">&#x27;_third-party/comments/index.swig&#x27;</span> <span class="hljs-template-tag">%&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;%</span> <span class="hljs-name">include</span> <span class="hljs-string">&#x27;_third-party/search/index.swig&#x27;</span> <span class="hljs-template-tag">%&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;%</span> <span class="hljs-name">include</span> <span class="hljs-string">&#x27;_third-party/analytics/lean-analytics.swig&#x27;</span> <span class="hljs-template-tag">%&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;%</span> <span class="hljs-name">include</span> <span class="hljs-string">&#x27;_third-party/analytics/firestore.swig&#x27;</span> <span class="hljs-template-tag">%&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;%</span> <span class="hljs-name">include</span> <span class="hljs-string">&#x27;_third-party/math/index.swig&#x27;</span> <span class="hljs-template-tag">%&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;%</span> <span class="hljs-name">include</span> <span class="hljs-string">&#x27;_third-party/pdf.swig&#x27;</span> <span class="hljs-template-tag">%&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;%</span> <span class="hljs-name">include</span> <span class="hljs-string">&#x27;_third-party/mermaid.swig&#x27;</span> <span class="hljs-template-tag">%&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;%</span> <span class="hljs-name">include</span> <span class="hljs-string">&#x27;_third-party/baidu-push.swig&#x27;</span> <span class="hljs-template-tag">%&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;%</span> <span class="hljs-name">include</span> <span class="hljs-string">&#x27;_third-party/schedule.swig&#x27;</span> <span class="hljs-template-tag">%&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;%</span> <span class="hljs-name">include</span> <span class="hljs-string">&#x27;_third-party/needsharebutton.swig&#x27;</span> <span class="hljs-template-tag">%&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;%</span> <span class="hljs-name">include</span> <span class="hljs-string">&#x27;_third-party/rating.swig&#x27;</span> <span class="hljs-template-tag">%&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;%</span> <span class="hljs-name">include</span> <span class="hljs-string">&#x27;_third-party/pangu.swig&#x27;</span> <span class="hljs-template-tag">%&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;%</span> <span class="hljs-name">include</span> <span class="hljs-string">&#x27;_third-party/bookmark.swig&#x27;</span> <span class="hljs-template-tag">%&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;%</span> <span class="hljs-name">include</span> <span class="hljs-string">&#x27;_third-party/copy-code.swig&#x27;</span> <span class="hljs-template-tag">%&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;%</span> <span class="hljs-name">include</span> <span class="hljs-string">&#x27;_third-party/chatra.swig&#x27;</span> <span class="hljs-template-tag">%&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;%</span> <span class="hljs-name">include</span> <span class="hljs-string">&#x27;_third-party/tidio.swig&#x27;</span> <span class="hljs-template-tag">%&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;/js/src/click_magic.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;/js/src/theme_change.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>还是通过传统的方式引用js代码，相对应的<strong>script</strong>直接引用的是js文件，而<strong>include</strong>引用的是swig文件，来点代码看下swig文件里面写的是啥，例子我取的是<strong>blog&#x2F;themes&#x2F;next&#x2F;layout&#x2F;post.swig</strong>：</p><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs django"><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">extends</span></span> &#x27;_layout.swig&#x27; %&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name">import</span> &#x27;_macro/post.swig&#x27; <span class="hljs-keyword">as</span> post_template %&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name">import</span> &#x27;_macro/sidebar.swig&#x27; <span class="hljs-keyword">as</span> sidebar_template %&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">block</span></span> title %&#125;</span><span class="hljs-template-variable">&#123;&#123; page.title &#125;&#125;</span><span class="language-xml"> | </span><span class="hljs-template-variable">&#123;&#123; title &#125;&#125;</span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">endblock</span></span> %&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">block</span></span> page_class %&#125;</span><span class="language-xml">page-post-detail</span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">endblock</span></span> %&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">block</span></span> content %&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;posts&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;posts-expand&quot;</span>&gt;</span></span><br><span class="language-xml">    </span><span class="hljs-template-variable">&#123;&#123; post_template.render(page) &#125;&#125;</span><span class="language-xml"></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">endblock</span></span> %&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">block</span></span> sidebar %&#125;</span><span class="language-xml"></span><br><span class="language-xml">  </span><span class="hljs-template-variable">&#123;&#123; sidebar_template.render(true) &#125;&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">endblock</span></span> %&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">block</span></span> script_extra %&#125;</span><span class="language-xml"></span><br><span class="language-xml">  </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">include</span></span> &#x27;_scripts/pages/post-details.swig&#x27; %&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">endblock</span></span> %&#125;</span><br></code></pre></td></tr></table></figure><p>里面存放的是html（标签+css）+一些next主题带的语法。<br>说了这么多，到底咋搞。。。。只需要2步：</p><div class="note note-info">            <ul><li>在<strong>blog&#x2F;themes&#x2F;next&#x2F;source&#x2F;js&#x2F;src</strong>目录下建立一个js文件，名称自取。</li><li>在<strong>blog&#x2F;themes&#x2F;next&#x2F;layout&#x2F;_layout.swig</strong>文件中通过<strong>script</strong>引用自定义的js文件。</li></ul>          </div><h4 id="实战"><a href="#实战" class="headerlink" title="实战"></a>实战</h4><p>通过一个切换主题的功能来实现上述。</p><ul><li>首先，在自定义的header文件：<strong>blog&#x2F;themes&#x2F;next&#x2F;layout&#x2F;_custom&#x2F;header.swig</strong>，加入一个button，代码如下：</li></ul><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs abnf">&lt;button id<span class="hljs-operator">=</span><span class="hljs-string">&quot;theme_change&quot;</span><br>        class<span class="hljs-operator">=</span><span class="hljs-string">&quot;theme_change&quot;</span><br>        type<span class="hljs-operator">=</span><span class="hljs-string">&quot;button&quot;</span><br>        onclick<span class="hljs-operator">=</span><span class="hljs-string">&quot;theme_change()&quot;</span><br>&gt;<br>    暗黑系<br>&lt;/button&gt;<br></code></pre></td></tr></table></figure><ul><li>接下来定义button按钮的样式，打开自定义样式文件：<strong>blog&#x2F;themes&#x2F;next&#x2F;source&#x2F;css&#x2F;_custom&#x2F;custom.styl</strong>，加入一下代码：</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs css">// 功能按钮样式<br><span class="hljs-selector-class">.theme_change</span> &#123;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">160px</span>;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">37px</span>;<br>    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">50px</span> <span class="hljs-number">50px</span> <span class="hljs-number">50px</span> <span class="hljs-number">50px</span>;<br>    <span class="hljs-attribute">color</span>: white;<br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span>;<br>    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#333333</span>;<br>    <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">40px</span>;<br>    <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20px</span>;<br>    <span class="hljs-attribute">border</span>: <span class="hljs-number">3px</span> solid red;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>在刚才说的自定义js代码目录下新建一个theme_change.js文件，加入一下代码：</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 主题切换功能</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">theme_change</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">// 切换字内容</span><br>    <span class="hljs-keyword">var</span> button = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;theme_change&#x27;</span>);<br>    <span class="hljs-keyword">var</span> pattern = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">&#x27;暗黑系&#x27;</span>, <span class="hljs-string">&#x27;i&#x27;</span>);<br>    <span class="hljs-keyword">if</span> (pattern.<span class="hljs-title function_">test</span>(button.<span class="hljs-property">innerHTML</span>))&#123;<br>        button.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">&quot;光明系&quot;</span>;<br>    &#125; <span class="hljs-keyword">else</span>&#123;<br>        button.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">&quot;暗黑系&quot;</span>;<br>    &#125;<br>    <span class="hljs-comment">// 切换主题</span><br>    <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">toggle</span>(<span class="hljs-string">&#x27;dark-theme&#x27;</span>);<br>&#125;;<br></code></pre></td></tr></table></figure><ul><li>编写暗黑主题的样式，还是自定义样式文件，加入一下代码：</li></ul><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-comment">// 自制主题切换功能样式</span><br><span class="hljs-selector-tag">body</span><span class="hljs-selector-class">.dark-theme</span> &#123;<br>    <span class="hljs-attribute">background</span>: <span class="hljs-number">#282c34</span><br>&#125;<br></code></pre></td></tr></table></figure><ul><li>最后一步，自定义js文件的引用。打开<strong>blog&#x2F;themes&#x2F;next&#x2F;layout&#x2F;_layout.swig</strong>文件，在底部<strong>结束body标签</strong>上面引用，代码：</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;/js/src/theme_change.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li><em><strong>hexo g &amp;&amp; hexo s</strong></em></li></ul><p>不出意外，会有一个简单的主题切换功能，样式我也是简单改变了一下背景色，有兴趣的同学可以编写2套Next主题自定义样式。</p><div class="note note-info">            <h3 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h3><p>切换主题的功能有个问题，只能改变当前page的主题，切换新的page之后，恢复到初始化主题，没有后台管理的原因记录不了当前的主题状态，待解决。</p>          </div><h3 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h3><p><font color="red" size="5"><em><strong>既然做，不说要一定做到最好，起码不能糊弄，与其糊弄还不如不做！！！</strong></em></font></p>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Hexo美化</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>儿童节【&lt;font color=&quot;red&quot; size=&quot;15&quot;&gt;中国节&lt;/font&gt;】</title>
    <link href="/articles/60510/"/>
    <url>/articles/60510/</url>
    
    <content type="html"><![CDATA[<p><img src="/img_index/index/20190601-001.jpg"></p><span id="more"></span><hr /><p><font size=6.5 color='red'>持续更新中。。。。。。</font></p><table><thead><tr><th align="center">时间</th><th align="center">地点</th></tr></thead><tbody><tr><td align="center">2019-06-01</td><td align="center">北京</td></tr><tr><td align="center">2025-06-01</td><td align="center">内蒙古-满洲里</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>生活记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>节日</tag>
      
      <tag>中国节</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo博文加入原生html+css</title>
    <link href="/articles/5369/"/>
    <url>/articles/5369/</url>
    
    <content type="html"><![CDATA[<h4 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h4><div class="note note-success">            <p>用markdown语法去写博文，<em><strong>hexo g</strong></em>会把md转为html，html可被浏览器识别渲染，就形成了大家看到的web。说实话，自学的我，虽然从事IT开发业2年多的经验了，但是要学习还有很多，之前写了一些关于在markdown中加入一些内置tags等方法使博文变得更加美观，可读。但是如果可以把原生html直接嵌入md文件中，这样写md文件就行云流水，而且样式还可以自定义，岂不美哉。<br>但是，事情往往哪会那么容易，走一步一个坑，花了几天时间才搞定嵌入，如果实现了的请勿看，本人小白，勿怪。</p>          </div><span id="more"></span><hr /><h4 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h4><p>话不多说，直接看例子。</p><p>本人开发了一个相册sidebar功能，但是直接用markdown或者img标签去写，样式单一，就算使用<strong>gp标签</strong>，图片的样式也是很难看。于是把原生的html嵌入到md文件中，代码如下：</p><figure class="highlight twig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs twig"><span class="language-xml"></span><br><span class="language-xml">#### 2018-08-05 第一次吃牛排</span><br><span class="language-xml"></span><br><span class="language-xml">第一次吃牛排</span><br><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;%</span> <span class="hljs-name">tabs</span> <span class="hljs-number">2018</span>-<span class="hljs-number">07</span>-<span class="hljs-number">27</span> 乌镇之旅 <span class="hljs-template-tag">%&#125;</span><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-comment">&lt;!-- tab 点点滴滴 --&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;phote-page&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;phote-list&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;phote-column&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;images/fristniupai/1.jpg&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;images/fristniupai/5.jpg&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;images/fristniupai/9.jpg&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;phote-column&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;images/fristniupai/8.jpg&quot;</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;images/fristniupai/2.jpg&quot;</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;images/fristniupai/6.jpg&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;phote-column&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;images/fristniupai/3.jpg&quot;</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;images/fristniupai/7.jpg&quot;</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;images/fristniupai/11.jpg&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;phote-column&quot;</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;images/fristniupai/4.jpg&quot;</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;images/fristniupai/10.jpg&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-comment">&lt;!-- endtab --&gt;</span></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;%</span> <span class="hljs-name">endtabs</span> <span class="hljs-template-tag">%&#125;</span><br></code></pre></td></tr></table></figure><p>写完md文件之后，查看页面，发现还是难看，因为没有加入样式，一般都嵌入html的地方都是指定的开发部分，所有给div标签命名一个id最合适，方便写css样式，把个性化的css的样式写入自动样式文件：blog&#x2F;theme&#x2F;next&#x2F;source&#x2F;css&#x2F;_custom&#x2F;custom.styl，增加对应的代码：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs css">// 相册自定义样式<br><span class="hljs-selector-class">.phote-list</span> &#123;<br><span class="hljs-attribute">display</span>: flex;<br><span class="hljs-attribute">flex-direction</span>: row;<br><span class="hljs-attribute">flex-wrap</span>: nowrap;<br><span class="hljs-attribute">align-items</span>: flex-start;<br>&#125;<br><span class="hljs-selector-class">.phote-list</span> <span class="hljs-selector-tag">img</span> &#123;<br>    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">35px</span>;<br>    // <span class="hljs-attribute">width</span>: <span class="hljs-number">320px</span>;<br>    // <span class="hljs-attribute">height</span>: <span class="hljs-number">230px</span>;<br>    <span class="hljs-attribute">padding</span>: <span class="hljs-number">6px</span>;<br>    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#909497</span>;<br>    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0px</span> <span class="hljs-number">0px</span> <span class="hljs-number">0px</span> <span class="hljs-number">0px</span>;<br>    <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">15px</span> <span class="hljs-number">15px</span> <span class="hljs-number">15px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">0.99</span>);<br>    <span class="hljs-attribute">transition</span>: all <span class="hljs-number">1s</span> ease-in;<br>&#125;<br><span class="hljs-selector-class">.phote-list</span> <span class="hljs-selector-tag">img</span><span class="hljs-selector-pseudo">:hover</span> &#123;<br>    <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">35px</span> <span class="hljs-number">35px</span> <span class="hljs-number">35px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">0.8</span>);<br>    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">0deg</span>) <span class="hljs-built_in">scale</span>(<span class="hljs-number">1.6</span>);<br>    <span class="hljs-attribute">background-color</span>: black;<br>    <span class="hljs-attribute">padding</span>: <span class="hljs-number">15px</span>;<br>    <span class="hljs-attribute">z-index</span>: top;<br>&#125;<br></code></pre></td></tr></table></figure><p>在css样式中，我对图片加了一个鼠标滑过放大的动画，既然可以自定义样式，加什么特效都随你了。</p><p>最后，重启服务<em><strong>hexo g &amp;&amp; Hexo s</strong></em>，刷新页面就会看到效果。</p><h4 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h4><blockquote><p>引入原生的html标签，发现<em><strong>hexo g</strong></em>之后，在生成的.html页面，在<strong>div标签</strong>会自动加入<strong>br标签</strong>，导致有些特效出现问题</p></blockquote><div class="note note-info">            <p><font size="4" color="red"><strong>解决方案：</strong></font><br>在加入的原生的html部分用raw-endraw内置tags包起来就可以，示例代码：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs xml"><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;timeline&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;timeline-item&quot;</span> <span class="hljs-attr">date-is</span>=<span class="hljs-string">&#x27;1997/07 ~ 2013/07&#x27;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>上学阶段<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><br>            书中自有黄金屋，书中自有颜如玉<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;timeline-item&quot;</span> <span class="hljs-attr">date-is</span>=<span class="hljs-string">&#x27;2014/03 ~ 2016/06&#x27;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>盲目阶段<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><br>            一艘没有航行目标的船<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;timeline-item&quot;</span> <span class="hljs-attr">date-is</span>=<span class="hljs-string">&#x27;2016/07 ~ 至今&#x27;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>追求阶段<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><br>            生活的理想就是理想的生活<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br></code></pre></td></tr></table></figure>          </div><h4 id="坑"><a href="#坑" class="headerlink" title="坑"></a>坑</h4><p>一开始趟坑的时候，天真的我居然以为可以把原生的html直接粘贴复制到md文件中就可以了。。。。。。结果，哈哈我真是太天真了。不过后来尝试把样式放到自定义文件中，把样式与标签分离，没想到成功了。不管怎么样，记录下来，希望能帮到他人。</p>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Hexo美化</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>每日一百词斩打卡</title>
    <link href="/articles/58192/"/>
    <url>/articles/58192/</url>
    
    <content type="html"><![CDATA[<p>记录一下每日记单词的<font size="5" color="red"><strong>打卡</strong></font>🍉，按季度进行统计汇总。</p><span id="more"></span><hr /><p>起始于2019年5月24日背单词，<font size="5" color="blue">坚持下去~~~</font></p><h3 id="2025"><a href="#2025" class="headerlink" title="2025"></a>2025</h3><h4 id="第三季度"><a href="#第三季度" class="headerlink" title="第三季度"></a>第三季度</h4><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/img_index/qita/baicizhan/202507.jpg" alt="7月"></div><div class="group-image-wrap"><img src="/img_index/qita/baicizhan/202508.jpg" alt="8月"></div><div class="group-image-wrap"><img src="/img_index/qita/baicizhan/undaka.jpg" alt="9月"></div></div></div><h4 id="第二季度"><a href="#第二季度" class="headerlink" title="第二季度"></a>第二季度</h4><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/img_index/qita/baicizhan/undaka.jpg" alt="4月"></div><div class="group-image-wrap"><img src="/img_index/qita/baicizhan/202505.jpg" alt="5月"></div><div class="group-image-wrap"><img src="/img_index/qita/baicizhan/202506.jpg" alt="6月"></div></div></div><h3 id="2021"><a href="#2021" class="headerlink" title="2021"></a>2021</h3><h4 id="第二季度-1"><a href="#第二季度-1" class="headerlink" title="第二季度"></a>第二季度</h4><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/img_index/qita/baicizhan/202104.jpg" alt="4月"></div><div class="group-image-wrap"><img src="/img_index/qita/baicizhan/202105.jpg" alt="5月"></div><div class="group-image-wrap"><img src="/img_index/qita/baicizhan/undaka.jpg" alt="6月"></div></div></div><h4 id="第一季度"><a href="#第一季度" class="headerlink" title="第一季度"></a>第一季度</h4><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/img_index/qita/baicizhan/undaka.jpg" alt="1月"></div><div class="group-image-wrap"><img src="/img_index/qita/baicizhan/undaka.jpg" alt="2月"></div><div class="group-image-wrap"><img src="/img_index/qita/baicizhan/202103.jpg" alt="3月"></div></div></div><h3 id="2019"><a href="#2019" class="headerlink" title="2019"></a>2019</h3><h4 id="第三季度-1"><a href="#第三季度-1" class="headerlink" title="第三季度"></a>第三季度</h4><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/img_index/qita/baicizhan/201907.jpg" alt="7月"></div><div class="group-image-wrap"><img src="/img_index/qita/baicizhan/201908.jpg" alt="8月"></div><div class="group-image-wrap"><img src="/img_index/qita/baicizhan/undaka.jpg" alt="9月"></div></div></div><h4 id="第二季度-2"><a href="#第二季度-2" class="headerlink" title="第二季度"></a>第二季度</h4><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/img_index/qita/baicizhan/undaka.jpg" alt="4月"></div><div class="group-image-wrap"><img src="/img_index/qita/baicizhan/201905.jpg" alt="5月"></div><div class="group-image-wrap"><img src="/img_index/qita/baicizhan/201906.jpg" alt="6月"></div></div></div>]]></content>
    
    
    <categories>
      
      <category>生活记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>生活</tag>
      
      <tag>英语学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo+Next搜索优化（三）baidu搜索</title>
    <link href="/articles/21353/"/>
    <url>/articles/21353/</url>
    
    <content type="html"><![CDATA[<span class="label label-info">Hexo</span> <span class="label label-warning">SEO优化系列</span> <span class="label label-success">baidu</span> <h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><div class="note note-primary">            <p>博客运行有一年多了，之前写了关于<em><strong>google搜索</strong></em>与<em><strong>网站SEO</strong></em>优化相关的内容，希望自己的博客在<em><strong>baidu</strong></em>搜索上也可以排名，但是还不想花钱，只好通过技术来解决这个难题了。<br>优化了<em><strong>baidu SEO</strong></em>还可以装13，通过搜索就可以搜索到你博客的内容，带来了流量，在准备弄个广告位进行赚点外快，何乐而不为。</p>          </div><span id="more"></span><hr /><h3 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h3><p>本文讲解实现对baidu搜索引擎对网站的搜索优化，<font size="3" color="red">Hexo+Next搜索优化教程第三篇，之前已经写了关于google搜索以及blog本身优化的文章，欢迎查阅</font>。</p><ol><li><h4 id="安装hexo-generator-sitemap"><a href="#安装hexo-generator-sitemap" class="headerlink" title="安装hexo-generator-sitemap"></a>安装hexo-generator-sitemap</h4><p> 在blog根目录，执行一下命令：</p> <figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">npm <span class="hljs-keyword">install </span>hexo-generator-<span class="hljs-keyword">baidu-sitemap </span>--save<br></code></pre></td></tr></table></figure><p> 在blog&#x2F;public目录下会自动生产一个baidusitemap.xml文件，里面的内容不用多说了，都是blog的url信息。</p></li><li><h4 id="添加蜘蛛协议"><a href="#添加蜘蛛协议" class="headerlink" title="添加蜘蛛协议"></a>添加蜘蛛协议</h4><p> 打开blog&#x2F;source目录下的robots.txt文件，最后一行，也就是Sitemap下添加以下内容：</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">Sitemap: https://pygo2.cn/baidusitemap.xml<br></code></pre></td></tr></table></figure><p> <em><strong>Allow、Disallow</strong></em>之前已经解释过了，不过看英语也知道啥意思了：<em><strong>Allow</strong></em>字段的值即为允许搜索引擎爬区的内容；<em><strong>Disallow</strong></em>就是不允许搜索引擎爬区的内容。<br> 示例：</p> <figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-params">User-agent:</span> <span class="hljs-operator">*</span><br><span class="hljs-params">Allow:</span> <span class="hljs-symbol">/</span><br><span class="hljs-params">Allow:</span> <span class="hljs-operator">/</span>archives<span class="hljs-symbol">/</span><br><span class="hljs-params">Allow:</span> <span class="hljs-operator">/</span>articles<span class="hljs-symbol">/</span><br><span class="hljs-params">Allow:</span> <span class="hljs-operator">/</span>categories<span class="hljs-symbol">/</span><br><span class="hljs-params">Allow:</span> <span class="hljs-operator">/</span>tags<span class="hljs-symbol">/</span><br><span class="hljs-params">Allow:</span> <span class="hljs-operator">/</span>messagepad<span class="hljs-symbol">/</span><br><span class="hljs-params">Allow:</span> <span class="hljs-operator">/</span>resources<span class="hljs-symbol">/</span><br><span class="hljs-params">Allow:</span> <span class="hljs-operator">/</span>about<span class="hljs-symbol">/</span><br><span class="hljs-params">Disallow:</span> <span class="hljs-operator">/</span>vendors<span class="hljs-symbol">/</span><br><span class="hljs-params">Disallow:</span> <span class="hljs-operator">/</span>js<span class="hljs-symbol">/</span><br><span class="hljs-params">Disallow:</span> <span class="hljs-operator">/</span>css<span class="hljs-symbol">/</span><br><span class="hljs-params">Disallow:</span> <span class="hljs-operator">/</span>fonts<span class="hljs-symbol">/</span><br><span class="hljs-params">Disallow:</span> <span class="hljs-operator">/</span>vendors<span class="hljs-symbol">/</span><br><span class="hljs-params">Disallow:</span> <span class="hljs-operator">/</span>fancybox<span class="hljs-symbol">/</span><br><br><span class="hljs-params">Sitemap:</span> http:<span class="hljs-symbol">//pygp2.cn/sitemap.xml</span><br><span class="hljs-params">Sitemap:</span> http:<span class="hljs-operator">//</span>pygp2.cn<span class="hljs-operator">/</span>baidusitemap.xml<br></code></pre></td></tr></table></figure></li><li><h4 id="baidu站长设置"><a href="#baidu站长设置" class="headerlink" title="baidu站长设置"></a>baidu站长设置</h4><p> 前提：需要一个baidu账号，没有的请自行注册。</p><blockquote><p>打开baidu站长（<a href="https://ziyuan.baidu.com/linksubmit/index%EF%BC%89">https://ziyuan.baidu.com/linksubmit/index）</a></p></blockquote><p> <img src="/articles/21353/baidu_zhandian.png"></p><blockquote><p>验证baidu账号信息</p></blockquote><p> <img src="/articles/21353/baidu_xinxi.png"></p><blockquote><p>填写站点相关信息并验证</p></blockquote> <img src="baidu_site_1.png" style="border:1.5px solid blue" alt="输入网站"/> <img src="baidu_site_2.png" style="border:1.5px solid blue" alt="站点属性"/> <img src="baidu_site_3.png" style="border:1.5px solid blue" alt="验证网站"/><p> 网站验证有三种方式：</p><ul><li>文件验证</li><li>html验证</li><li>CNAME验证<br> 在这里采用html验证的方式，将以下代码放到blog&#x2F;source&#x2F;root.html文件的head标签内，然后再执行<em><strong>hexo clean &amp;&amp; hexo g -d</strong></em>命令，重新生成blog。</li></ul> <figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf">&lt;meta name<span class="hljs-operator">=</span><span class="hljs-string">&quot;baidu-site-verification&quot;</span> content<span class="hljs-operator">=</span><span class="hljs-string">&quot;3T5rDqaWUL&quot;</span> /&gt;<br></code></pre></td></tr></table></figure><p> 因为本人网站是自定义的一个root.html域名首页，如果不是把以上代码添加到blog&#x2F;themes&#x2F;layout&#x2F;_partials&#x2F;head.swig内即可。</p><blockquote><p>链接提交</p></blockquote><p> 进入到链接提交功能。</p><p> <img src="/articles/21353/baidu_link_commit.png"></p><blockquote><p>选择链接提交的方式</p></blockquote><p> 链接方式两种：</p><ul><li>手动提送</li><li>自动提交<br>  – 主动推送<br>  – 自动推送<br>  – sitemap</li></ul></li><li><h4 id="自动化提交"><a href="#自动化提交" class="headerlink" title="自动化提交"></a>自动化提交</h4><blockquote><p>sitemap设置提交</p></blockquote><p> 在<strong>链接提交</strong>功能页。</p><p> <img src="/articles/21353/sitemap.png"></p><blockquote><p>主动推送</p></blockquote><p> 在说明上有curl、post、php等几种方式，本人使用curl + python + crontab(linux)的方式在服务器上做个定时自动推送。<br> python脚本：</p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">------------------------------------------------</span><br><span class="hljs-string">describe:</span><br><span class="hljs-string">    自动化推送blog的url到百度</span><br><span class="hljs-string"></span><br><span class="hljs-string">usage:</span><br><span class="hljs-string">    python auto_baidu_push.py</span><br><span class="hljs-string"></span><br><span class="hljs-string">base_info:</span><br><span class="hljs-string">    __version__ = &quot;v.10&quot;</span><br><span class="hljs-string">    __author__ = &quot;mingliang.gao&quot;</span><br><span class="hljs-string">    __time__ = &quot;2019/07/18&quot;</span><br><span class="hljs-string">    __mail__ = &quot;mingliang.gao@163.com&quot;</span><br><span class="hljs-string"></span><br><span class="hljs-string">思路：</span><br><span class="hljs-string">    获取blog全部的url，生成url.txt文本，使用baidu站点的curl命令进行数据自动化推送，删除url.txt文件。</span><br><span class="hljs-string">------------------------------------------------</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> shutil<br><br><br><span class="hljs-comment"># 本机</span><br>HTML_REL_DIR = <span class="hljs-string">&#x27;/Users/gaomingliang/github/myblog/pygo/public/articles&#x27;</span><br><span class="hljs-comment"># 服务器</span><br><span class="hljs-comment"># HTML_REL_DIR = &#x27;/opt/www/blog/articles&#x27;</span><br><br><br>PUSH_baidu_COMMAND = <span class="hljs-string">&#x27;curl -H &quot;Content-Type:text/plain&quot; --data-binary @urls.txt &quot;http://data.zz.baidu.com/urls?site=www.pygo2.cn&amp;token=VqQF08BReWjBB018&quot;&#x27;</span><br>DOMAIN_TEPM = <span class="hljs-string">&#x27;http://www.pygo2.cn/articles&#x27;</span><br>URL_NAME = <span class="hljs-string">&#x27;urls.txt&#x27;</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_cur_dir</span>():<br>    <span class="hljs-keyword">return</span> os.path.abspath(os.path.dirname(__file__))<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">BlogRequests</span>(<span class="hljs-title class_ inherited__">object</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-variable language_">self</span>.article_source = HTML_REL_DIR<br>        <span class="hljs-variable language_">self</span>.cur_dir = get_cur_dir()<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">collect_codes</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        get all article codes</span><br><span class="hljs-string">        :return: list type</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">return</span> os.listdir(<span class="hljs-variable language_">self</span>.article_source)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">generator_url_text</span>(<span class="hljs-params">self</span>):<br>        all_codes = <span class="hljs-variable language_">self</span>.collect_codes()<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> all_codes:<br>            <span class="hljs-built_in">print</span> <span class="hljs-string">&#x27;============== not codes&#x27;</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br><br>        url_file = os.path.join(<span class="hljs-variable language_">self</span>.cur_dir, URL_NAME)<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(url_file):<br>            fd = <span class="hljs-built_in">open</span>(url_file, mode=<span class="hljs-string">&quot;w&quot;</span>)<br>            fd.close()<br><br>        <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(url_file, <span class="hljs-string">&#x27;w&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>            <span class="hljs-keyword">for</span> code <span class="hljs-keyword">in</span> all_codes:<br>                url = DOMAIN_TEPM + <span class="hljs-string">&#x27;/%s/&#x27;</span> % code<br>                f.write(url)<br>                <span class="hljs-comment"># 换行符</span><br>                f.write(<span class="hljs-string">&#x27;\n&#x27;</span>)<br>        <span class="hljs-keyword">return</span> url_file<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">run</span>(<span class="hljs-params">self</span>):<br>        url_file = <span class="hljs-variable language_">self</span>.generator_url_text()<br>        <span class="hljs-keyword">if</span> url_file:<br>            os.system(PUSH_baidu_COMMAND)<br>        <span class="hljs-built_in">print</span> <span class="hljs-string">&#x27;-------------end-------------&#x27;</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    br = BlogRequests()<br>    br.run()<br></code></pre></td></tr></table></figure><p> linux服务器上的crontab：</p> <figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">1 </span><span class="hljs-number">23</span> * * * python2 /home/mingliang.gao/crontab/auto_baidu_push.py<br></code></pre></td></tr></table></figure></li></ol><h3 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h3><p><font size=6.5 color='red'>不积跬步,无以至千里;不积小流,无以成江海。</font></p>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Hexo插件</tag>
      
      <tag>seo优化</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python爬虫利器之BS4(下篇)</title>
    <link href="/articles/34936/"/>
    <url>/articles/34936/</url>
    
    <content type="html"><![CDATA[<span class="label label-info">Python包</span> <span class="label label-warning">BeautifulSoup</span> <span class="label label-danger">爬虫教程系列</span><h3 id="1、背景"><a href="#1、背景" class="headerlink" title="1、背景"></a>1、背景</h3><div class="note note-primary">            <p>关于爬虫的教程数据获取在上篇requestts文章中已经讲解过了，本篇讲解爬虫的数据清洗利器<em><strong>BeautifulSoup</strong></em>，继续为<font color='red' size=6.5>爬虫</font>而服务。</p>          </div><span id="more"></span><hr /><h3 id="2、简介"><a href="#2、简介" class="headerlink" title="2、简介"></a>2、简介</h3><p>Pypi官方的简介：</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">Beautiful Soup is <span class="hljs-keyword">a</span> library that makes <span class="hljs-keyword">it</span> easy <span class="hljs-built_in">to</span> scrape information <span class="hljs-built_in">from</span> web pages.<br>It sits atop <span class="hljs-keyword">an</span> HTML <span class="hljs-keyword">or</span> XML parser, providing Pythonic idioms <span class="hljs-keyword">for</span> iterating, searching,<br><span class="hljs-keyword">and</span> modifying <span class="hljs-keyword">the</span> parse tree.<br></code></pre></td></tr></table></figure><p>简明扼要，<em><strong>BeautifulSoup</strong></em>是用来解析HTML的工具。</p><h3 id="3、安装"><a href="#3、安装" class="headerlink" title="3、安装"></a>3、安装</h3><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">pip <span class="hljs-keyword">install</span> beautifulsoup4<br></code></pre></td></tr></table></figure><p>很多单，不多说。</p><h3 id="4、解析器"><a href="#4、解析器" class="headerlink" title="4、解析器"></a>4、解析器</h3><h4 id="4-1、安装"><a href="#4-1、安装" class="headerlink" title="4.1、安装"></a>4.1、安装</h4><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cmake">pip <span class="hljs-keyword">install</span> lxml<br>pip <span class="hljs-keyword">install</span> html5lib<br></code></pre></td></tr></table></figure><h4 id="4-2、比对"><a href="#4-2、比对" class="headerlink" title="4.2、比对"></a>4.2、比对</h4><pre><code class="hljs">    <table>      <tr>        <th style="text-align:center;">解析器</th>        <th style="text-align:center;">使用方法</th>        <th style="text-align:center;">优势</th>        <th style="text-align:center;">劣势</th>      </tr>      <tr>        <td style="text-align:center;">Python标准库</td>        <td style="text-align:center;">BeautifulSoup(markup, "html.parser")</td>        <td style="text-align:center;">        Python的内置标准库        执行速度适中        文档容错能力强        </td>        <td style="text-align:center;">Python 2.7.3 or 3.2.2)前 的版本中文档容错能力差</td>      </tr>      <tr>        <td style="text-align:center;">lxml HTML 解析器</td>        <td style="text-align:center;">BeautifulSoup(markup, "lxml")</td>        <td style="text-align:center;">        速度快        文档容错能力强        </td>        <td style="text-align:center;">需要安装C语言库</td>      </tr>      <tr>        <td style="text-align:center;">lxml XML 解析器</td>        <td style="text-align:center;">        BeautifulSoup(markup, ["lxml-xml"])        BeautifulSoup(markup, "xml")        </td>        <td style="text-align:center;">        速度快        唯一支持XML的解析器        </td>        <td style="text-align:center;">需要安装C语言库</td>      </tr>      <tr>        <td style="text-align:center;">html5lib</td>        <td style="text-align:center;">BeautifulSoup(markup, "html5lib")</td>        <td style="text-align:center;">最好的容错性        以浏览器的方式解析文档        生成HTML5格式的文档        </td>        <td style="text-align:center;">        速度慢        不依赖外部扩展        </td>      </tr>    </table>    </code></pre><p>官方是推荐使用lxml作为解析器，效率更高以及容错能力也比较高，在Python2.7.3之前的版本和Python3中3.2.2之前的版本，必须安装lxml或html5lib, 因为那些Python版本的标准库中内置的HTML解析方法不够稳定.</p><p>个人也推荐使用lxml，确实比其他的解析起来快一些，如果不想安装解析器的话那么就推荐使用html5lib，因为2.7版本之后不用安装。</p><div class="note note-danger">            <p><font color='red' size=5>提示</font><br>如果一段HTML或XML文档格式不正确的话,那么在不同的解析器中返回的结果可能是不一样的,查看 解析器之间的区别 了解更多细节</p>          </div><h3 id="5、基础语法"><a href="#5、基础语法" class="headerlink" title="5、基础语法"></a>5、基础语法</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs xml">from bs4 import BeautifulSoup<br><br><br>html_doc = &quot;&quot;&quot;<br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>The Dormouse&#x27;s story<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;title&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>The Dormouse&#x27;s story<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;story&quot;</span>&gt;</span>Once upon a time there were three little sisters; and their names were<br>        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;http://example.com/elsie&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;sister&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;link1&quot;</span>&gt;</span>Elsie<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>,<br>        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;http://example.com/lacie&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;sister&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;link2&quot;</span>&gt;</span>Lacie<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span> and<br>        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;http://example.com/tillie&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;sister&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;link3&quot;</span>&gt;</span>Tillie<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>;<br>        and they lived at the bottom of a well.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;story&quot;</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br>&quot;&quot;&quot;<br><br>soup = BeautifulSoup(html_doc, &quot;lxml&quot;)<br>print soup.prettify()<br></code></pre></td></tr></table></figure><p>这里的html的demo直接引用与官网，基础语法主要做了2件事情，第一把html加载进来，第二设定一下解析器。<br>关于加载html文档这里直接是引用的string，可以用上篇中requests包，获取返回的html数据运用response的text或者content都可以；或者直接用open打开下载好的html也可以。</p><h3 id="6、soup的对象说明"><a href="#6、soup的对象说明" class="headerlink" title="6、soup的对象说明"></a>6、soup的对象说明</h3><p>BeautifulSoup将HTML文档转换成一个复杂的树形结构，每个节点都是Python对象，所有对象可以归纳为4种: <strong>Tag、NavigableString、BeautifulSoup、Comment</strong>。</p><h4 id="6-1、Tag"><a href="#6-1、Tag" class="headerlink" title="6.1、Tag"></a>6.1、Tag</h4><p><em><strong>Tag对象</strong></em>：对应着XML或HTML原生文档中的tag，说白了就是标签，如果连标签都不明白，我真的没法解释了。</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">print soup.p<br># &lt;p <span class="hljs-keyword">class</span>=&quot;title&quot;&gt;&lt;b&gt;The Dormous<span class="hljs-string">e&#x27;s story&lt;/b&gt;&lt;/p&gt;</span><br><span class="hljs-string"></span><br><span class="hljs-string">print soup.title</span><br><span class="hljs-string"># &lt;title&gt;The Dormouse&#x27;</span>s story&lt;/title&gt;<br></code></pre></td></tr></table></figure><p>每个Tag有两个重要的属性name和attrs。</p><blockquote><p>Name</p></blockquote><p>通过.name获取tag标签:</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs routeros">p = soup.p<br><span class="hljs-built_in">print</span> p.name<br><span class="hljs-comment"># p</span><br></code></pre></td></tr></table></figure><blockquote><p>Attributes</p></blockquote><p>一个tag可能会有多个属性，.tag的属性的获取方法与dict字典相同：</p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs autoit">p = soup.p<br><span class="hljs-meta"># 获取</span><br>print p.attrs<br><span class="hljs-meta"># &#123;<span class="hljs-string">&#x27;class&#x27;</span>: [<span class="hljs-string">&#x27;title&#x27;</span>]&#125;</span><br><span class="hljs-meta"># 设定set</span><br>p[<span class="hljs-string">&#x27;class&#x27;</span>] = <span class="hljs-string">&#x27;new_title&#x27;</span><br>p[<span class="hljs-string">&#x27;id&#x27;</span>] = <span class="hljs-number">1</span><br>print p.attrs<br><span class="hljs-meta"># &#123;<span class="hljs-string">&#x27;class&#x27;</span>: <span class="hljs-string">&#x27;new_title&#x27;</span>, <span class="hljs-string">&#x27;id&#x27;</span>: 1&#125;</span><br></code></pre></td></tr></table></figure><blockquote><p>多值属性</p></blockquote><p>在HTML5中会常见的多值的属性，例如class&#x3D;’1 2 3’，在Beautiful Soup中多值属性的返回类型是list:</p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs prolog">css_soup = <span class="hljs-symbol">BeautifulSoup</span>(<span class="hljs-string">&#x27;&lt;p class=&quot;body strikeout&quot;&gt;&lt;/p&gt;&#x27;</span>)<br>css_soup.p[<span class="hljs-string">&#x27;class&#x27;</span>]<br># [<span class="hljs-string">&quot;body&quot;</span>, <span class="hljs-string">&quot;strikeout&quot;</span>]<br><br>css_soup = <span class="hljs-symbol">BeautifulSoup</span>(<span class="hljs-string">&#x27;&lt;p class=&quot;body&quot;&gt;&lt;/p&gt;&#x27;</span>)<br>css_soup.p[<span class="hljs-string">&#x27;class&#x27;</span>]<br># [<span class="hljs-string">&quot;body&quot;</span>]<br></code></pre></td></tr></table></figure><h4 id="6-2、NavigableString"><a href="#6-2、NavigableString" class="headerlink" title="6.2、NavigableString"></a>6.2、NavigableString</h4><p><em><strong>NavigableString对象</strong></em>：获取标签内部的内容，这个就比较简单了，通过.string进行获取，直接看demo：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-keyword">print</span> p.<span class="hljs-keyword">string</span><br><span class="hljs-comment"># The Dormouse&#x27;s story</span><br></code></pre></td></tr></table></figure><h4 id="6-3、BeautifulSoup"><a href="#6-3、BeautifulSoup" class="headerlink" title="6.3、BeautifulSoup"></a>6.3、BeautifulSoup</h4><p><em><strong>BeautifulSoup对象</strong></em>：表示一个文档的全部内容，它支持遍历、搜索，没有name和attribute属性。<br>说白了，这个其实就把html作为一个soup对象了，在基础方法中的设定。</p><h4 id="6-4、-Comment"><a href="#6-4、-Comment" class="headerlink" title="6.4、 Comment"></a>6.4、 Comment</h4><p><em><strong>Comment对象</strong></em>：这个对象是用来解决html文档中的注释用的，它是一个特殊类型的NavigableString对象。<br>在这里，直接引用了官方的demo：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml">markup = &quot;<span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span><span class="hljs-comment">&lt;!--Hey, buddy. Want to buy a used parser?--&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span>&quot;<br>soup = BeautifulSoup(markup)<br>comment = soup.b.string<br>print comment<br># Hey, buddy. Want to buy a used parser?<br>print type(comment)<br># <span class="hljs-tag">&lt;<span class="hljs-name">class</span> &#x27;<span class="hljs-attr">bs4.element.Comment</span>&#x27;&gt;</span><br></code></pre></td></tr></table></figure><h3 id="7、遍历"><a href="#7、遍历" class="headerlink" title="7、遍历"></a>7、遍历</h3><p>关于遍历不进行详细讲解了，主要没咋用过，做爬虫就是数据获取、清洗，至于遍历数据，还不如直接进行搜索，感兴趣的可以在<strong>学习参考</strong>中去官方进行学习。<br>在这里列举一下我用过并且觉得常用的方法：</p><h4 id="7-1、子节点"><a href="#7-1、子节点" class="headerlink" title="7.1、子节点"></a>7.1、子节点</h4><p>通过.contents 和 .children，可以将tag的子节点以列表的方式输出。</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs routeros">head_tag = soup.head<br><span class="hljs-built_in">print</span> head_tag<br><span class="hljs-comment"># &lt;head&gt;&lt;title&gt;The Dormouse&#x27;s story&lt;/title&gt;&lt;/head&gt;</span><br><br><span class="hljs-built_in">print</span> head_tag.contents<br><span class="hljs-comment"># [&lt;title&gt;The Dormouse&#x27;s story&lt;/title&gt;]</span><br><span class="hljs-built_in">print</span> len(head_tag.contents)<br><span class="hljs-comment"># 1</span><br><br><span class="hljs-keyword">for</span> child <span class="hljs-keyword">in</span> title_tag.children:<br>    <span class="hljs-built_in">print</span> child<br>    # &lt;title&gt;The Dormouse<span class="hljs-string">&#x27;s story&lt;/title&gt;</span><br></code></pre></td></tr></table></figure><h4 id="7-2、父节点"><a href="#7-2、父节点" class="headerlink" title="7.2、父节点"></a>7.2、父节点</h4><p>通过.parent属性来获取元素的父节点，只获取当前元素的父节点而且只寻找一次。</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">title_tag = soup.title<br>print title_tag<br># &lt;title&gt;The Dormous<span class="hljs-string">e&#x27;s story&lt;/title&gt;</span><br><span class="hljs-string">print title_tag.parent</span><br><span class="hljs-string"># &lt;head&gt;&lt;title&gt;The Dormouse&#x27;</span>s story&lt;/title&gt;&lt;/head&gt;<br></code></pre></td></tr></table></figure><p>通过.parents属性可以递归得到元素的所有父辈节点，一级一级的向父节点去寻找，最终寻找到根节点。</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs arduino">link = soup.a<br>print line<br># &lt;a <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;sister&quot;</span> href=<span class="hljs-string">&quot;http://example.com/elsie&quot;</span> id=<span class="hljs-string">&quot;link1&quot;</span>&gt;Elsie&lt;/a&gt;<br><span class="hljs-keyword">for</span> parent in link.parents:<br>    <span class="hljs-keyword">if</span> parent is None:<br>        print parent<br>    <span class="hljs-keyword">else</span>:<br>        print parent.name<br><span class="hljs-meta"># p body html [document] None</span><br></code></pre></td></tr></table></figure><h3 id="8、搜索"><a href="#8、搜索" class="headerlink" title="8、搜索"></a>8、搜索</h3><p>这个是重点，因为数据索取主要通过搜索来进行获取，BeautifulSoup官方文档主要介绍了find()和find_all()搜索方法，但是根据传入的参数不一样，方法又会变成多种，这里列举一些常用的搜索方法。<br>先简单说一下find()和find_all()方法的区别：1.就是find()返回搜索查询到的第一条数据，find_all()会返回所有查询到的数据；2.find_all()返回的数据类型是<strong>class ‘bs4.element.ResultSet</strong>，find()返回的数据类型<strong>class ‘bs4.element.Tag</strong>，可知find_all()返回的是一个set集合类型。<br>日常搜索数据中还是用find_all()比较多，下面的方法介绍我也使用find_all()进行举例。</p><p>源码方法：find_all( name , attrs , recursive , string , **kwargs )</p><h4 id="8-1、标签名"><a href="#8-1、标签名" class="headerlink" title="8.1、标签名"></a>8.1、标签名</h4><p>根据tag也就是标签名字进行搜索。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">a = soup.find_all(&#x27;a&#x27;)<br>print a<br><span class="hljs-meta prompt_"># </span><span class="language-bash">[&lt;a class=<span class="hljs-string">&quot;sister&quot;</span> href=<span class="hljs-string">&quot;http://example.com/elsie&quot;</span> <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;link1&quot;</span>&gt;Elsie&lt;/a&gt;,</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">&lt;a class=<span class="hljs-string">&quot;sister&quot;</span> href=<span class="hljs-string">&quot;http://example.com/lacie&quot;</span> <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;link2&quot;</span>&gt;Lacie&lt;/a&gt;,</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">&lt;a class=<span class="hljs-string">&quot;sister&quot;</span> href=<span class="hljs-string">&quot;http://example.com/tillie&quot;</span> <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;link3&quot;</span>&gt;Tillie&lt;/a&gt;]</span><br></code></pre></td></tr></table></figure><p>也可以根据多个标签名进行查看，具体看demo：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml">ab = soup.find_all([&quot;a&quot;, &quot;b&quot;])<br>print ab<br># [<span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>The Dormouse&#x27;s story<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span>,<br>#  <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;sister&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;http://example.com/elsie&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;link1&quot;</span>&gt;</span>Elsie<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>,<br>#  <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;sister&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;http://example.com/lacie&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;link2&quot;</span>&gt;</span>Lacie<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>,<br>#  <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;sister&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;http://example.com/tillie&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;link3&quot;</span>&gt;</span>Tillie<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>]<br></code></pre></td></tr></table></figure><h4 id="8-2、attr属性"><a href="#8-2、attr属性" class="headerlink" title="8.2、attr属性"></a>8.2、attr属性</h4><p>可以根据标签的内在属性进行查询，参数可以写多个，下面例子给出了多种写法。</p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs clean">link1_1 = soup.find_all(attrs=&#123;<span class="hljs-string">&#x27;id&#x27;</span>: <span class="hljs-string">&#x27;link1&#x27;</span>, <span class="hljs-string">&#x27;key&#x27;</span>: <span class="hljs-string">&#x27;value&#x27;</span>&#125;)<br>link1_2 = soup.find_all(id=<span class="hljs-string">&#x27;link1&#x27;</span>)<br>print link1_1, link1_2<br># [&lt;a <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;sister&quot;</span> href=<span class="hljs-string">&quot;http://example.com/elsie&quot;</span> id=<span class="hljs-string">&quot;link1&quot;</span>&gt;Elsie&lt;/a&gt;]<br></code></pre></td></tr></table></figure><p>如果在查询数据中，属性固定可以多用此方法。</p><h4 id="8-3、class"><a href="#8-3、class" class="headerlink" title="8.3、class"></a>8.3、class</h4><p>通过<em><em>class_<strong>参数搜索有指定CSS类名的tag，class在Python中是保留字，所以使用</strong></em>class_</em>**，使用看demo:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">sister_css = soup.find_all(class_=&quot;sister&quot;)<br>print sister_css<br><span class="hljs-meta prompt_"># </span><span class="language-bash"> &lt;a class=<span class="hljs-string">&quot;sister&quot;</span> href=<span class="hljs-string">&quot;http://example.com/elsie&quot;</span> <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;link1&quot;</span>&gt;Elsie&lt;/a&gt;,</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash"> &lt;a class=<span class="hljs-string">&quot;sister&quot;</span> href=<span class="hljs-string">&quot;http://example.com/lacie&quot;</span> <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;link2&quot;</span>&gt;Lacie&lt;/a&gt;,</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash"> &lt;a class=<span class="hljs-string">&quot;sister&quot;</span> href=<span class="hljs-string">&quot;http://example.com/tillie&quot;</span> <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;link3&quot;</span>&gt;Tillie&lt;/a&gt;]</span><br></code></pre></td></tr></table></figure><h4 id="8-4、string"><a href="#8-4、string" class="headerlink" title="8.4、string"></a>8.4、string</h4><p>通过string参数可以搜搜文档中的字符串内容,与name参数的可选值一样，string参数接受字符串、正则表达式、列表、True。</p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs autoit">print soup.find_all(<span class="hljs-built_in">string</span>=<span class="hljs-string">&quot;Elsie&quot;</span>)<br><span class="hljs-meta"># [u<span class="hljs-string">&#x27;Elsie&#x27;</span>]</span><br><br>print soup.find_all(<span class="hljs-built_in">string</span>=[<span class="hljs-string">&quot;Tillie&quot;</span>, <span class="hljs-string">&quot;Elsie&quot;</span>, <span class="hljs-string">&quot;Lacie&quot;</span>])<br><span class="hljs-meta"># [u<span class="hljs-string">&#x27;Elsie&#x27;</span>, u<span class="hljs-string">&#x27;Lacie&#x27;</span>, u<span class="hljs-string">&#x27;Tillie&#x27;</span>]</span><br><br>print soup.find_all(<span class="hljs-built_in">string</span>=re.compile(<span class="hljs-string">&quot;Dormouse&quot;</span>))<br><span class="hljs-meta"># [u<span class="hljs-string">&quot;The Dormouse&#x27;s story&quot;</span>, u<span class="hljs-string">&quot;The Dormouse&#x27;s story&quot;</span>]</span><br></code></pre></td></tr></table></figure><h4 id="8-5、limit"><a href="#8-5、limit" class="headerlink" title="8.5、limit"></a>8.5、limit</h4><p>这个参数的使用，说白了与SQL的limit用法一样，限制返回数据的条数，防止文档树很大导致搜索响应过慢。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">print soup.find_all(&quot;a&quot;, limit=2)<br><span class="hljs-meta prompt_"># </span><span class="language-bash">[&lt;a class=<span class="hljs-string">&quot;sister&quot;</span> href=<span class="hljs-string">&quot;http://example.com/elsie&quot;</span> <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;link1&quot;</span>&gt;Elsie&lt;/a&gt;,</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash"> &lt;a class=<span class="hljs-string">&quot;sister&quot;</span> href=<span class="hljs-string">&quot;http://example.com/lacie&quot;</span> <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;link2&quot;</span>&gt;Lacie&lt;/a&gt;]</span><br></code></pre></td></tr></table></figure><h4 id="8-6、-recursive"><a href="#8-6、-recursive" class="headerlink" title="8.6、 recursive"></a>8.6、 recursive</h4><p>设置是否进行遍历子节点，调用tag的find_all()方法时，BeautifulSoup会检索当前tag的所有子孙节点，如果只想搜索tag的直接子节点，可以使用参数recursive&#x3D;False。</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-built_in">print</span> soup.html.find_all(<span class="hljs-string">&quot;title&quot;</span>)<br><span class="hljs-comment"># [&lt;title&gt;The Dormouse&#x27;s story&lt;/title&gt;]</span><br><br><span class="hljs-built_in">print</span> soup.html.find_all(<span class="hljs-string">&quot;title&quot;</span>, <span class="hljs-attribute">recursive</span>=<span class="hljs-literal">False</span>)<br><span class="hljs-comment"># []</span><br></code></pre></td></tr></table></figure><h4 id="8-7、-get-text-方法"><a href="#8-7、-get-text-方法" class="headerlink" title="8.7、 get_text() 方法"></a>8.7、 get_text() 方法</h4><p>获取到tag中包含的所有文本内容。</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-built_in">print</span> soup.find_all(<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-attribute">string</span>=<span class="hljs-string">&#x27;Elsie&#x27;</span>)[0].get_text()<br><span class="hljs-comment"># &#x27;Elsie&#x27;</span><br><span class="hljs-built_in">print</span> soup.find_all(<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-attribute">string</span>=<span class="hljs-string">&#x27;Elsie&#x27;</span>)[0].string<br><span class="hljs-comment"># &#x27;Elsie&#x27;</span><br></code></pre></td></tr></table></figure><h4 id="8-8、-组合式"><a href="#8-8、-组合式" class="headerlink" title="8.8、 组合式"></a>8.8、 组合式</h4><p>所有的参数可以一起使用，增加过滤条件加快搜索效率，前面涉及的1～6参数都可以进行组合，写了几个简单的小demo：</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">sister_css</span> = soup.find_all(<span class="hljs-string">&#x27;a&#x27;</span>, class_=<span class="hljs-string">&quot;sister&quot;</span>)<br><span class="hljs-attr">sister_css</span> = soup.find_all(<span class="hljs-string">&#x27;a&#x27;</span>, class_=<span class="hljs-string">&quot;sister&quot;</span>, limit=<span class="hljs-number">2</span>)<br><span class="hljs-attr">link1</span> = soup.find_all(<span class="hljs-string">&#x27;a&#x27;</span>, attrs=&#123;<span class="hljs-string">&#x27;id&#x27;</span>: <span class="hljs-string">&#x27;link1&#x27;</span>&#125;)<br><span class="hljs-attr">link1</span> = soup.find_all(<span class="hljs-string">&#x27;a&#x27;</span>, attrs=&#123;<span class="hljs-string">&#x27;id&#x27;</span>: <span class="hljs-string">&#x27;link1&#x27;</span>&#125;, recursive=<span class="hljs-literal">False</span>)<br><span class="hljs-attr">strings</span> = soup.find_all(<span class="hljs-string">&#x27;a&#x27;</span>, string=[<span class="hljs-string">&quot;Tillie&quot;</span>, <span class="hljs-string">&quot;Elsie&quot;</span>, <span class="hljs-string">&quot;Lacie&quot;</span>])<br></code></pre></td></tr></table></figure><h3 id="9、总结"><a href="#9、总结" class="headerlink" title="9、总结"></a>9、总结</h3><p>本篇主要讲述了BeautifulSoup的基本使用方法，感兴趣的、深入研究的请自行查看官方方法，具体的地址也在下面整理出来了。</p><h3 id="10、学习参考"><a href="#10、学习参考" class="headerlink" title="10、学习参考"></a>10、学习参考</h3><ul><li>BeautifulSoup(4.4.0)中文文档：<a href="http://beautifulsoup.readthedocs.io/zh_CN/v4.4.0/">http://beautifulsoup.readthedocs.io/zh_CN/v4.4.0/</a></li><li>Pypi介绍：<a href="https://pypi.org/project/beautifulsoup4/">https://pypi.org/project/beautifulsoup4/</a></li><li>BeautifulSoup(4.4.0)官方文档：<a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/">https://www.crummy.com/software/BeautifulSoup/bs4/doc/</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Python包</tag>
      
      <tag>爬虫系列</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>母亲节【&lt;font color=&quot;blue&quot; size=&quot;15&quot;&gt;国际节&lt;/font&gt;】</title>
    <link href="/articles/18109/"/>
    <url>/articles/18109/</url>
    
    <content type="html"><![CDATA[<p><img src="/img_index/index/20190512-001.jpg"></p><span id="more"></span><hr /><p><font size=6.5 color='red'>持续更新中。。。。。。</font></p><table><thead><tr><th align="center">时间</th><th align="center">地点</th></tr></thead><tbody><tr><td align="center">2019-05-12</td><td align="center">北京</td></tr><tr><td align="center">2025-05-11</td><td align="center">内蒙古-满洲里</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>生活记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>节日</tag>
      
      <tag>国际节</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>北京奋斗终章:巴厘岛之旅</title>
    <link href="/articles/23626/"/>
    <url>/articles/23626/</url>
    
    <content type="html"><![CDATA[<p>在即将结束北京的奋斗之旅，准备提前来次蜜月旅游，带上媳妇巴厘岛二人蜜月。</p><span id="more"></span><hr /><span class="label label-default">旅行记</span> <span class="label label-primary">美食</span> <span class="label label-success">巴厘岛</span> <span class="label label-danger">蜜月</span><h3 id="1、背景"><a href="#1、背景" class="headerlink" title="1、背景"></a>1、<font color="red">背景</font></h3><p>带上媳妇度蜜月，结束北京6年奋斗之旅。</p><h3 id="2、目的地"><a href="#2、目的地" class="headerlink" title="2、目的地"></a>2、<font color="red">目的地</font></h3><p><strong>巴厘岛</strong>【一流的酒店，二流的海滩，三流的景点】。</p><h3 id="3、旅行方式"><a href="#3、旅行方式" class="headerlink" title="3、旅行方式"></a>3、<font color="red">旅行方式</font></h3><p>自由行。</p><h3 id="4、机票"><a href="#4、机票" class="headerlink" title="4、机票"></a>4、<font color="red">机票</font></h3><table>  <tr>    <th style="text-align:center;">时间</th>    <th style="text-align:center;">出发城市</th>    <th style="text-align:center;">目的城市</th>    <th style="text-align:center;">航空公司</th>    <th style="text-align:center;">飞行时间</th>    <th style="text-align:center;">机型</th>    <th style="text-align:center;">票价</th>    <th style="text-align:center;">是否保险</th>  </tr>  <tr>    <td style="text-align:center;">2019-07-07 16:30～00:50（+1）</td>    <td style="text-align:center;">北京</td>    <td style="text-align:center;">巴厘岛</td>    <td style="text-align:center;">中国东方航空公司</td>    <td style="text-align:center;">8h20min</td>    <td style="text-align:center;">MU781</td>    <td rowspan="2">        2675    </td>    <td style="text-align:center;">是</td>  </tr>  <tr>    <td style="text-align:center;">2019-07-15 01:35～08:40</td>    <td style="text-align:center;">巴厘岛</td>    <td style="text-align:center;">北京</td>    <td style="text-align:center;">中国东方航空公司</td>    <td style="text-align:center;">7h5min</td>    <td style="text-align:center;">MU782</td>    <td style="text-align:center;">是</td>  </tr></table><h3 id="5、日程"><a href="#5、日程" class="headerlink" title="5、日程"></a>5、<font color="red">日程</font></h3><h4 id="第1天"><a href="#第1天" class="headerlink" title="第1天"></a>第1天</h4><blockquote><p>日期</p></blockquote><p>2019-07-08</p><blockquote><p>景点</p></blockquote><p>情人崖(1h)【乌鲁瓦图寺】 → 神鹰广场(1h) → 海神庙(2h) → 库塔海滩</p><blockquote><p>美食</p></blockquote><ul><li>竹子角落 （Bamboo Corner）【<font size="5" color="blue">3.9</font> 海鲜，价格合理】</li><li>Poppies Restaurant【<font size="5" color="blue">4.3</font> 网红餐厅 味道别致】</li><li>Hog wild in Bali Kuta （Hog Wild with Chef Bruno）【<font size="5" color="blue">4.7</font> 猪排】</li></ul><h4 id="第2天"><a href="#第2天" class="headerlink" title="第2天"></a>第2天</h4><blockquote><p>日期</p></blockquote><p>2019-07-09</p><blockquote><p>景点</p></blockquote><p>蓝梦岛</p><ul><li>恶魔的眼泪</li><li>梦幻海滩</li><li>蘑菇海滩</li><li>红树林</li><li>黄桥</li></ul><blockquote><p>建议</p></blockquote><ul><li>自行定船时间需要早些【7点酒店出发-&gt;萨努尔码头】，建议船票可以淘宝。</li><li>还可以淘宝订购一个蓝梦岛一日游【<font size="5" color="red">推荐</font>】。</li></ul><h4 id="第3天"><a href="#第3天" class="headerlink" title="第3天"></a>第3天</h4><blockquote><p>日期</p></blockquote><p>2019-07-10</p><blockquote><p>景点</p></blockquote><p>阿勇河漂流(0.5天) → 岩石吧 → 金巴兰海滩<br>漂流可以淘宝，接送+门票，还是比较划算的。</p><blockquote><p>美食</p></blockquote><ul><li>金巴兰海滩烧烤 （Jimbaran Bay Seafood Club）【<font size="5" color="blue">3.9</font>】</li></ul><h4 id="第4天"><a href="#第4天" class="headerlink" title="第4天"></a>第4天</h4><blockquote><p>日期</p></blockquote><p>2019-07-11</p><blockquote><p>景点</p></blockquote><p>spa 酒店 浪漫</p><h4 id="第5天"><a href="#第5天" class="headerlink" title="第5天"></a>第5天</h4><blockquote><p>日期</p></blockquote><p>2019-07-12</p><blockquote><p>景点</p></blockquote><p>圣泉寺(1.5小时) → 德格拉郎梯田(1小时) → 乌布皇宫(1小时) → 乌布市场(3小时)</p><blockquote><p>美食</p></blockquote><ul><li>脏鸭餐厅(乌布店) （Bebek Bengil）【<font size="5" color="blue">3.9</font> 卡脏鸭餐】</li><li>Pundi-Pundi Grill &amp; Asian Cuisine （Pundi-Pundi）【<font size="5" color="blue">4.2</font>猪排饭】</li><li>Naughty Nuri’s Warung Ubud （Naughty Nuri’s Ubud）【<font size="5" color="blue">4.5</font>烤猪排】</li></ul><h4 id="第6天"><a href="#第6天" class="headerlink" title="第6天"></a>第6天</h4><blockquote><p>日期</p></blockquote><p>2019-07-13</p><blockquote><p>景点</p></blockquote><ul><li>太阳百货</li><li>Discovery Shopping Mall</li></ul><blockquote><p>建议</p></blockquote><ul><li>2个地方里的很近，走路大概25分钟，但是交通很差。</li></ul><h4 id="第7天"><a href="#第7天" class="headerlink" title="第7天"></a>第7天</h4><blockquote><p>日期</p></blockquote><p>2019-07-13</p><p>自由浪</p><blockquote><p>景点</p></blockquote><ul><li>天空之门</li><li>巴厘岛野生动物园</li><li>圣猴森林公园（与乌布市场、乌布皇宫聚集）</li><li>水明漾 &amp;&amp; 水明漾海滩</li><li>海龟岛</li><li>南湾海滩（水上娱乐项目）</li><li>京打马尼火山（较远，建议包车）</li><li>水神庙</li></ul><h3 id="6、-住宿"><a href="#6、-住宿" class="headerlink" title="6、 住宿"></a>6、 <font color="red">住宿</font></h3><p>总结一下集中居住的区域位置的优点，方便进行选取：</p><h4 id="库塔"><a href="#库塔" class="headerlink" title="库塔"></a>库塔</h4><p>适合冲浪的海滩，酒店多以连锁商务酒店为主，价格较便宜，性价比高，很多背包客的选择，夜晚热闹，临近繁闹街道。</p><h4 id="金巴兰"><a href="#金巴兰" class="headerlink" title="金巴兰"></a>金巴兰</h4><p>沙滩可看落日，有很多Villa酒店，价格适中。</p><h4 id="努沙杜瓦"><a href="#努沙杜瓦" class="headerlink" title="努沙杜瓦"></a>努沙杜瓦</h4><p>酒店拥有私人沙滩，环境好，适合度假。</p><h4 id="乌布"><a href="#乌布" class="headerlink" title="乌布"></a>乌布</h4><p>丛林体验，天然养吧，适合休闲放松。</p><table><thead><tr><th align="center">日期</th><th align="center">酒店名称</th><th align="center">位置</th><th align="center">价格</th><th align="center">是否早餐</th><th align="center">房间类型</th><th align="center">推荐指数</th></tr></thead><tbody><tr><td align="center">2019-07-07 ~ 2019-07-10</td><td align="center">巴厘岛库塔明星酒店</td><td align="center">库塔</td><td align="center">1251(含税)</td><td align="center">Y</td><td align="center">豪华间</td><td align="center">🌟🌟🌟🌟🌟</td></tr><tr><td align="center"><code>&lt;font color=&quot;red&quot;&gt;</code>2019-07-11<code>&lt;/font&gt;</code></td><td align="center">阿什姆萨海滩酒店</td><td align="center">金巴兰</td><td align="center">852(含税)</td><td align="center">Y</td><td align="center">单卧室泳池别墅</td><td align="center">🌟🌟🌟🌟🌟</td></tr><tr><td align="center">2019-07-12 ~ 2019-07-14</td><td align="center">巴厘岛库塔明星酒店</td><td align="center">库塔</td><td align="center">622(含税)</td><td align="center">Y</td><td align="center">豪华间</td><td align="center">🌟🌟🌟🌟🌟</td></tr></tbody></table><p><font size="4" color="blue">巴厘岛库塔明星酒店</font><br>抖音网红酒店，携程、马蜂窝推荐top的酒店，而且看了下价格，在繁华的库塔地带，离机场10min、海滩15min的步行，美食环绕，晚上也有繁华的夜市，位置相当不错。<br>其次，我已邮件的方式联系了酒店，有免费接机的服务（3天以上free）。<br><img src="/articles/23626/bali_jiudian_1.png"></p><p><font size="4" color="blue">阿什姆萨海滩酒店</font><br>去了巴厘岛，一定要住一次私人别墅的酒店，这是巴厘岛之行的必须体验之一，想象2个世界、私人别墅、私人泳池，多么嗨皮。建议提前一个月预定，价格会便宜好多，而且选择的也很多。<br><img src="/articles/23626/bali_jiudian_2.png"></p><h3 id="7、景点"><a href="#7、景点" class="headerlink" title="7、景点"></a>7、<font color="red">景点</font></h3><p>列举了一下top5的景点，可以查阅马蜂窝巴厘岛景色介绍，根据自己的喜爱去进行定义。</p><blockquote><p>蓝梦岛</p></blockquote><p>绝美的沙滩海景，是个休闲度假的绝佳地。</p><blockquote><p>情人崖</p></blockquote><p>巴厘岛的爱情圣地，很多人在此举行婚礼。</p><blockquote><p>海神庙</p></blockquote><p>坐落于海上的神庙，最具巴厘岛特色。</p><blockquote><p>库塔海滩</p></blockquote><p>最受欢迎的美食娱乐天堂，沙质细腻。</p><blockquote><p>金巴兰海滩</p></blockquote><p>世界十大最美落日海滩之一。</p><h3 id="8、美食"><a href="#8、美食" class="headerlink" title="8、美食"></a>8、<font color="red">美食</font></h3><h4 id="库塔-1"><a href="#库塔-1" class="headerlink" title="库塔"></a>库塔</h4><ul><li>竹子角落 （Bamboo Corner）【<font size="5" color="blue">3.9</font>】<br>低廉的价格和美味的海鲜篮，令这家狭小门面的小店生意兴隆。</li><li>Poppies Restaurant【<font size="5" color="blue">4.3</font>】<br>就餐环境别致，菜品的味道会让人意想不到。</li><li>Kori Restaurant &amp; Bar【<font size="5" color="blue">4.2</font>】<br>巴厘岛式凉亭搭配潺潺流水，在这里吃饭或者喝东西都是一种享受。</li><li>Hog wild in Bali Kuta （Hog Wild with Chef Bruno）【<font size="5" color="blue">4.7</font>】<br>在水明漾，炭烤猪排真的推荐。</li></ul><h4 id="金巴兰-1"><a href="#金巴兰-1" class="headerlink" title="金巴兰"></a>金巴兰</h4><ul><li>金巴兰海滩烧烤 （Jimbaran Bay Seafood Club）【<font size="5" color="blue">3.9</font>】<br>在海滩上边欣赏日落边吃海鲜。</li></ul><h4 id="乌布-1"><a href="#乌布-1" class="headerlink" title="乌布"></a>乌布</h4><ul><li>脏鸭餐厅(乌布店) （Bebek Bengil）【<font size="5" color="blue">3.9</font>】<br>最老牌正宗的脏鸭餐餐厅。</li><li>Pundi-Pundi Grill &amp; Asian Cuisine （Pundi-Pundi）【<font size="5" color="blue">4.2</font>】<br>烤猪排餐的份量超大！</li><li>Naughty Nuri’s Warung Ubud （Naughty Nuri’s Ubud）【<font size="5" color="blue">4.5</font>】<br>巴厘岛上很有名的猪肋排餐厅，有好吃的烤肉、烤乳猪和牛排。</li><li>Fair Warung Bale （Fair Warung Bale - Fair Future Foundation）【<font size="5" color="blue">4.6</font>】<br>马蜂窝推荐还不错。</li></ul><h3 id="9、购物"><a href="#9、购物" class="headerlink" title="9、购物"></a>9、<font color="red">购物</font></h3><h4 id="库塔-2"><a href="#库塔-2" class="headerlink" title="库塔"></a>库塔</h4><p>库塔是巴厘岛传统的商业和旅游购物中心，<strong>太阳百货（Matahari）<strong>和</strong>Discovery Shopping Mall</strong>是其中两个最大购物中心。</p><h4 id="登巴萨家乐福"><a href="#登巴萨家乐福" class="headerlink" title="登巴萨家乐福"></a>登巴萨家乐福</h4><p>大型超市，里面东西我觉得不便宜。</p><h4 id="Geneva"><a href="#Geneva" class="headerlink" title="Geneva"></a>Geneva</h4><p>Geneva位于库塔北边，需要专门坐车过去。在这里打算给自己的家添置点工艺品的，给朋友带小礼物的，都可以在此地解决。这里东西种类很多而且价格公道。</p><h4 id="黄金咖啡工场"><a href="#黄金咖啡工场" class="headerlink" title="黄金咖啡工场"></a>黄金咖啡工场</h4><p>喜欢咖啡的人可以去，在咖啡工厂参观咖啡生产、筛选、烘焙等制作过程，享受黄金咖啡文化的熏陶，一边品尝黄金咖啡苦、甘、香却不酸涩的咖啡特色。</p><h3 id="10、App"><a href="#10、App" class="headerlink" title="10、App"></a>10、<font color="red">App</font></h3><p>记录一下自己用到的App。</p><table><thead><tr><th align="center">id</th><th align="center">name</th><th align="left">function</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">去哪儿</td><td align="left">机票预定</td></tr><tr><td align="center">2</td><td align="center">携程</td><td align="left">酒店预订</td></tr><tr><td align="center">3</td><td align="center">马蜂窝</td><td align="left">查看旅游地点吃喝玩乐的推荐，参考游记</td></tr><tr><td align="center">4</td><td align="center">My Blue Bird</td><td align="left">巴厘岛本地taxi打车神器</td></tr><tr><td align="center">5</td><td align="center">grab</td><td align="left">国际打车神器</td></tr><tr><td align="center">6</td><td align="center">Google Maps</td><td align="left">地图导航</td></tr><tr><td align="center">7</td><td align="center">有道翻译</td><td align="left">英文不好的一定要下载一个</td></tr></tbody></table><h3 id="11、费用"><a href="#11、费用" class="headerlink" title="11、费用"></a>11、<font color="red">费用</font></h3><table><thead><tr><th align="center">类别</th><th align="center">金额</th></tr></thead><tbody><tr><td align="center">机票</td><td align="center">5350</td></tr><tr><td align="center">酒店</td><td align="center">2725</td></tr><tr><td align="center">本地消费</td><td align="center">3500</td></tr><tr><td align="center">包车</td><td align="center">658</td></tr><tr><td align="center">漂流</td><td align="center">658</td></tr><tr><td align="center">蓝梦岛一日游</td><td align="center">730</td></tr><tr><td align="center">spa</td><td align="center">680</td></tr><tr><td align="center">总计</td><td align="center">14301</td></tr></tbody></table><p>单位：RMB</p><h3 id="12、注意"><a href="#12、注意" class="headerlink" title="12、注意"></a>12、<font color="red">注意</font></h3><div class="note note-danger">            <p><font size="4" color="blue">1.签证</font><br>巴厘岛是免签的，不需要签证，直接护照入境就可以，但要看清楚啊，机场同时开着免签通道和落地签通道，走落地签通道要收35美金落地签费用。很好辨别，你看没人的那个就是落地签通道了，找有人排队的就是免签通道。</p><p><font size="4" color="blue">2.包车</font><br>建议淘宝就行，搜一下，选择一个适合自己的。远一点的包车玩比较舒服，我预计打算包车2-3天，第一天玩情人崖、海神庙，相距较远；第五天去乌布、圣泉寺，那边玩的比较集中，建议在包一天，剩下的就看自己想不想去远的地方了。</p><p><font size="4" color="blue">3.出租车</font><br>巴厘岛的出租车分5种，分别是浅蓝灰色的Bali Taxi、绿色的 Panwirthi Taxi、橘色的Praja Taxi、白色的Ngurah Rai Taxi和黑 色的机场出租车。其中Bali Taxi口碑最佳，在挡风玻璃上标 有“BlueBird Group”和蓝色鸟的标记所以也称蓝鸟出租车，司机有礼貌、基本跳表计费，起步6,000卢比&#x2F;1km，之后3,000卢比&#x2F; km。其次是绿色或橘色车，而如果是白色车子，通常是不跳表的， 因此乘白色车之前要先谈好价钱。</p><p><font size="4" color="blue">4.小费</font><br>住完酒店适当的给点小费即可，一般是10000印尼盾（1RMB &#x3D; 2000IDR），觉得好可以多给一些；吃饭的话我看介绍说不用给了，因为餐饮费里已经包含小费了。</p>          </div>]]></content>
    
    
    <categories>
      
      <category>生活记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>旅行记</tag>
      
      <tag>美食</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo-url优化篇</title>
    <link href="/articles/44359/"/>
    <url>/articles/44359/</url>
    
    <content type="html"><![CDATA[<h3 id="1、背景"><a href="#1、背景" class="headerlink" title="1、背景"></a>1、背景</h3><div class="note note-success">            <p>曾几何时，有莫有觉得自己的博文url过于繁琐，而且博文名称包含中文，发送链接变成unicode编码，很不友好。那好，<strong>hexo-abbrlink</strong>插件解决url带来的难题。</p>          </div><span id="more"></span><hr /><h3 id="2、版本信息"><a href="#2、版本信息" class="headerlink" title="2、版本信息"></a>2、版本信息</h3><table><thead><tr><th align="center">id</th><th align="center">name</th><th align="center">version</th><th align="center">remark</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">Hexo</td><td align="center">v3.8.0</td><td align="center">系统版本</td></tr><tr><td align="center">2</td><td align="center">Next</td><td align="center">v7.0.1</td><td align="center">主题版本</td></tr></tbody></table><h3 id="3、url格式"><a href="#3、url格式" class="headerlink" title="3、url格式"></a>3、url格式</h3><p>正常的url格式默认是：<strong>:year&#x2F;:month&#x2F;:day&#x2F;:title&#x2F;</strong>，resource地址过长，如果想改变，需要在Hexo的配置去更改。<br>打开blog&#x2F;_config.yml文件，搜索<code>&lt;font size=&quot;4&quot; color=&quot;red&quot;&gt;</code><em><strong>permalink</strong></em><code>&lt;/font&gt;</code>，更改配置如下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">permalink: :year/:month/:day/:title/  <span class="hljs-comment"># default版</span></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">permalink: :category/:<span class="hljs-built_in">id</span>/             <span class="hljs-comment"># id版</span></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">permalink: :category/:title/          <span class="hljs-comment"># name版</span></span><br></code></pre></td></tr></table></figure><p>category是分类，id对应的是博文默认生成的id，如果不想使用插件的同学，建议使用<strong>id版</strong>，配置好之后<em><strong>hexo g &amp;&amp; hexo s</strong></em>重启server即可。具体的url配置请查看<a href="https://hexo.io/zh-cn/docs/permalinks">官方说明</a>。</p><p>到这里，已经完成了url的配置，如果不想继续优化url的同学，完成上述配置就可以了，下面将继续介绍使用插件优化url。</p><h3 id="4、安装hexo-abbrlink"><a href="#4、安装hexo-abbrlink" class="headerlink" title="4、安装hexo-abbrlink"></a>4、安装hexo-abbrlink</h3><p>博客项目的根目录直接执行：</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">npm install hexo-abbrlink <span class="hljs-comment">--save</span><br></code></pre></td></tr></table></figure><h3 id="5、Hexo配置"><a href="#5、Hexo配置" class="headerlink" title="5、Hexo配置"></a>5、Hexo配置</h3><p>还是刚才的配置文件，把<code>&lt;font size=&quot;4&quot; color=&quot;red&quot;&gt;</code><em><strong>permalink</strong></em><code>&lt;/font&gt;</code>改成以下配置：</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs elixir"><span class="hljs-symbol">permalink:</span> articles/<span class="hljs-symbol">:abbrlink/</span><br></code></pre></td></tr></table></figure><h3 id="6、Next配置"><a href="#6、Next配置" class="headerlink" title="6、Next配置"></a>6、Next配置</h3><p>打开Next主题配置文件：&#x2F;blog&#x2F;theme&#x2F;next&#x2F;_config.yml，新增配置如下：</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-meta"># post url</span><br><span class="hljs-symbol">abbrlink:</span><br><span class="hljs-symbol">  alg:</span> crc32  <span class="hljs-meta">#support crc16(default) and crc32</span><br><span class="hljs-symbol">  rep:</span> hex    <span class="hljs-meta">#support dec(default) and hex</span><br></code></pre></td></tr></table></figure><div class="note note-info">            <p><code>&lt;font size=&quot;4&quot;&gt;</code><strong>参数</strong><code>&lt;/font&gt;</code><br>alg – Algorithm (currently support crc16 and crc32, which crc16 is default)<br>rep – Represent (the generated link could be presented in hex or dec value)<br><code>&lt;font size=&quot;4&quot;&gt;</code><strong>例子</strong><code>&lt;/font&gt;</code></p><blockquote><p>crc16 &amp; hex</p></blockquote><p><a href="https://post.zz173.com/posts/66c8.html">https://post.zz173.com/posts/66c8.html</a></p><blockquote><p>crc16 &amp; dec</p></blockquote><p><a href="https://post.zz173.com/posts/65535.html">https://post.zz173.com/posts/65535.html</a></p><blockquote><p>crc32 &amp; hex</p></blockquote><p><a href="https://post.zz173.com/posts/8ddf18fb.html">https://post.zz173.com/posts/8ddf18fb.html</a></p><blockquote><p>crc32 &amp; dec</p></blockquote><p><a href="https://post.zz173.com/posts/1690090958.html">https://post.zz173.com/posts/1690090958.html</a></p>          </div><p>###7、 hexo clean &amp;&amp; hexo g</p><p>这一步是必须操作，<em><strong>hexo clean</strong></em>清除public站点文件，<em><strong>hexo g</strong></em>重新生成站点文件。生成之后，打开一个.md博文文件，你会发现，在顶部的定义部分新增了一个<strong>abbrlink</strong>属性，后面是文件的url资源路径。</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">abbrlink</span>: <span class="hljs-number">44359</span><br></code></pre></td></tr></table></figure><p>在老的文件<em><strong>hexo g</strong></em>会自动新增这个属性，在建立新的文件也会自动新增这个属性，属性值根据上面的<strong>alg &amp;&amp; rep</strong>配置的算法规则生成。</p><h3 id="8、hexo-s"><a href="#8、hexo-s" class="headerlink" title="8、hexo s"></a>8、hexo s</h3><p>重启服务。重启之后回到home主页，点开一个博文查看url，不出意外url已发生改变，没有改变的同学查看下2个配置文件处，是否配置对了，别搞混了，不要都配置到一个文件中。</p><h3 id="9、学习"><a href="#9、学习" class="headerlink" title="9、学习"></a>9、学习</h3><p>Hexo permalinks：<a href="https://hexo.io/zh-cn/docs/permalinks">https://hexo.io/zh-cn/docs/permalinks</a><br>hexo-abbrlink：<a href="https://github.com/rozbo/hexo-abbrlink">https://github.com/rozbo/hexo-abbrlink</a></p>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Hexo美化</tag>
      
      <tag>Hexo插件</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>夏洛克·福尔摩斯</title>
    <link href="/articles/25456/"/>
    <url>/articles/25456/</url>
    
    <content type="html"><![CDATA[<span class="label label-default">剧情</span> <span class="label label-primary">悬疑</span> <span class="label label-success">惊悚</span><span id="more"></span><hr /><div class="note note-success">            <p><font size="4" color="red"><strong>简介</strong></font><br>烧脑神剧，可谓是电视剧版本的名侦探柯南，哈哈，看过**《名侦探·柯南》**的人，应该都是知道柯南这个名字是福尔摩斯的作者，而且柯南最喜欢的人也是福尔摩斯。</p>          </div><blockquote><p>推荐指数</p></blockquote><pre><code class="hljs">⭐️⭐️⭐️⭐️⭐️</code></pre><blockquote><p>人物角色</p></blockquote><p>主角：<a href="https://baike.baidu.com/item/%E5%A4%8F%E6%B4%9B%E5%85%8B%C2%B7%E7%A6%8F%E5%B0%94%E6%91%A9%E6%96%AF/65994"><em><strong>夏洛克·福尔摩斯（Sherlock·Holmes）</strong></em></a></p><blockquote><p>主线剧情</p></blockquote><p>现在已经出到共分4季，每一季又分为3集，每集大约时长1h30min，我是在优酷上看的，并不是给优酷打广告，而且优酷独播。</p><p>总结来说，<strong>福尔摩斯</strong>与好基友<strong>约翰·H·华生</strong>带你一点点揭开谜团。</p><blockquote><p>观后感</p></blockquote><p><em><strong><font color="#dd0000" size="5">烧脑</font></strong></em><br><em><strong><font color="#dd0000" size="5">逻辑思维的理性</font></strong></em></p><blockquote><p>建议</p></blockquote><p>不要跳进观看，会影响观看效果，一点点观看，你会觉得非常有意思。</p>]]></content>
    
    
    <categories>
      
      <category>影视说</category>
      
    </categories>
    
    
    <tags>
      
      <tag>电视剧</tag>
      
      <tag>烧脑剧</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo+Next分类页样式美化</title>
    <link href="/articles/15926/"/>
    <url>/articles/15926/</url>
    
    <content type="html"><![CDATA[<h3 id="问题简述"><a href="#问题简述" class="headerlink" title="问题简述"></a>问题简述</h3><div class="note note-success">            <p>自动生成的分类页实在是ugly，既然身为程序猿，前端不行那就自己搞，起码自己看起来舒服一些。</p>          </div><span id="more"></span><hr/><h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><p>美化方法跟自定义样式差不多，不做详细介绍了，不知道的小伙伴可以查看之前的文章。这里主要给大家分享一下我的样式，有问题的小伙伴可以留言我，<code>&lt;font color=&quot;red&quot; size=&quot;5&quot;&gt;</code><em><strong>一起交流，一起学习，一起进步！！！</strong></em><code>&lt;/font&gt;</code>。</p><p>css代码：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs css">// 分类&amp;&amp;标签 页面样式<br><span class="hljs-selector-class">.post-block</span><span class="hljs-selector-class">.page</span> &#123;<br>    <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">40px</span>;<br>&#125;<br><br>// 分类页面<span class="hljs-attribute">page</span><br><span class="hljs-selector-class">.category-all-page</span> &#123;<br>    <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0px</span> <span class="hljs-number">0px</span> <span class="hljs-number">10px</span> <span class="hljs-number">0px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.5</span>);<br>    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#797D7F</span>;<br>    <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span> <span class="hljs-number">30px</span> <span class="hljs-number">60px</span> <span class="hljs-number">30px</span>;<br>    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">25px</span> <span class="hljs-number">25px</span> <span class="hljs-number">25px</span> <span class="hljs-number">25px</span>;<br>&#125;<br><span class="hljs-selector-class">.category-all-title</span> &#123;<br>    <span class="hljs-attribute">font-family</span>: Impact;<br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">24px</span>;<br>    <span class="hljs-attribute">color</span>: aqua;<br>&#125;<br><span class="hljs-selector-class">.category-list</span> &#123;<br>    <span class="hljs-attribute">overflow</span>: auto;<br>&#125;<br><span class="hljs-selector-class">.category-list</span> <span class="hljs-selector-tag">li</span> &#123;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">30px</span>;<br>    <span class="hljs-attribute">float</span>: left;<br>    <span class="hljs-attribute">border-right</span>: <span class="hljs-number">3px</span> solid <span class="hljs-number">#222</span>;<br>    <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span> <span class="hljs-number">20px</span>;<br>&#125;<br><span class="hljs-selector-class">.category-all</span> <span class="hljs-selector-tag">ul</span> <span class="hljs-selector-tag">li</span> &#123;<br>    <span class="hljs-attribute">list-style</span>: none<span class="hljs-meta">!important</span>;<br>&#125;<br><span class="hljs-selector-class">.category-list</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:last-child</span> &#123;<br>    <span class="hljs-attribute">border-right</span>: none;<br>&#125;<br><span class="hljs-selector-class">.category-list</span> <span class="hljs-selector-tag">li</span> <span class="hljs-selector-tag">a</span> &#123;<br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span>;<br>    <span class="hljs-attribute">text-decoration</span>: none;<br>    <span class="hljs-attribute">color</span>: chartreuse;<br>    <span class="hljs-attribute">font-family</span>: Helvetica, Verdana, sans-serif;<br>    // <span class="hljs-attribute">text-transform</span>: uppercase;<br>    -webkit-<span class="hljs-attribute">transition</span>: all <span class="hljs-number">0.5s</span> ease;<br>    -moz-<span class="hljs-attribute">transition</span>: all <span class="hljs-number">0.5s</span> ease;<br>    -o-<span class="hljs-attribute">transition</span>: all <span class="hljs-number">0.5s</span> ease;<br>    -ms-<span class="hljs-attribute">transition</span>: all <span class="hljs-number">0.5s</span> ease;<br>    <span class="hljs-attribute">transition</span>: all <span class="hljs-number">0.5s</span> ease;<br>&#125;<br><span class="hljs-selector-class">.category-list</span> <span class="hljs-selector-tag">li</span> <span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">:hover</span> &#123;<br>    <span class="hljs-attribute">color</span>: black;<br>&#125;<br><span class="hljs-selector-class">.category-list</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-class">.active</span> <span class="hljs-selector-tag">a</span> &#123;<br>    <span class="hljs-attribute">font-weight</span>: bold;<br>    <span class="hljs-attribute">color</span>: black;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Hexo美化</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>tags与categories重构的教训</title>
    <link href="/articles/43145/"/>
    <url>/articles/43145/</url>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p><font size="4" color="red"><strong>问题简述</strong></font><br>博客已经托管在github有一段时间了，有天同事想看看，url发送给同事，但是随便点开了一个文章，居然<strong>404</strong>，逗我。。。。。。why？</p>          </div><p><img src="/articles/43145/article_404.png"></p><span id="more"></span><hr /><p>启动本机上的server，找到那篇404的文章，直接把<em><strong>协议+ip+port</strong></em>替换到我本机，找到那篇资源文章，我本机可以啊，问题出在哪？仔细查看了一下2个资源地址：</p><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs llvm">本机：http://<span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">8888</span>/Hexo/Hexo<span class="hljs-variable">%E6</span><span class="hljs-variable">%90</span><span class="hljs-variable">%9</span>C<span class="hljs-variable">%E7</span><span class="hljs-variable">%B4</span><span class="hljs-variable">%A2hexo-generator-searchdb</span>/<br>github：https://gis<span class="hljs-number">90</span>.github.io/hexo/Hexo<span class="hljs-variable">%E6</span><span class="hljs-variable">%90</span><span class="hljs-variable">%9</span>C<span class="hljs-variable">%E7</span><span class="hljs-variable">%B4</span><span class="hljs-variable">%A2hexo-generator-searchdb</span>/<br></code></pre></td></tr></table></figure><p>居然是Hexo与hexo资源路径的问题，立马查看本机blog&#x2F;public目录的Hexo文件夹是大写，找到github托管的repositories，居然真的不一样，我记得我<em><strong>hexo g -d</strong></em>过了啊，立马又执行了1次，发现github上还是小写的hexo文件目录。</p><p><img src="/articles/43145/404_ri.jpeg" alt="日了。。。。。"></p><p>直接<em><strong>hexo deploy</strong></em>，在blog根目录会自动生成一个.deploy_git隐藏文件，这个文件目就是github托管上传用的，查看里面内容，再次确认是大写。没办法，只能删除github上现在托管的网站，又重新新建了一个deploy了一下，这下因为资源路径的导致的404问题解决了。</p><p>想起前几天我刚把每篇文章的tag、categories的内容都改成首字母大写的英文了，这是资源路径发生改变的根本，在我本地生成正确的资源路径，deploy到github是错误的，为何？还在查资料寻求原因中。</p><p>既然说到了tag &amp;&amp; categories，那么就多说点，有些博文不止一个tags、categories，记录一下它们的用法。</p><blockquote><p>tag</p><blockquote><p>定义：tag标签<br>用法：</p><figure class="highlight node-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs node-repl"><span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">&gt; <span class="hljs-attr">tags</span>:</span><br><span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">&gt;   - <span class="hljs-number">123</span></span><br><span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">&gt;   - <span class="hljs-number">456</span></span><br><span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">&gt; <span class="hljs-attr">tags</span>: [<span class="hljs-number">123</span>, <span class="hljs-number">456</span>]</span><br><span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">&gt; </span><br></code></pre></td></tr></table></figure><p>多标签写法，这2种都是一样的效果，用哪个都可以，建议使用列表[]式，直观清晰。</p></blockquote></blockquote><blockquote><p>categories</p><blockquote><p>定义：文章分类</p><ul><li>用法一：</li></ul><figure class="highlight node-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs node-repl"><span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">&gt; <span class="hljs-attr">categories</span>: <span class="hljs-number">123</span></span><br><span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">&gt; </span><br></code></pre></td></tr></table></figure><p>这是默认的写法，给文章添加一个分类。</p><ul><li>用法二：</li></ul><figure class="highlight node-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs node-repl"><span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">&gt; <span class="hljs-attr">categories</span>: [<span class="hljs-number">123</span>, <span class="hljs-number">456</span>]</span><br><span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">&gt; </span><br></code></pre></td></tr></table></figure><p>文章位于自分类下。</p><ul><li>用法三：</li></ul><figure class="highlight node-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs node-repl"><span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">&gt; <span class="hljs-attr">categories</span>:</span><br><span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">&gt;   - <span class="hljs-number">123</span></span><br><span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">&gt;   - <span class="hljs-number">456</span></span><br><span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">&gt; </span><br></code></pre></td></tr></table></figure><p>这会将文章分类到123&#x2F;456子分类目录下。</p><ul><li>用法四：</li></ul><figure class="highlight node-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs node-repl"><span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">&gt; <span class="hljs-attr">categories</span>:</span><br><span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">&gt;   - [<span class="hljs-number">123</span>]</span><br><span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">&gt;   - [<span class="hljs-number">456</span>]</span><br><span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">&gt;   - [<span class="hljs-number">123</span>, <span class="hljs-number">789</span>]</span><br><span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">&gt; </span><br></code></pre></td></tr></table></figure><p>多标签写法，文章被分类到123、456以及123的自分类789这3个分类下面，官方指定写法。</p></blockquote></blockquote><div class="note note-info">            <p>参考：</p><blockquote><p>tags：<a href="https://github.com/hexojs/hexo/issues/320">https://github.com/hexojs/hexo/issues/320</a><br>categories：<a href="https://github.com/MOxFIVE/hexo-theme-yelee/issues/4">https://github.com/MOxFIVE/hexo-theme-yelee/issues/4</a></p></blockquote>          </div>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LDAP查看用户是否锁定lockoutTime</title>
    <link href="/articles/35151/"/>
    <url>/articles/35151/</url>
    
    <content type="html"><![CDATA[<h3 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h3><pre><code class="hljs">LDAP查看AD账号是否锁定</code></pre><p>LDAP（Lightweight Directory Access Protocol）是轻量目录访问协议，一般都简称为LDAP。</p><span id="more"></span><hr /><h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><p>工作上对此颇有涉及，某天在解决bug时，发现账号是否锁定与错误密码次数对不上，查看别人的代码，哈哈哈，果然有个坑，查看用户账号是否锁定是通过查询域下所有机子的错误密码次数，计算账户是否锁定，我们设置的是5次，超过这个限制账号就会被锁定。</p><p>针对账号是否锁定，居然是否次数算出来的，而不是属性获取。。。如果真的是这样，个人觉得LDAP那就太傻了。上网查了一下，果然有用户属性直接判断账号是否被锁定，那就是<em><strong>lockoutTime</strong></em>属性。没错，它也是解锁的属性。看官方解释：</p><p><img src="/articles/35151/ldap_lockoutTime.png" alt="官网ldap_lockoutTime"></p><p>最重要就是划红线的那2句话，大致意思lockoutTime的值是一个整形数值，并且等于<em><strong>0</strong></em>的时候，账号不被锁定。推理出来就是不为<em><strong>0</strong></em>，账号就会被认为锁定。</p><p>lockoutTime官方：<a href="https://ldapwiki.com/wiki/Lockouttime">https://ldapwiki.com/wiki/Lockouttime</a></p>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>LDAP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo搜索插件hexo-generator-searchdb</title>
    <link href="/articles/21643/"/>
    <url>/articles/21643/</url>
    
    <content type="html"><![CDATA[<h4 id="1、背景"><a href="#1、背景" class="headerlink" title="1、背景"></a>1、背景</h4><div class="note note-success">            <p>博客运行了很久，也写了不少文章，有的时候需要回去翻自己写过的文章找点东西，比较麻烦，而且也看了别人的博客好多都有一个🔍<strong>搜索</strong>功能，针对于我使用的<em><strong>Hexo+Next</strong></em>版本也增加一个搜索功能。但是，在实现的过程中遇到了一些坑，想必也会有人跟我一样，于是写下来与大家分享。</p>          </div><span id="more"></span><hr /><h4 id="2、版本信息"><a href="#2、版本信息" class="headerlink" title="2、版本信息"></a>2、版本信息</h4><table><thead><tr><th align="center">id</th><th align="center">name</th><th align="center">version</th><th align="center">remark</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">Hexo</td><td align="center">v3.8.0</td><td align="center">系统版本</td></tr><tr><td align="center">2</td><td align="center">Next</td><td align="center">v7.0.1</td><td align="center">主题版本</td></tr></tbody></table><h4 id="3、安装hexo-generator-searchdb"><a href="#3、安装hexo-generator-searchdb" class="headerlink" title="3、安装hexo-generator-searchdb"></a>3、安装hexo-generator-searchdb</h4><p>博客项目的根目录直接执行：</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">npm install hexo-generator-searchdb <span class="hljs-comment">--save</span><br></code></pre></td></tr></table></figure><h4 id="4、配置"><a href="#4、配置" class="headerlink" title="4、配置"></a>4、配置</h4><p>打开Next主题配置文件：&#x2F;blog&#x2F;theme&#x2F;next&#x2F;_config.yml，搜索<font size="4" color="red"><em><strong>local_search</strong></em></font>，更改代码如下：</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-params">local_search:</span><br>  <span class="hljs-params">enable:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-params">trigger:</span> auto<br>  <span class="hljs-params">top_n_per_article:</span> <span class="hljs-number">1</span><br>  <span class="hljs-params">unescape:</span> <span class="hljs-literal">false</span><br></code></pre></td></tr></table></figure><h4 id="5、hexo-g-hexo-s"><a href="#5、hexo-g-hexo-s" class="headerlink" title="5、hexo g &amp;&amp; hexo s"></a>5、hexo g &amp;&amp; hexo s</h4><p>完成hexo-generator-searchdb的插件安装与配置之后，重启服务。重启之后查看blog首页sidebar多出一个**🔍搜索**功能，点进去查看，如果能实现搜索功能，那么恭喜你，你的功能已经没问题。<br><img src="/articles/21643/search_sidebar.png"></p><h4 id="6、遇到问题"><a href="#6、遇到问题" class="headerlink" title="6、遇到问题"></a>6、遇到问题</h4><p>点击搜索，我发现我的搜索modal一直在转圈圈，<font size="5" color="red">根本停不下来</font>。<br><img src="/articles/21643/search_promble.png"></p><h4 id="7、解决问题"><a href="#7、解决问题" class="headerlink" title="7、解决问题"></a>7、解决问题</h4><p>网上找了许久解决办法，一般都是结束安装、配置，<a href="https://www.sqlsec.com/2017/12/hexosearch.html">hexosearch</a>这篇文章提供了一个解决思路与方法，我在这里大致讲述一下：</p><ul><li>直接访问博客地址search.xml：<a href="http://127.0.0.1:8888/search.xml">http://127.0.0.1:8888/search.xml</a></li><li>发现错误提示<br><img src="/articles/21643/search_error.png"></li><li>打开控制台查看原因<br><img src="/articles/21643/search_console.png"></li><li>查看提示错误提示以及console查看具体位置，具体错误的会有小红点（<font size="4" color="red"><strong>•••••</strong></font>），找到具体对应的md文章，清除特殊字符。</li><li>全部特殊字符处理完之后，重新：<em><strong>hexo g &amp;&amp; hexo s</strong></em>。</li></ul><p>不出意外，你的**🔍搜索**已经可以用了，有问题可以在sidebar留言板留言共同交流分享。</p><h4 id="8、学习"><a href="#8、学习" class="headerlink" title="8、学习"></a>8、学习</h4><p>Next local search：<a href="https://github.com/iissnan/hexo-theme-next/pull/694">https://github.com/iissnan/hexo-theme-next/pull/694</a><br>hexo-generator-searchdb官方：<a href="https://github.com/theme-next/hexo-generator-searchdb">https://github.com/theme-next/hexo-generator-searchdb</a><br>hexosearch：<a href="https://www.sqlsec.com/2017/12/hexosearch.html">https://www.sqlsec.com/2017/12/hexosearch.html</a></p><h4 id="9、感谢"><a href="#9、感谢" class="headerlink" title="9、感谢"></a>9、感谢</h4><p><font size="5" color="red">感谢Hexo、Next、以及解决我问题的博主：国光</font>，推荐一下国光博主的博客：<a href="https://www.sqlsec.com/">https://www.sqlsec.com/</a></p>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Hexo插件</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python爬虫利器之requests(上篇)</title>
    <link href="/articles/34296/"/>
    <url>/articles/34296/</url>
    
    <content type="html"><![CDATA[<span class="label label-default">Python包</span> <span class="label label-primary">requests</span> <span class="label label-success">爬虫教程系列</span> <h3 id="1、背景"><a href="#1、背景" class="headerlink" title="1、背景"></a>1、背景</h3><p>身为一位程序员，没事的时候爬爬糗百笑话、淘宝女郎、小片片。。。。。。有点邪恶了。反正关于<font color='red' size=6.5>爬虫</font>，相信很多人都不陌生，本人没事的时候也写写爬虫的小项目，写过<em><strong>天气报警、糗百笑话、美女图片。。。。。。</strong></em>，后续会在博客中挑选个例子写出来。</p><span id="more"></span><p>关于数据采集，用Python去写爬虫程序，主要涉及2个主要的Package：<em><strong>Requests &amp;&amp; BeautifulSoup</strong></em>。</p><table><thead><tr><th align="center">包名</th><th align="center">功能说明</th></tr></thead><tbody><tr><td align="center">Requests</td><td align="center">HTTP获取源数据</td></tr><tr><td align="center">BeautifulSoup</td><td align="center">解析 &amp;&amp; 获取目标数据</td></tr></tbody></table><p>关于这2个爬虫利器分为上下篇进行讲解，本篇先介绍<em><strong>Requests</strong></em>，主要功能是进行数据的获取。</p><hr /><h3 id="2、简介"><a href="#2、简介" class="headerlink" title="2、简介"></a>2、简介</h3><p>官方原话：</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs applescript">The requests library <span class="hljs-keyword">is</span> <span class="hljs-keyword">the</span> de facto standard <span class="hljs-keyword">for</span> making HTTP requests <span class="hljs-keyword">in</span> Python.<br>It abstracts <span class="hljs-keyword">the</span> complexities <span class="hljs-keyword">of</span> making requests <span class="hljs-keyword">behind</span> a beautiful,<br>simple API so <span class="hljs-keyword">that</span> you can focus <span class="hljs-keyword">on</span> interacting <span class="hljs-keyword">with</span> services <span class="hljs-keyword">and</span><br>consuming data <span class="hljs-keyword">in</span> your <span class="hljs-built_in">application</span>.<br></code></pre></td></tr></table></figure><p>简要内容：<strong>Requests</strong>是一个很实用的<em><strong>Python HTTP</strong></em>客户端库，主要用于<strong>API</strong>请求。</p><h3 id="3、安装"><a href="#3、安装" class="headerlink" title="3、安装"></a>3、安装</h3><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">pip <span class="hljs-keyword">install</span> requests<br></code></pre></td></tr></table></figure><p>如果不指定版本，会自动安装最新的版本，有不熟悉<em><strong>pip</strong></em>的请自行进行恶补。</p><h3 id="4、源码说明"><a href="#4、源码说明" class="headerlink" title="4、源码说明"></a>4、源码说明</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs vim">def request(method, url, **kwargs):<br>    <span class="hljs-string">&quot;&quot;</span><span class="hljs-comment">&quot;Constructs and sends a :class:`Request &lt;Request&gt;`.</span><br><br>    :param method: method <span class="hljs-keyword">for</span> the <span class="hljs-keyword">new</span> :class:`Request` object.<br>    :param url: URL <span class="hljs-keyword">for</span> the <span class="hljs-keyword">new</span> :class:`Request` object.<br>    :param params: (optional) Dictionary <span class="hljs-built_in">or</span> bytes <span class="hljs-keyword">to</span> <span class="hljs-keyword">be</span> sent in the query <span class="hljs-built_in">string</span> <span class="hljs-keyword">for</span> the :class:`Request`.<br>    :param data: (optional) Dictionary, bytes, <span class="hljs-built_in">or</span> <span class="hljs-keyword">file</span>-like object <span class="hljs-keyword">to</span> send in the body of the :class:`Request`.<br>    :param json: (optional) json data <span class="hljs-keyword">to</span> send in the body of the :class:`Request`.<br>    :param headers: (optional) Dictionary of HTTP Headers <span class="hljs-keyword">to</span> send with the :class:`Request`.<br>    :param cookies: (optional) Dict <span class="hljs-built_in">or</span> CookieJar object <span class="hljs-keyword">to</span> send with the :class:`Request`.<br>    :param <span class="hljs-keyword">files</span>: (optional) Dictionary of ``<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-keyword">file</span>-like-objects`` (<span class="hljs-built_in">or</span> ``&#123;<span class="hljs-string">&#x27;name&#x27;</span>: (<span class="hljs-string">&#x27;filename&#x27;</span>, fileobj)&#125;``) <span class="hljs-keyword">for</span> multipart encoding upload.<br>    :param auth: (optional) Auth tuple <span class="hljs-keyword">to</span> enable Basic/Digest/Custom HTTP Auth.<br>    :param timeout: (optional) How long <span class="hljs-keyword">to</span> wait <span class="hljs-keyword">for</span> the server <span class="hljs-keyword">to</span> send data<br>        before giving <span class="hljs-keyword">up</span>, <span class="hljs-keyword">as</span> <span class="hljs-keyword">a</span> float, <span class="hljs-built_in">or</span> <span class="hljs-keyword">a</span> (`connect timeout, <span class="hljs-keyword">read</span> timeout<br>        &lt;user/advanced.html#timeouts&gt;`_) tuple.<br>    :<span class="hljs-built_in">type</span> timeout: float <span class="hljs-built_in">or</span> tuple<br>    :param allow_redirects: (optional) Boolean. Set <span class="hljs-keyword">to</span> True <span class="hljs-keyword">if</span> POST/PUT/DELETE redirect following <span class="hljs-keyword">is</span> allowed.<br>    :<span class="hljs-built_in">type</span> allow_redirects: bool<br>    :param proxies: (optional) Dictionary mapping protocol <span class="hljs-keyword">to</span> the URL of the proxy.<br>    :param verify: (optional) <span class="hljs-keyword">if</span> ``True``, the SSL cert will <span class="hljs-keyword">be</span> verified. A CA_BUNDLE path can also <span class="hljs-keyword">be</span> provided.<br>    :param stream: (optional) <span class="hljs-keyword">if</span> ``False``, the response content will <span class="hljs-keyword">be</span> immediately downloaded.<br>    :param cert: (optional) <span class="hljs-keyword">if</span> String, path <span class="hljs-keyword">to</span> ssl client cert <span class="hljs-keyword">file</span> (.pem). If Tuple, (<span class="hljs-string">&#x27;cert&#x27;</span>, <span class="hljs-string">&#x27;key&#x27;</span>) pair.<br>    :<span class="hljs-keyword">return</span>: :class:`Response <span class="hljs-symbol">&lt;Response&gt;</span>` object<br>    :rtype: requests.Response<br>    <br>    Usage::<br>    <br>      &gt;&gt;&gt; import requests<br>      &gt;&gt;&gt; req = requests.request(<span class="hljs-string">&#x27;GET&#x27;</span>, <span class="hljs-string">&#x27;http://httpbin.org/get&#x27;</span>)<br>      &lt;Response [<span class="hljs-number">200</span>]&gt;<br>    <span class="hljs-string">&quot;&quot;</span><span class="hljs-comment">&quot;</span><br></code></pre></td></tr></table></figure><p>以上代码是Requests包中运用方法的核心，写代码多看看<font color='red' size=6.5>源码</font>，提高代码的质量，很重要。<br>上面的方法是关于HTTP请求的核心方法，挑重点说，方法的参数很多。其中<em><strong>method</strong></em>代表HTTP请求的方式，GET、POST等等；<em><strong>url</strong></em>代表请求的地址；<em><strong>kwargs</strong></em>代表不限参数，但是在注释中罗列了一些重要的参数，查看以你发现，其中这些参数都是关于<em><strong>HTTP协议</strong></em>用到的数据。参数的具体请自动查看源码，下面也会针对于常用的参数进行demo举例。</p><h3 id="5、使用教程"><a href="#5、使用教程" class="headerlink" title="5、使用教程"></a>5、使用教程</h3><p>HTTP协议请求方式主要有：GET、POST、HEAD、OPTIONS、PUT、PATCH、DELETE、TRACE和CONNECT方法。虽然方法很多，但是工作中常用的只有<font size=5 color='red'>GET</font>与<font size=5 color='blue'>POST</font>。<br>本人主要对<em><strong>Requests</strong></em>进行介绍，关于HTTP协议的相关知识这个不做过多讲解。</p><h4 id="5-1、无参"><a href="#5-1、无参" class="headerlink" title="5.1、无参"></a>5.1、无参</h4><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs makefile">import requests<br><br><br>url = <span class="hljs-string">&quot;https://gis90.github.io/&quot;</span><br><br><span class="hljs-comment"># GET</span><br>response = requests.get(url)<br><br><span class="hljs-comment"># POST</span><br>response = requests.post(url)<br></code></pre></td></tr></table></figure><pre><code class="hljs">最简单的HTTP请求。</code></pre><h4 id="5-2、有参"><a href="#5-2、有参" class="headerlink" title="5.2、有参"></a>5.2、有参</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import json<br>import requests<br><br><br>url = <span class="hljs-string">&quot;https://gis90.github.io/&quot;</span><br>payload = &#123;<span class="hljs-string">&quot;key&quot;</span>: <span class="hljs-string">&quot;value&quot;</span>&#125;<br><br><span class="hljs-comment"># GET</span><br>response = requests.<span class="hljs-built_in">get</span>(<span class="hljs-attribute">url</span>=url, <span class="hljs-attribute">params</span>=payload)<br><br><span class="hljs-comment"># POST</span><br>response = requests.post(<span class="hljs-attribute">url</span>=url, <span class="hljs-attribute">data</span>=payload)<br></code></pre></td></tr></table></figure><p>GET方法的params参数实际就是url中的参数，使用GET方法可以把参数直接封装在url中，也可以把参数封装起来传递到request方法中。<br>    POST方式的参数就是form表单提交的参数。</p><h4 id="5-3、json数据"><a href="#5-3、json数据" class="headerlink" title="5.3、json数据"></a>5.3、json数据</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import json<br>import requests<br><br><span class="hljs-comment"># headers中添加上content-type这个参数，指定为json格式</span><br>headers = &#123;<span class="hljs-string">&#x27;Content-Type&#x27;</span>: <span class="hljs-string">&#x27;application/json&#x27;</span>&#125;<br><span class="hljs-comment"># post的时候，将data字典形式的参数用json包转换成json格式。</span><br>payload = &#123;<span class="hljs-string">&quot;key&quot;</span>: <span class="hljs-string">&quot;value&quot;</span>&#125;<br>payload = json.dumps(payload)<br>url = <span class="hljs-string">&quot;https://gis90.github.io/&quot;</span><br><br><span class="hljs-comment"># POST</span><br>response = requests.post(<span class="hljs-attribute">url</span>=url, <span class="hljs-attribute">headers</span>=headers, <span class="hljs-attribute">data</span>=payload)<br></code></pre></td></tr></table></figure><p>POST可传递json数据，需要在headers里指定数据的类型。</p><h4 id="5-4、文件"><a href="#5-4、文件" class="headerlink" title="5.4、文件"></a>5.4、文件</h4><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs vim">import requests<br><br><span class="hljs-keyword">files</span> = &#123;<span class="hljs-string">&#x27;file&#x27;</span>: <span class="hljs-keyword">open</span>(<span class="hljs-string">&#x27;report.xls&#x27;</span>, <span class="hljs-string">&#x27;rb&#x27;</span>)&#125;<br>url = <span class="hljs-string">&quot;https://gis90.github.io/&quot;</span><br><br>r = requests.post(url, <span class="hljs-keyword">files</span>=<span class="hljs-keyword">files</span>)<br></code></pre></td></tr></table></figure><p>把文件读取到内存中，在以流的形式传递出去。</p><h4 id="5-5、请求头"><a href="#5-5、请求头" class="headerlink" title="5.5、请求头"></a>5.5、请求头</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import json<br>import requests<br><br><br>url = <span class="hljs-string">&quot;https://gis90.github.io/&quot;</span><br>payload = &#123;<span class="hljs-string">&quot;key&quot;</span>: <span class="hljs-string">&quot;value&quot;</span>&#125;<br>headers = &#123;<span class="hljs-string">&quot;user-agent&quot;</span>: <span class="hljs-string">&quot;my-app/0.0.1&quot;</span>&#125;<br><br><span class="hljs-comment"># GET</span><br>response = requests.<span class="hljs-built_in">get</span>(<span class="hljs-attribute">url</span>=url,<br>                        <span class="hljs-attribute">params</span>=payload,<br>                        <span class="hljs-attribute">headers</span>=headers)<br><br><span class="hljs-comment"># POST</span><br>response = requests.post(<span class="hljs-attribute">url</span>=url,<br>                         <span class="hljs-attribute">data</span>=json.dumps(payload)<br>                         <span class="hljs-attribute">headers</span>=headers)<br></code></pre></td></tr></table></figure><p>所有的header值必须是string、bytestring或者unicode。</p><h4 id="5-6、Cookie"><a href="#5-6、Cookie" class="headerlink" title="5.6、Cookie"></a>5.6、Cookie</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import requests<br><br><br>url = <span class="hljs-string">&quot;https://gis90.github.io/&quot;</span><br><span class="hljs-comment"># 第一种</span><br>cookies_1 = dict(<span class="hljs-attribute">key_1</span>=<span class="hljs-string">&#x27;value_1&#x27;</span>)<br>response = requests.<span class="hljs-built_in">get</span>(url, <span class="hljs-attribute">cookies</span>=cookies_1)<br><span class="hljs-comment"># 第二种</span><br>cookies_2 = requests.cookies.RequestsCookieJar()<br>cookies_2 = jar.<span class="hljs-built_in">set</span>(<span class="hljs-string">&#x27;key_2&#x27;</span>, <span class="hljs-string">&#x27;value_2&#x27;</span>, <span class="hljs-attribute">domain</span>=url, <span class="hljs-attribute">path</span>=<span class="hljs-string">&#x27;/cookies&#x27;</span>)<br>r = requests.<span class="hljs-built_in">get</span>(url, <span class="hljs-attribute">cookies</span>=cookies_2)<br><br><span class="hljs-comment"># 查看cookies信息以及类型</span><br><span class="hljs-built_in">print</span> response.cookies, type(response.cookies)<br></code></pre></td></tr></table></figure><p>demo中给出了2种set cookies的方式，用第一种的较多，其中输出的cookies是一个<em><strong>requests.cookies.RequestsCookieJar对象</strong></em>。</p><h4 id="5-7、-timeout"><a href="#5-7、-timeout" class="headerlink" title="5.7、 timeout"></a>5.7、 timeout</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import requests<br><br><br>url = <span class="hljs-string">&quot;https://gis90.github.io/&quot;</span><br>response = requests.<span class="hljs-built_in">get</span>(url, <span class="hljs-attribute">timeout</span>=5)<br></code></pre></td></tr></table></figure><p>请求时间，可选参数。以设定参数timeout秒数时间之后停止等待响应，超过这个实际会停止对服务端的请求，如果是一般的restful api接口也就是几百毫秒的响应时间，如果是大数据量可以设置长一点，默认是无限制。<br>建议最好，设定一个值，这样请求timeout之后，也会报异常，对异常进行捕捉可以对方法进行监控报警，知道程序是否出现异常状况，时间根据对方的接口而定，建议60 ～ 120，单位：秒。</p><h4 id="5-8、allow-redirects"><a href="#5-8、allow-redirects" class="headerlink" title="5.8、allow_redirects"></a>5.8、allow_redirects</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import requests<br><br><br>url = <span class="hljs-string">&quot;https://gis90.github.io/&quot;</span><br>response = requests.<span class="hljs-built_in">get</span>(url, <span class="hljs-attribute">allow_redirects</span>=<span class="hljs-literal">False</span>)<br></code></pre></td></tr></table></figure><p>参数之一，允许请求重定向，默认值是True，所以这个参数只有有不允许重定向需求的时候采用得到。<br><strong>HTTP重定向</strong>：服务器无法处理本次发送过来的request请求，服务器会返回一个新的url让客户端可以进行跳转，客户端会自动访问该url地址，但是在客户端是无法分辨是否重定向了， 重定向的状态码是<strong>3XX</strong>，关于状态码下面有粗略的介绍。</p><h4 id="5-9、-RESPONSE"><a href="#5-9、-RESPONSE" class="headerlink" title="5.9、 RESPONSE"></a>5.9、 RESPONSE</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import requests<br><br><br>data = &#123;<span class="hljs-string">&#x27;key&#x27;</span>: <span class="hljs-string">&#x27;value&#x27;</span>&#125;<br>response = requests.<span class="hljs-built_in">get</span>(<span class="hljs-attribute">url</span>=<span class="hljs-string">&#x27;https://gis90.github.io/&#x27;</span>, <span class="hljs-attribute">data</span>=data)<br><br><span class="hljs-comment"># 请求地址</span><br><span class="hljs-built_in">print</span> response.url<br><span class="hljs-comment"># 响应状态码</span><br><span class="hljs-built_in">print</span> response.status_code<br><span class="hljs-comment"># 响应头</span><br><span class="hljs-built_in">print</span> response.headers<br><span class="hljs-comment"># 文本编码</span><br><span class="hljs-built_in">print</span> response.encoding<br><span class="hljs-comment"># 字符串格式响应内容</span><br><span class="hljs-built_in">print</span> response.text<br><span class="hljs-comment"># 二进制格式响应内容</span><br><span class="hljs-built_in">print</span> response.content<br><span class="hljs-comment"># json格式响应内容</span><br><span class="hljs-built_in">print</span> response.json()<br><span class="hljs-comment"># 原始套接字响应内容</span><br><span class="hljs-built_in">print</span> response.raw<br><span class="hljs-comment"># cookie信息</span><br><span class="hljs-built_in">print</span> response.cookies<br></code></pre></td></tr></table></figure><p>总结一下需要说明得点。</p><blockquote><p>状态码</p></blockquote><pre><code class="hljs">    <table>      <tr>        <th style="text-align:center;">类型</th>        <th style="text-align:center;">描述</th>      </tr>      <tr>        <td style="text-align:center;">1**</td>        <td style="text-align:center;">信息，服务器收到请求，需要请求者继续执行操作</td>      </tr>      <tr>        <td style="text-align:center;">2**</td>        <td style="text-align:center;">成功，操作被成功接收并处理</td>      </tr>      <tr>        <td style="text-align:center;">3**</td>        <td style="text-align:center;">重定向，需要进一步的操作以完成请求</td>      </tr>      <tr>        <td style="text-align:center;">4**</td>        <td style="text-align:center;">客户端错误，请求包含语法错误或无法完成请求</td>      </tr>      <tr>        <td style="text-align:center;">5**</td>        <td style="text-align:center;">服务器错误，服务器在处理请求的过程中发生了错误</td>      </tr>    </table>    </code></pre><blockquote><p>响应头</p></blockquote><pre><code class="hljs">返回来的headers是一个***requests.structures.CaseInsensitiveDict对象***，但是直接可以用dict字典的方式进行数据获取。</code></pre><blockquote><p>text与content</p></blockquote><pre><code class="hljs">text与content都是返回网页的内容，唯一的区别：content是字节码，而text的内容编码是字符串。</code></pre><blockquote><p>cookies</p></blockquote><pre><code class="hljs">cookies在上面有详细说明。</code></pre><h3 id="6、学习参考"><a href="#6、学习参考" class="headerlink" title="6、学习参考"></a>6、学习参考</h3><p>Requests官方：<a href="https://realpython.com/python-requests/">https://realpython.com/python-requests/</a><br>快速上手（中文版）：<a href="https://cn.python-requests.org/zh_CN/latest/user/quickstart.html">https://cn.python-requests.org/zh_CN/latest/user/quickstart.html</a><br>快速上手（高阶版）：<a href="https://cn.python-requests.org//zh_CN/latest/">https://cn.python-requests.org//zh_CN/latest/</a></p><h3 id="7、特别技巧"><a href="#7、特别技巧" class="headerlink" title="7、特别技巧"></a>7、特别技巧</h3><div class="note note-danger">            <p>Postman工具，相信做开发没有几个人不知道，它的最大用处就是用来实现各种HTTP请求。</p><p>今天在这里教大家一个技巧，如果使用requests包去模拟HTTP请求失败的话，就用Postman工具去请求，毕竟是可视化的工具，参数、cookies、headers等等比较好设置，只要在Postman上成功实现了请求，使用下图的功能，就可以查看关于请求的相关代码，很方便。</p><p>Postman下载地址：<a href="https://www.getpostman.com/">https://www.getpostman.com/</a></p>          </div><p><img src="/articles/34296/postman.png"></p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Python包</tag>
      
      <tag>爬虫系列</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>北京美食计划【2019-06】</title>
    <link href="/articles/13876/"/>
    <url>/articles/13876/</url>
    
    <content type="html"><![CDATA[<p><font color="purple" size="7">带上媳妇向北京美食进军~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</font></p><span class="label label-default">旅行记</span> <span class="label label-primary">美食</span> <span class="label label-success">北京打卡</span> <span id="more"></span><hr /><p><img src="/articles/13876/article_beijing_eat_month.png"></p><p>2014年到北京，不知不觉已经度过5个夏天了，6、7月是我在北京奋斗的最后2个月，带上我媳妇向北京美食进军-&gt;</p><h4 id="必吃"><a href="#必吃" class="headerlink" title="必吃"></a>必吃</h4><table><thead><tr><th align="center">日期</th><th align="center">城市</th><th align="center">主题</th><th align="center">名称</th><th align="center">位置</th><th align="center">推荐指数</th><th>备注</th></tr></thead><tbody><tr><td align="center">2019-06-15~16</td><td align="center">北京</td><td align="center">自助餐</td><td align="center">第六季</td><td align="center">海淀区-紫竹桥</td><td align="center">🌟🌟🌟🌟🌟</td><td>美团推荐，帝都第一性价比最高的自助餐厅</td></tr><tr><td align="center">2019-06-22~23</td><td align="center">天津</td><td align="center">海鲜</td><td align="center">三个渔夫</td><td align="center">天津市-小白楼</td><td align="center">🌟🌟🌟🌟</td><td>海鲜美味</td></tr><tr><td align="center">2019-06-29~30</td><td align="center">北京</td><td align="center">特色：烤鸭</td><td align="center">全聚德</td><td align="center">朝阳区-朝阳北路</td><td align="center">🌟🌟🌟🌟🌟</td><td>北京传统特色</td></tr></tbody></table><h4 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h4><table><thead><tr><th align="center">主题</th><th align="center">名称</th><th align="center">位置</th><th align="center">推荐指数</th><th align="left">备注</th></tr></thead><tbody><tr><td align="center">中关村食宝街</td><td align="center">小吃</td><td align="center">北京-海淀区-中关村-新中关购物大厦</td><td align="center">🌟🌟🌟🌟</td><td align="left">食宝街各种特色小吃与各种主题餐厅</td></tr><tr><td align="center">牛羊肉</td><td align="center">牛街</td><td align="center">北京-广安门内大街</td><td align="center">🌟🌟🌟🌟</td><td align="left">清真牛羊肉美食、小吃绝对正宗，特别推荐一下麻豆腐</td></tr><tr><td align="center">小龙虾</td><td align="center">麻辣诱惑</td><td align="center">北京-西单-君太百货</td><td align="center">🌟🌟🌟🌟</td><td align="left">小龙虾做的确实棒</td></tr><tr><td align="center">日料</td><td align="center">大渔铁板烧</td><td align="center">北京-海淀区-中关村</td><td align="center">🌟🌟🌟</td><td align="left">美团推荐人气第一(自助245)、6店通用</td></tr><tr><td align="center">日料</td><td align="center">德川家日本料理（中关村店）</td><td align="center">北京-海淀区-中关村</td><td align="center">🌟🌟🌟</td><td align="left">美团推荐人气第二(自助196)、11店通用</td></tr></tbody></table><h4 id="个人观点"><a href="#个人观点" class="headerlink" title="个人观点"></a>个人观点</h4><p>网上很多人推荐护国寺、南锣鼓巷、王府井等，本人去吃过味道没那么好吃，纯属到北京旅游慕名而去，不推荐，但是护国寺、南锣鼓巷小吃价格方面还是很适合大众的。但是想见识一下北京老的胡同、四合院可以去南锣鼓巷看下，确实很不错。</p>]]></content>
    
    
    <categories>
      
      <category>生活记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>旅行记</tag>
      
      <tag>美食</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>我的英雄学院</title>
    <link href="/articles/16168/"/>
    <url>/articles/16168/</url>
    
    <content type="html"><![CDATA[<span class="label label-default">动漫</span> <span class="label label-primary">励志</span> <span class="label label-success">成长</span> <span class="label label-danger">热血</span><span id="more"></span><hr /><div class="note note-success">            <p><font size="4" color="red"><strong>简介</strong></font><br>喜欢**《火影忍者》、《海贼王》**等热血动漫的你，这个也是你的菜。</p>          </div><blockquote><p>推荐指数</p></blockquote><pre><code class="hljs">⭐️⭐️⭐️⭐️⭐️</code></pre><blockquote><p>人物角色</p></blockquote><p>主角：<a href="https://baike.baidu.com/item/%E7%BB%BF%E8%B0%B7%E5%87%BA%E4%B9%85/16302755"><em><strong>绿谷出久</strong></em></a></p><blockquote><p>主线剧情</p></blockquote><p>动画版共分3季。</p><ul><li><p>第一季<br>主角是一位没有”个性”的人【个性：说白了就是超能力】，机缘巧合相遇英雄欧尔麦特【最强王者】，获得<em><strong>One For All</strong></em> 的力量，命运从此发生改变。少年通过自己的努力，获取英雄高校雄英高校英雄科资格。</p></li><li><p>第二季<br>主角成功进入了雄英高中入学，与英雄科1年A班的同学们一起在互相学习并进步。在这种情况下，主角在“体育祭”活动中崭露头角。</p></li><li><p>第三季<br><em><strong>观看中</strong></em></p></li></ul><blockquote><p>观后感</p></blockquote><p><em><strong><font color="#dd0000" size="5">热血的青春</font></strong></em></p>]]></content>
    
    
    <categories>
      
      <category>影视说</category>
      
    </categories>
    
    
    <tags>
      
      <tag>动漫</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo+Next添加TagCloud</title>
    <link href="/articles/43239/"/>
    <url>/articles/43239/</url>
    
    <content type="html"><![CDATA[<h4 id="1、背景"><a href="#1、背景" class="headerlink" title="1、背景"></a>1、背景</h4><div class="note note-success">            <p>偶然机会在一篇博客上发现TagCloud（启明博客忘记了），效果觉得不错，如上图，而且点击tag直接跳转到对应tag的文章列表，决定在自己的博客中也加上TagClooud。</p>          </div><span id="more"></span><hr /><p><img src="/articles/43239/article_tagcloud.gif"></p><h4 id="2、版本"><a href="#2、版本" class="headerlink" title="2、版本"></a>2、版本</h4><table><thead><tr><th align="center">id</th><th align="center">name</th><th align="center">version</th><th align="center">remark</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">Hexo</td><td align="center">v3.8.0</td><td align="center">系统版本</td></tr><tr><td align="center">2</td><td align="center">NextT.Pisces</td><td align="center">v7.0.1</td><td align="center">主题版本</td></tr></tbody></table><h4 id="3、正文"><a href="#3、正文" class="headerlink" title="3、正文"></a>3、正文</h4><p>实现TagCloud主要用到了<em><strong>hexo-tag-cloud</strong></em>插件，下面详细介绍一下实现过程。</p><blockquote><p>安装hexo-tag-cloud<br>在blog根目录，执行以下命令：</p></blockquote><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">npm <span class="hljs-keyword">install </span>hexo-tag-<span class="hljs-keyword">cloud </span>--save<br></code></pre></td></tr></table></figure><p>执行完之后，在根目录的<em><strong>package.json</strong></em>文件中会自动加入安装的插件以及对应版本。</p><blockquote><p>sidebar.swig文件修改</p></blockquote><p>找到<em><strong>blog&#x2F;theme&#x2F;next&#x2F;layout&#x2F;_custom&#x2F;sidebar.swig</strong></em>文件，添加下列代码到文件中。</p><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs django"><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">if</span></span> site.tags.length &gt; 1 %&#125;</span><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;/js/tagcloud.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;/js/tagcanvas.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;widget-wrap&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h4</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;widget-title&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;font-size:20px;text-align:center;color:#0080FF;margin:20px 0 0px;&quot;</span>&gt;</span>Tag Cloud<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;myCanvasContainer&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;widget tagcloud&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;font-size:20px;&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;220&quot;</span> <span class="hljs-attr">height</span>=<span class="hljs-string">&quot;200&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;resCanvas&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width=100%&quot;</span>&gt;</span></span><br><span class="language-xml">            </span><span class="hljs-template-variable">&#123;&#123; list_tags() &#125;&#125;</span><span class="language-xml"></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">endif</span></span> %&#125;</span><br></code></pre></td></tr></table></figure><p>也可以自定义Tag Cloud标题，加入自定义的样式。</p><blockquote><p>重启server</p></blockquote><p>执行完1、2步之后，需要重启服务，刷新主页，在sidebar处就会看见TagCloud。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css">hexo <span class="hljs-selector-tag">g</span><br>hexo s<br></code></pre></td></tr></table></figure><blockquote><p>Next配置文件</p></blockquote><p>在Next主题的_config.yml中，搜索<em><strong>tagcloud</strong></em>，发现一下代码：</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-comment"># TagCloud settings for tags page.</span><br><span class="hljs-params">tagcloud:</span><br>  <span class="hljs-comment"># If true, font size, font color and amount of tags can be customized</span><br>  <span class="hljs-params">enable:</span> <span class="hljs-literal">true</span><br><br>  <span class="hljs-comment"># All values below are same as default, change them by yourself</span><br>  <span class="hljs-params">min:</span> <span class="hljs-number">12</span> <span class="hljs-comment"># min font size in px</span><br>  <span class="hljs-params">max:</span> <span class="hljs-number">36</span> <span class="hljs-comment"># max font size in px</span><br>  <span class="hljs-params">start:</span> <span class="hljs-string">&quot;#ccc&quot;</span> <span class="hljs-comment"># start color (hex, rgba, hsla or color keywords)</span><br>  <span class="hljs-params">end:</span> <span class="hljs-string">&quot;#111&quot;</span> <span class="hljs-comment"># end color (hex, rgba, hsla or color keywords)</span><br>  <span class="hljs-params">amount:</span> <span class="hljs-number">80</span> <span class="hljs-comment"># amount of tags, chage it if you have more than 200 tags</span><br></code></pre></td></tr></table></figure><p>看配置信息是TagCloud的相关配置信息，但是配置了之后，我发现TagCloud没有做出相应的变化。然而你打开自己的tags标签页，就会发现配置的在这里生效了。</p><h4 id="4、样式"><a href="#4、样式" class="headerlink" title="4、样式"></a>4、样式</h4><p>生成tag cloud之后，样式比较难看，但是在custome.styl文件加入自定义的样式，不生效。。。。。。郁闷，于是查看源码。<br>tagcloud.js：blog&#x2F;node_modules&#x2F;hexo-tag-cloud&#x2F;lib&#x2F;tagcloud.js<br>tagcanvas.js：blog&#x2F;node_modules&#x2F;hexo-tag-cloud&#x2F;lib&#x2F;tagcanvas.js<br>查看tagcloud.js文件，里面有需要的样式参数，修改参数重启服务即可。<br>我的自定义样式如下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><br><span class="hljs-variable language_">window</span>.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">try</span> &#123;<br>        <span class="hljs-title class_">TagCanvas</span>.<span class="hljs-property">textFont</span> = <span class="hljs-string">&#x27;Brush Script MT&#x27;</span>;<br>        <span class="hljs-title class_">TagCanvas</span>.<span class="hljs-property">textColour</span> = <span class="hljs-string">&#x27;black&#x27;</span>;<br>        <span class="hljs-title class_">TagCanvas</span>.<span class="hljs-property">textHeight</span> = <span class="hljs-number">16</span>;<br>        <span class="hljs-title class_">TagCanvas</span>.<span class="hljs-property">outlineMethod</span> = <span class="hljs-string">&#x27;block&#x27;</span>;<br>        <span class="hljs-title class_">TagCanvas</span>.<span class="hljs-property">outlineColour</span> = <span class="hljs-string">&#x27;cornflowerblue&#x27;</span>;<br>        <span class="hljs-title class_">TagCanvas</span>.<span class="hljs-property">maxSpeed</span> = <span class="hljs-number">0.03</span>;<br>        <span class="hljs-title class_">TagCanvas</span>.<span class="hljs-property">minBrightness</span> = <span class="hljs-number">0.2</span>;<br>        <span class="hljs-title class_">TagCanvas</span>.<span class="hljs-property">depth</span> = <span class="hljs-number">0.92</span>;<br>        <span class="hljs-title class_">TagCanvas</span>.<span class="hljs-property">pulsateTo</span> = <span class="hljs-number">0.6</span>;<br>        <span class="hljs-title class_">TagCanvas</span>.<span class="hljs-property">initial</span> = [<span class="hljs-number">0.1</span>,-<span class="hljs-number">0.1</span>];<br>        <span class="hljs-title class_">TagCanvas</span>.<span class="hljs-property">decel</span> = <span class="hljs-number">0.98</span>;<br>        <span class="hljs-title class_">TagCanvas</span>.<span class="hljs-property">reverse</span> = <span class="hljs-literal">true</span>;<br>        <span class="hljs-title class_">TagCanvas</span>.<span class="hljs-property">hideTags</span> = <span class="hljs-literal">false</span>;<br>        <span class="hljs-title class_">TagCanvas</span>.<span class="hljs-property">shadow</span> = <span class="hljs-string">&#x27;#ccf&#x27;</span>;<br>        <span class="hljs-title class_">TagCanvas</span>.<span class="hljs-property">shadowBlur</span> = <span class="hljs-number">3</span>;<br>        <span class="hljs-title class_">TagCanvas</span>.<span class="hljs-property">weight</span> = <span class="hljs-literal">false</span>;<br>        <span class="hljs-title class_">TagCanvas</span>.<span class="hljs-property">imageScale</span> = <span class="hljs-literal">null</span>;<br>        <span class="hljs-title class_">TagCanvas</span>.<span class="hljs-property">fadeIn</span> = <span class="hljs-number">1000</span>;<br>        <span class="hljs-title class_">TagCanvas</span>.<span class="hljs-property">clickToFront</span> = <span class="hljs-number">600</span>;<br>        <span class="hljs-title class_">TagCanvas</span>.<span class="hljs-title class_">Start</span>(<span class="hljs-string">&#x27;resCanvas&#x27;</span>);<br>        <span class="hljs-title class_">TagCanvas</span>.<span class="hljs-property">tc</span>[<span class="hljs-string">&#x27;resCanvas&#x27;</span>].<span class="hljs-title class_">Wheel</span>(<span class="hljs-literal">false</span>)<br>    &#125; <span class="hljs-keyword">catch</span>(e) &#123;<br>        <span class="hljs-comment">// console.log(e);</span><br>        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;myCanvasContainer&#x27;</span>).<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">&#x27;none&#x27;</span>;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>console.log我给注释掉了，这样控制台就看不到了。</p><p><font color="red" size="5">记住，要重启服务。</font></p><h4 id="5、学习"><a href="#5、学习" class="headerlink" title="5、学习"></a>5、学习</h4><p>hexo-tag-cloud官方：<a href="https://github.com/MikeCoder/hexo-tag-cloud">https://github.com/MikeCoder/hexo-tag-cloud</a></p>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Hexo插件</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo+Next搜索优化（二）博客优化</title>
    <link href="/articles/62177/"/>
    <url>/articles/62177/</url>
    
    <content type="html"><![CDATA[<span class="label label-danger">Hexo</span> <span class="label label-info">SEO优化系列</span> <span class="label label-success">博客优化</span> <h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><div class="note note-primary">            <p>前几天写了一篇关于博客在google搜索引擎上的优化，发现通过<em><strong>gis90 + 标题</strong></em>，还是可以搜出来的，但是直接通过标题去🔍搜索，还是搜不到什么东西，还得继续优化啊。</p>          </div><span id="more"></span><hr /><p>上网继续查资料，整理到一起。</p><h3 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h3><p>本文总结了主要从文章的关键字、url、配置等方面进行优化，提高搜索度。</p><blockquote><h4 id="关键字"><a href="#关键字" class="headerlink" title="关键字"></a>关键字</h4></blockquote><p>打开每一篇博客，增加<em><strong>keywords、desc</strong></em>，增加文章的搜索匹配，代码如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-meta">---</span><br><span class="hljs-attr">title:</span> <span class="hljs-string">Hexo+Next搜索优化（二）博客优化</span><br><span class="hljs-attr">comments:</span> <span class="hljs-literal">false</span><br><span class="hljs-attr">categories:</span><br>  <span class="hljs-bullet">-</span> [<span class="hljs-string">seo优化</span>]<br>  <span class="hljs-bullet">-</span> [<span class="hljs-string">Hexo</span>]<br><span class="hljs-attr">tags:</span> [<span class="hljs-string">Hexo</span>, <span class="hljs-string">seo优化</span>]<br><span class="hljs-attr">top:</span> <span class="hljs-literal">false</span><br><span class="hljs-attr">date:</span> <span class="hljs-number">2019-04-27 19:44:22</span><br><span class="hljs-attr">updated:</span> <span class="hljs-number">2019-04-27 19:44:22</span><br><span class="hljs-attr">desc:</span> <span class="hljs-string">Hexo+Next搜索优化（二）博客优化</span><br><span class="hljs-attr">keywords:</span> <span class="hljs-string">hexo,</span> <span class="hljs-string">seo,</span> <span class="hljs-string">google,</span> <span class="hljs-string">搜索</span><br><span class="hljs-meta">---</span><br></code></pre></td></tr></table></figure><div class="note note-info">            <p><font size="4"><strong>附加</strong></font></p><ul><li>可以打开<strong>blog&#x2F;scaffolds&#x2F;post.md</strong>文件，修改代码如下，一劳永逸。</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-meta">---</span><br><span class="hljs-attr">title:</span> <span class="hljs-string">Hexo+Next搜索优化（二）博客优化</span><br><span class="hljs-attr">desc:</span><br><span class="hljs-attr">date:</span> <span class="hljs-number">1552823062000</span><br><span class="hljs-attr">updated:</span> <span class="hljs-number">1552823062000</span><br><span class="hljs-attr">comments:</span> <span class="hljs-literal">false</span><br><span class="hljs-attr">categories:</span><br>  <span class="hljs-bullet">-</span> []<br><span class="hljs-attr">tags:</span> []<br><span class="hljs-attr">keywords:</span><br><span class="hljs-attr">top:</span> <span class="hljs-literal">false</span><br><span class="hljs-meta">---</span><br></code></pre></td></tr></table></figure>- 不要用***description***，会报错，可能是版本问题，我用的是***Hexo（v3.8.0）+ Next（v7.0.1）***。          </div><blockquote><h4 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h4></blockquote><p>打开Hexo的配置文件：<strong>blog&#x2F;_config.yml</strong>，搜索<font size="4" color="red"><em><strong>permalink</strong></em></font>，更改代码如下：</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs elixir"><span class="hljs-comment"># permalink: :year/:month/:day/:title/</span><br><span class="hljs-symbol">permalink:</span> <span class="hljs-symbol">:category/</span><span class="hljs-symbol">:title/</span><br></code></pre></td></tr></table></figure><div class="note note-info">            <p><font size="4"><strong>解释</strong></font><br>不更新配置之前，文章的默认链接一个四级url，形式是**:year&#x2F;:month&#x2F;:day&#x2F;:title&#x2F;<strong>，而且title会导致url过长，用</strong>:category&#x2F;:title&#x2F;**代替原配置，url的资源只有2级，对于搜索引擎会更加有好一些。</p>          </div><blockquote><h4 id="Hexo配置"><a href="#Hexo配置" class="headerlink" title="Hexo配置"></a>Hexo配置</h4></blockquote><p>打开Hexo的配置文件：<strong>blog&#x2F;_config.yml</strong>，搜索<font size="4" color="red"><em><strong>subtitle</strong></em></font>，补全站点的基本信息配置。</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs avrasm"><span class="hljs-symbol">title:</span>  <span class="hljs-meta">#标题</span><br><span class="hljs-symbol">subtitle:</span>  <span class="hljs-meta">#子标题</span><br><span class="hljs-symbol">description:</span> <span class="hljs-meta">#描述</span><br><span class="hljs-symbol">url:</span> <span class="hljs-meta">#url</span><br></code></pre></td></tr></table></figure><blockquote><h4 id="Next配置"><a href="#Next配置" class="headerlink" title="Next配置"></a>Next配置</h4></blockquote><p>打开Next的配置文件：<strong>blog&#x2F;themes&#x2F;next&#x2F;_config.yml</strong>，搜索<font size="4" color="red"><em><strong>SEO Settings</strong></em></font>，更改配置如下：</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-params">canonical:</span> <span class="hljs-literal">true</span><br><span class="hljs-params">seo:</span> <span class="hljs-literal">true</span><br><span class="hljs-params">index_with_subtitle:</span> <span class="hljs-literal">false</span><br><span class="hljs-params">baidu_push:</span> <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><p>具体的对应什么含义，自行查看配置文件解释。</p><div class="note note-info">            <p>特别说明：index_with_subtitle<br>在站点index所有页，是否显示Hexo站点设置的副标题，我觉得没什么作用，还影响样式，这个在我的配置中设置了false</p>          </div><blockquote><h4 id="首页标题优化Title"><a href="#首页标题优化Title" class="headerlink" title="首页标题优化Title"></a>首页标题优化Title</h4></blockquote><p>打开Next的指定文件：<strong>blog&#x2F;themes&#x2F;next&#x2F;layout&#x2F;index.swig</strong>，更改如下：</p><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs django"><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">block</span></span> title %&#125;</span><span class="language-xml"> </span><span class="hljs-template-variable">&#123;&#123; config.title &#125;&#125;</span><span class="language-xml"> </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">endblock</span></span> %&#125;</span><br></code></pre></td></tr></table></figure><p>改成</p><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs django"><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">block</span></span> title %&#125;</span><span class="language-xml"> </span><span class="hljs-template-variable">&#123;&#123; config.title &#125;&#125;</span><span class="language-xml"> - </span><span class="hljs-template-variable">&#123;&#123; config.keywords &#125;&#125;</span><span class="language-xml"> - </span><span class="hljs-template-variable">&#123;&#123; config.description &#125;&#125;</span><span class="language-xml"> </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">endblock</span></span> %&#125;</span><br></code></pre></td></tr></table></figure><div class="note note-info">            <p><font size="4"><strong>解释</strong></font><br>首页将文章的关键字、以及描述，增大搜索字的匹配率，这个只针对于首页，记住是首页、首页、首页。</p>          </div><blockquote><h4 id="每篇博文title、keywords、desc"><a href="#每篇博文title、keywords、desc" class="headerlink" title="每篇博文title、keywords、desc"></a>每篇博文title、keywords、desc</h4></blockquote><p>打开Next的指定文件：<strong>blog&#x2F;themes&#x2F;next&#x2F;layout&#x2F;_partials&#x2F;head&#x2F;head.swig</strong>，添加一下如下：</p><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs django"><span class="language-xml"><span class="hljs-comment">&lt;!-- title、keywords、desc关键字 --&gt;</span></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">if</span></span> page.title %&#125;</span><span class="language-xml"></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123; page.title &#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;title&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-variable">&#123;&#123; page.title &#125;&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span> /&gt;</span></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">endif</span></span> %&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">if</span></span> page.keywords %&#125;</span><span class="language-xml"></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;keywords&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-variable">&#123;&#123; page.keywords &#125;&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span> /&gt;</span></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">elif</span></span> page.tags and page.tags.length %&#125;</span><span class="language-xml"></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;keywords&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">for</span></span> tag <span class="hljs-keyword">in</span> page.tags %&#125;</span><span class="hljs-template-variable">&#123;&#123; tag.name &#125;&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">,</span></span></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">endfor</span></span> %&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span> /&gt;</span></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">elif</span></span> theme.keywords %&#125;</span><span class="language-xml"></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;keywords&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-variable">&#123;&#123; theme.keywords &#125;&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span> /&gt;</span></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">endif</span></span> %&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">if</span></span> page.desc %&#125;</span><span class="language-xml"></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;description&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-variable">&#123;&#123; page.desc &#125;&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span> /&gt;</span></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">endif</span></span> %&#125;</span><br></code></pre></td></tr></table></figure><div class="note note-info">            <p><font size="4"><strong>解释</strong></font><br>将增加每篇博文设置的title、keywords、desc，SEO优化重点之一，增大搜索字的匹配率。</p>          </div><blockquote><h4 id="添加robot-txt"><a href="#添加robot-txt" class="headerlink" title="添加robot.txt"></a>添加robot.txt</h4></blockquote><p>在blog&#x2F;public目录新建一个文件robot.txt，进行配置一下内容：</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-params">User-agent:</span> <span class="hljs-operator">*</span><br><span class="hljs-params">Allow:</span> <span class="hljs-symbol">/</span><br><span class="hljs-params">Allow:</span> <span class="hljs-operator">/</span>articles<span class="hljs-symbol">/</span><br><span class="hljs-params">Allow:</span> <span class="hljs-operator">/</span>archives<span class="hljs-symbol">/</span><br><span class="hljs-params">Allow:</span> <span class="hljs-operator">/</span>categories<span class="hljs-symbol">/</span><br><span class="hljs-params">Allow:</span> <span class="hljs-operator">/</span>tags<span class="hljs-symbol">/</span><br><span class="hljs-params">Allow:</span> <span class="hljs-operator">/</span>messagepad<span class="hljs-symbol">/</span><br><span class="hljs-params">Allow:</span> <span class="hljs-operator">/</span>resources<span class="hljs-symbol">/</span><br><span class="hljs-params">Allow:</span> <span class="hljs-operator">/</span>about<span class="hljs-symbol">/</span><br><span class="hljs-params">Disallow:</span> <span class="hljs-operator">/</span>vendors<span class="hljs-symbol">/</span><br><span class="hljs-params">Disallow:</span> <span class="hljs-operator">/</span>js<span class="hljs-symbol">/</span><br><span class="hljs-params">Disallow:</span> <span class="hljs-operator">/</span>css<span class="hljs-symbol">/</span><br><span class="hljs-params">Disallow:</span> <span class="hljs-operator">/</span>fonts<span class="hljs-symbol">/</span><br><span class="hljs-params">Disallow:</span> <span class="hljs-operator">/</span>vendors<span class="hljs-symbol">/</span><br><span class="hljs-params">Disallow:</span> <span class="hljs-operator">/</span>fancybox<span class="hljs-symbol">/</span><br><br><span class="hljs-params">Sitemap:</span> https:<span class="hljs-symbol">//gis90.github.io/sitemap.xml</span><br><span class="hljs-params">Sitemap:</span> https:<span class="hljs-operator">//</span>gis90.github.io<span class="hljs-operator">/</span>baidusitemap.xml<br></code></pre></td></tr></table></figure><p>写上你常用的遍历url、以及sitemap地址。</p><blockquote><h4 id="图片压缩"><a href="#图片压缩" class="headerlink" title="图片压缩"></a>图片压缩</h4></blockquote><p>在博客中关于使用的图片，几乎都进行压缩处理，我使用的是在线压缩：<a href="https://www.yasuotu.com/%E3%80%82">https://www.yasuotu.com/。</a></p><blockquote><h4 id="文件压缩"><a href="#文件压缩" class="headerlink" title="文件压缩"></a>文件压缩</h4></blockquote><p>使用<em><strong>gulp</strong></em>进行文件压缩，本人是搞后端的，参考别人seo优化的时候，也是看了一下<em><strong>glup</strong></em>的用法，记住：<font size=5.5 color='blue'>glup用来处理静态资源的一个工具。</font></p><p>下面介绍一下具体的实现方法：</p><ul><li>安装glue</li></ul><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cmake">npm <span class="hljs-keyword">install</span> gulp@<span class="hljs-number">3.9</span>.<span class="hljs-number">1</span> -g<br>npm <span class="hljs-keyword">install</span> gulp-minify-css gulp-uglify gulp-htmlmin gulp-htmlclean gulp --save<br>npm <span class="hljs-keyword">install</span> gulp-concat<br>npm <span class="hljs-keyword">install</span> gulp-imagemin<br></code></pre></td></tr></table></figure><ul><li>在blog文件夹下创建gulpfile.js，加入一下代码：</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> gulp = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;gulp&#x27;</span>);<br><span class="hljs-keyword">var</span> minifycss = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;gulp-minify-css&#x27;</span>);<br><span class="hljs-keyword">var</span> uglify = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;gulp-uglify&#x27;</span>);<br><span class="hljs-keyword">var</span> htmlmin = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;gulp-htmlmin&#x27;</span>);<br><span class="hljs-keyword">var</span> htmlclean = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;gulp-htmlclean&#x27;</span>);<br><span class="hljs-keyword">var</span> imagemin = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;gulp-imagemin&#x27;</span>);<br><br><span class="hljs-comment">// 压缩html</span><br>gulp.<span class="hljs-title function_">task</span>(<span class="hljs-string">&#x27;minify-html&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> gulp.<span class="hljs-title function_">src</span>(<span class="hljs-string">&#x27;./public/article/**/*.html&#x27;</span>)<br>        .<span class="hljs-title function_">pipe</span>(<span class="hljs-title function_">htmlclean</span>())<br>        .<span class="hljs-title function_">pipe</span>(<span class="hljs-title function_">htmlmin</span>(&#123;<br>            <span class="hljs-attr">removeComments</span>: <span class="hljs-literal">true</span>,<br>            <span class="hljs-attr">minifyJS</span>: <span class="hljs-literal">true</span>,<br>            <span class="hljs-attr">minifyCSS</span>: <span class="hljs-literal">true</span>,<br>            <span class="hljs-attr">minifyURLs</span>: <span class="hljs-literal">true</span>,<br>        &#125;))<br>        .<span class="hljs-title function_">pipe</span>(gulp.<span class="hljs-title function_">dest</span>(<span class="hljs-string">&#x27;./public&#x27;</span>))<br>&#125;);<br><span class="hljs-comment">// 压缩css</span><br>gulp.<span class="hljs-title function_">task</span>(<span class="hljs-string">&#x27;minify-css&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> gulp.<span class="hljs-title function_">src</span>(<span class="hljs-string">&#x27;./public/**/*.css&#x27;</span>)<br>        .<span class="hljs-title function_">pipe</span>(<span class="hljs-title function_">minifycss</span>(&#123;<br>            <span class="hljs-attr">compatibility</span>: <span class="hljs-string">&#x27;ie8&#x27;</span><br>        &#125;))<br>        .<span class="hljs-title function_">pipe</span>(gulp.<span class="hljs-title function_">dest</span>(<span class="hljs-string">&#x27;./public&#x27;</span>));<br>&#125;);<br><span class="hljs-comment">// 压缩js</span><br>gulp.<span class="hljs-title function_">task</span>(<span class="hljs-string">&#x27;minify-js&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> gulp.<span class="hljs-title function_">src</span>([<span class="hljs-string">&#x27;./public/js/**/.js&#x27;</span>,<span class="hljs-string">&#x27;!./public/js/**/*min.js&#x27;</span>])<br>        .<span class="hljs-title function_">pipe</span>(<span class="hljs-title function_">uglify</span>())<br>        .<span class="hljs-title function_">pipe</span>(gulp.<span class="hljs-title function_">dest</span>(<span class="hljs-string">&#x27;./public&#x27;</span>));<br>&#125;);<br><span class="hljs-comment">// 压缩图片</span><br>gulp.<span class="hljs-title function_">task</span>(<span class="hljs-string">&#x27;minify-images&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> gulp.<span class="hljs-title function_">src</span>(<span class="hljs-string">&#x27;./public/images/*.*&#x27;</span>)<br>        .<span class="hljs-title function_">pipe</span>(<span class="hljs-title function_">imagemin</span>(<br>        [imagemin.<span class="hljs-title function_">gifsicle</span>(&#123;<span class="hljs-string">&#x27;optimizationLevel&#x27;</span>: <span class="hljs-number">3</span>&#125;),<br>        imagemin.<span class="hljs-title function_">jpegtran</span>(&#123;<span class="hljs-string">&#x27;progressive&#x27;</span>: <span class="hljs-literal">true</span>&#125;),<br>        imagemin.<span class="hljs-title function_">optipng</span>(&#123;<span class="hljs-string">&#x27;optimizationLevel&#x27;</span>: <span class="hljs-number">7</span>&#125;),<br>        imagemin.<span class="hljs-title function_">svgo</span>()],<br>        &#123;<span class="hljs-string">&#x27;verbose&#x27;</span>: <span class="hljs-literal">true</span>&#125;))<br>        .<span class="hljs-title function_">pipe</span>(gulp.<span class="hljs-title function_">dest</span>(<span class="hljs-string">&#x27;./public/images&#x27;</span>))<br>&#125;);<br><span class="hljs-comment">// 默认任务</span><br>gulp.<span class="hljs-title function_">task</span>(<span class="hljs-string">&#x27;default&#x27;</span>, [<br>    <span class="hljs-string">&#x27;minify-html&#x27;</span>,<span class="hljs-string">&#x27;minify-css&#x27;</span>,<span class="hljs-string">&#x27;minify-js&#x27;</span>,<span class="hljs-string">&#x27;minify-images&#x27;</span><br>]);<br></code></pre></td></tr></table></figure><ul><li>运行命令</li></ul><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">glue</span><br></code></pre></td></tr></table></figure><p>在控制台会看见压缩的过程，整个压缩过程在图片压缩处理起来有点慢，耐心等待。</p><h3 id="学习"><a href="#学习" class="headerlink" title="学习"></a>学习</h3><p>在优化过程中，参考了一些人的博客以及官方文档，感谢各位大神。</p><p>参考一：<a href="https://github.com/theme-next/hexo-theme-next/issues/866">https://github.com/theme-next/hexo-theme-next/issues/866</a><br>参考二：<a href="https://hjptriplebee.github.io/hexo%E7%9A%84SEO%E6%96%B9%E6%B3%95.html/">https://hjptriplebee.github.io/hexo%E7%9A%84SEO%E6%96%B9%E6%B3%95.html/</a><br>参考三：<a href="https://www.greateman.top/Next%E4%B8%BB%E9%A2%98SEO%E4%BC%98%E5%8C%96.html">https://www.greateman.top/Next%E4%B8%BB%E9%A2%98SEO%E4%BC%98%E5%8C%96.html</a><br>参考四：<a href="http://www.ehcoo.com/seo.html">http://www.ehcoo.com/seo.html</a><br>glup：<a href="https://www.jianshu.com/p/87a773a81dbd">https://www.jianshu.com/p/87a773a81dbd</a></p><div class="note note-info">            <p><font size="4"><strong>疑问</strong></font></p><ul><li>针对于Next主题的配置文件选项：<strong>index_with_subtitle</strong>，配置文件的解释： If true, will add site-subtitle to index page, added in main hexo config。<br>如果文章没有subtitle，那么这个配置是不是就无用了。</li></ul>          </div><h3 id="拓展"><a href="#拓展" class="headerlink" title="拓展"></a>拓展</h3><p>看了几个人的博客发现在改Title方面参数不一致，也搞不懂应该参考哪个，于是自己把参数每个试了一次，参数如下：</p><figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs handlebars"><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">title</span> &#125;&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">keywords</span> &#125;&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">desc</span> &#125;&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">description</span> &#125;&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">theme.keywords</span> &#125;&#125;</span><span class="language-xml">    # 可用</span><br><span class="language-xml"></span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">config.title</span> &#125;&#125;</span><span class="language-xml">  # 可用</span><br><span class="language-xml"></span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">theme.description</span> &#125;&#125;</span><span class="language-xml"> # 可用</span><br></code></pre></td></tr></table></figure><p>很简单，其实就是把这些参数写在一个博文md文件里面，在生成的html页面有哪些是有值的，这是我的测试方法，结果可想而知，如有不对，欢迎留言进行交流。</p>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>seo优化</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo+Next搜索优化（一）google搜索</title>
    <link href="/articles/42646/"/>
    <url>/articles/42646/</url>
    
    <content type="html"><![CDATA[<span class="label label-default">Hexo</span> <span class="label label-danger">SEO优化系列</span> <span class="label label-success">google</span> <h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><div class="note note-primary">            <p>博客发布有一段时间了，而且也通过github提供的便利发布到公网上，但是除了直接域名访问，本人没有花钱买域名，只用了一个github免费提供的一个，在google居然搜索不到，只能优化一下网站在google的SEO。</p>          </div><span id="more"></span><hr /><h3 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h3><p>本文讲解实现对google对网站的搜索优化，<font size="3" color="red">Hexo+Next搜索优化教程第一篇</font>。</p><ol><li><h4 id="安装hexo-generator-sitemap"><a href="#安装hexo-generator-sitemap" class="headerlink" title="安装hexo-generator-sitemap"></a>安装hexo-generator-sitemap</h4></li></ol><p>在blog根目录，执行一下命令：</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">npm install hexo-generator-sitemap <span class="hljs-comment">--save</span><br></code></pre></td></tr></table></figure><ol start="2"><li><h4 id="生成sitemap-xml文件"><a href="#生成sitemap-xml文件" class="headerlink" title="生成sitemap.xml文件"></a>生成sitemap.xml文件</h4></li></ol><ul><li>第一：找到blog配置文件：<em><strong>blog&#x2F;_config.yml</strong></em>，搜索<font size="4" color="red"><em><strong>url</strong></em></font>，把地址改成自己的网站地址。</li></ul><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">url:</span> https:<span class="hljs-comment">//gis90.github.io</span><br></code></pre></td></tr></table></figure><ul><li>第二：把下列代码追加到打开的配置文件末尾。</li></ul><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">sitemap:</span><br><span class="hljs-symbol">  path:</span> sitemap.xml<br></code></pre></td></tr></table></figure><ul><li>第三：<em><strong>hexo g</strong></em>重新生成文件，在blog&#x2F;public目录下会生成一个<em><strong>sitemap.xml</strong></em>文件。</li></ul><ol start="3"><li><h4 id="添加蜘蛛协议"><a href="#添加蜘蛛协议" class="headerlink" title="添加蜘蛛协议"></a>添加蜘蛛协议</h4></li></ol><p>在blog&#x2F;source目录下新建一个robots.txt文件，内容如下：</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-params">User-agent:</span> <span class="hljs-operator">*</span><br><span class="hljs-params">Allow:</span> <span class="hljs-symbol">/</span><br><span class="hljs-params">Allow:</span> <span class="hljs-operator">/</span>archives<span class="hljs-symbol">/</span><br><span class="hljs-params">Allow:</span> <span class="hljs-operator">/</span>categories<span class="hljs-symbol">/</span><br><span class="hljs-params">Allow:</span> <span class="hljs-operator">/</span>tags<span class="hljs-symbol">/</span><br><span class="hljs-params">Allow:</span> <span class="hljs-operator">/</span>messagepad<span class="hljs-symbol">/</span><br><span class="hljs-params">Allow:</span> <span class="hljs-operator">/</span>resources<span class="hljs-symbol">/</span><br><span class="hljs-params">Allow:</span> <span class="hljs-operator">/</span>about<span class="hljs-symbol">/</span><br><span class="hljs-params">Disallow:</span> <span class="hljs-operator">/</span>vendors<span class="hljs-symbol">/</span><br><span class="hljs-params">Disallow:</span> <span class="hljs-operator">/</span>js<span class="hljs-symbol">/</span><br><span class="hljs-params">Disallow:</span> <span class="hljs-operator">/</span>css<span class="hljs-symbol">/</span><br><span class="hljs-params">Disallow:</span> <span class="hljs-operator">/</span>fonts<span class="hljs-symbol">/</span><br><span class="hljs-params">Disallow:</span> <span class="hljs-operator">/</span>vendors<span class="hljs-symbol">/</span><br><span class="hljs-params">Disallow:</span> <span class="hljs-operator">/</span>fancybox<span class="hljs-symbol">/</span><br><br><span class="hljs-params">Sitemap:</span> https:<span class="hljs-operator">//</span>gis90.github.io<span class="hljs-operator">/</span>sitemap.xml<br></code></pre></td></tr></table></figure><p>解释一下：<em><strong>Allow</strong></em>字段的值即为允许搜索引擎爬区的内容，可以对应到主题配置文件中的目录配置，如果菜单栏还有其他选项都可以按照格式自行添加；<em><strong>Disallow</strong></em>就是不允许搜索引擎爬区的内容，可以把网站相关的一些js、等资源写入。</p><ol start="4"><li><h4 id="更新github-io"><a href="#更新github-io" class="headerlink" title="更新github.io"></a>更新github.io</h4></li></ol><p>把新生成的sitemap.xml&amp;&amp;robots.txt上传到github。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">hexo <span class="hljs-selector-tag">g</span> -d<br></code></pre></td></tr></table></figure><ol start="5"><li><h4 id="google站点管理"><a href="#google站点管理" class="headerlink" title="google站点管理"></a>google站点管理</h4> <div class="note note-info">            <p>旧版：<br>打开<em><strong>Search Console</strong></em>：<a href="https://www.google.com/webmasters/tools/home?hl=zh-CN">旧版首页</a>，添加属性。</p>          </div></li></ol><p>  <img src="/articles/42646/seo_google_sc_main.png"></p><ul><li>添加资源<br><em><strong>Search Console</strong></em>出新的版本了，在使用过程中，一直提示转到新版，那就用新版进行讲解，点击页面上的<em><strong>使用新版Search Console</strong></em>。新版不知道怎么添加地址的请查看下列图片，在<font size="4" color="red">左上角搜索资源-&gt;添加资源</font>。<br><img src="/articles/42646/seo_google_sc_new.png"></li><li>选择资源<br><img src="/articles/42646/seo_google_sc_select.png"></li></ul><ol start="5"><li><h4 id="站点验证"><a href="#站点验证" class="headerlink" title="站点验证"></a>站点验证</h4></li></ol><p>进入站点验证，我在这里验证了2种方式：HTML文件&amp;&amp;HTML标记，怎么验证官方都有说明，按照说明做即可，我这里进行简述一下。<br><img src="/articles/42646/seo_google_sc_check.png"></p><ul><li>方式一<br>打开文件：blog&#x2F;themes&#x2F;hexo-theme-next&#x2F;layout&#x2F;_partials&#x2F;head&#x2F;head.swig，添加代码到文件第二行，方便进行加载：</li></ul><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs routeros">&lt;meta <span class="hljs-attribute">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>/&gt;<br>&lt;meta <span class="hljs-attribute">name</span>=<span class="hljs-string">&quot;google-site-verification&quot;</span> <span class="hljs-attribute">content</span>=<span class="hljs-string">&quot;nOQH_Lr6zdiXCxCLRslnRmrnULAd7XsMJc-3MQo0iMI&quot;</span> /&gt;<br></code></pre></td></tr></table></figure><ul><li>方式二<br>下载googole验证文件：google6377d5ca65812ad1.html，把文件放到blog&#x2F;public目录下。<br>完成上述操作之后，执行<em><strong>hexo g -d</strong></em>，把验证部门上传到github，密钥与密钥文件都是本人网站的，替换google提供的密钥即可。</li></ul><ol start="6"><li><h4 id="robots测试（旧版）"><a href="#robots测试（旧版）" class="headerlink" title="robots测试（旧版）"></a>robots测试（旧版）</h4></li></ol><p>在新版<em><strong>Search Console</strong></em>中没有发现<strong>robots.txt测试工具</strong>功能，只能切换到老版，在新版的左下角有个<strong>转到旧版</strong>功能，点击<strong>抓取-&gt;robots.txt测试工具</strong>。在下面可以输入自己网站的一些网址地址，看是否可以测试通过。<br><img src="/articles/42646/seo_google_sc_robots.png"></p><div class="note note-info">            <p>新版中没了此功能，也许就是不需要此步验证，新版<em><strong>Search Console</strong></em>也在研究中，有问题的可以留言给我一起交流。</p>          </div><ol start="7"><li><h4 id="提交站点地图"><a href="#提交站点地图" class="headerlink" title="提交站点地图"></a>提交站点地图</h4></li></ol><ul><li>测试sitemap.xml地址<br>访问：<a href="https://gis90.github.io/sitemap.xml">https://gis90.github.io/sitemap.xml</a><br>测试sitemap.xml可被访问到。</li><li>Search Console提交<br>点击左侧<em><strong>站点地图</strong></em>，在空白处输入<em><strong>sitemap.xml</strong></em>，点击提交，如果有错误去fix就好，不过一般情况下是不会出错的，我的有error是因为我的有一个博文不知道为何在<em><strong>updated: 22019-03-24 20:44:08</strong></em>，时间上出现了问题，导致有问题。<br><img src="/articles/42646/seo_google_sc_sitemap.png"></li></ul><ol start="8"><li><h4 id="等待结果"><a href="#等待结果" class="headerlink" title="等待结果"></a>等待结果</h4></li></ol><p>点击概述&#x2F;效果等功能，提示<strong>正在处理数据，请过几天再来查看</strong>，现在能做的只是等待结果出来在进行下一步的优化了。<br><img src="/articles/42646/seo_google_sc_result.png"></p><ol start="9"><li><h4 id="更新结果"><a href="#更新结果" class="headerlink" title="更新结果"></a>更新结果</h4><p> 这里展示了近3个月的结果：</p><blockquote><p>访问量</p></blockquote><p> <img src="/articles/42646/fangwenqingkuang.png"></p><blockquote><p>覆盖率</p></blockquote><p> <img src="/articles/42646/fugailv.png"></p><blockquote><p>地区</p></blockquote><p> <img src="/articles/42646/diqu.png"></p></li></ol><h3 id="相关链接"><a href="#相关链接" class="headerlink" title="相关链接"></a>相关链接</h3><ul><li>search console：<a href="https://www.google.com/webmasters/tools/home?hl=zh-CN">https://www.google.com/webmasters/tools/home?hl=zh-CN</a></li><li>所有权验证：<a href="https://support.google.com/webmasters/answer/9008080">https://support.google.com/webmasters/answer/9008080</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Hexo插件</tag>
      
      <tag>seo优化</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo拓展-插件篇</title>
    <link href="/articles/36954/"/>
    <url>/articles/36954/</url>
    
    <content type="html"><![CDATA[<p><font color="red" size="5"><em><strong>插件持续更新中～～～</strong></em></font></p><span id="more"></span><hr /><h3 id="1、简介"><a href="#1、简介" class="headerlink" title="1、简介"></a>1、简介</h3><div class="note note-success">            <blockquote><p>网站安装了许多插件，<strong>hexo-symbols-count-time、hexo-tag-cloud、hexo-helper-live2d</strong>等等，不止给站点增加了很多强大的功能以及给博文美化方面添加了不少样式、便利，我也一一记录下了常用的插件并写成文章发表。<br>但是去Hexo官方，看了一下插件，居然有290多个，也不能想Next主题内置的tags功能一样，每个都去尝试一下，起码把自己尝试的记录下来，与大家一起进行分享。</p></blockquote>          </div><h3 id="2、正文"><a href="#2、正文" class="headerlink" title="2、正文"></a>2、正文</h3><h4 id="2-1、hexo-tag-echarts"><a href="#2-1、hexo-tag-echarts" class="headerlink" title="2.1、hexo-tag-echarts"></a>2.1、hexo-tag-echarts</h4><blockquote><p>作用</p></blockquote><p>集成echart到博客中，用于数据展示，非常好用。</p><blockquote><p>示例</p></blockquote><p><img src="/articles/36954/hexo-tag-echarts.png" alt="hexo-tag-echarts"></p><blockquote><p>代码</p></blockquote><pre><code class="hljs"><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">&#123;% echarts <span class="hljs-number">400</span> <span class="hljs-string">&#x27;85%&#x27;</span> %&#125;<br>&#123;<br>    color: [<span class="hljs-string">&#x27;#F39C12&#x27;</span>],<br>    tooltip : &#123;<br>        <span class="hljs-keyword">trigger</span>: <span class="hljs-string">&#x27;axis&#x27;</span>,<br>        axisPointer : &#123;            // 坐标轴指示器，坐标轴触发有效<br>            <span class="hljs-keyword">type</span> : <span class="hljs-string">&#x27;shadow&#x27;</span>        // 默认为直线，可选为：<span class="hljs-string">&#x27;line&#x27;</span> | <span class="hljs-string">&#x27;shadow&#x27;</span><br>        &#125;<br>    &#125;,<br>    grid: &#123;<br>        left: <span class="hljs-string">&#x27;3%&#x27;</span>,<br>        right: <span class="hljs-string">&#x27;4%&#x27;</span>,<br>        bottom: <span class="hljs-string">&#x27;3%&#x27;</span>,<br>        containLabel: <span class="hljs-keyword">true</span><br>    &#125;,<br>    xAxis : [<br>        &#123;<br>            <span class="hljs-keyword">type</span> : <span class="hljs-string">&#x27;category&#x27;</span>,<br>            data : [<span class="hljs-string">&#x27;Python&#x27;</span>,<span class="hljs-string">&#x27;Linux&#x27;</span>,<span class="hljs-string">&#x27;Hexo&#x27;</span>,<span class="hljs-string">&#x27;LDAP&#x27;</span>,<span class="hljs-string">&#x27;娱乐&#x27;</span>,<span class="hljs-string">&#x27;影视说&#x27;</span>,<span class="hljs-string">&#x27;旅行记&#x27;</span>,<span class="hljs-string">&#x27;其他&#x27;</span>],<br>            axisTick: &#123;<br>                alignWithLabel: <span class="hljs-keyword">true</span><br>            &#125;<br>        &#125;<br>    ],<br>    yAxis : [<br>        &#123;<br>            <span class="hljs-keyword">type</span> : <span class="hljs-string">&#x27;value&#x27;</span><br>        &#125;<br>    ],<br>    series : [<br>        &#123;<br>            <span class="hljs-type">name</span>:<span class="hljs-string">&#x27;直接访问&#x27;</span>,<br>            <span class="hljs-keyword">type</span>:<span class="hljs-string">&#x27;bar&#x27;</span>,<br>            barWidth: <span class="hljs-string">&#x27;60%&#x27;</span>,<br>            data: [<span class="hljs-number">9</span>, <span class="hljs-number">2</span>, <span class="hljs-number">17</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">5</span>]<br>        &#125;<br>    ]<br>&#125;;<br>&#123;% endecharts %&#125;<br></code></pre></td></tr></table></figure></code></pre><blockquote><p><font size="4" color="red"><strong>补充</strong></font></p></blockquote><p>hexo-tag-echarts安装 ：</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">npm install hexo-tag-echarts3 <span class="hljs-comment">--save</span><br></code></pre></td></tr></table></figure><p>hexo-tag-echarts说明：</p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">1 </span>|| 展示的数据需要自己进行计算。<br><span class="hljs-symbol">2 </span>|| echarts-endecharts 需要<span class="hljs-number">2</span>个参数：容器高度、相对宽度。<br><span class="hljs-symbol">3 </span>|| 这个插件的js有点问题，需要加些代码到文件：node_modules/hexo-tag-echarts/echarts-template.html，具体请查看官方手册。<br></code></pre></td></tr></table></figure><p>hexo-tag-echarts资料 ：</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk">hexo-tag-echarts3：https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/kchen0x/</span>hexo-tag-echarts3<br>echart：https:<span class="hljs-regexp">//</span>echarts.baidu.com<span class="hljs-regexp">/examples/</span><br></code></pre></td></tr></table></figure><h4 id="2-2、-hexo-admin"><a href="#2-2、-hexo-admin" class="headerlink" title="2.2、 hexo-admin"></a>2.2、 hexo-admin</h4><blockquote><p>作用</p></blockquote><pre><code class="hljs">hexo站点的后台管理。</code></pre><blockquote><p>示例</p></blockquote><pre><code class="hljs">![hexo-admin](hexo-admin.png)</code></pre><blockquote><p>部署</p></blockquote><ul><li>安装插件  <figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">npm install <span class="hljs-comment">--save hexo-admin</span><br></code></pre></td></tr></table></figure></li><li>启动服务  <figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">hexo s</span><br></code></pre></td></tr></table></figure></li><li>生成密码<br>  打开<em><strong><a href="http://127.0.0.1:8888/admin/">http://127.0.0.1:8888/admin/</a></strong></em>，找到<strong>setting</strong>菜单栏，找到<em><strong>Setup authentification here</strong></em>，点击-&gt;输入用户名、密码、密钥，在最下面有生成的配置信息。</li><li>配置<br>  打开blog&#x2F;_config.yml文件，把上面生成的信息新增到配置文件最后。  <figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-comment"># admin后台user、password</span><br>admin:<br>  username: pygo<br>  password_hash: <span class="hljs-variable">$2a</span><span class="hljs-variable">$10</span><span class="hljs-variable">$h6ZFY9yMv</span>.wIhd0aPQ<span class="hljs-regexp">/O4eB3k/</span>zFiBj3aH0Zou8T9QK<span class="hljs-regexp">/H8e/</span>Y/hUO<br>  secret: wuyananismywife<br></code></pre></td></tr></table></figure></li></ul><blockquote><p><font size="4" color="red"><strong>补充</strong></font></p></blockquote><p> hexo-admin说明：<br> <figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">1 </span>|| 切记是Hexo站点配置文件。<br></code></pre></td></tr></table></figure><br>hexo-admin资料：<br> <figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/jaredly/</span>hexo-admin<br></code></pre></td></tr></table></figure></p><h4 id="2-3、hexo-blog-encrypt"><a href="#2-3、hexo-blog-encrypt" class="headerlink" title="2.3、hexo-blog-encrypt"></a>2.3、hexo-blog-encrypt</h4><blockquote><p>作用</p></blockquote><pre><code class="hljs">文章加密。</code></pre><blockquote><p>示例</p></blockquote><pre><code class="hljs">![hexo-blog-encrypt](hexo-blog-encrypt.png)</code></pre><blockquote><p>部署</p></blockquote><ul><li>安装插件  <figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">npm install <span class="hljs-comment">--save hexo-blog-encrypt</span><br></code></pre></td></tr></table></figure></li><li>Hexo配置<br>  打开Hexo站点配置文件：blog&#x2F;_config.yml，新增配置：  <figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-comment"># 文章加密功能</span><br><span class="hljs-params">encrypt:</span><br>    <span class="hljs-params">enable:</span> <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure></li><li>文章配置<br>  打开一篇需要进行加密的.md文件，在顶部描述加入以下代码：  <figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">password: <span class="hljs-number">0803</span><br><span class="hljs-keyword">abstract</span>: &lt;div <span class="hljs-keyword">class</span>=&quot;<span class="hljs-symbol">article_encrypt_abstract</span>&quot;&gt;暂不公开，请勿打扰 ～&lt;<span class="hljs-symbol">font</span> <span class="hljs-symbol">size</span>=&quot;<span class="hljs-symbol">5</span>&quot; <span class="hljs-symbol">color</span>=&quot;<span class="hljs-symbol">red</span>&quot;&gt;【状态：加密】&lt;/<span class="hljs-symbol">font</span>&gt;&lt;/<span class="hljs-symbol">div</span>&gt;<br><span class="hljs-symbol">message: </span>密码提示：生日<br></code></pre></td></tr></table></figure><pre><code class="hljs">  + password：博客密码  + abstract：home主页显示的文字提示  + message：查看博客，密码输入框上面的描述性文字</code></pre></li><li>启动服务  <figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">hexo s</span><br></code></pre></td></tr></table></figure></li></ul><blockquote><p><font size="4" color="red"><strong>补充</strong></font></p></blockquote><p>hexo-blog-encrypt说明：</p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">1 </span>|| 切记是Hexo站点配置文件。<br></code></pre></td></tr></table></figure><p> hexo-blog-encrypt资料：<br> <figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/MikeCoder/</span>hexo-blog-encrypt<span class="hljs-regexp">/blob/m</span>aster/ReadMe.zh.md<br></code></pre></td></tr></table></figure></p><blockquote><p><font size="4" color="red"><strong>自定义样式</strong></font></p></blockquote><p>关于加密的abstract &amp;&amp; message样式比较难看，本人自定义了的样式，参考如下：<br>    <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs css">// 加密abstract样式<br><span class="hljs-selector-class">.article_encrypt_abstract</span> &#123;<br>    <span class="hljs-attribute">text-align</span>: center;<br>    <span class="hljs-attribute">color</span>: <span class="hljs-number">#FFBE3D</span>;<br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">28px</span>;<br>    -webkit-<span class="hljs-selector-tag">text</span>-<span class="hljs-attribute">stroke</span>: <span class="hljs-number">1.2px</span> <span class="hljs-number">#000000</span>;<br>&#125;<br>// 加密message样式<br><span class="hljs-selector-class">.hbe-input-container</span> <span class="hljs-selector-tag">label</span> &#123;<br>    <span class="hljs-attribute">color</span>: deeppink<span class="hljs-meta">!important</span>;<br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">32px</span><span class="hljs-meta">!important</span>;<br>    <span class="hljs-attribute">text-shadow</span>: -<span class="hljs-number">1px</span> <span class="hljs-number">0</span> black, <span class="hljs-number">0</span> <span class="hljs-number">1px</span> black, <span class="hljs-number">1px</span> <span class="hljs-number">0</span> black, <span class="hljs-number">0</span> -<span class="hljs-number">1px</span> black;<br>&#125;<br></code></pre></td></tr></table></figure></p><p>自定义样式文件：<strong>blog&#x2F;themes&#x2F;next&#x2F;source&#x2F;css&#x2F;_custom&#x2F;custom.styl</strong></p>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Hexo美化</tag>
      
      <tag>Hexo插件</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>权力的游戏</title>
    <link href="/articles/18454/"/>
    <url>/articles/18454/</url>
    
    <content type="html"><![CDATA[<span class="label label-default">剧情</span> <span class="label label-primary">奇幻</span> <span class="label label-info">史诗</span> <span class="label label-danger">战争</span><span id="more"></span><hr /><div class="note note-success">            <p><font size="4" color="red"><strong>简介</strong></font><br>《权力的游戏》（<em><strong>Game of Thrones</strong></em>），是美国HBO电视网制作推出的一部中世纪史诗奇幻题材的电视剧。已上映共7季，第8季终章预计在今年2019年4月推出，很期待。</p>          </div><blockquote><p>推荐指数</p></blockquote><pre><code class="hljs">⭐️⭐️⭐️⭐️⭐️</code></pre><blockquote><p>人物角色</p></blockquote><p>男主：<a href="https://baike.baidu.com/item/%E5%9F%BA%E7%89%B9%C2%B7%E5%93%88%E7%81%B5%E9%A1%BF"><em><strong>琼恩·雪诺</strong></em></a><br>女主：<a href="https://baike.baidu.com/item/%E8%89%BE%E7%B1%B3%E8%8E%89%E4%BA%9A%C2%B7%E5%85%8B%E6%8B%89%E5%85%8B"><em><strong>丹尼莉丝·坦格利安（龙妈）</strong></em></a><br>男二-小恶魔：<a href="https://baike.baidu.com/item/%E5%BD%BC%E7%89%B9%C2%B7%E4%B8%81%E6%8B%89%E5%9F%BA"><em><strong>提利昂·兰尼斯特</strong></em></a><br>女二-小恶魔姐姐：<a href="https://baike.baidu.com/item/%E7%90%B3%E5%A8%9C%C2%B7%E6%B5%B7%E8%92%82"><em><strong>瑟曦·兰尼斯特·拜拉席恩</strong></em></a><br>女二-小恶魔哥哥：<a href="https://baike.baidu.com/item/%E8%A9%B9%E5%A7%86%C2%B7%E5%85%B0%E5%B0%BC%E6%96%AF%E7%89%B9"><em><strong>詹姆·兰尼斯特</strong></em></a><br>女二-男主姐姐：<a href="https://baike.baidu.com/item/%E9%BA%A6%E8%8C%9C%C2%B7%E5%A8%81%E5%BB%89%E5%A7%86%E6%96%AF"><em><strong>珊莎·史塔克</strong></em></a><br>女二-男主妹妹：<a href="https://baike.baidu.com/item/%E8%89%BE%E8%8E%89%E4%BA%9A%C2%B7%E5%8F%B2%E5%A1%94%E5%85%8B"><em><strong>艾莉亚·史塔克</strong></em></a><br>男二-男主弟弟：<a href="https://baike.baidu.com/item/%E4%BC%8A%E8%90%A8%E5%85%8B%C2%B7%E4%BA%A8%E6%99%AE%E6%96%AF%E7%89%B9%E5%BE%B7-%E6%80%80%E7%89%B9/6068574?fromtitle=%E8%89%BE%E8%90%A8%E5%85%8B%C2%B7%E8%B5%AB%E6%99%AE%E6%96%AF%E6%88%B4%E5%BE%B7-%E6%80%80%E7%89%B9&fromid=1811482"><em><strong>布尼·史塔克</strong></em></a></p><blockquote><p>主线剧情</p></blockquote><p>本篇核心内容如大片名称一样，主要讲述七大国权力之间的争斗，按我的理解，剧中主要有2大主线。</p><ul><li><em><strong>男主对抗异鬼</strong></em><br>男主出生在史塔克家族（北境之王），是一位私生子（未婚先出生的孩子）。年年轻轻就到北境边界长城守护七大国的安全，免受野人与异鬼的侵袭。同时，史塔克家族遭遇衰败。这条主线主要讲述男主、男主姐姐、男主弟弟、男主妹妹各自的成长，最终走到一起对抗异鬼（可以理解成boss）以及复兴家族崛起的线路。</li><li><em><strong>女主统治七国</strong></em><br>女主是前任国王的子嗣，踏上复兴坦格利安家族的重任。现任国家由小恶魔兰尼斯特家族所统治，民不聊生。机缘巧合，女主获得3条龙（那个年代龙已经绝技），被称为龙妈。龙妈、小恶魔以及手下猛将与小恶魔哥哥、小恶魔姐姐对抗的故事。</li></ul><p>最终的男主、女主以及小恶魔姐姐暂时放下眼前的争斗，联手对抗异鬼。第8季还没出，但是依据故事情节推断，就是人类展示异鬼，以及男主、女主联合与战胜小恶魔姐姐取得胜利。</p><blockquote><p>观后感</p></blockquote><p><em><strong><font color="#dd0000" size="5">政治的黑暗以及人真正的本性！！！</font></strong></em></p>]]></content>
    
    
    <categories>
      
      <category>影视说</category>
      
    </categories>
    
    
    <tags>
      
      <tag>电视剧</tag>
      
      <tag>美国大片</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo文章置顶</title>
    <link href="/articles/18391/"/>
    <url>/articles/18391/</url>
    
    <content type="html"><![CDATA[<img src="/images/article_zhiding.png" style="border:1.5px solid blue"/><h4 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h4><div class="note note-success">            <p>博文添加文章置顶功能</p>          </div><p>写了很多博客，总有几篇是自己想要指定的文章，上线找了很多发现都是老方法（安装<em><strong>hexo-generator-index</strong></em>），但是发现不管用，一般都是版本太老的原因。于是开始搜索新的插件，找到了<em><strong>hexo-generator-index-pin-top</strong></em>这个插件。</p><span id="more"></span><hr /><h4 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h4><p>只要3步就可以让博文置顶，不多说，直接搞：</p><blockquote><p>第一步：安装插件</p></blockquote><p>在blog的根目录，执行如下命令，如果安装<em><strong>hexo-generator-index</strong></em>，请先进行卸载。</p><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs fortran">npm uninstall hexo-generator-<span class="hljs-built_in">index</span> --<span class="hljs-keyword">save</span><br>npm install hexo-generator-<span class="hljs-built_in">index</span>-pin-top --<span class="hljs-keyword">save</span><br></code></pre></td></tr></table></figure><blockquote><p>第二步：博文top置顶</p></blockquote><p>找到需要置顶的文章，在文件顶部加上top: true即可，来个栗子：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-meta">---</span><br><span class="hljs-attr">title:</span> <span class="hljs-string">Hexo文章置顶</span><br><span class="hljs-attr">comments:</span> <span class="hljs-literal">false</span><br><span class="hljs-attr">date:</span> <span class="hljs-number">2019-04-13 14:49:25</span><br><span class="hljs-attr">updated:</span> <span class="hljs-number">2019-04-13 14:49:25</span><br><span class="hljs-attr">desc:</span> <span class="hljs-string">Hexo文章添加置顶功能</span><br><span class="hljs-attr">categories:</span><br>  [<span class="hljs-string">hexo</span>]<br><span class="hljs-attr">tags:</span> [<span class="hljs-string">hexo</span>]<br><span class="hljs-attr">top:</span> <span class="hljs-literal">true</span><br><span class="hljs-meta">---</span><br></code></pre></td></tr></table></figure><blockquote><p>第三步：图标</p></blockquote><p>实现1、2步之后，重新启动server之后，发现文章已经置顶了，但是没有图标是不是很尴尬。别怕，找到下面的文件，搜索***<div class="post-meta">***标签，并把代码加进去。<br>文件：&#x2F;blog&#x2F;themes&#x2F;next&#x2F;layout&#x2F;_macro&#x2F;post.swig</p><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs django"><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">if</span></span> post.top %&#125;</span><span class="language-xml"></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;fa fa-thumbs-up&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">font</span> <span class="hljs-attr">color</span>=<span class="hljs-string">&quot;red&quot;</span>&gt;</span>置顶<span class="hljs-tag">&lt;/<span class="hljs-name">font</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;post-meta-divider&quot;</span>&gt;</span>|<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">endif</span></span> %&#125;</span><br></code></pre></td></tr></table></figure><p>图标不好看的也可以自己进行更改，替换<em><strong>fa-thumb-tack</strong></em>即可，还可以把图标的颜色进行更改。<em><strong>hexo s</strong></em>重新启动server查看效果吧。<br>图标选取地址：<a href="https://fontawesome.com/cheatsheet?from=io">自选图标</a></p><h4 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h4><p>到这里就完成博文置顶的效果，尝试之后，是不是<em><strong>so easy</strong></em>。</p>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Hexo插件</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo+Next博客写作手札</title>
    <link href="/articles/28748/"/>
    <url>/articles/28748/</url>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p><font color="red" size="4"><strong>简介</strong></font><br>记录一些<strong>Hexo、Next</strong>常用文件的一些信息。</p>          </div><span id="more"></span><hr /><div class="note note-info">            <h3 id="自定义样式文件"><a href="#自定义样式文件" class="headerlink" title="自定义样式文件"></a><font color="red">自定义样式文件</font></h3><p>作用：<br><strong>记录博客自定义的样式，以class方式进行css样式编写。</strong></p><p>位置：<br><strong>blog&#x2F;themes&#x2F;next&#x2F;source&#x2F;css&#x2F;_custom&#x2F;custom.styl</strong></p>          </div><div class="note note-info">            <h3 id="自定义html代码"><a href="#自定义html代码" class="headerlink" title="自定义html代码"></a><font color="red">自定义html代码</font></h3><p>作用：<br><strong>引入自动html的相关代码，标签、css、script都可以在这里编写。</strong></p><p>位置：<br><strong>blog&#x2F;themes&#x2F;next&#x2F;layout&#x2F;_custom&#x2F;custom.swig</strong></p><p>建议：<br><strong>虽然这个文件可以引入自定义的html代码，但是建议把标签、css、js代码分开来写。</strong><br><strong>html</strong>：写在对应的模块swig文件。<br><strong>css</strong>：写在上面的自定义样式文件。<br><strong>js</strong>：blog&#x2F;themes&#x2F;next&#x2F;source&#x2F;js&#x2F;src目录下创建新js文件，在blog&#x2F;themes&#x2F;next&#x2F;layout&#x2F;_layout.swig文件中进行引用。</p>          </div>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hexo添加鼠标点击效果</title>
    <link href="/articles/37795/"/>
    <url>/articles/37795/</url>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>博文中鼠标点击出现❤️&amp;&amp;文字特效，<font color="red" size="5"><em><strong>持续更新中～～～</strong></em></font></p>          </div><span id="more"></span><hr /><p><img src="/articles/37795/article_click.gif"><br>特效比较简单，只需要写好js特效文件加载就OK了。</p><blockquote><p>红心</p></blockquote><p><em><strong>&#x2F;themes&#x2F;next&#x2F;source&#x2F;js&#x2F;src</strong></em>目录下新建文件click_love.js，代码如下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">!<span class="hljs-keyword">function</span>(<span class="hljs-params">e,t,a</span>)&#123;<span class="hljs-keyword">function</span> <span class="hljs-title function_">n</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-title function_">c</span>(<span class="hljs-string">&quot;.heart&#123;width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);&#125;.heart:after,.heart:before&#123;content: &#x27;&#x27;;width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;&#125;.heart:after&#123;top: -5px;&#125;.heart:before&#123;left: -5px;&#125;&quot;</span>),<span class="hljs-title function_">o</span>(),<span class="hljs-title function_">r</span>()&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">r</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e=<span class="hljs-number">0</span>;e&lt;d.<span class="hljs-property">length</span>;e++)d[e].<span class="hljs-property">alpha</span>&lt;=<span class="hljs-number">0</span>?(t.<span class="hljs-property">body</span>.<span class="hljs-title function_">removeChild</span>(d[e].<span class="hljs-property">el</span>),d.<span class="hljs-title function_">splice</span>(e,<span class="hljs-number">1</span>)):(d[e].<span class="hljs-property">y</span>--,d[e].<span class="hljs-property">scale</span>+=<span class="hljs-number">.004</span>,d[e].<span class="hljs-property">alpha</span>-=<span class="hljs-number">.013</span>,d[e].<span class="hljs-property">el</span>.<span class="hljs-property">style</span>.<span class="hljs-property">cssText</span>=<span class="hljs-string">&quot;left:&quot;</span>+d[e].<span class="hljs-property">x</span>+<span class="hljs-string">&quot;px;top:&quot;</span>+d[e].<span class="hljs-property">y</span>+<span class="hljs-string">&quot;px;opacity:&quot;</span>+d[e].<span class="hljs-property">alpha</span>+<span class="hljs-string">&quot;;transform:scale(&quot;</span>+d[e].<span class="hljs-property">scale</span>+<span class="hljs-string">&quot;,&quot;</span>+d[e].<span class="hljs-property">scale</span>+<span class="hljs-string">&quot;) rotate(45deg);background:&quot;</span>+d[e].<span class="hljs-property">color</span>+<span class="hljs-string">&quot;;z-index:99999&quot;</span>);<span class="hljs-title function_">requestAnimationFrame</span>(r)&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">o</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-keyword">var</span> t=<span class="hljs-string">&quot;function&quot;</span>==<span class="hljs-keyword">typeof</span> e.<span class="hljs-property">onclick</span>&amp;&amp;e.<span class="hljs-property">onclick</span>;e.<span class="hljs-property">onclick</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)&#123;t&amp;&amp;<span class="hljs-title function_">t</span>(),<span class="hljs-title function_">i</span>(e)&#125;&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">i</span>(<span class="hljs-params">e</span>)&#123;<span class="hljs-keyword">var</span> a=t.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;div&quot;</span>);a.<span class="hljs-property">className</span>=<span class="hljs-string">&quot;heart&quot;</span>,d.<span class="hljs-title function_">push</span>(&#123;<span class="hljs-attr">el</span>:a,<span class="hljs-attr">x</span>:e.<span class="hljs-property">clientX</span>-<span class="hljs-number">5</span>,<span class="hljs-attr">y</span>:e.<span class="hljs-property">clientY</span>-<span class="hljs-number">5</span>,<span class="hljs-attr">scale</span>:<span class="hljs-number">1</span>,<span class="hljs-attr">alpha</span>:<span class="hljs-number">1</span>,<span class="hljs-attr">color</span>:<span class="hljs-title function_">s</span>()&#125;),t.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(a)&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">c</span>(<span class="hljs-params">e</span>)&#123;<span class="hljs-keyword">var</span> a=t.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;style&quot;</span>);a.<span class="hljs-property">type</span>=<span class="hljs-string">&quot;text/css&quot;</span>;<span class="hljs-keyword">try</span>&#123;a.<span class="hljs-title function_">appendChild</span>(t.<span class="hljs-title function_">createTextNode</span>(e))&#125;<span class="hljs-keyword">catch</span>(t)&#123;a.<span class="hljs-property">styleSheet</span>.<span class="hljs-property">cssText</span>=e&#125;t.<span class="hljs-title function_">getElementsByTagName</span>(<span class="hljs-string">&quot;head&quot;</span>)[<span class="hljs-number">0</span>].<span class="hljs-title function_">appendChild</span>(a)&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">s</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-keyword">return</span><span class="hljs-string">&quot;rgb(&quot;</span>+~~(<span class="hljs-number">255</span>*<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>())+<span class="hljs-string">&quot;,&quot;</span>+~~(<span class="hljs-number">255</span>*<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>())+<span class="hljs-string">&quot;,&quot;</span>+~~(<span class="hljs-number">255</span>*<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>())+<span class="hljs-string">&quot;)&quot;</span>&#125;<span class="hljs-keyword">var</span> d=[];e.<span class="hljs-property">requestAnimationFrame</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-keyword">return</span> e.<span class="hljs-property">requestAnimationFrame</span>||e.<span class="hljs-property">webkitRequestAnimationFrame</span>||e.<span class="hljs-property">mozRequestAnimationFrame</span>||e.<span class="hljs-property">oRequestAnimationFrame</span>||e.<span class="hljs-property">msRequestAnimationFrame</span>||<span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)&#123;<span class="hljs-built_in">setTimeout</span>(e,<span class="hljs-number">1e3</span>/<span class="hljs-number">60</span>)&#125;&#125;(),<span class="hljs-title function_">n</span>()&#125;(<span class="hljs-variable language_">window</span>,<span class="hljs-variable language_">document</span>);<br></code></pre></td></tr></table></figure><blockquote><p>文字</p></blockquote><p><em><strong>&#x2F;themes&#x2F;next&#x2F;source&#x2F;js&#x2F;src</strong></em>目录下新建文件click_magic.js，代码如下：</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-comment">/* 鼠标特效 */</span><br><span class="hljs-keyword">var</span> a_idx = <span class="hljs-number">0</span>;<br>jQuery(document).ready(<span class="hljs-keyword">function</span>(<span class="hljs-params">$</span>) &#123;<br>   $(<span class="hljs-string">&quot;body&quot;</span>).click(<span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) &#123;<br>       <span class="hljs-keyword">var</span> a = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-string">&quot;Python&quot;</span>, <span class="hljs-string">&quot;Java&quot;</span>, <span class="hljs-string">&quot;Go&quot;</span>, <span class="hljs-string">&quot;C&quot;</span>, <span class="hljs-string">&quot;C++&quot;</span>, <span class="hljs-string">&quot;C#&quot;</span>, <span class="hljs-string">&quot;JavaScript&quot;</span> ,<br>       <span class="hljs-string">&quot;Php&quot;</span>, <span class="hljs-string">&quot;Sql&quot;</span>, <span class="hljs-string">&quot;R&quot;</span>);<br>       <span class="hljs-keyword">var</span> $i = $(<span class="hljs-string">&quot;&lt;span/&gt;&quot;</span>).<span class="hljs-built_in">text</span>(a[a_idx]);<br>       a_idx = (a_idx + <span class="hljs-number">1</span>) % a.<span class="hljs-built_in">length</span>;<br>       <span class="hljs-keyword">var</span> x = e.pageX,<br>       y = e.pageY;<br>       $i.css(&#123;<br>           <span class="hljs-string">&quot;z-index&quot;</span>: <span class="hljs-number">9999</span>,<br>           <span class="hljs-string">&quot;top&quot;</span>: y - <span class="hljs-number">20</span>,<br>           <span class="hljs-string">&quot;left&quot;</span>: x,<br>           <span class="hljs-string">&quot;position&quot;</span>: <span class="hljs-string">&quot;absolute&quot;</span>,<br>           <span class="hljs-string">&quot;font-weight&quot;</span>: <span class="hljs-string">&quot;bold&quot;</span>,<br>           <span class="hljs-string">&quot;color&quot;</span>: <span class="hljs-string">&quot;#ff6651&quot;</span><br>       &#125;);<br>       $(<span class="hljs-string">&quot;body&quot;</span>).append($i);<br>       $i.animate(&#123;<br>           <span class="hljs-string">&quot;top&quot;</span>: y - <span class="hljs-number">180</span>,<br>           <span class="hljs-string">&quot;opacity&quot;</span>: <span class="hljs-number">0</span><br>       &#125;,<br>       <span class="hljs-number">1500</span>,<br>       <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>           $i.remove();<br>       &#125;);<br>   &#125;);<br>&#125;);<br></code></pre></td></tr></table></figure><p>建立好js文件之后，打开文件***&#x2F;themes&#x2F;next&#x2F;layout&#x2F;_layout.swig***，搜索***</body>***，加入代码：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;/js/src/click_love.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;/js/src/click_magic.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p>完成上述操作hexo g &amp;&amp; hexo s就可以看到效果啦，如果只要一种特效，保留一个js文件即可。</p><p><font size=6.5 color='red'>鼠标点击特效持续更新中。。。。。。</font></p>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Hexo美化</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Next主题优化-内置tags篇</title>
    <link href="/articles/25933/"/>
    <url>/articles/25933/</url>
    
    <content type="html"><![CDATA[<span class="label label-primary">Hexo美化</span> <span class="label label-primary">Gemini</span> <span class="label label-info">Next主题优化</span><p><font color="#dd0000" size="4">目标：</font><font color="blue" size="6">美化博文</font></p><h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><div class="note note-success">            <p>发布博客有段时间了，而且陆陆续续写了一些文章，但页面样式都比较简单，只是单一的MarkDown语法，难道是<em><strong>Hexo + Next + MarkDown</strong></em>只能写出简单样式的文章？有点不相信，于是去<a href="http://theme-next.iissnan.com/">Next官方</a>。看了一些使用文档，查看了***<font color="#dd0000" size="4">内建标签</font>***，原来Next可以让简单样式的文章可以变得那么好看，总结了一下分享出来。</p>          </div><span id="more"></span><hr /><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>Next主题使用的***<font color="#dd0000" size="5">内置tag</font>***，官方都已经写好js，直接使用对应的语法糖加入到文章中，就可以实现多样式、多功能的效果。下面分别说明了一下本人博客Hexo+Next的版本，如果有加入对应tag没有效果的，可以留言给我，一起交流一起学习。</p><p><font color="#dd0000" size="4">Next主题内置tag样式都是本人经过实践得出，原创之作，欢迎大家进行转载。</font></p><h3 id="版本介绍"><a href="#版本介绍" class="headerlink" title="版本介绍"></a>版本介绍</h3><table><thead><tr><th align="center">id</th><th align="center">name</th><th align="center">version</th><th align="center">remark</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">Hexo</td><td align="center">v3.8.0</td><td align="center">系统版本</td></tr><tr><td align="center">2</td><td align="center">NextT.Pisces</td><td align="center">v7.0.1</td><td align="center">主题版本</td></tr></tbody></table><p><em><strong><font color="#dd0000" size="4">内置tag文件位置：blog&#x2F;themes&#x2F;next&#x2F;scripts&#x2F;tags。</font></strong></em></p><h3 id="Tags"><a href="#Tags" class="headerlink" title="Tags"></a>Tags</h3><p>内置tags的js文件一共有12个，在这里我只讲解本人实践的tag。</p><ol><li><h4 id="tabs"><a href="#tabs" class="headerlink" title="tabs"></a>tabs</h4></li></ol><blockquote><p>功能</p></blockquote><p>提供了一个tabs页样式标签，可以进行切换。</p><blockquote><p>代码</p></blockquote><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs django"><span class="hljs-template-tag">&#123;% <span class="hljs-name">tabs</span> t_code_1 %&#125;</span><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-comment">&lt;!-- tab 标题一 --&gt;</span></span><br><span class="language-xml">tab1</span><br><span class="language-xml"><span class="hljs-comment">&lt;!-- endtab --&gt;</span></span><br><span class="language-xml"><span class="hljs-comment">&lt;!-- tab 标题二 --&gt;</span></span><br><span class="language-xml">tab2</span><br><span class="language-xml"><span class="hljs-comment">&lt;!-- endtab --&gt;</span></span><br><span class="language-xml"><span class="hljs-comment">&lt;!-- tab 标题三 --&gt;</span></span><br><span class="language-xml">tab3</span><br><span class="language-xml"><span class="hljs-comment">&lt;!-- endtab --&gt;</span></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name">endtabs</span> %&#125;</span><br></code></pre></td></tr></table></figure><blockquote><p>配置</p></blockquote><p>打开Next配置文件：blog&#x2F;theme&#x2F;next&#x2F;_config.yml，搜索<font size="4" color="red"><em><strong>tabs</strong></em></font>，更改代码如下：</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-comment"># tabs相关配置</span><br><span class="hljs-params">tabs:</span><br>  <span class="hljs-params">enable:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-params">transition:</span><br>    <span class="hljs-params">tabs:</span> <span class="hljs-literal">false</span><br>    <span class="hljs-params">labels:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-params">border_radius:</span> <span class="hljs-number">5</span>  <span class="hljs-comment"># tab圆角设置</span><br></code></pre></td></tr></table></figure><blockquote><p>示例</p></blockquote><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs django"><span class="hljs-template-tag">&#123;% <span class="hljs-name">tabs</span> t1 %&#125;</span><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-comment">&lt;!-- tab 标题一 --&gt;</span></span><br><span class="language-xml">tab1</span><br><span class="language-xml"><span class="hljs-comment">&lt;!-- endtab --&gt;</span></span><br><span class="language-xml"><span class="hljs-comment">&lt;!-- tab 标题二 --&gt;</span></span><br><span class="language-xml">tab2</span><br><span class="language-xml"><span class="hljs-comment">&lt;!-- endtab --&gt;</span></span><br><span class="language-xml"><span class="hljs-comment">&lt;!-- tab 标题三 --&gt;</span></span><br><span class="language-xml">tab3</span><br><span class="language-xml"><span class="hljs-comment">&lt;!-- endtab --&gt;</span></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name">endtabs</span> %&#125;</span><br></code></pre></td></tr></table></figure><blockquote><p>语法糖</p></blockquote><ul><li>tabs-endtabs 是<em><strong>tab tag</strong></em>语法糖。</li><li>tab-endtab 是tabs里一个完整的tab，多个tab只需要更换标题、内容即可。</li></ul><ol start="2"><li><h4 id="cq-centerquote"><a href="#cq-centerquote" class="headerlink" title="cq &amp;&amp; centerquote"></a>cq &amp;&amp; centerquote</h4></li></ol><blockquote><p>功能</p></blockquote><p>文本居中、引用样式。</p><blockquote><p>代码</p></blockquote><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs django"><span class="hljs-template-tag">&#123;% <span class="hljs-name">cq</span> %&#125;</span><span class="language-xml"></span><br><span class="language-xml">一个爱老婆的Python程序猿。。。。。。</span><br><span class="language-xml">**PyGo²**</span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name">endcq</span> %&#125;</span><br></code></pre></td></tr></table></figure><blockquote><p>语法糖</p></blockquote><ul><li>cq-endcq 是<em><strong>cq tag</strong></em>语法糖。</li><li>cq与centerquote等价。</li></ul><ol start="3"><li><h4 id="note"><a href="#note" class="headerlink" title="note"></a>note</h4></li></ol><blockquote><p>功能</p></blockquote><p><strong>内置note</strong>标签。</p><blockquote><p>代码</p></blockquote><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs django"><span class="hljs-template-tag">&#123;% <span class="hljs-name">note</span> default %&#125;</span><span class="language-xml"></span><br><span class="language-xml">default 提示块标签</span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name">endnote</span> %&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name">note</span> primary %&#125;</span><span class="language-xml"></span><br><span class="language-xml">primary 提示块标签</span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name">endnote</span> %&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name">note</span> success %&#125;</span><span class="language-xml"></span><br><span class="language-xml">success 提示块标签</span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name">endnote</span> %&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name">note</span> info %&#125;</span><span class="language-xml"></span><br><span class="language-xml">info 提示块标签</span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name">endnote</span> %&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name">note</span> warning %&#125;</span><span class="language-xml"></span><br><span class="language-xml">warning 提示块标签</span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name">endnote</span> %&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name">note</span> danger %&#125;</span><span class="language-xml"></span><br><span class="language-xml">danger 提示块标签</span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name">endnote</span> %&#125;</span><br></code></pre></td></tr></table></figure><blockquote><p>配置</p></blockquote><p>打开Next配置文件：blog&#x2F;theme&#x2F;next&#x2F;_config.yml，搜索<font size="4" color="red"><em><strong>Note tag</strong></em></font>，更改代码如下：</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-comment"># note tag 相关配置</span><br><span class="hljs-params">note:</span><br>  <span class="hljs-params">style:</span> flat<br>  <span class="hljs-params">icons:</span> <span class="hljs-literal">true</span>   <span class="hljs-comment"># 是否启用图标</span><br>  <span class="hljs-params">border_radius:</span> <span class="hljs-number">3</span>  <span class="hljs-comment">#圆角设置</span><br>  <span class="hljs-params">light_bg_offset:</span> <span class="hljs-number">0</span>     设置<span class="hljs-number">0</span>为里面内容为note样式包含<br></code></pre></td></tr></table></figure><blockquote><p>示例</p></blockquote><div class="note note-info">            <p>default<br>提示块标签</p>          </div><div class="note note-primary">            <p>primary<br>提示块标签</p>          </div><blockquote><p>语法糖</p></blockquote><ul><li>note-endnote 是<em><strong>cq tag</strong></em>语法糖。</li><li>样式：default、primary、success、info、warning、danger，示例中我只展示了2种。</li></ul><ol start="4"><li><h4 id="label"><a href="#label" class="headerlink" title="label"></a>label</h4></li></ol><blockquote><p>功能</p></blockquote><p><strong>内置label</strong>标签。</p><blockquote><p>代码</p></blockquote><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs mel">&#123;% label <span class="hljs-keyword">default</span>@default %&#125;<br>&#123;% label primary@primary %&#125;<br>&#123;% label success@success %&#125;<br>&#123;% label info@info %&#125;<br>&#123;% label <span class="hljs-keyword">warning</span>@warning %&#125;<br>&#123;% label danger@danger %&#125;<br></code></pre></td></tr></table></figure><blockquote><p>示例</p></blockquote><span class="label label-default">default</span> <span class="label label-primary">primary</span> <span class="label label-success">success</span><HR /><span class="label label-info">info</span> <span class="label label-warning">warning</span> <span class="label label-danger">danger</span><HR /><blockquote><p>语法糖</p></blockquote><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs stata">- <span class="hljs-keyword">label</span> 是***<span class="hljs-keyword">label</span> tag***语法糖，不需要加endlabel标识结束。<br>- @符号前面是<span class="hljs-keyword">label</span>样式。<br>- @符号后面是<span class="hljs-keyword">label</span>内容。<br>- 说明<span class="hljs-keyword">label</span>需要2个参数，有兴趣的可以查看：blog/themes/next/scripts/tags/<span class="hljs-keyword">label</span>.js<br><br><span class="hljs-keyword">args</span> = <span class="hljs-keyword">args</span>.join(&#x27; &#x27;).<span class="hljs-keyword">split</span>(&#x27;@&#x27;);<br><span class="hljs-keyword">var</span> classes = <span class="hljs-keyword">args</span>[0] || &#x27;default&#x27;;<br><span class="hljs-keyword">var</span> text    = <span class="hljs-keyword">args</span>[1] || &#x27;&#x27;;<br></code></pre></td></tr></table></figure><ol start="5"><li><h4 id="button-btn"><a href="#button-btn" class="headerlink" title="button &amp;&amp; btn"></a>button &amp;&amp; btn</h4></li></ol><blockquote><p>功能</p></blockquote><p><strong>内置button</strong>标签。</p><blockquote><p>代码</p></blockquote><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs 1c">&#123;% btn https<span class="hljs-punctuation">:</span><span class="hljs-comment">//www.baidu.com, 百度首页, download fa-lg fa-fw %&#125;</span><br></code></pre></td></tr></table></figure><blockquote><p>示例</p></blockquote><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs django"><span class="hljs-template-tag">&#123;% <span class="hljs-name">btn</span> https://www.baidu.com, 百度首页, download fa-lg fa-fw, 百度首页标题 %&#125;</span><br></code></pre></td></tr></table></figure><blockquote><p>语法糖</p></blockquote><ul><li>btn 是<em><strong>btn tag</strong></em>语法糖，不需要加endbtn标识结束。</li><li>这个标签需要4个参数: url地址、button文本内容、button icon、button title。</li><li>第四个参数我试了，没什么效果，有了解的小伙伴欢迎留言。</li><li>这个按钮的样式跟Next主题样式一致，因为按钮样式本人优化过，所以在示例中的button与Next默认样式不一致。</li><li>说明button需要4个参数，有兴趣的可以查看：blog&#x2F;themes&#x2F;next&#x2F;scripts&#x2F;tags&#x2F;button.js</li></ul><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">args</span> = <span class="hljs-keyword">args</span>.<span class="hljs-keyword">join</span>(<span class="hljs-string">&#x27; &#x27;</span>).split(<span class="hljs-string">&#x27;,&#x27;</span>);<br><span class="hljs-keyword">var</span> url   = <span class="hljs-keyword">args</span>[<span class="hljs-number">0</span>];<br><span class="hljs-keyword">var</span> text  = <span class="hljs-keyword">args</span>[<span class="hljs-number">1</span>] || <span class="hljs-string">&#x27;&#x27;</span>;<br><span class="hljs-keyword">var</span> icon  = <span class="hljs-keyword">args</span>[<span class="hljs-number">2</span>] || <span class="hljs-string">&#x27;&#x27;</span>;<br><span class="hljs-keyword">var</span> title = <span class="hljs-keyword">args</span>[<span class="hljs-number">3</span>] || <span class="hljs-string">&#x27;&#x27;</span>;<br></code></pre></td></tr></table></figure><ul><li>btn与button等价。</li></ul><ol start="6"><li><h4 id="exturl-extlink-过时，不建议使用"><a href="#exturl-extlink-过时，不建议使用" class="headerlink" title="exturl &amp;&amp; extlink(过时，不建议使用)"></a><del>exturl &amp;&amp; extlink(过时，不建议使用)</del></h4></li></ol><blockquote><p>功能</p></blockquote><p>外链街功能。</p><blockquote><p>代码</p></blockquote><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs django"><span class="hljs-template-tag">&#123;% <span class="hljs-name">exturl</span> https://www.baidu.com 百度首页 %&#125;</span><br></code></pre></td></tr></table></figure><blockquote><p>示例</p></blockquote><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs django"><span class="hljs-template-tag">&#123;% <span class="hljs-name">exturl</span> https://www.baidu.com 百度首页 %&#125;</span><br></code></pre></td></tr></table></figure><blockquote><p>语法糖</p></blockquote><ul><li>exturl 是<em><strong>exturl tag</strong></em>语法糖，不需要加endexturl标识结束。</li><li>看js文件，这个标签需要5个参数: url地址、url文本内容、urltitle、url item、0、结束位置，其中url文本内容是个列表。</li><li>说明button需要4个参数，有兴趣的可以查看：blog&#x2F;themes&#x2F;next&#x2F;scripts&#x2F;tags&#x2F;exturl.js</li></ul><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">var</span> exturl = <span class="hljs-string">&#x27;exturl&#x27;</span>;<br><span class="hljs-keyword">var</span> url    = <span class="hljs-string">&#x27;&#x27;</span>;<br><span class="hljs-keyword">var</span> <span class="hljs-built_in">text</span>   = [];<br><span class="hljs-keyword">var</span> title  = <span class="hljs-string">&#x27;&#x27;</span>;<br><span class="hljs-keyword">var</span> item   = <span class="hljs-string">&#x27;&#x27;</span>;<br><span class="hljs-keyword">var</span> i      = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> len    = args.<span class="hljs-built_in">length</span>;<br></code></pre></td></tr></table></figure><ul><li>exturl与extlink等价。</li></ul><div class="note note-info">            <p>特殊说明</p>          </div><p>在md文档中写完此标签，怎么重启，刷新，发现外链都不管用，研究了好一会儿，我在这里就不买官司了，直接看解决方法：</p><ul><li>打开Next主题的配置文件，搜索<em><strong>exturl</strong></em></li><li>更改代码如下</li></ul><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-params">exturl:</span> <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><ul><li>重新启动服务 &amp;&amp; 刷新。</li></ul><ol start="7"><li><h4 id="fi-fullimage"><a href="#fi-fullimage" class="headerlink" title="fi &amp;&amp; fullimage"></a>fi &amp;&amp; fullimage</h4></li></ol><blockquote><p>功能</p></blockquote><p>全像显示图片。</p><blockquote><p>代码</p></blockquote><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs django"><span class="hljs-template-tag">&#123;% <span class="hljs-name">fi</span> /images/article_wdyxxy.jpg %&#125;</span><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;next_youhua_avatar.gif&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;border:1.5px solid blue&quot;</span>/&gt;</span></span><br></code></pre></td></tr></table></figure><blockquote><p>示例</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">&#123;% <span class="hljs-keyword">fi</span> /images/article_wdyxxy.jpg %&#125;<br></code></pre></td></tr></table></figure><blockquote><p>语法糖</p></blockquote><ul><li>fi 是<em><strong>fullimage tag</strong></em>语法糖，无对应的end结束。</li><li>fi与fullimagee等价。</li><li>我试了几个发现这个<em><strong>fi tag</strong></em>与正常*<strong>imag</strong>标签没什么区别，上面示例代码中给出了，效果图是一样的。</li></ul><ol start="8"><li><h4 id="gp-grouppicture"><a href="#gp-grouppicture" class="headerlink" title="gp &amp;&amp; grouppicture"></a>gp &amp;&amp; grouppicture</h4></li></ol><blockquote><p>功能</p></blockquote><p>多格局显示图片。</p><div class="note note-info">            <p>这里不做简述，请查看博文：hexo博文展示并排等多样式图片</p>          </div><ol start="9"><li><h4 id="include-raw"><a href="#include-raw" class="headerlink" title="include_raw"></a>include_raw</h4></li></ol><blockquote><p>功能</p></blockquote><p>引用html文件，是把部分html代码单独写在一个html文件里面，通过<strong>tag</strong>标签把文件引入的语法，需要可以看最下面的官方说明。</p><ol start="10"><li><h4 id="pdf"><a href="#pdf" class="headerlink" title="pdf"></a>pdf</h4></li></ol><blockquote><p>功能</p></blockquote><p>通过<strong>pdf tag</strong>标签把pdf文件引入页面中。</p><blockquote><p>代码</p></blockquote><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs django"><span class="hljs-template-tag">&#123;% <span class="hljs-name">pdf</span> /images/PythonStudy.pdf %&#125;</span><br></code></pre></td></tr></table></figure><blockquote><p>配置</p></blockquote><ul><li>安装theme-next-pdf</li></ul><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk">cd blog<span class="hljs-regexp">/themes/</span><span class="hljs-keyword">next</span><br>git clone https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/theme-next/</span>theme-<span class="hljs-keyword">next</span>-pdf source<span class="hljs-regexp">/lib/</span>pdf<br></code></pre></td></tr></table></figure><p>打开Next配置文件：blog&#x2F;theme&#x2F;next&#x2F;_config.yml，搜索<font size="4" color="red">pdf</font>，更改代码如下：</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-meta"># pdf相关配置</span><br><span class="hljs-meta"># See: https:<span class="hljs-comment">//github.com/theme-next/theme-next-pdf</span></span><br><span class="hljs-symbol">pdf:</span><br><span class="hljs-symbol">  enable:</span> true<br><span class="hljs-symbol">  height:</span> <span class="hljs-number">500</span>px  <span class="hljs-meta"># 设置默认高度</span><br><span class="hljs-symbol">  pdfobject:</span><br><span class="hljs-symbol">    cdn:</span> <span class="hljs-comment">//cdn.jsdelivr.net/npm/pdfobject@2/pdfobject.min.js</span><br></code></pre></td></tr></table></figure><ul><li>新建目录，如果想要把文件单独存放一个目录，那么需要在blog&#x2F;public目录下新建目录；如果不想新建，可以把文件放在blog&#x2F;public&#x2F;images目录下，这个目录是单独用来存放站点图片之用的目录。<ul><li>在<em><strong>pdf tag</strong></em>，参数的路径写上上面新建的。</li></ul></li></ul><blockquote><p>示例</p></blockquote><pre><code class="hljs">&#123;% pdf /publicfiles/PythonStudy.pdf %&#125;</code></pre><blockquote><p>语法糖</p></blockquote><ul><li>pdf 是<em><strong>pdftag</strong></em>语法糖，无对应的end结束。</li></ul><div class="note note-info">            <p>建议：<br>    建议少用此标签，因为页面如果加载大文件会很慢。</p>          </div><ol start="11"><li><h4 id="mermaid"><a href="#mermaid" class="headerlink" title="mermaid"></a>mermaid</h4></li></ol><blockquote><p>功能</p></blockquote><p>用了好几个翻译都解释“美人鱼”，但是实现的效果类似于word、excel、ppt里面的架构图，通过<strong>mermaid tag</strong>标签把架构图引入页面中。</p><blockquote><p>代码</p></blockquote><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs coq">&#123;% mermaid graph TD %&#125;<br>A[Christmas] --&gt;|<span class="hljs-type">Get</span> money| <span class="hljs-type">B</span>(Go shopping)<br>B --&gt; C&#123;<span class="hljs-keyword">Let</span> me thinksssss&lt;br/&gt;ssssssssssssssssssssss&#125;<br>C --&gt;|<span class="hljs-type">One</span>| <span class="hljs-type">D</span>[Laptop]<br>C --&gt;|<span class="hljs-type">Two</span>| <span class="hljs-type">E</span>[iPhone]<br>C --&gt;|<span class="hljs-type">Three</span>| <span class="hljs-type">F</span>[Car]<br>&#123;% endmermaid %&#125;<br></code></pre></td></tr></table></figure><blockquote><p>配置</p></blockquote><ul><li>打开Next配置文件：blog&#x2F;theme&#x2F;next&#x2F;_config.yml，搜索<font size="4" color="red"><em><strong>mermaid</strong></em></font>，更改代码如下：</li></ul><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-comment"># Mermaid tag</span><br><span class="hljs-params">mermaid:</span><br>  <span class="hljs-params">enable:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-comment"># Available themes: default | dark | forest | neutral</span><br>  <span class="hljs-params">theme:</span> forest   <span class="hljs-comment"># 主题</span><br>  <span class="hljs-params">cdn:</span> <span class="hljs-operator">//</span>cdn.jsdelivr.net<span class="hljs-operator">/</span>npm<span class="hljs-operator">/</span>mermaid@<span class="hljs-number">8</span><span class="hljs-operator">/</span>dist<span class="hljs-operator">/</span>mermaid.min.js<br></code></pre></td></tr></table></figure><p>关于架构图的样式取决于theme参数，每个样式我都试了一下，还是forest最漂亮。</p><blockquote><p>示例</p></blockquote><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs coq">&#123;% mermaid graph TD %&#125;<br>A[Christmas] --&gt;|<span class="hljs-type">Get</span> money| <span class="hljs-type">B</span>(Go shopping)<br>B --&gt; C&#123;<span class="hljs-keyword">Let</span> me thinksssss&lt;br/&gt;ssssssssssssssssssssss&#125;<br>C --&gt;|<span class="hljs-type">One</span>| <span class="hljs-type">D</span>[Laptop]<br>C --&gt;|<span class="hljs-type">Two</span>| <span class="hljs-type">E</span>[iPhone]<br>C --&gt;|<span class="hljs-type">Three</span>| <span class="hljs-type">F</span>[Car]<br>&#123;% endmermaid %&#125;<br></code></pre></td></tr></table></figure><blockquote><p>语法糖</p></blockquote><ul><li>mermaid-endmermaid 是<em><strong>mermaid tag</strong></em>语法糖。</li><li>例子我就采用官方的例子了，没自己去写，官方有好几种写法、样式，需要的请查阅官方资料。</li></ul><ol start="12"><li><h4 id="video"><a href="#video" class="headerlink" title="video"></a>video</h4></li></ol><blockquote><p>功能</p></blockquote><p>html对视频的引用。</p><blockquote><p>代码</p></blockquote><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs django"><span class="hljs-template-tag">&#123;% <span class="hljs-name">video</span> url %&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name">video</span> /publicfiles/xiao6.mp4 %&#125;</span><br></code></pre></td></tr></table></figure><blockquote><p>配置</p></blockquote><ul><li>我在blog&#x2F;public目录下新建了publicfiles一个目录用来存放上面<strong>pdf&amp;&amp;video</strong>用到的文件。</li></ul><blockquote><p>示例</p></blockquote><figure class="highlight twig"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs twig"><span class="hljs-template-tag">&#123;%</span> <span class="hljs-name">video</span> /publicfiles/xiao<span class="hljs-number">6</span>.mp<span class="hljs-number">4</span> <span class="hljs-template-tag">%&#125;</span><br></code></pre></td></tr></table></figure><blockquote><p>语法糖</p></blockquote><ul><li>video 是<em><strong>video tag</strong></em>语法糖，无endvideo结束。</li><li>如果是引用视频，找到视频资源，直接写上url地址即可。</li></ul><div class="note note-success">            <p>已解决问题</p>          </div><p>开启服务运用的是debug模式，方便进行调试，在启用的时候，发现服务报了好多<em><strong>WARNING</strong></em>，总结下来方便大家解决问题。</p><blockquote><p><code>exturl</code> and <code>extlink</code> tag will not longer be supported.</p></blockquote><p>翻译出来就是将不再支持<code>exturl</code>和’extlink&#96;的标记，在我的blog很少用到，用到的会用<em><strong>button tag</strong></em>进行代替。</p><blockquote><p>Tabs block must have unique name!</p></blockquote><p>找到tabs-endtabs内置标签，在tabs后面加上tab一个名字，而且要<em><strong>unique</strong></em>。</p><div class="note note-warning">            <p>未解决问题</p>          </div><p>在文章编写过程中遇到了一些问题，先记录下来，以后解决在来修改。</p><ul><li>在tab里面放```代码块```，不生效。</li><li>button与exturl共存在同一页面，并启动exturl配置，发现button样式没了，可能是我自己瞎改button造成的原因，问题解决中。</li></ul><h3 id="学习"><a href="#学习" class="headerlink" title="学习"></a>学习</h3><p>Next中文官方：<a href="http://theme-next.iissnan.com/tag-plugins.html">http://theme-next.iissnan.com/tag-plugins.html</a><br>Next Tag官方：<a href="https://hexo.io/docs/tag-plugins.html">https://hexo.io/docs/tag-plugins.html</a><br>botton：<a href="https://theme-next.org/docs/tag-plugins/button/">https://theme-next.org/docs/tag-plugins/button/</a><br>note：<a href="https://theme-next.org/docs/tag-plugins/note/">https://theme-next.org/docs/tag-plugins/note/</a><br>tabs：<a href="https://theme-next.org/docs/tag-plugins/tabs/">https://theme-next.org/docs/tag-plugins/tabs/</a><br>cq：<a href="https://theme-next.org/docs/tag-plugins/">https://theme-next.org/docs/tag-plugins/</a><br>label：<a href="https://theme-next.org/docs/tag-plugins/label/">https://theme-next.org/docs/tag-plugins/label/</a><br>exturl：<a href="https://theme-next.org/docs/tag-plugins/exturl/">https://theme-next.org/docs/tag-plugins/exturl/</a><br>fullimage：<a href="https://theme-next.org/docs/tag-plugins/full-image">https://theme-next.org/docs/tag-plugins/full-image</a><br>group-pictures：<a href="https://theme-next.org/docs/tag-plugins/group-pictures">https://theme-next.org/docs/tag-plugins/group-pictures</a><br>pdf tag：<a href="https://theme-next.org/docs/tag-plugins/pdf">https://theme-next.org/docs/tag-plugins/pdf</a><br>theme-next-pdf：<a href="https://github.com/theme-next/theme-next-pdf">https://github.com/theme-next/theme-next-pdf</a><br>mermaid：<a href="https://theme-next.org/docs/tag-plugins/mermaid/">https://theme-next.org/docs/tag-plugins/mermaid/</a><br>video：<a href="https://theme-next.org/docs/tag-plugins/video">https://theme-next.org/docs/tag-plugins/video</a></p><h3 id="结束语"><a href="#结束语" class="headerlink" title="结束语"></a>结束语</h3><p>到这里，Next内置的tag都实践完毕，根据需要使用上述tags，给博文带来了不一样的视觉效果以及便利，欢迎大家转载，一起交流使用。</p><p><em><strong><font color="blue" size="5">最好的开始就是从现在开始！！！</font></strong></em></p>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Hexo美化</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Live2d喵星人模型s</title>
    <link href="/articles/26442/"/>
    <url>/articles/26442/</url>
    
    <content type="html"><![CDATA[<p><em><strong><font color="#dd0000" size="5">每天进步一点点！！！</font></strong></em></p><div class="note note-success">            <p>上篇文章已经介绍怎么实现喵星人入住博客，实现完了之后根本不知道使用哪个模型，索性我都尝试了一下，把每个模型以及对应的截图总结一下，给自己、给大家节约时间。</p>          </div><span id="more"></span><hr /><h4 id="chitose"><a href="#chitose" class="headerlink" title="chitose"></a>chitose</h4><img src="live2d-widget-model-chitose.png" width="250"/><h4 id="epsilon2-1"><a href="#epsilon2-1" class="headerlink" title="epsilon2_1"></a>epsilon2_1</h4><img src="live2d-widget-model-epsilon2_1.png" width="250"/><h4 id="gf"><a href="#gf" class="headerlink" title="gf"></a>gf</h4><img src="live2d-widget-model-gf.png" width="250"/><h4 id="haru-01"><a href="#haru-01" class="headerlink" title="haru_01"></a>haru_01</h4><img src="live2d-widget-model-haru_01.png" width="250"/><h4 id="haru-02"><a href="#haru-02" class="headerlink" title="haru_02"></a>haru_02</h4><img src="live2d-widget-model-haru_02.png" width="250"/><h4 id="haruto"><a href="#haruto" class="headerlink" title="haruto"></a>haruto</h4><img src="live2d-widget-model-haruto.png" width="250"/><h4 id="hibiki"><a href="#hibiki" class="headerlink" title="hibiki"></a>hibiki</h4><img src="live2d-widget-model-hibiki.png" width="250"/><h4 id="hijiki"><a href="#hijiki" class="headerlink" title="hijiki"></a>hijiki</h4><img src="live2d-widget-model-hijiki.png" width="250"/><h4 id="izumi"><a href="#izumi" class="headerlink" title="izumi"></a>izumi</h4><img src="live2d-widget-model-izumi.png" width="250"/><h4 id="koharu"><a href="#koharu" class="headerlink" title="koharu"></a>koharu</h4><img src="live2d-widget-model-koharu.png" width="250"/><h4 id="miku"><a href="#miku" class="headerlink" title="miku"></a>miku</h4><img src="live2d-widget-model-miku.png" width="250"/><h4 id="ni-j"><a href="#ni-j" class="headerlink" title="ni-j"></a>ni-j</h4><img src="live2d-widget-model-ni-j.png" width="250"/><h4 id="nico"><a href="#nico" class="headerlink" title="nico"></a>nico</h4><img src="live2d-widget-model-nico.png" width="250"/><h4 id="nietzsche"><a href="#nietzsche" class="headerlink" title="nietzsche"></a>nietzsche</h4><img src="live2d-widget-model-nietzsche.png" width="250"/><h4 id="nipsilon"><a href="#nipsilon" class="headerlink" title="nipsilon"></a>nipsilon</h4><img src="live2d-widget-model-nipsilon.png" width="250"/><h4 id="nito"><a href="#nito" class="headerlink" title="nito"></a>nito</h4><img src="live2d-widget-model-nito.png" width="250"/><h4 id="shizuku"><a href="#shizuku" class="headerlink" title="shizuku"></a>shizuku</h4><img src="live2d-widget-model-shizuku.png" width="250"/><h4 id="tororo"><a href="#tororo" class="headerlink" title="tororo"></a>tororo</h4><img src="live2d-widget-model-tororo.png" width="250"/><h4 id="ltsumiki"><a href="#ltsumiki" class="headerlink" title="ltsumiki"></a>ltsumiki</h4><img src="live2d-widget-model-tsumiki.png" width="250"/><h4 id="unitychan"><a href="#unitychan" class="headerlink" title="unitychan"></a>unitychan</h4><img src="live2d-widget-model-unitychan.png" width="250"/><h4 id="wanko"><a href="#wanko" class="headerlink" title="wanko"></a>wanko</h4><img src="live2d-widget-model-wanko.png" width="250"/><h4 id="z16"><a href="#z16" class="headerlink" title="z16"></a>z16</h4><img src="live2d-widget-model-z16.png" width="250"/>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Hexo美化</tag>
      
      <tag>Hexo插件</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo+Next博客添加喵星人</title>
    <link href="/articles/4445/"/>
    <url>/articles/4445/</url>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>如图，四步让给你博客入住喵星人。</p>          </div><img src="article_live2d.png" style="border:1.5px solid red;height: 200px;"/><span id="more"></span><hr /><h3 id="1、安装hexo-helper-live2d"><a href="#1、安装hexo-helper-live2d" class="headerlink" title="1、安装hexo-helper-live2d"></a>1、安装hexo-helper-live2d</h3><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">npm install hexo-helper-live2d <span class="hljs-comment">--save</span><br></code></pre></td></tr></table></figure><h3 id="2、下载model模型"><a href="#2、下载model模型" class="headerlink" title="2、下载model模型"></a>2、下载model模型</h3><ul><li>在博客根目录创建一文件夹，命名live2d_models。</li><li>打开<a href="https://github.com/xiazeyu/live2d-widget-models">Live2D模型</a>，把项目下载到本地。</li><li>把packages下的所有文件都copy到新建目录live2d_models下，每一个目录都对应一个模型。</li></ul><h3 id="3、配置博客config"><a href="#3、配置博客config" class="headerlink" title="3、配置博客config"></a>3、配置博客config</h3><p>打开博客的_config.yml文件，不是Next主题的配置文件，看好了。。。之后，把下面代码追加到配置文件中。</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-comment"># 动漫live2d</span><br><span class="hljs-params">live2d:</span><br>  <span class="hljs-params">enable:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-params">scriptFrom:</span> local<br>  <span class="hljs-params">pluginRootPath:</span> live2dw<span class="hljs-symbol">/</span><br>  <span class="hljs-params">pluginJsPath:</span> lib<span class="hljs-symbol">/</span><br>  <span class="hljs-params">pluginModelPath:</span> assets<span class="hljs-symbol">/</span><br>  <span class="hljs-params">tagMode:</span> <span class="hljs-literal">false</span><br>  <span class="hljs-params">debug:</span> <span class="hljs-literal">false</span><br>  <span class="hljs-params">model:</span><br>    <span class="hljs-params">use:</span> <span class="hljs-symbol">./live2d_models/live2d-widget-model-z16</span><br>  <span class="hljs-params">display:</span><br>    <span class="hljs-params">position:</span> right<br>    <span class="hljs-params">width:</span> <span class="hljs-number">450</span><br>    <span class="hljs-params">height:</span> <span class="hljs-number">750</span><br>    <span class="hljs-params">hOffset:</span> <span class="hljs-number">10</span><br>    <span class="hljs-params">vOffset:</span> <span class="hljs-operator">-</span><span class="hljs-number">20</span><br>  <span class="hljs-params">mobile:</span><br>    <span class="hljs-params">show:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-params">react:</span><br>    <span class="hljs-params">opacity:</span> <span class="hljs-number">0.8</span><br></code></pre></td></tr></table></figure><p>配置文件中live2d-&gt;model-&gt;use：.&#x2F;live2d_models&#x2F;live2d-widget-model-z16，其中<em><strong>live2d-widget-model-z16</strong></em>是模型名称，只要更换新建目录live2d_models下的模型名称就可以改变。</p><h3 id="4、重启server"><a href="#4、重启server" class="headerlink" title="4、重启server"></a>4、重启server</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css">hexo <span class="hljs-selector-tag">g</span> -d<br>hexo s<br></code></pre></td></tr></table></figure><p>重启服务&amp;&amp;刷新页面，会发现一只喵星人出现在你的博客上。</p><h3 id="5、配置文件详解"><a href="#5、配置文件详解" class="headerlink" title="5、配置文件详解"></a>5、配置文件详解</h3><h4 id="5-1、插件配置"><a href="#5-1、插件配置" class="headerlink" title="5.1、插件配置"></a>5.1、插件配置</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-built_in">enable</span>          是否启用插件<br>scriptFrom      未知<br>pluginRootPath插件在站点上根目录的相对路径<br>pluginJsPath脚本文件相对与插件根目录路径<br>pluginModelPath模型文件相对与插件根目录路径<br>tagModeBoolean标签模式, 是否仅替换***live2d tag***标签而非插入到所有页面中<br><span class="hljs-built_in">debug</span>        调试模式, 控制是否在控制台输出日志<br></code></pre></td></tr></table></figure><p>说明：<em><strong>hexo g</strong></em>之后，会在blog&#x2F;public目录下自动生成一个新文件夹<em><strong>live2dw</strong></em>，里面存放发布后站点模型。</p><h4 id="5-2、模型文件存储目录"><a href="#5-2、模型文件存储目录" class="headerlink" title="5.2、模型文件存储目录"></a>5.2、模型文件存储目录</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">model:<br>  use: ./live2d_models/live2d-widget-model-z16<br></code></pre></td></tr></table></figure><h4 id="5-3、启用"><a href="#5-3、启用" class="headerlink" title="5.3、启用"></a>5.3、启用</h4><p>启用显示的模型名称，<em><strong>live2d_models</strong></em>目录下每一个目录都是一个模型。</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">display:</span><br><span class="hljs-symbol">  position:</span> right<br><span class="hljs-symbol">  width:</span> <span class="hljs-number">450</span><br><span class="hljs-symbol">  height:</span> <span class="hljs-number">750</span><br><span class="hljs-symbol">  hOffset:</span> <span class="hljs-number">10</span><br><span class="hljs-symbol">  vOffset:</span> <span class="hljs-number">-20</span><br></code></pre></td></tr></table></figure><h4 id="5-4、模型位置"><a href="#5-4、模型位置" class="headerlink" title="5.4、模型位置"></a>5.4、模型位置</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">position</span>  模型的位置，有<span class="hljs-attribute">left</span>&amp;&amp;<span class="hljs-attribute">right</span><br><span class="hljs-attribute">width</span>     模型的宽度<br><span class="hljs-attribute">height</span>    模型的高度<br>hOffset   模型的水平偏移<br>vOffset   模型的垂直偏移<br></code></pre></td></tr></table></figure><h4 id="5-5、移动端是否进行显示"><a href="#5-5、移动端是否进行显示" class="headerlink" title="5.5、移动端是否进行显示"></a>5.5、移动端是否进行显示</h4><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-params">mobile:</span><br>  <span class="hljs-params">show:</span> <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><h4 id="5-6、透明度"><a href="#5-6、透明度" class="headerlink" title="5.6、透明度"></a>5.6、透明度</h4><p>透明度设置：0～1 透明～不透明</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">react</span>:<br>  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>.<span class="hljs-number">8</span><br></code></pre></td></tr></table></figure><h3 id="6、学习参考"><a href="#6、学习参考" class="headerlink" title="6、学习参考"></a>6、学习参考</h3><ul><li>live2d官网：<a href="https://github.com/EYHN/hexo-helper-live2d">https://github.com/EYHN/hexo-helper-live2d</a></li><li>live2d模型：<a href="https://github.com/xiazeyu/live2d-widget-models/tree/master/packages">https://github.com/xiazeyu/live2d-widget-models/tree/master/packages</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Hexo美化</tag>
      
      <tag>Hexo插件</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo博文展示并排等多样式图片</title>
    <link href="/articles/8728/"/>
    <url>/articles/8728/</url>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>用markdown语法去写博文的时候，发现图片怎么调试怎么不能并排，博客采用Hexo+Next搭建，上网各种查资料，终于解决，在此记录上分享给大家。</p>          </div><span id="more"></span><hr /><p>使用<em><strong>gp</strong></em>标签引用要展示的图片地址，这个并列展示效果可以在，<em><strong>theme&#x2F;next&#x2F;scripts&#x2F;tags&#x2F;group-pictures.js</strong></em>文件中进行选取，话说多说，直接上代码：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs routeros">&#123;% gp 3-3 %&#125;<br>&lt;img <span class="hljs-attribute">src</span>=<span class="hljs-string">&quot;t1.jpeg&quot;</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">&quot;450&quot;</span> <span class="hljs-attribute">alt</span>=<span class="hljs-string">&quot;图片说明&quot;</span>/&gt;<br>&lt;img <span class="hljs-attribute">src</span>=<span class="hljs-string">&quot;t2.jpeg&quot;</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">&quot;450&quot;</span> <span class="hljs-attribute">alt</span>=<span class="hljs-string">&quot;图片说明&quot;</span>/&gt;<br>&lt;img <span class="hljs-attribute">src</span>=<span class="hljs-string">&quot;t3.jpeg&quot;</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">&quot;800&quot;</span> <span class="hljs-attribute">alt</span>=<span class="hljs-string">&quot;图片说明&quot;</span>/&gt;<br>&#123;% endgp %&#125;<br></code></pre></td></tr></table></figure><p>博客正文显示需要修改一下文件代码，<em><strong>themes\next\source\css_common\components\tags\group-pictures.styl</strong></em>样式文件中更改代码如下：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.page-post-detail</span> <span class="hljs-selector-class">.post-body</span> <span class="hljs-selector-class">.group-picture-column</span> &#123;<br>  // <span class="hljs-attribute">float</span>: none;<br>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">10px</span>;<br>  // <span class="hljs-attribute">width</span>: auto <span class="hljs-meta">!important</span>;<br>  <span class="hljs-selector-tag">img</span> &#123; <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto; &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>设置好了之后，<em><strong>hexo g</strong></em>一下，刷新一下就会看到效果。<br>在<em><strong>gp</strong></em>标签可以使用<em><strong>img</strong></em>标签、<em><strong>![]()<em><strong>也可以这样显示图片，使用</strong></em>img</strong></em>标签的好处就在于自定义样式。</p><p>问题解决原文：<a href="https://github.com/iissnan/hexo-theme-next/issues/395">https://github.com/iissnan/hexo-theme-next/issues/395</a></p>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Hexo美化</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo菜单栏添加留言板-Valine</title>
    <link href="/articles/7953/"/>
    <url>/articles/7953/</url>
    
    <content type="html"><![CDATA[<h3 id="1、简述"><a href="#1、简述" class="headerlink" title="1、简述"></a>1、简述</h3><div class="note note-success">            <p>blog菜单栏添加留言板功能，欢迎大家留言交流。。。</p>          </div><span id="more"></span><hr /><p><em><strong>My blog</strong></em>文章添加留言功能，除此之外还在菜单栏添加一个专门用来留言的message pad，用来<em><strong>share</strong></em>文章中简称mp。查看next主题config.yml文件以及google了一下，发现居然配置5中默认的评论系统。。。<em><strong>next</strong></em>这么变态吗？提供1～2就好了，5个是怎么回事啊，还得花时间去整理<em><strong>compare</strong></em>，以下仅代表个人观点。</p><h3 id="2、评论系统"><a href="#2、评论系统" class="headerlink" title="2、评论系统"></a>2、评论系统</h3><table><thead><tr><th align="center">id</th><th align="center">type</th><th align="left">desc</th><th align="center">remark</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">valine</td><td align="left"><a href="https://valine.js.org/">https://valine.js.org</a></td><td align="center">🌟🌟🌟</td></tr><tr><td align="center">4</td><td align="center">disqus</td><td align="left"><a href="https://www.jianshu.com/p/c4f65ebe23ad">https://www.jianshu.com/p/c4f65ebe23ad</a></td><td align="center"></td></tr><tr><td align="center">5</td><td align="center">changyan</td><td align="left"><a href="https://www.jianshu.com/p/5246d020da25">https://www.jianshu.com/p/5246d020da25</a></td><td align="center"></td></tr><tr><td align="center">2</td><td align="center">gitment</td><td align="left"><a href="https://github.com/imsun/gitment">https://github.com/imsun/gitment</a></td><td align="center">🌟</td></tr><tr><td align="center">3</td><td align="center">gitalk</td><td align="left"><a href="https://gitalk.github.io/">https://gitalk.github.io</a></td><td align="center">🌟</td></tr></tbody></table><h4 id="2-1、效果图"><a href="#2-1、效果图" class="headerlink" title="2.1、效果图"></a>2.1、效果图</h4><blockquote><p>valine</p></blockquote><img src="valine.png" style="border:3px solid black"/>> disqus<img src="disqus.png" style="border:3px solid black"/>> changyan<img src="changyan.png" style="border:3px solid black"/>> gitment<img src="gitment.png" style="border:3px solid black"/>> gitalk<img src="gitalk.png" style="border:3px solid black"/><p><em><strong>总结：</strong></em><font color="#dd0000" size="4">单从效果图上来看，我倾向于gitment、gitalk、changyan，简单整洁。</font></p><h4 id="2-2、功能性"><a href="#2-2、功能性" class="headerlink" title="2.2、功能性"></a>2.2、功能性</h4><p>这里不想说明了，直接给出结论。。。干货</p><p><em><strong>总结：</strong></em><font color="#dd0000" size="4">除了valine，其他4个评论均需要强制登录一个指定的账号才可以进行评论发布，令人太不爽了。</font></p><h3 id="3、Valine"><a href="#3、Valine" class="headerlink" title="3、Valine"></a>3、Valine</h3><pre><code class="hljs">主要基于账号的问题，我选择Valine，起码大家都可以参与，没有限制。</code></pre><h4 id="3-1、注册LeanCloud"><a href="#3-1、注册LeanCloud" class="headerlink" title="3.1、注册LeanCloud"></a>3.1、注册LeanCloud</h4><p>注册LeanCloud，将数据托管给第三方，直接登录账号使用，很方便。注册地址：<a href="https://leancloud.cn/">注册Leancloud(官方)</a></p><blockquote><p>注册</p></blockquote><img src="leancloud_zhuce.png" style="border:3px solid blue"/>> 创建应用<img src="leancloud_newapp.png" style="border:3px solid blue"/>> 设置应用<img src="leancloud_setting.png" style="border:3px solid blue"/>> 应用key<img src="leancloud_key.png" style="border:3px solid blue"/><h4 id="3-2、next配置"><a href="#3-2、next配置" class="headerlink" title="3.2、next配置"></a>3.2、next配置</h4><p>打开next的配置：theme&#x2F;next&#x2F;_config.yml，搜索：# Valine</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-params">valine:</span><br>  <span class="hljs-params">enable:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># When enable is set to be true, leancloud_visitors is recommended to be closed for the re-initialization problem within different leancloud adk version.</span><br>  <span class="hljs-params">appid:</span> XXXX <span class="hljs-comment"># your leancloud application appid</span><br>  <span class="hljs-params">appkey:</span> XXXX <span class="hljs-comment"># your leancloud application appkey</span><br>  <span class="hljs-params">notify:</span> <span class="hljs-literal">false</span> <span class="hljs-comment"># mail notifier, See: https://github.com/xCss/Valine/wiki</span><br>  <span class="hljs-params">verify:</span> <span class="hljs-literal">false</span> <span class="hljs-comment"># Verification code</span><br>  <span class="hljs-params">placeholder:</span> 欢迎吐槽 ！ <span class="hljs-comment"># comment box placeholder</span><br>  <span class="hljs-params">avatar:</span> mm <span class="hljs-comment"># gravatar style</span><br>  <span class="hljs-params">guest_info:</span> nick,mail <span class="hljs-comment"># link custom comment header</span><br>  <span class="hljs-params">pageSize:</span> <span class="hljs-number">10</span> <span class="hljs-comment"># pagination size</span><br>  <span class="hljs-params">language:</span> <span class="hljs-comment"># language, available values: en, zh-cn</span><br>  <span class="hljs-params">visitor:</span> <span class="hljs-literal">false</span> <span class="hljs-comment"># leancloud-counter-security is not supported for now. When visitor is set to be true, appid and appkey are recommended to be the same as leancloud_visitors&#x27; for counter compatibility. Article reading statistic https://valine.js.org/visitor.html</span><br>  <span class="hljs-params">comment_count:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># if false, comment count will only be displayed in post page, not in home page</span><br></code></pre></td></tr></table></figure><ul><li>enable：是否开启Valine评论</li><li>appid：leancloud应用上App ID</li><li>appkey：leancloud应用上App Key</li><li>notify &amp;&amp; verify：是否开启邮件提醒，leancloud &amp;&amp; github valine使用有详细介绍，具体查看文档(<a href="https://valine.js.org/notify.html">https://valine.js.org/notify.html</a>)</li><li>placeholder：评论区默认文字</li><li>avatar：头像设置(<a href="https://valine.js.org/avatar.html">https://valine.js.org/avatar.html</a>)</li><li>guest_info：评论区用户选填的基本信息</li><li>pageSize：一页评论的数据</li><li>language：语言设置，默认zh-cn</li><li>visitor：还不知道，欢迎大家留言告诉我，哈ヾﾉ≧∀≦)o哈</li><li>comment_count：是否展示评论总数</li></ul><h3 id="4、评论生效"><a href="#4、评论生效" class="headerlink" title="4、评论生效"></a>4、评论生效</h3><p><em><strong>注册 &amp;&amp; 配置</strong></em>搞完了之后，并不是立马看到效果，需要：</p><pre><code class="hljs">hexo ghexo server -p 8888</code></pre><p>从心打开blog，奇迹出现了。。。哈哈哈，<em><strong><font color="#dd0000">一起都是自己的功劳，并不是什么奇迹，只要努力，成功离你就会不远</font></strong></em>。</p><h3 id="5、禁用评论"><a href="#5、禁用评论" class="headerlink" title="5、禁用评论"></a>5、禁用评论</h3><p>但是，我其实就是想在菜单栏添加个留言板功能，不想再blog文章中添加这个功能，简单。打开文章，在最上面的设置中加入</p><pre><code class="hljs">comments: true</code></pre><p>从新g-&gt;server，奇迹再次发生。。。如果想都关闭评论，这个需要在已经发布的文章中分别设置，暂时没有找到简单的方法。不能在以后每篇文章中每次都设置，好麻烦，只想需要要设置一次。当然有方法，blog&#x2F;scaffolds&#x2F;post.md文件设置：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-meta">---</span><br><span class="hljs-attr">title:</span> &#123;&#123; <span class="hljs-string">title</span> &#125;&#125;<br><span class="hljs-attr">desc:</span><br><span class="hljs-attr">date:</span> &#123;&#123; <span class="hljs-string">date</span> &#125;&#125;<br><span class="hljs-attr">updated:</span> &#123;&#123; <span class="hljs-string">date</span> &#125;&#125;<br><span class="hljs-attr">categories:</span><br><span class="hljs-attr">tags:</span><br><span class="hljs-attr">comments:</span> <span class="hljs-literal">false</span><br><span class="hljs-meta">---</span><br></code></pre></td></tr></table></figure><h3 id="6、留言板"><a href="#6、留言板" class="headerlink" title="6、留言板"></a>6、留言板</h3><p><em><strong>终于进入主题了，菜单栏添加单独一栏留言板功能。</strong></em></p><blockquote><p>添加page</p></blockquote><pre><code class="hljs">hexo new page messagepad</code></pre><blockquote><p>留言板</p></blockquote><p>对page messagepad的index.md进行编辑加入自定义的东西。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-meta">---</span><br><span class="hljs-attr">title:</span> <span class="hljs-string">欢迎大家留言</span><br><span class="hljs-meta">---</span><br><span class="hljs-type">![messagepad.png](messagepad.png)</span><br><span class="hljs-string">&lt;div</span> <span class="hljs-string">class=&quot;ds-recent-visitors&quot;</span> <span class="hljs-string">data-num-items=&quot;28&quot;</span> <span class="hljs-string">data-avatar-size=&quot;42&quot;</span> <span class="hljs-string">id=&quot;ds-recent-visitors&quot;&gt;&lt;/div&gt;</span><br></code></pre></td></tr></table></figure><p>继续见证奇迹吧。</p><h3 id="7、Suggestion"><a href="#7、Suggestion" class="headerlink" title="7、Suggestion"></a>7、Suggestion</h3><p><em><strong><font color="#dd0000" size="5">真正的成功并非一朝一夕，水滴石穿，努力吧，少年们！！！</font></strong></em></p><pre><code class="hljs">到此收工，一个完美的菜单栏留言板功能share献给大家。</code></pre>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Hexo插件</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Next主题优化-增强篇（Gemini）</title>
    <link href="/articles/41065/"/>
    <url>/articles/41065/</url>
    
    <content type="html"><![CDATA[<span class="label label-info">Hexo美化</span> <span class="label label-danger">Gemini</span> <span class="label label-info">Next主题优化</span> <h3 id="问题简述"><a href="#问题简述" class="headerlink" title="问题简述"></a>问题简述</h3><div class="note note-success">            <p>Next主题优化之增强篇，前几天写了一篇通过配置相关的优化，继续介绍一下代码相关更改的优化。</p>          </div><span id="more"></span><hr /><h3 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h3><p><img src="/articles/41065/next_youhua_catalog.png" alt="初始化目录"></p><ul><li>_config.yml：blog全局配置文件</li><li>node_modules：npm安装的第三方包</li><li>public：执行<em><strong>hexo generate</strong></em>命令，输出的静态网页内容目录</li><li>package.json：hexo-site安装的第三方插件</li><li>scaffolds：layout模板文件目录</li><li>source：文章源码目录，该目录下的markdown和html文件均会被hexo处理</li><li>themes：主题文件目录</li></ul><h3 id="优化Catalog"><a href="#优化Catalog" class="headerlink" title="优化Catalog"></a>优化Catalog</h3><ul><li><font color="#dd0000" size="5">修改后重启服务：hexo g &amp;&amp; hexo server -p 8888 –debug</font></li></ul><ol><li><h4 id="Fork-me-on-github"><a href="#Fork-me-on-github" class="headerlink" title="Fork me on github"></a>Fork me on github</h4><p> 位置：blog&#x2F;themes&#x2F;next&#x2F;layout&#x2F;_layout.swig<br> 打开上述文件，搜索关键字<font size="4" color="red"><em><strong>headband</strong></em></font>，在这个div标签下添加文字&#x2F;图标链接的代码，并把href改为自己的github地址。</p> <figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs applescript">&lt;<span class="hljs-keyword">div</span> <span class="hljs-built_in">class</span>=<span class="hljs-string">&quot;headband&quot;</span>&gt;&lt;/<span class="hljs-keyword">div</span>&gt;<br></code></pre></td></tr></table></figure><p> 文字：<a href="https://github.blog/2008-12-19-github-ribbons/">https://github.blog/2008-12-19-github-ribbons/</a><br> 图标：<a href="http://tholman.com/github-corners/">http://tholman.com/github-corners/</a><br> <img src="/articles/41065/next_youhua_github.png" alt="Fork_me_on_github"></p> <div class="note note-info">            <p>新版实现方式</p>          </div><p> 在新版只需要配置一下就OK，打开next的配置文件，搜索<font size="4" color="red"><em><strong>github_banner</strong></em></font>，配置一下：</p> <figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-params">github_banner:</span><br>  <span class="hljs-params">enable:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-params">permalink:</span> https:<span class="hljs-symbol">//github.com/GIS90</span><br>  <span class="hljs-params">title:</span> Follow me on GitHub<br></code></pre></td></tr></table></figure></li><li><h4 id="文章内链接文本样式"><a href="#文章内链接文本样式" class="headerlink" title="文章内链接文本样式"></a>文章内链接文本样式</h4><p> 位置：blog\themes\next\source\css_custom\custom.styl<br> 打开上述文件，样式根据自己的喜爱定义就好，添加如下代码：</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.post-body</span> <span class="hljs-selector-tag">p</span> <span class="hljs-selector-tag">a</span>&#123;<br>  <span class="hljs-attribute">color</span>: <span class="hljs-number">#0593d3</span>;<br>  <span class="hljs-attribute">border-bottom</span>: none;<br>  <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#0593d3</span>;<br>  &amp;<span class="hljs-selector-pseudo">:hover</span> &#123;<br>    <span class="hljs-attribute">color</span>: <span class="hljs-number">#fc6423</span>;<br>    <span class="hljs-attribute">border-bottom</span>: none;<br>    <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#fc6423</span>;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p> <img src="/articles/41065/next_youhua_a.gif" alt="超链接"></p></li><li><h4 id="添加顶部加载条"><a href="#添加顶部加载条" class="headerlink" title="添加顶部加载条"></a>添加顶部加载条</h4><p> 添加顶部加载条，步骤如下：</p><ul><li>下载js文件，不清楚的也可以直接看github官方介绍：<a href="https://github.com/theme-next/theme-next-pace">https://github.com/theme-next/theme-next-pace</a></li></ul> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> themes/next<br>git <span class="hljs-built_in">clone</span> https://github.com/theme-next/theme-next-pace <span class="hljs-built_in">source</span>/lib/pace<br></code></pre></td></tr></table></figure><ul><li>打开配置文件，搜索<font size="4" color="red"><em><strong>pace</strong></em></font>，更改如下<br> 位置：blog&#x2F;theme&#x2F;next&#x2F;_config.yml</li></ul> <figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs coq"># <span class="hljs-keyword">Dependencies</span>: https://github.com/theme-next/theme-next-pace<br>pace: true<br># Themes list:<br># pace-theme-big-counter | <span class="hljs-type">pace</span>-theme-bounce | <span class="hljs-type">pace</span>-theme-barber-shop | <span class="hljs-type">pace</span>-theme-center-atom<br># pace-theme-center-circle | <span class="hljs-type">pace</span>-theme-center-radar | <span class="hljs-type">pace</span>-theme-center-<span class="hljs-built_in">simple</span> | <span class="hljs-type">pace</span>-theme-corner-indicator<br># pace-theme-fill-<span class="hljs-built_in">left</span> | <span class="hljs-type">pace</span>-theme-flash | <span class="hljs-type">pace</span>-theme-loading-bar | <span class="hljs-type">pace</span>-theme-mac-osx | <span class="hljs-type">pace</span>-theme-minimal<br>pace_theme: pace-theme-mac-osx<br></code></pre></td></tr></table></figure><p> 大家可以根据自己喜欢的样式配置。<br> <img src="/articles/41065/next_youhua_load.gif" alt="顶部加载条"></p></li><li><h4 id="tags页样式修改"><a href="#tags页样式修改" class="headerlink" title="tags页样式修改"></a>tags页样式修改</h4><p> 位置：blog&#x2F;theme&#x2F;next&#x2F;_config.yml<br> 打开配置文件，搜索<font size="4" color="red"><em><strong>tagcloud</strong></em></font>，更改配置如下：</p> <figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-params">tagcloud:</span><br>  <span class="hljs-comment"># If true, font size, font color and amount of tags can be customized</span><br>  <span class="hljs-params">enable:</span> <span class="hljs-literal">true</span><br><br>  <span class="hljs-comment"># All values below are same as default, change them by yourself</span><br>  <span class="hljs-params">min:</span> <span class="hljs-number">12</span> <span class="hljs-comment"># min font size in px</span><br>  <span class="hljs-params">max:</span> <span class="hljs-number">36</span> <span class="hljs-comment"># max font size in px</span><br>  <span class="hljs-params">start:</span> <span class="hljs-string">&quot;#FF9900&quot;</span> <span class="hljs-comment"># start color (hex, rgba, hsla or color keywords)</span><br>  <span class="hljs-params">end:</span> <span class="hljs-string">&quot;#FF00FF&quot;</span> <span class="hljs-comment"># end color (hex, rgba, hsla or color keywords)</span><br>  <span class="hljs-params">amount:</span> <span class="hljs-number">80</span> <span class="hljs-comment"># amount of tags, chage it if you have more than 200 tags</span><br></code></pre></td></tr></table></figure><p> <img src="/articles/41065/next_youhua_tags.png" alt="tags"></p></li><li><h4 id="鼠标样式修改"><a href="#鼠标样式修改" class="headerlink" title="鼠标样式修改"></a>鼠标样式修改</h4><ul><li>鼠标样式文件<br> 把下载好的鼠标样式文件（.cur）放到<strong>blog\public</strong>目录下。</li><li>自定义样式<br> 位置：blog\themes\next\source\css_custom\custom.styl。<br> 打开上述文件，添加如下代码：</li></ul> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs css">// 光明西-背景<br><span class="hljs-selector-tag">body</span> &#123;<br>    <span class="hljs-attribute">background</span>:<span class="hljs-built_in">url</span>(<span class="hljs-string">/images/background.jpg</span>);<br>    <span class="hljs-attribute">cursor</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">&#x27;/images/shubiao_guangmingxi.cur&#x27;</span>), auto <span class="hljs-meta">!important</span>;<br>&#125;<br>// 自制主题切换功能样式-暗黑系<br><span class="hljs-selector-tag">body</span><span class="hljs-selector-class">.dark-theme</span> &#123;<br>    <span class="hljs-attribute">background</span>: <span class="hljs-number">#282c34</span>;<br>    <span class="hljs-attribute">cursor</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">&#x27;/images/shubiao_anheixi.cur&#x27;</span>), auto <span class="hljs-meta">!important</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p> 鼠标样式根据自己的喜好做相关调整。</p><ul><li>刷新。</li></ul></li></ol><h3 id="学习"><a href="#学习" class="headerlink" title="学习"></a>学习</h3><p>hexo官方配置手册：<a href="https://hexo-guide.readthedocs.io/zh_CN/latest/index.html">https://hexo-guide.readthedocs.io/zh_CN/latest/index.html</a><br>hexo图标选取地址：<a href="https://fontawesome.com/icons">https://fontawesome.com/icons</a></p><h3 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h3><p>本篇内容主要解决Hexo、Next更改代码相关的优化，如果想通过配置优化，请查看<em><strong>Next主题优化-基础篇</strong></em>。内容持续更新中，如有bugs，欢迎大家评论指出。<br>待续。。。。。。（未完结）</p><p><em><strong><font color="#dd0000" size="5">学会分享，一起进步</font></strong></em></p>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Hexo美化</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Next主题优化-基础篇（Gemini）</title>
    <link href="/articles/58065/"/>
    <url>/articles/58065/</url>
    
    <content type="html"><![CDATA[<span class="label label-success">Gemini</span> <span class="label label-danger">Hexo美化</span> <span class="label label-info">Next主题优化</span> <h3 id="问题简述"><a href="#问题简述" class="headerlink" title="问题简述"></a>问题简述</h3><div class="note note-success">            <p><font color="#dd0000"><em><strong>My blog</strong></em></font> 采用Hexo + Next搭建，搭建完之后，看页面居然还是英文，好ugly，身为一名程序猿怎么可以忍呢。在持续一个月的捣鼓中，总结出Next一些通过配置优化的点。</p>          </div><span id="more"></span><hr /><h3 id="版本信息"><a href="#版本信息" class="headerlink" title="版本信息"></a>版本信息</h3><table><thead><tr><th align="center">id</th><th align="center">name</th><th align="center">version</th><th align="center">remark</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">Hexo</td><td align="center">v3.8.0</td><td align="center">系统版本</td></tr><tr><td align="center">2</td><td align="center">NextT.Pisces</td><td align="center">v7.0.1</td><td align="center">主题版本</td></tr><tr><td align="center">3</td><td align="center">ATOM</td><td align="center">1.34.0</td><td align="center">编译器</td></tr><tr><td align="center">4</td><td align="center">Theme</td><td align="center">Gemini</td><td align="center"></td></tr></tbody></table><h3 id="优化Catalog"><a href="#优化Catalog" class="headerlink" title="优化Catalog"></a>优化Catalog</h3><ul><li><em><strong><font color="#dd0000" size="5">切记config文件冒号“：”后面一定要有一个空格</font></strong></em></li><li><em><strong><font color="#dd0000" size="5">修改后重启服务：hexo g &amp;&amp; hexo server -p 8888 debug</font></strong></em></li></ul><ol><li><h4 id="Blog站点配置"><a href="#Blog站点配置" class="headerlink" title="Blog站点配置"></a>Blog站点配置</h4></li></ol><p>位置：blog&#x2F;_config.yml<br><em><strong>hexo自带的config.yml，不是next主题的，看好了</strong></em></p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs avrasm"><span class="hljs-meta"># 基本信息配置 Site</span><br><span class="hljs-symbol">title:</span> PyGo²<br><span class="hljs-symbol">subtitle:</span> 一个爱老婆的python程序猿。。。。。。<br><span class="hljs-symbol">description:</span> 直男，双鱼星座，现居北京，去哪儿网python开发工程师。<br><span class="hljs-symbol">keywords:</span> python<br><span class="hljs-symbol">author:</span> mingliang.gao<br><span class="hljs-symbol">language:</span> <span class="hljs-built_in">zh</span>-CN <span class="hljs-meta"># 🌟页面的语言设置</span><br><span class="hljs-symbol">timezone:</span> Asia/Shanghai <span class="hljs-meta">#时区</span><br></code></pre></td></tr></table></figure><ol start="2"><li><h4 id="Next风格设置"><a href="#Next风格设置" class="headerlink" title="Next风格设置"></a>Next风格设置</h4></li></ol><p>位置：blog&#x2F;theme&#x2F;next&#x2F;_config.yml<br>打开配置文件，搜索<font size="4" color="red"><em><strong>Schemes</strong></em></font>，更改配置如下：</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs avrasm"><span class="hljs-meta"># Schemes 主题风格</span><br><span class="hljs-meta"># scheme: Muse</span><br><span class="hljs-meta"># scheme: Mist</span><br><span class="hljs-symbol">scheme:</span> Pisces<br><span class="hljs-meta"># scheme: Gemini</span><br></code></pre></td></tr></table></figure><ol start="3"><li><h4 id="菜单栏"><a href="#菜单栏" class="headerlink" title="菜单栏"></a>菜单栏</h4></li></ol><p>位置：blog&#x2F;theme&#x2F;next&#x2F;_config.yml<br>打开文件，格式：<em><strong>Key: Path || Icon</strong></em>，不想要的#禁止掉</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-params">menu:</span><br>  <span class="hljs-params">home:</span> <span class="hljs-symbol">/</span> <span class="hljs-operator">||</span> home<br>  <span class="hljs-params">archives:</span> <span class="hljs-operator">/</span>archives<span class="hljs-symbol">/</span> <span class="hljs-operator">||</span> history<br>  <span class="hljs-params">tags:</span> <span class="hljs-operator">/</span>tags<span class="hljs-symbol">/</span> <span class="hljs-operator">||</span> tags<br>  <span class="hljs-params">categories:</span> <span class="hljs-operator">/</span>categories<span class="hljs-symbol">/</span> <span class="hljs-operator">||</span> list<br>  <span class="hljs-params">movie:</span> <span class="hljs-operator">/</span>categories<span class="hljs-operator">/</span>影视说 <span class="hljs-operator">||</span> film<br>  <span class="hljs-params">messagepad:</span> <span class="hljs-operator">/</span>messagepad<span class="hljs-symbol">/</span> <span class="hljs-operator">||</span> sticky-note<br>  <span class="hljs-params">about:</span> <span class="hljs-operator">/</span>about<span class="hljs-symbol">/</span> <span class="hljs-operator">||</span> user<br>  <span class="hljs-comment"># schedule: /schedule/ || calendar</span><br>  <span class="hljs-comment"># sitemap: /sitemap.xml || sitemap</span><br>  <span class="hljs-comment"># commonweal: /404/ || heartbeat</span><br><br><span class="hljs-params">menu_settings:</span><br>  <span class="hljs-params">icons:</span> <span class="hljs-literal">true</span>   <span class="hljs-comment"># 是否显示图标</span><br>  <span class="hljs-params">badges:</span> <span class="hljs-literal">true</span>  <span class="hljs-comment"># 是否显示分类、标签、时间轴所包含内容个数</span><br></code></pre></td></tr></table></figure><ol start="4"><li><h4 id="about页面"><a href="#about页面" class="headerlink" title="about页面"></a>about页面</h4></li></ol><p>终端（mac推荐使用zsh + item2）回到blog的根目录，运行：<em><strong>hexo new page about</strong></em>，在<strong>blog&#x2F;source</strong>下会自动建立about文件夹，编辑里面的index.md，配置如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-meta">---</span><br><span class="hljs-attr">layout:</span> <span class="hljs-string">about</span><br><span class="hljs-attr">title:</span> <span class="hljs-string">Self</span> <span class="hljs-string">Introduction</span><br><span class="hljs-attr">date:</span> <span class="hljs-number">2018-01-01</span><br><span class="hljs-attr">comments:</span> <span class="hljs-literal">false</span><br><span class="hljs-attr">type:</span> <span class="hljs-string">about</span><br><span class="hljs-meta">---</span><br></code></pre></td></tr></table></figure><p>现在可以使用atom去写关于自己的描述了（markdown语法，不知道的请自行恶补）</p><ol start="5"><li><h4 id="tags-catalog页面"><a href="#tags-catalog页面" class="headerlink" title="tags&#x2F;catalog页面"></a>tags&#x2F;catalog页面</h4></li></ol><blockquote><p>Tags</p></blockquote><p>根目录运行：<em><strong>hexo new page tags</strong></em>，配置如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-meta">---</span><br><span class="hljs-attr">title:</span> <span class="hljs-string">标签</span><br><span class="hljs-attr">date:</span> <span class="hljs-number">2019-03-17 13:58:44</span><br><span class="hljs-attr">type:</span> <span class="hljs-string">&quot;tags&quot;</span><br><span class="hljs-attr">comments:</span> <span class="hljs-literal">false</span><br><span class="hljs-meta">---</span><br></code></pre></td></tr></table></figure><blockquote><p>Catalog</p></blockquote><p>根目录运行：<em><strong>hexo new page tags</strong></em>，配置如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-meta">---</span><br><span class="hljs-attr">title:</span> <span class="hljs-string">分类</span><br><span class="hljs-attr">date:</span> <span class="hljs-number">2019-03-17 13:58:10</span><br><span class="hljs-attr">type:</span> <span class="hljs-string">&quot;categories&quot;</span><br><span class="hljs-attr">comments:</span> <span class="hljs-literal">false</span><br><span class="hljs-meta">---</span><br></code></pre></td></tr></table></figure><p>tags和categorise页面不用设置样式，自动生成，之所以与about页面分开，我觉得虽然建立的方式一样，但是内容根本不一个东西，每篇文章设置对应的即可，栗子如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-meta">---</span><br><span class="hljs-attr">title:</span> <span class="hljs-string">程序猿七夕-心心相印</span><br><span class="hljs-attr">comments:</span> <span class="hljs-literal">false</span><br><span class="hljs-attr">date:</span> <span class="hljs-number">2018-8</span><span class="hljs-number">-13</span> <span class="hljs-number">14</span><span class="hljs-string">:19:57</span><br><span class="hljs-attr">updated:</span> <span class="hljs-number">2018-8</span><span class="hljs-number">-13</span> <span class="hljs-number">17</span><span class="hljs-string">:19:57</span><br><span class="hljs-attr">desc:</span> <span class="hljs-string">程序猿七夕-心心相印</span><br><span class="hljs-attr">categories:</span><br>  <span class="hljs-bullet">-</span> [<span class="hljs-string">python</span>]<br><span class="hljs-attr">tags:</span> [<span class="hljs-string">python</span>]<br><span class="hljs-meta">---</span><br></code></pre></td></tr></table></figure><ol start="6"><li><h4 id="设置创建文章同名文件夹"><a href="#设置创建文章同名文件夹" class="headerlink" title="设置创建文章同名文件夹"></a>设置创建文章同名文件夹</h4></li></ol><p>位置：blog&#x2F;_config.yml<br>打开配置文件，搜索<font size="4" color="red"><em><strong>post_asset_folder</strong></em></font>，更改配置如下：</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-params">default_layout:</span> post <span class="hljs-comment"># 默认创建文件分类</span><br><span class="hljs-params">post_asset_folder:</span> <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><p>开启之后，在创建文章<em><strong>hexo new XXXX</strong></em>，同时也会出现一个同名的文件夹用来存放相关的图片。</p><ol start="7"><li><h4 id="个人头像设置"><a href="#个人头像设置" class="headerlink" title="个人头像设置"></a>个人头像设置</h4></li></ol><p>设置侧边栏头像，准备好头像图片，可以是png、jpg、gif等，本人用的动态gif图片。然后，将图片放在&#x2F;blog&#x2F;themes&#x2F;next&#x2F;source&#x2F;images&#x2F;文件夹下。<br>位置：blog&#x2F;theme&#x2F;next&#x2F;_config.yml，搜索<font size="4" color="red"><em><strong>avatar</strong></em></font>，更改配置如下：</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-params">url:</span> <span class="hljs-symbol">/images/timg.gif</span> <span class="hljs-comment"># 图片存放位置</span><br><span class="hljs-params">rounded:</span> <span class="hljs-literal">true</span> <span class="hljs-comment">#设置图片是否为圆形，当图片为正方形时为圆，否则为正方形</span><br><span class="hljs-params">opacity:</span> <span class="hljs-number">1</span> <span class="hljs-comment">#图片的透明度</span><br><span class="hljs-params">rotated:</span> <span class="hljs-literal">true</span> <span class="hljs-comment">#设置鼠标移到图片上是否转动</span><br></code></pre></td></tr></table></figure><img src="next_youhua_avatar.gif" style="border:1.5px solid blue"/><ol start="8"><li><h4 id="社交栏设置"><a href="#社交栏设置" class="headerlink" title="社交栏设置"></a>社交栏设置</h4></li></ol><p>在Next主题配置文件中，搜索<font size="4" color="red"><em><strong>social</strong></em></font>，设置相对应的社交信息，格式：<strong>网站名: 网址 || 图标</strong>（英文“:”）。<br>图标选取地址：<a href="https://fontawesome.com/cheatsheet?from=io">自选图标</a></p><blockquote><p>菜单栏的个人社交信息设置</p></blockquote><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">social:</span><br><span class="hljs-symbol">  GitHub:</span> https:<span class="hljs-comment">//github.com/GIS90 || github</span><br><span class="hljs-symbol">  WeiBo:</span> https:<span class="hljs-comment">//weibo.com/u/1989571513 || weibo</span><br>  E-Mail: gaoming971366@<span class="hljs-number">163.</span>com || envelope<br><span class="hljs-symbol">  OsChina:</span> https:<span class="hljs-comment">//my.oschina.net/u/2259452 || fire</span><br>  <span class="hljs-meta"># Google: https:<span class="hljs-comment">//plus.google.com/yourname || google</span></span><br>  <span class="hljs-meta">#Twitter: https:<span class="hljs-comment">//twitter.com/yourname || twitter</span></span><br>  <span class="hljs-meta">#FB Page: https:<span class="hljs-comment">//www.facebook.com/yourname || facebook</span></span><br>  <span class="hljs-meta">#VK Group: https:<span class="hljs-comment">//vk.com/yourname || vk</span></span><br>  <span class="hljs-meta">#StackOverflow: https:<span class="hljs-comment">//stackoverflow.com/yourname || stack-overflow</span></span><br>  <span class="hljs-meta">#YouTube: https:<span class="hljs-comment">//youtube.com/yourname || youtube</span></span><br>  <span class="hljs-meta">#Instagram: https:<span class="hljs-comment">//instagram.com/yourname || instagram</span></span><br>  <span class="hljs-meta">#Skype: skype:yourname?call|chat || skype</span><br></code></pre></td></tr></table></figure><blockquote><p>社交信息图标设置</p></blockquote><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-params">social_icons:</span><br>  <span class="hljs-params">enable:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># 是否展示图标</span><br>  <span class="hljs-params">icons_only:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># 是否只展示图标</span><br>  <span class="hljs-params">transition:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># 一/多行格式</span><br></code></pre></td></tr></table></figure><ol start="9"><li><h4 id="修改模版"><a href="#修改模版" class="headerlink" title="修改模版"></a>修改模版</h4></li></ol><p>位置：blog&#x2F;scaffolds&#x2F;post.md<br>打开上述文件，修改代码如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-meta">---</span><br><span class="hljs-attr">title:</span> &#123;&#123; <span class="hljs-string">title</span> &#125;&#125;<br><span class="hljs-attr">desc:</span><br><span class="hljs-attr">date:</span> &#123;&#123; <span class="hljs-string">date</span> &#125;&#125;<br><span class="hljs-attr">updated:</span> &#123;&#123; <span class="hljs-string">date</span> &#125;&#125;<br><span class="hljs-attr">categories:</span><br><span class="hljs-attr">tags:</span><br><span class="hljs-attr">comments:</span> <span class="hljs-literal">false</span><br><span class="hljs-meta">---</span><br></code></pre></td></tr></table></figure><ul><li>title：文章标题</li><li>desc：文章的简述</li><li>date：文章创建时间</li><li>updated：文章修改时间</li><li>categories：文章分类</li><li>tags：文章标签</li><li>comments：是否启用评论功能，默认关闭</li></ul><ol start="10"><li><h4 id="代码添加复制功能"><a href="#代码添加复制功能" class="headerlink" title="代码添加复制功能"></a>代码添加复制功能</h4></li></ol><p>位置：blog&#x2F;theme&#x2F;next&#x2F;_config.yml<br>打开配置文件，搜索<font size="4" color="red"><em><strong>Button</strong></em></font>，更改配置如下：</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-params">codeblock:</span><br>  <span class="hljs-params">border_radius:</span> <span class="hljs-number">0</span> <span class="hljs-comment"># 复制功能button边框</span><br>  <span class="hljs-params">copy_button:</span><br>    <span class="hljs-params">enable:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># 是否启用复制功能呢</span><br>    <span class="hljs-params">show_result:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># 是否显示复制结果</span><br>    <span class="hljs-params">style:</span> <span class="hljs-comment"># 设置flat，样式超难看</span><br></code></pre></td></tr></table></figure><p>默认按钮显示<strong>复制</strong>，若是想改为英文<strong>copy</strong>，打开blog&#x2F;themes&#x2F;next&#x2F;languages&#x2F;zh-CN.yml文件中，将下面部分改了即可：</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs avrasm"><span class="hljs-symbol">copy_button:</span> 复制<br><span class="hljs-symbol">copy_success:</span> 复制成功<br><span class="hljs-symbol">copy_failure:</span> 复制失败<br></code></pre></td></tr></table></figure><img src="next_youhua_copy.gif" style="border:1.5px solid blue"/><ol start="11"><li><h4 id="文章设置打赏"><a href="#文章设置打赏" class="headerlink" title="文章设置打赏"></a>文章设置打赏</h4></li></ol><p>位置：blog&#x2F;theme&#x2F;next&#x2F;_config.yml<br>打开配置文件，搜索<font size="4" color="red"><em><strong>reward_settings</strong></em></font>，更改配置如下：</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-params">reward_settings:</span><br>  <span class="hljs-params">enable:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># 是否启用打赏功能</span><br>  <span class="hljs-params">animation:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># 支付名称支付有动画效果</span><br>  <span class="hljs-params">comment:</span> 觉得有帮助，欢迎打赏 <span class="hljs-comment"># 贡献说明</span><br><br><span class="hljs-params">reward:</span><br>  <span class="hljs-params">wechatpay:</span> <span class="hljs-symbol">/images/wechatpay.png</span> <span class="hljs-comment"># 微信</span><br>  <span class="hljs-params">alipay:</span> <span class="hljs-symbol">/images/alipay.png</span> <span class="hljs-comment"># 支付宝</span><br>  <span class="hljs-comment"># bitcoin: /images/bitcoin.png # 比特币</span><br></code></pre></td></tr></table></figure><img src="next_youhua_pay.gif" style="border:1.5px solid blue"/><ol start="12"><li><h4 id="footer设置"><a href="#footer设置" class="headerlink" title="footer设置"></a>footer设置</h4></li></ol><p>位置：blog&#x2F;theme&#x2F;next&#x2F;_config.yml<br>打开配置文件，搜索<font size="4" color="red"><em><strong>footer</strong></em></font>，更改配置如下：</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-params">footer:</span><br>  <span class="hljs-comment"># 底部user图标</span><br>  <span class="hljs-params">icon:</span><br>    <span class="hljs-params">name:</span> user-circle <span class="hljs-comment"># icon名称</span><br>    <span class="hljs-params">animated:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># 是否启用动画效果</span><br>    <span class="hljs-params">color:</span> <span class="hljs-string">&quot;#FF0000&quot;</span> <span class="hljs-comment"># 图标颜色</span><br><br>  <span class="hljs-params">copyright:</span> <span class="hljs-comment"># 底部hexo版本信息显示设置</span><br>  <span class="hljs-params">powered:</span><br>    <span class="hljs-params">enable:</span> <span class="hljs-literal">false</span> <span class="hljs-comment"># 是否显示hexo版本信息</span><br>    <span class="hljs-params">version:</span> <span class="hljs-literal">true</span><br><br>  <span class="hljs-params">theme:</span> <span class="hljs-comment"># 底部hexo版本信息显示设置</span><br>    <span class="hljs-params">enable:</span> <span class="hljs-literal">false</span> <span class="hljs-comment"># 是否显示next版本信息</span><br>    <span class="hljs-params">version:</span> <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><p>图标选取地址：<a href="https://fontawesome.com/v4.7.0/icons/">https://fontawesome.com/v4.7.0/icons/</a><br><img src="next_youhua_footer.gif" style="border:1.5px solid blue"/></p><ol start="13"><li><h4 id="访问人数和总访问量"><a href="#访问人数和总访问量" class="headerlink" title="访问人数和总访问量"></a>访问人数和总访问量</h4></li></ol><p>位置：blog&#x2F;theme&#x2F;next&#x2F;_config.yml<br>打开配置文件，搜索<font size="4" color="red"><em><strong>busuanzi_count</strong></em></font>，更改配置如下：</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-params">busuanzi_count:</span><br>  <span class="hljs-params">enable:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># 是否启用统计功能</span><br>  <span class="hljs-params">total_visitors:</span> <span class="hljs-literal">false</span> <span class="hljs-comment"># 网站总的访问人数，底部展示</span><br>  <span class="hljs-params">total_visitors_icon:</span> user <span class="hljs-comment"># 网站总的访问人数icon</span><br>  <span class="hljs-params">total_views:</span> <span class="hljs-literal">false</span> <span class="hljs-comment"># 网站总的访问次数，底部展示</span><br>  <span class="hljs-params">total_views_icon:</span> eye <span class="hljs-comment"># 网站总的访问次数icon</span><br>  <span class="hljs-params">post_views:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># 阅读次数，文章标题下展示</span><br>  <span class="hljs-params">post_views_icon:</span> eye <span class="hljs-comment"># 阅读次数icon</span><br></code></pre></td></tr></table></figure><ol start="14"><li><h4 id="动态背景Canvas"><a href="#动态背景Canvas" class="headerlink" title="动态背景Canvas"></a>动态背景Canvas</h4></li></ol><p>位置：blog&#x2F;theme&#x2F;next&#x2F;_config.yml<br>canvas-nest：<a href="https://github.com/theme-next/theme-next-canvas-nest">https://github.com/theme-next/theme-next-canvas-nest</a><br>three_waves：<a href="https://github.com/theme-next/theme-next-three">https://github.com/theme-next/theme-next-three</a><br>具体步骤github上有详解<br>打开配置文件，搜索<font size="4" color="red"><em><strong>Canvas-nest</strong></em></font>，更改配置如下：</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-comment"># Canvas-nest 背景效果</span><br><span class="hljs-params">canvas_nest:</span><br>  <span class="hljs-params">enable:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-params">onmobile:</span> <span class="hljs-literal">false</span> <span class="hljs-comment"># display on mobile or not</span><br>  <span class="hljs-params">color:</span> <span class="hljs-string">&quot;0,0,255&quot;</span> <span class="hljs-comment"># RGB values, use &#x27;,&#x27; to separate</span><br>  <span class="hljs-params">opacity:</span> <span class="hljs-number">0.5</span> <span class="hljs-comment"># the opacity of line: 0~1</span><br>  <span class="hljs-params">zIndex:</span> <span class="hljs-operator">-</span><span class="hljs-number">1</span> <span class="hljs-comment"># z-index property of the background</span><br>  <span class="hljs-params">count:</span> <span class="hljs-number">199</span> <span class="hljs-comment"># the number of lines</span><br><br><span class="hljs-comment"># JavaScript 3D library.</span><br><span class="hljs-comment"># Dependencies: https://github.com/theme-next/theme-next-three</span><br><span class="hljs-comment"># three_waves 背景效果</span><br><span class="hljs-params">three_waves:</span> <span class="hljs-literal">false</span><br><span class="hljs-comment"># canvas_lines</span><br><span class="hljs-params">canvas_lines:</span> <span class="hljs-literal">false</span><br><span class="hljs-comment"># canvas_sphere</span><br><span class="hljs-params">canvas_sphere:</span> <span class="hljs-literal">false</span><br></code></pre></td></tr></table></figure><p>特别指出three_waves配置只能选取一个，而且开启canvas-nest，three_waves之后，页面渲染的时间变长了，而且发现内存，cpu的使用率也加大了，所以我只开启了canvas-nest，根据自己的需求进行配置。<br><img src="next_youhua_bg.gif" style="border:1.5px solid blue"/></p><ol start="15"><li><h4 id="文章第三方分享"><a href="#文章第三方分享" class="headerlink" title="文章第三方分享"></a>文章第三方分享</h4></li></ol><blockquote><p>分享插件：baidushare</p></blockquote><p>文章添加<em><strong>新浪、微信、贴吧</strong></em>等国内第三方分享，关于位置有<strong>button | slide</strong>2种选择。<br>位置：blog&#x2F;theme&#x2F;next&#x2F;_config.yml<br>打开配置文件，搜索<font size="4" color="red"><em><strong>baidushare</strong></em></font>，更改配置如下：</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">baidushare:</span><br><span class="hljs-symbol">  type:</span> button<br></code></pre></td></tr></table></figure><img src="next_youhua_baidushare.png" style="border:1.5px solid blue"/><blockquote><p>分享插件：likely</p></blockquote><p>文章添加<em><strong>twitter、facebook、linkedin</strong></em>等国际第三方分享，有需要的同学可以开启此功能。<br>位置：blog&#x2F;theme&#x2F;next&#x2F;_config.yml<br>打开配置文件，搜索<font size="4" color="red"><em><strong>likely</strong></em></font>，更改配置如下：</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-params">likely:</span><br>  <span class="hljs-params">enable:</span> <span class="hljs-literal">false</span><br>  <span class="hljs-params">look:</span> normal <span class="hljs-comment"># available values: normal, light, small, big</span><br>  <span class="hljs-params">networks:</span><br>    <span class="hljs-params">twitter:</span> Tweet<br>    <span class="hljs-params">facebook:</span> Share<br>    <span class="hljs-params">linkedin:</span> Link<br>    <span class="hljs-params">gplus:</span> Plus<br>    <span class="hljs-params">vkontakte:</span> Share<br>    <span class="hljs-params">odnoklassniki:</span> Class<br>    <span class="hljs-params">telegram:</span> Send<br>    <span class="hljs-params">whatsapp:</span> Send<br>    <span class="hljs-params">pinterest:</span> Pin<br></code></pre></td></tr></table></figure><img src="next_youhua_likely.png" style="border:1.5px solid blue"/><blockquote><p>分享插件：NeedMoreShare2</p></blockquote><p>配置文件新增了综合国内、国际分享，也是可以设置底部、侧边2种位置。<br>位置：blog&#x2F;theme&#x2F;next&#x2F;_config.yml<br>打开配置文件，搜索<font size="4" color="red"><em><strong>NeedMoreShare2</strong></em></font>，更改配置如下：</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-params">needmoreshare2:</span><br>  <span class="hljs-params">enable:</span> <span class="hljs-literal">false</span><br>  <span class="hljs-params">postbottom:</span><br>    <span class="hljs-params">enable:</span> <span class="hljs-literal">false</span><br>    <span class="hljs-params">options:</span><br>      <span class="hljs-params">iconStyle:</span> box<br>      <span class="hljs-params">boxForm:</span> horizontal<br>      <span class="hljs-params">position:</span> bottomCenter<br>      <span class="hljs-params">networks:</span> Weibo,Wechat,Douban,QQZone,Twitter,Facebook<br>  <span class="hljs-params">float:</span><br>    <span class="hljs-params">enable:</span> <span class="hljs-literal">false</span><br>    <span class="hljs-params">options:</span><br>      <span class="hljs-params">iconStyle:</span> box<br>      <span class="hljs-params">boxForm:</span> horizontal<br>      <span class="hljs-params">position:</span> middleRight<br>      <span class="hljs-params">networks:</span> Weibo,Wechat,Douban,QQZone,Twitter,Facebook<br></code></pre></td></tr></table></figure><img src="next_youhua_needmoreshare2.png" style="border:1.5px solid blue"/><ol start="16"><li><h4 id="友情链接"><a href="#友情链接" class="headerlink" title="友情链接"></a>友情链接</h4></li></ol><p>位置：blog&#x2F;theme&#x2F;next&#x2F;_config.yml<br>站点浏览添加友情链接，格式：名称: url(英文“:”)。打开配置文件，搜索<font size="4" color="red"><em><strong>Blog rolls</strong></em></font>，更改配置如下：</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">links_icon:</span> link <span class="hljs-meta"># 图标</span><br><span class="hljs-symbol">links_title:</span> 友情链接 <span class="hljs-meta"># 标题</span><br><span class="hljs-meta"># links_layout: block # 链接样式 块样式</span><br><span class="hljs-symbol">links_layout:</span> inline <span class="hljs-meta"># 行样式</span><br><span class="hljs-symbol">links:</span> <span class="hljs-meta"># 内容</span><br> google搜索: https:<span class="hljs-comment">//www.google.com</span><br> baidu搜索: https:<span class="hljs-comment">//www.baidu.com</span><br> pdf在线转换: https:<span class="hljs-comment">//smallpdf.com/cn</span><br> json格式化: https:<span class="hljs-comment">//www.json.cn/</span><br></code></pre></td></tr></table></figure><img src="next_youhua_link.png" style="border:1.5px solid blue"/><ol start="18"><li><h4 id="首页设置文章预览"><a href="#首页设置文章预览" class="headerlink" title="首页设置文章预览"></a>首页设置文章预览</h4></li></ol><p>首页文章设置预览前言显示，有2种方式，都<em><strong>share</strong></em>一下。</p><blockquote><p>配置</p></blockquote><p>位置：blog&#x2F;theme&#x2F;next&#x2F;_config.yml<br>打开配置文件，搜索<font size="4" color="red"><em><strong>auto_excerpt</strong></em></font>，更改配置如下：</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-params">auto_excerpt:</span><br>  <span class="hljs-params">enable:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-params">length:</span> <span class="hljs-number">200</span><br></code></pre></td></tr></table></figure><p>设置完之后，首页预览每个markdown格式，不建议使用。</p><blockquote><p>more</p></blockquote><p>在文章需要进行预览的地方，加入如下代码：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- more --&gt;</span><br></code></pre></td></tr></table></figure><p>建议使用，格式、图片等不受影响。</p><ol start="19"><li><h4 id="文章首页图片展示"><a href="#文章首页图片展示" class="headerlink" title="文章首页图片展示"></a>文章首页图片展示</h4></li></ol><p>首页文章设置预览用<em><strong>more</strong></em>去进行处理，当在预览中加入图片时，图片链接会去blog&gt;public&gt;images目录下去寻找对应的图片，打开文章又回去文章对应的目录&gt;images目录下去找。<br>所以，当文章预览中有图片显示的文章，在文章的目录下手动建立一个<strong>images</strong>文件夹，把图片分别存放在当前images文件夹以及blog&gt;public&gt;images文件夹下。这样就OK了。<br><img src="next_youhua_pic.png" style="border:1.5px solid blue"/></p><p>不过有个问题，首页如果分页显示，那么首页预览图片寻找的路径会发生改变。所以我在前面设置文章预览个数index_generator的时候设置为0，这是我的解决方法，如果大家有好的解决方案，欢迎大家留言交流。</p><ol start="20"><li><h4 id="博文添加图片查看器"><a href="#博文添加图片查看器" class="headerlink" title="博文添加图片查看器"></a>博文添加图片查看器</h4></li></ol><p>首先，下载fancybox插件，有2个版本，我选择了最新版3。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> themes/next<br>git <span class="hljs-built_in">clone</span> https://github.com/theme-next/theme-next-fancybox3 <span class="hljs-built_in">source</span>/lib/fancybox<br></code></pre></td></tr></table></figure><p>位置：blog&#x2F;theme&#x2F;next&#x2F;_config.yml<br>打开配置文件，搜索<em><strong>fancybox</strong></em>，更改配置如下：</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-params">fancybox:</span> <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><p>fancybox官网：<a href="https://github.com/theme-next/theme-next-fancybox3">https://github.com/theme-next/theme-next-fancybox3</a><br><img src="next_youhua_fangda.png" style="border:1.5px solid blue"/></p><ol start="21"><li><h4 id="页面浏览进度"><a href="#页面浏览进度" class="headerlink" title="页面浏览进度"></a>页面浏览进度</h4></li></ol><p>设置页面的浏览百分比，打开配置文件，搜索<font size="4" color="red"><em><strong>scrollpercent</strong></em></font>，更改配置如下：<br>位置：blog&#x2F;theme&#x2F;next&#x2F;_config.yml</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-params">back2top:</span><br>  <span class="hljs-params">enable:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-comment"># Back to top in sidebar.</span><br>  <span class="hljs-params">sidebar:</span> <span class="hljs-literal">false</span>    <span class="hljs-comment"># sitebar是否在工具栏</span><br>  <span class="hljs-comment"># Scroll percent label in b2t button.</span><br>  <span class="hljs-params">scrollpercent:</span> <span class="hljs-literal">true</span>   <span class="hljs-comment"># 浏览进度情况</span><br></code></pre></td></tr></table></figure><ol start="22"><li><h4 id="文章额外信息展示"><a href="#文章额外信息展示" class="headerlink" title="文章额外信息展示"></a>文章额外信息展示</h4></li></ol><p>在文章标题下面显示文章相关的额外信息，打开配置文件，搜索<font size="4" color="red"><em><strong>post_meta</strong></em></font>，更改配置如下：<br>位置：blog&#x2F;theme&#x2F;next&#x2F;_config.yml</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-comment"># Post meta display settings</span><br><span class="hljs-comment"># 文章创作时间、分类</span><br><span class="hljs-params">post_meta:</span><br>  <span class="hljs-params">item_text:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-params">created_at:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-params">updated_at:</span><br>    <span class="hljs-params">enable:</span> <span class="hljs-literal">true</span><br>    <span class="hljs-params">another_day:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-params">categories:</span> <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><img src="next_youhua_extrainfo.png" style="border:1.5px solid blue"/><ol start="23"><li><h4 id="修改访问URL路径"><a href="#修改访问URL路径" class="headerlink" title="修改访问URL路径"></a>修改访问URL路径</h4></li></ol><p>blog默认情况下访问URL路径为：domain&#x2F;2017&#x2F;08&#x2F;18&#x2F;title，打开配置文件，搜索<font size="4" color="red"><em><strong>permalink</strong></em></font>，更改配置如下：<br>位置：blog&#x2F;_config.yml</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs elixir"><span class="hljs-symbol">permalink:</span> <span class="hljs-symbol">:category/</span><span class="hljs-symbol">:title/</span><br></code></pre></td></tr></table></figure><p>配置完，重启一下server，回到主页在进行文件查看，发现地址发生改变</p><ol start="24"><li><h4 id="设置博客favicon图标"><a href="#设置博客favicon图标" class="headerlink" title="设置博客favicon图标"></a>设置博客favicon图标</h4></li></ol><p>修改博客favicon图标，打开配置文件，搜索<font size="4" color="red"><em><strong>apple_touch_icon</strong></em></font>，更改配置如下：<br>位置：blog&#x2F;theme&#x2F;next&#x2F;_config.yml</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">favicon:</span><br><span class="hljs-symbol">  small:</span> <span class="hljs-keyword">/images/</span>favicon16.ico<br><span class="hljs-symbol">  medium:</span> <span class="hljs-keyword">/images/</span>favicon32.ico<br><span class="hljs-symbol">  apple_touch_icon:</span> <span class="hljs-keyword">/images/</span>apple-touch-icon-next.png<br><span class="hljs-symbol">  safari_pinned_tab:</span> <span class="hljs-keyword">/images/</span>logo.svg<br></code></pre></td></tr></table></figure><ol start="25"><li><h4 id="修改文章底部的-号标签"><a href="#修改文章底部的-号标签" class="headerlink" title="修改文章底部的#号标签"></a>修改文章底部的#号标签</h4></li></ol><p>打开&#x2F;themes&#x2F;next&#x2F;layout&#x2F;_macro&#x2F;post.swig，搜索<font size="4" color="red"><em><strong>rel&#x3D;”tag”&gt;#</strong></em></font>，将#换成下列代码:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;fa fa-tag&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><ul><li>配置完Hexo config需要重启server，next config重新刷新即可。</li></ul><h3 id="学习"><a href="#学习" class="headerlink" title="学习"></a>学习</h3><ul><li>hexo官方配置手册：<a href="https://hexo-guide.readthedocs.io/zh_CN/latest/index.html">https://hexo-guide.readthedocs.io/zh_CN/latest/index.html</a></li><li>hexo图标选取地址：<a href="https://fontawesome.com/icons">https://fontawesome.com/icons</a></li></ul><h3 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h3><p>本篇内容主要解决Hexo、Next相关config配置文件的优化，内容持续更新中，如有bugs，欢迎大家评论指出。<br>待续。。。。。。（未完结）</p><p><em><strong><font color="#dd0000" size="5">学会分享，一起进步</font></strong></em></p>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Hexo美化</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python的for_break_else的坑</title>
    <link href="/articles/14093/"/>
    <url>/articles/14093/</url>
    
    <content type="html"><![CDATA[<span class="label label-default">Python语法糖</span> <span class="label label-primary">for...else</span><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><div class="note note-primary">            <p>python语法糖中for&#x2F;while循环中else+break的使用，别让break坑你</p>          </div><span id="more"></span><hr /><h3 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h3><p>​​​​在python语法糖中，大家应该经常使用for&#x2F;while…else，官方是这么解释循环中else的使用的：<br><img src="/articles/14093/for_break_else_english.jpg" alt="引用官方原著引用官方原著"><br>重要知识点是划线部分，大致意思for&#x2F;while正常结束走else，break跳转循环是不走else的。下面就用例子强行解释一波👇（最简单的例子，别介意）：<br>​先看个正常的：<br><img src="/articles/14093/for_else.jpg" alt="正常for_else"><br>break非正常结束for：​<br><img src="/articles/14093/for_break_else.jpg" alt="正常for_else"><br>可见，break可以引起for&#x2F;while循环非正常结束​，经常使用for_else的小盆友，如果使用了break，一定要注意，本人就在使用中被坑了一把，调试了好久才知道。。。</p><h3 id="备注"><a href="#备注" class="headerlink" title="备注"></a>备注</h3><p>官方地址：<a href="http://book.pythontips.com/en/latest/for_-_else.html%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B">http://book.pythontips.com/en/latest/for_-_else.html​​​​​</a></p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Python基础篇</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hexo展示文章统计-hexo-symbols-count-time</title>
    <link href="/articles/16195/"/>
    <url>/articles/16195/</url>
    
    <content type="html"><![CDATA[<h3 id="问题简述"><a href="#问题简述" class="headerlink" title="问题简述"></a>问题简述</h3><div class="note note-success">            <p>next主题的blog添加文章统计功能【hexo-symbols-count-time】</p>          </div><span id="more"></span><hr /><p><em><strong>My blog</strong></em>采用next主题，想在发布的文章中加上通统计相关的展示，google许多文章，都是关于配置hexo-wordcount、LeanCloud等，发现配置之后，仍然没有效果。身为一名程序猿，怎么可能有解决不的bug，下面是我的解决方案，官方配置。</p><h3 id="版本信息"><a href="#版本信息" class="headerlink" title="版本信息"></a>版本信息</h3><table><thead><tr><th align="center">id</th><th align="center">name</th><th align="center">version</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">Hexo</td><td align="center">v3.8.0</td></tr><tr><td align="center">2</td><td align="center">NextT.Pisces</td><td align="center">v7.0.1</td></tr></tbody></table><h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><p>去查next主题的_config.yml文件，一点点看。终于在347行发现了***# Post wordcount display settings***这一行说明，继续阅读发现hexo-symbols-count-time这个插件，立马google，官方解释：<br><img src="/articles/16195/hexo-symbols-count-time.png" alt="hexo-symbols-count-time"><br>大致的意思是统计文章的符号数量以及阅读时间，比hexo-reading-time更美观，比hexo-worcount统计的更快，而且还没有依赖。这是非常爽的啊，只需要按配置一下，OK了啊。</p><h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs applescript">npm install hexo-symbols-<span class="hljs-built_in">count</span>-<span class="hljs-built_in">time</span> <span class="hljs-comment">--save</span><br></code></pre></td></tr></table></figure><h4 id="blog配置文件"><a href="#blog配置文件" class="headerlink" title="blog配置文件"></a>blog配置文件</h4><p>⁍ next找到_config.yml的配置，添加以下内容：</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-comment"># 文章统计</span><br><span class="hljs-params">symbols_count_time:</span><br> <span class="hljs-comment">#文章内是否显示</span><br>  <span class="hljs-params">symbols:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-params">time:</span> <span class="hljs-literal">true</span><br> <span class="hljs-comment"># 网页底部是否显示</span><br>  <span class="hljs-params">total_symbols:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-params">total_time:</span> <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><h4 id="theme配置文件"><a href="#theme配置文件" class="headerlink" title="theme配置文件"></a>theme配置文件</h4><p>⁍ next找到_config.yml的配置，搜索关键字：hexo-symbols-count-time</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-params">symbols_count_time:</span><br>  <span class="hljs-params">separated_meta:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-params">item_text_post:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-params">item_text_total:</span> <span class="hljs-literal">false</span><br>  <span class="hljs-params">awl:</span> <span class="hljs-number">4</span><br>  <span class="hljs-params">wpm:</span> <span class="hljs-number">275</span><br></code></pre></td></tr></table></figure><h4 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h4><p>AWL — Average Word Length (chars count in word). Default: 4. You can check this here.<br>    CN ≈ 2<br>    EN ≈ 5<br>    RU ≈ 6<br>WPM — Words Per Minute. Default: 275. You can check this here.<br>    Slow ≈ 200<br>    Normal ≈ 275<br>    Fast ≈ 350</p><h3 id="相关文章"><a href="#相关文章" class="headerlink" title="相关文章"></a>相关文章</h3><p>***hexo-wordcount：***<a href="https://www.jianshu.com/p/baea8c95e39b">https://www.jianshu.com/p/baea8c95e39b</a><br>***hexo-symbols-count-time：***<a href="https://github.com/theme-next/hexo-symbols-count-time">https://github.com/theme-next/hexo-symbols-count-time</a></p><h3 id="个人观点"><a href="#个人观点" class="headerlink" title="个人观点"></a>个人观点</h3><ul><li>搞开发的英语看的能力起码得有基础，不然解决bug，看官方api的时候很费劲</li><li>搞一个东西的时候，先从本身查找能否解决问题，如果不能在考虑从外部引用解决问题</li></ul>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Hexo插件</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python生成博客tags词云</title>
    <link href="/articles/31753/"/>
    <url>/articles/31753/</url>
    
    <content type="html"><![CDATA[<span class="label label-default">Python</span> <span class="label label-primary">Tag词云</span> <span class="label label-success">Python实例</span> <span class="label label-info">Hexo</span><h4 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h4><div class="note note-primary">            <p>博客已经了一些技术文章，在写about页面的时候，想把自己tags分类展示在页面上，但是直接写文字，能不能在low点。。。想到了词云，于是写个脚本自动生产博客的词云图片，<font color='red' size=4.5>完美</font>！！！。</p>          </div><span id="more"></span><hr /><h4 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h4><table><thead><tr><th align="center">id</th><th align="center">name</th><th align="center">Version</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">Python</td><td align="center">2.7</td></tr></tbody></table><h4 id="数据流"><a href="#数据流" class="headerlink" title="数据流"></a>数据流</h4><p><font color='red' size=5>html数据源 -&gt; html解析收集tag -&gt; 词云生成图片</font></p><h4 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h4><p>脚本是针对博客建立的，所以数据源取的就是博客文章的tag标签。脚本开发起来很简单，代码也不是很复杂，每个方法有基本的注释，代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">------------------------------------------------</span><br><span class="hljs-string">describe:</span><br><span class="hljs-string">    词云生成器</span><br><span class="hljs-string"></span><br><span class="hljs-string">usage:</span><br><span class="hljs-string">    python tag_cloud.py</span><br><span class="hljs-string"></span><br><span class="hljs-string">base_info:</span><br><span class="hljs-string">    __version__ = &quot;v.10&quot;</span><br><span class="hljs-string">    __author__ = &quot;mingliang.gao&quot;</span><br><span class="hljs-string">    __time__ = &quot;2018/11/21&quot;</span><br><span class="hljs-string">    __mail__ = &quot;mingliang.gao@qunar.com&quot;</span><br><span class="hljs-string">------------------------------------------------</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> re<br><span class="hljs-keyword">import</span> jieba<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image<br><span class="hljs-keyword">from</span> wordcloud <span class="hljs-keyword">import</span> WordCloud<br><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br><br><br>BACKGROUND_NAME = <span class="hljs-string">&#x27;public/images/tags_background.png&#x27;</span><br>HTML_REL_DIR = <span class="hljs-string">&#x27;public/articles&#x27;</span><br>TAR_IMG = <span class="hljs-string">&#x27;public/images/blog_tags.jpg&#x27;</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_cur_dir</span>():<br>    <span class="hljs-keyword">return</span> os.path.abspath(os.path.dirname(__file__))<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TagCloudGenerator</span>(<span class="hljs-title class_ inherited__">object</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-variable language_">self</span>.background = os.path.join(get_cur_dir(), BACKGROUND_NAME)<br>        <span class="hljs-variable language_">self</span>.text_source = os.path.join(get_cur_dir(), HTML_REL_DIR)<br>        <span class="hljs-variable language_">self</span>.tar_img = os.path.join(get_cur_dir(), TAR_IMG)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_index_files</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        get all index.html file</span><br><span class="hljs-string">        :return: list type</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        index_files = <span class="hljs-built_in">list</span>()<br>        pattern = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">&#x27;index\.html&#x27;</span>)<br>        <span class="hljs-keyword">for</span> root, dirs, files <span class="hljs-keyword">in</span> os.walk(<span class="hljs-variable language_">self</span>.text_source):<br>            <span class="hljs-keyword">for</span> f <span class="hljs-keyword">in</span> files:<br>                f_full = os.path.join(root, f)<br>                <span class="hljs-keyword">match</span> = pattern.search(f_full)<br>                index_files.append(f_full) <span class="hljs-keyword">if</span> <span class="hljs-keyword">match</span> <span class="hljs-keyword">else</span> <span class="hljs-literal">None</span><br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> index_files<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_index_tags</span>(<span class="hljs-params">self, index_html</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        get tags of index.html</span><br><span class="hljs-string">        :param index_html: index html</span><br><span class="hljs-string">        :return: list type</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        tags = <span class="hljs-built_in">list</span>()<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> index_html:<br>            <span class="hljs-keyword">return</span> tags<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(index_html):<br>            <span class="hljs-keyword">return</span> tags<br><br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">_deal_html_tas</span>():<br>            soup = BeautifulSoup(<span class="hljs-built_in">open</span>(index_html), <span class="hljs-string">&#x27;html.parser&#x27;</span>, from_encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>            post_a_tags = soup.find_all(<span class="hljs-string">&#x27;a&#x27;</span>, attrs=&#123;<span class="hljs-string">&quot;rel&quot;</span>: <span class="hljs-string">&quot;tag&quot;</span>&#125;)<br>            <span class="hljs-keyword">if</span> post_a_tags:<br>                <span class="hljs-keyword">for</span> tag <span class="hljs-keyword">in</span> post_a_tags:<br>                    tag_text = tag.get_text()<br>                    tags.append(tag_text.strip())<br>            <span class="hljs-keyword">return</span> tags<br><br>        <span class="hljs-keyword">return</span> _deal_html_tas()<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">collect_tags</span>(<span class="hljs-params">self</span>):<br>        all_tags = <span class="hljs-built_in">list</span>()<br>        all_indexs = <span class="hljs-variable language_">self</span>.get_index_files()<br>        <span class="hljs-keyword">for</span> index_file <span class="hljs-keyword">in</span> all_indexs:<br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> index_file:<br>                <span class="hljs-keyword">continue</span><br><br>            tags = <span class="hljs-variable language_">self</span>.get_index_tags(index_file)<br>            <span class="hljs-built_in">print</span> index_file<br>            all_tags.extend(tags) <span class="hljs-keyword">if</span> tags <span class="hljs-keyword">else</span> <span class="hljs-literal">None</span><br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> all_tags<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">run</span>(<span class="hljs-params">self</span>):<br>        all_html_tags = <span class="hljs-variable language_">self</span>.collect_tags() * <span class="hljs-number">100</span><br>        wl_space_split = <span class="hljs-string">&quot; &quot;</span>.join(all_html_tags)<br>        d = os.path.dirname(__file__)<br>        tag_background = np.array(Image.<span class="hljs-built_in">open</span>(<span class="hljs-variable language_">self</span>.background))<br>        my_wordcloud = WordCloud(background_color=<span class="hljs-string">&quot;#CACFD2&quot;</span>,<br>                                 max_words=<span class="hljs-number">2000</span>,<br>                                 font_path=<span class="hljs-string">&quot;public/publicfiles/fangsong_GB2312.ttf&quot;</span>,<br>                                 mask=tag_background,<br>                                 stopwords=&#123;<span class="hljs-string">&#x27;企业&#x27;</span>&#125;,<br>                                 max_font_size=<span class="hljs-number">150</span>,<br>                                 scale=<span class="hljs-number">1</span>,<br>                                 width=<span class="hljs-number">800</span>,<br>                                 random_state=<span class="hljs-number">1</span>).generate(wl_space_split)<br><br>        plt.imshow(my_wordcloud)<br>        plt.axis(<span class="hljs-string">&quot;off&quot;</span>)<br>        <span class="hljs-comment"># plt.show()</span><br>        my_wordcloud.to_file(<span class="hljs-variable language_">self</span>.tar_img)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    tc = TagCloudGenerator()<br>    tc.run()<br></code></pre></td></tr></table></figure><p>代码存在tag_cloud.py文件中，放在blog的根目录，图片生成的位置：blog&#x2F;public&#x2F;images&#x2F;blog_tags.jpg。</p><h4 id="执行方法"><a href="#执行方法" class="headerlink" title="执行方法"></a>执行方法</h4><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">python</span> tag_cloud.<span class="hljs-keyword">py</span><br></code></pre></td></tr></table></figure><h4 id="嵌入about"><a href="#嵌入about" class="headerlink" title="嵌入about"></a>嵌入about</h4><p>找到about页面的index.md文件，嵌入图片，代码如下：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">&lt;img <span class="hljs-attribute">src</span>=<span class="hljs-string">&quot;/images/blog_tags.jpg&quot;</span>  <span class="hljs-attribute">alt</span>=<span class="hljs-string">&quot;tags cloud&quot;</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">&quot;88%&quot;</span>/&gt;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Python</tag>
      
      <tag>Python程序篇</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hexo文章添加版权声明</title>
    <link href="/articles/46750/"/>
    <url>/articles/46750/</url>
    
    <content type="html"><![CDATA[<h4 id="问题简述"><a href="#问题简述" class="headerlink" title="问题简述"></a>问题简述</h4><div class="note note-success">            <p>想在<em><strong>My blog</strong></em>的文章底部添加上自己的版权声明，一是意识方便大家进行转载share，二来也是对自己写的东西有一个声明吧。废话不多说，很简单。【含样式】</p>          </div><span id="more"></span><hr /><p><img src="/articles/46750/article_banquanshengming.png"></p><h4 id="版本信息"><a href="#版本信息" class="headerlink" title="版本信息"></a>版本信息</h4><table><thead><tr><th align="center">id</th><th align="center">name</th><th align="center">version</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">Hexo</td><td align="center">v3.8.0</td></tr><tr><td align="center">2</td><td align="center">NextT.Pisces</td><td align="center">v7.0.1</td></tr></tbody></table><h4 id="版权代码"><a href="#版权代码" class="headerlink" title="版权代码"></a>版权代码</h4><p>打开next主题目录下&#x2F;next&#x2F;layout&#x2F;_macro&#x2F;post.swig文件，搜索<em><strong>post-body</strong></em>，在这个div标签结束的下一行，添加以下代码</p><figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs handlebars"><span class="language-xml"><span class="hljs-comment">&lt;!-- 版权声明 --&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"> &#123;% if not is_index %&#125;</span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;post-copyright&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;post-copyright-author&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>本文作者：<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">theme.author</span> &#125;&#125;</span><span class="language-xml">【</span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">theme.subtitle</span> &#125;&#125;</span><span class="language-xml">】</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;post-copyright-link&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>本文链接：<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">url_for</span>(<span class="hljs-name">page.permalink</span>) &#125;&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span> <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">page.title</span> &#125;&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">page.permalink</span> &#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;post-copyright-license&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>版权声明：<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span></span><br><span class="language-xml">        本博客所有文章除特别声明外，均采用 <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;http://creativecommons.org/licenses/by-nc-sa/3.0/cn/&quot;</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;external nofollow&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span>&gt;</span>CC BY-NC-SA 3.0 CN<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span> 许可协议。转载请注明出处！</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">  &#123;% endif %&#125;</span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>变量说明：</p><ul><li>theme.*：hexo配置文件的基础信息</li><li>page.*：指的是本文章的一些相关信息</li></ul><h4 id="版权样式"><a href="#版权样式" class="headerlink" title="版权样式"></a>版权样式</h4><p>打开&#x2F;next&#x2F;source&#x2F;css&#x2F;_custom&#x2F;custom.styl,并在里面添加如下样式代码:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs css">// 版权声明样式<br><span class="hljs-selector-class">.post-copyright</span> &#123;<br>    <span class="hljs-attribute">margin</span>: <span class="hljs-number">2em</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">padding</span>: <span class="hljs-number">0.5em</span> <span class="hljs-number">1em</span>;<br>    <span class="hljs-attribute">border-left</span>: <span class="hljs-number">8px</span> double <span class="hljs-number">#ff1700</span>;<br>    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#EAECEE</span>;<br>    <span class="hljs-attribute">list-style</span>: none;<br>&#125;<br><span class="hljs-selector-class">.post-copyright-link</span> <span class="hljs-selector-tag">a</span>&#123;<br>    <span class="hljs-attribute">color</span>: blue;<br>&#125;<br><span class="hljs-selector-class">.post-copyright-link</span> <span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">:hover</span> &#123;<br>    <span class="hljs-attribute">color</span>: red;<br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">18px</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="个人声明"><a href="#个人声明" class="headerlink" title="个人声明"></a>个人声明</h4><p>本人在版权声明中文章链接的都是github上的地址，如果不需要去掉<a href="https://gis90.github.io/%E5%8D%B3%E5%8F%AF%E3%80%82">https://gis90.github.io/即可。</a></p>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Next主题优化-美化篇（Gemini）</title>
    <link href="/articles/3412/"/>
    <url>/articles/3412/</url>
    
    <content type="html"><![CDATA[<span class="label label-default">Hexo美化</span> <span class="label label-primary">Gemini</span> <span class="label label-info">Next主题优化</span> <h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><div class="note note-success">            <p>基本用Hexo + Next把网站搭建起来用<strong>run</strong>了，而且Next在theme中github关注量最高，但是在样式上还是有些。。。。。。此博文用来记录对Next主题的一些样式上的更改，<font size="4" color="red"><em><strong>持续更新中～</strong></em></font>。</p>          </div><span id="more"></span><hr /><h3 id="版本信息"><a href="#版本信息" class="headerlink" title="版本信息"></a>版本信息</h3><table><thead><tr><th align="center">id</th><th align="center">name</th><th align="center">version</th><th align="center">remark</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">Hexo</td><td align="center">v3.8.0</td><td align="center">系统版本</td></tr><tr><td align="center">2</td><td align="center">NextT.Pisces</td><td align="center">v7.0.1</td><td align="center">主题版本</td></tr><tr><td align="center">3</td><td align="center">Theme</td><td align="center">Gemini</td><td align="center">主题样式</td></tr></tbody></table><h3 id="正菜"><a href="#正菜" class="headerlink" title="正菜"></a>正菜</h3><p><font size="4.5" color="red"><em><strong>社会程序猿，人好话不多！！！</strong></em></font></p><ol><li><h4 id="sidebar圆角"><a href="#sidebar圆角" class="headerlink" title="sidebar圆角"></a>sidebar圆角</h4><p> 打开<em><strong>blog&#x2F;themes&#x2F;next&#x2F;source&#x2F;css&#x2F;_variables&#x2F;Gemini.styl</strong></em>，搜索<em><strong>border-radius</strong></em>，在**_variables**目录下有Next主题的4种theme，用哪个修改哪个，修改代码：</p> <figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs gams"><span class="hljs-meta"><span class="hljs-keyword">$border</span>-radius-inner              = 16px</span><br><span class="hljs-meta"><span class="hljs-keyword">$border</span>-radius                    = 16px</span><br></code></pre></td></tr></table></figure><p> 我的修改完了，现在下面站点简介的sidebar，上面的圆角居然有背景色，继续进行优化修改。<br> 打开文件<em><strong>blog\themes\next\source\css_custom\custom.styl</strong></em>（只能说这个文件太NB了，里面可以放置整个站点的style css，very NB），新增代码：</p> <figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs maxima">// sidebar css<br>.sidebar&#123;<br>    <span class="hljs-built_in">background</span>-<span class="hljs-built_in">color</span>:<span class="hljs-built_in">transparent</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p> 把sidebar背景色设置成透明。</p></li><li><h4 id="站点背景图"><a href="#站点背景图" class="headerlink" title="站点背景图"></a>站点背景图</h4><p> Next主题加上背景图，让博客变得更美观，很简单。</p><ul><li><p>找到一张背景图，把图片放到以下文件中并命名background.jpg：<br> 位置：blog&#x2F;public&#x2F;images&#x2F;</p></li><li><p>打开<em><strong>blog&#x2F;themes&#x2F;next&#x2F;source&#x2F;css&#x2F;_custom&#x2F;custom.styl</strong></em>此文件，加入以下代码在文件最上面：</p></li></ul> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css">// 背景图<br><span class="hljs-selector-tag">body</span> &#123;<br>    <span class="hljs-attribute">background</span>:<span class="hljs-built_in">url</span>(<span class="hljs-string">/images/background.jpg</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p> 刷新，样式可以根据自己的需要对图片进行进行调整。</p></li><li><h4 id="文章阴影边框"><a href="#文章阴影边框" class="headerlink" title="文章阴影边框"></a>文章阴影边框</h4><p> 位置：blog\themes\next\source\css_custom\custom.styl<br> 打开上述文件，添加如下代码：</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs css">// 主页文章添加阴影效果<br><span class="hljs-selector-class">.post</span> &#123;<br>   <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">0px</span>;<br>   <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">60px</span>;<br>   <span class="hljs-attribute">padding</span>: <span class="hljs-number">25px</span>;<br>   -webkit-<span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">5px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">250</span>, <span class="hljs-number">128</span>, <span class="hljs-number">114</span>, <span class="hljs-number">1.5</span>);<br>   -moz-<span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">5px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">202</span>, <span class="hljs-number">203</span>, <span class="hljs-number">204</span>, .<span class="hljs-number">5</span>);<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>webkit-box-shadow：控制边框的样式<br> <img src="/articles/3412/next_youhua_border.png" alt="阴影边框"></li></ul></li><li><h4 id="阅读全文特效"><a href="#阅读全文特效" class="headerlink" title="阅读全文特效"></a><strong>阅读全文</strong>特效</h4><p> 位置：blog&#x2F;themes&#x2F;next&#x2F;source&#x2F;css&#x2F;_variables&#x2F;Pisces.styl<br> 打开上述文件，搜索<font size="4" color="red"><em><strong>Button</strong></em></font>，更改代码如下：</p> <figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs mel">$btn-<span class="hljs-keyword">default</span>-radius           = <span class="hljs-number">15</span>px<br>$btn-<span class="hljs-keyword">default</span>-bg               = black<br>$btn-<span class="hljs-keyword">default</span>-<span class="hljs-keyword">color</span>            = white<br>$btn-<span class="hljs-keyword">default</span>-border-<span class="hljs-keyword">color</span>     = blue<br>$btn-<span class="hljs-keyword">default</span>-hover-<span class="hljs-keyword">color</span>      = red<br>$btn-<span class="hljs-keyword">default</span>-hover-bg         = yellow<br></code></pre></td></tr></table></figure><p> <img src="/articles/3412/next_youhua_button.gif" alt="阅读全文"></p></li><li><h4 id="文章底部-号标签"><a href="#文章底部-号标签" class="headerlink" title="文章底部#号标签"></a>文章底部#号标签</h4><p> 位置：blog&#x2F;themes&#x2F;next&#x2F;layout&#x2F;_macro&#x2F;post.swig<br> 打开配置文件，搜索<font size="4" color="red"><em><strong>“tag”</strong></em></font>，将# 更改代码如下：</p> <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;fa fa-tag&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span>即可。<br></code></pre></td></tr></table></figure><p> 同理，<a href="https://fontawesome.com/v4.7.0/icons/">icon</a>也可以根据自己选取。标签暂时还是有下划线的，如果想要想去掉下滑线并添加自己的样式，添加代码到如下文件：<br> 位置：blog\themes\next\source\css_custom\custom.styl</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.posts-expand</span> <span class="hljs-selector-class">.post-tags</span> <span class="hljs-selector-tag">a</span> &#123;<br>    <span class="hljs-attribute">border-bottom</span>: none;<br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">18px</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><h4 id="post透明"><a href="#post透明" class="headerlink" title="post透明"></a>post透明</h4><p> 位置：blog&#x2F;themes&#x2F;next&#x2F;layout&#x2F;_macro&#x2F;post.swig<br> 新增代码：</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.content</span> &#123;<br>    <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">22px</span>;<br>    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0.9</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p> 我只调整了post部分，没有调整sidebar的透明度，如果需要设置，添加代码如下：</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.sidebar</span>&#123;<br>    <span class="hljs-attribute">background-color</span>:transparent;<br>    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0.9</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><h4 id="post-block圆角"><a href="#post-block圆角" class="headerlink" title="post-block圆角"></a>post-block圆角</h4><p> 设置主页每个文章块的圆角，还是样式自定义文件，添加代码：</p> <figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs maxima">.post-<span class="hljs-built_in">block</span> &#123;<br>    <span class="hljs-built_in">border</span>-<span class="hljs-built_in">radius</span> : 12px;<br>&#125;<br></code></pre></td></tr></table></figure><p> <img src="/articles/3412/next_meihua_post.png" alt="主页博文块样式"></p></li><li><h4 id="back-to-top样式更改"><a href="#back-to-top样式更改" class="headerlink" title="back-to-top样式更改"></a>back-to-top样式更改</h4><p> 修改回到顶部的按钮样式。</p><ul><li>配置<br> 位置：blog\themes\next\source\css_custom\custom.styl<br> 打开上述文件，开启back-to-top功能，修改如下代码：</li></ul> <figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-params">back2top:</span><br>  <span class="hljs-params">enable:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-comment"># Back to top in sidebar.</span><br>  <span class="hljs-params">sidebar:</span> <span class="hljs-literal">false</span><br>  <span class="hljs-comment"># Scroll percent label in b2t button.</span><br>  <span class="hljs-params">scrollpercent:</span> <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><ul><li>样式修改<br> 位置：blog\themes\next\source\css_custom\custom.styl<br> 打开上述文件，添加如下代码：</li></ul> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.back-to-top</span> &#123;<br>  <span class="hljs-attribute">right</span>: <span class="hljs-number">60px</span>;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">70px</span>;  //图片素材宽度<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">350px</span>;  //图片素材高度<br>  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;<br>  <span class="hljs-attribute">bottom</span>: unset;<br>  <span class="hljs-attribute">transition</span>: all .<span class="hljs-number">5s</span> ease-in-out;<br>  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">&quot;/images/scroll.png&quot;</span>);<br><br>  //隐藏箭头图标<br>  &gt; <span class="hljs-selector-tag">i</span> &#123;<br>    <span class="hljs-attribute">display</span>: none;<br>  &#125;<br><br>  &amp;<span class="hljs-selector-class">.back-to-top-on</span> &#123;<br>    <span class="hljs-attribute">bottom</span>: unset;<br>    <span class="hljs-attribute">top</span>: <span class="hljs-number">0px</span>;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><h4 id="代码块样式"><a href="#代码块样式" class="headerlink" title="代码块样式"></a>代码块样式</h4><p> 位置：blog\themes\next_config.yml<br> 打开上述文件，搜索<strong>highlight_theme</strong>，更改代码如下：</p> <figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs coq"># Available values: normal | <span class="hljs-type">night</span> | <span class="hljs-type">night</span> eighties | <span class="hljs-type">night</span> blue | <span class="hljs-type">night</span> bright<br># https://github.com/chriskempson/tomorrow-theme<br>highlight_theme: night bright<br></code></pre></td></tr></table></figure><p> 主题有很多，根据自己的喜好定义。</p></li><li><h4 id="标题样式修改"><a href="#标题样式修改" class="headerlink" title="标题样式修改"></a>标题样式修改</h4><p>位置：blog\themes\next\source\css_custom\custom.styl<br>打开上述文件，添加如下代码：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs css">// 标题<br><span class="hljs-selector-class">.post-title</span> &#123;<br>    <span class="hljs-attribute">color</span>: black;<br>    <span class="hljs-attribute">letter-spacing</span>: <span class="hljs-number">12px</span>;<br>    <span class="hljs-attribute">font-family</span>: Comic Sans MS;<br>    <span class="hljs-attribute">text-shadow</span>: -<span class="hljs-number">1px</span> -<span class="hljs-number">1px</span> <span class="hljs-number">1px</span> <span class="hljs-number">#fff</span>, <span class="hljs-number">1px</span> <span class="hljs-number">1px</span> <span class="hljs-number">1px</span> <span class="hljs-number">#000</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>样式根据自己的喜好做相关调整。</p></li></ol><h3 id="小技巧"><a href="#小技巧" class="headerlink" title="小技巧"></a>小技巧</h3><ul><li>在Hexo配置、博文Title都可以加入<em><strong>font、div</strong></em>等等这样的标签。</li><li>在修改样式的时候，浏览器调试模式，找到对应的<em><strong>class</strong></em>，全项目搜索，找到对应的文件，直接进行修改，但不建议这么做。</li><li>可以把样式修改在自定义样式文件：<em><strong>blog\themes\next\source\css_custom\custom.styl</strong></em>（只能说这个文件太NB了，里面可以放置整个站点的style css，very NB）。</li></ul>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Hexo美化</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo新增tags、categories、自定义菜单栏页</title>
    <link href="/articles/33202/"/>
    <url>/articles/33202/</url>
    
    <content type="html"><![CDATA[<h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><div class="note note-success">            <p>Hexo初始化博客之后，主题选用了人气最高的Next，但是发现菜单栏默认是不自动添加tags页与categories页，查资料，终于创建成功，记录下来。</p>          </div><span id="more"></span><hr /><h3 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h3><p>除了讲述tags、categories、about自带的自动化页面，还有讲述自定义sidebar页面，方便用于自己定义相册、等自己喜欢的页面。</p><ol><li><h4 id="tags"><a href="#tags" class="headerlink" title="tags"></a>tags</h4><ul><li>new page<br> 在blog根目录，执行下列命令：</li></ul> <figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim">hexo <span class="hljs-keyword">new</span> page <span class="hljs-keyword">tags</span><br></code></pre></td></tr></table></figure><p> 不出意外会自动生成文件blog&#x2F;source&#x2F;tags&#x2F;index.md，目前位置没有出现过任何问题。有问题的同学可以留言给我。</p><ul><li>配置<br> 打开blog&#x2F;source&#x2F;tags&#x2F;index.md，默认是下列内容：</li></ul> <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-meta">---</span><br><span class="hljs-attr">title:</span> <span class="hljs-string">标签</span><br><span class="hljs-attr">date:</span> <span class="hljs-number">2019-10-22 14:22:08</span><br><span class="hljs-meta">---</span><br></code></pre></td></tr></table></figure><p> 改成<br> <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-meta">---</span><br><span class="hljs-attr">title:</span> <span class="hljs-string">标签</span><br><span class="hljs-attr">date:</span> <span class="hljs-number">2019-10-22 13:58:44</span><br><span class="hljs-attr">type:</span> <span class="hljs-string">&quot;tags&quot;</span><br><span class="hljs-attr">comments:</span> <span class="hljs-literal">false</span><br><span class="hljs-meta">---</span><br></code></pre></td></tr></table></figure></p><ul><li>添加tags<br> 给文章添加对应的tags，打开一篇文件，例子如下：</li></ul> <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-meta">---</span><br><span class="hljs-attr">title:</span> <span class="hljs-string">Hexo+Next搭建属于自己的Blog</span><br><span class="hljs-attr">comments:</span> <span class="hljs-literal">false</span><br><span class="hljs-attr">date:</span> <span class="hljs-number">2018-10-22 23:03:42</span><br><span class="hljs-attr">updated:</span> <span class="hljs-number">2019-10-22 23:03:42</span><br><span class="hljs-attr">desc:</span> <span class="hljs-string">Hexo+Next搭建属于自己的Blog</span><br><span class="hljs-attr">categories:</span><br>  <span class="hljs-bullet">-</span> [<span class="hljs-string">Hexo</span>]<br><span class="hljs-attr">tags:</span> [<span class="hljs-string">Hexo</span>]<br><span class="hljs-attr">keywords:</span> <span class="hljs-string">hexo,</span> <span class="hljs-string">next,</span> <span class="hljs-string">blog</span><br><span class="hljs-meta">---</span><br></code></pre></td></tr></table></figure><ul><li>重启server<br> 重新生成静态页面以及开启服务，之后刷新页面就会看到。</li></ul> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css">hexo <span class="hljs-selector-tag">g</span><br>hexo s<br></code></pre></td></tr></table></figure></li><li><h4 id="categories"><a href="#categories" class="headerlink" title="categories"></a>categories</h4><p> categories页创建与tags页操作一样。</p><ul><li>new page<br> 在blog根目录，执行下列命令：</li></ul> <figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs actionscript">hexo <span class="hljs-keyword">new</span> page categories<br></code></pre></td></tr></table></figure><ul><li>配置<br> 打开blog&#x2F;source&#x2F;categories&#x2F;index.md，默认是下列内容：</li></ul> <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-meta">---</span><br><span class="hljs-attr">title:</span> <span class="hljs-string">分类</span><br><span class="hljs-attr">date:</span> <span class="hljs-number">2018-10-22 14:25:08</span><br><span class="hljs-meta">---</span><br></code></pre></td></tr></table></figure><p> 改成<br> <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-meta">---</span><br><span class="hljs-attr">title:</span> <span class="hljs-string">分类</span><br><span class="hljs-attr">date:</span> <span class="hljs-number">2018-10-22 14:25:08</span><br><span class="hljs-attr">type:</span> <span class="hljs-string">&quot;categories&quot;</span><br><span class="hljs-attr">comments:</span> <span class="hljs-literal">false</span><br><span class="hljs-meta">---</span><br></code></pre></td></tr></table></figure></p><ul><li>添加categories<br> 给文章添加对应的categories：</li></ul> <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-meta">---</span><br><span class="hljs-attr">title:</span> <span class="hljs-string">Hexo+Next搭建属于自己的Blog</span><br><span class="hljs-attr">comments:</span> <span class="hljs-literal">false</span><br><span class="hljs-attr">date:</span> <span class="hljs-number">2018-10-22 23:03:42</span><br><span class="hljs-attr">updated:</span> <span class="hljs-number">2019-10-22 23:03:42</span><br><span class="hljs-attr">desc:</span> <span class="hljs-string">Hexo+Next搭建属于自己的Blog</span><br><span class="hljs-attr">categories:</span><br>  <span class="hljs-bullet">-</span> [<span class="hljs-string">Hexo</span>]<br><span class="hljs-attr">tags:</span> [<span class="hljs-string">Hexo</span>]<br><span class="hljs-attr">keywords:</span> <span class="hljs-string">hexo,</span> <span class="hljs-string">next,</span> <span class="hljs-string">blog</span><br><span class="hljs-meta">---</span><br></code></pre></td></tr></table></figure><ul><li>重启server<br> 同样重启服务。</li></ul> <figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs 1c">hexo g <span class="hljs-meta">&amp;&amp; hexo s</span><br></code></pre></td></tr></table></figure></li><li><h4 id="指定分类列表页"><a href="#指定分类列表页" class="headerlink" title="指定分类列表页"></a>指定分类列表页</h4><p> 这个功能主要用于把已经分类的自分类单独形成一个页面放在sidebar，打开之后是一个文章list效果，建议1～2个。<br> <img src="/articles/33202/enjoy_list.png"></p><ul><li>子分类<br> 找到需要在sidebar显示的子分类，中文、英文都可以。</li><li>配置<br> 打开Next主题配置文件：blog&#x2F;theme&#x2F;next&#x2F;_config.yml，搜索<font size="4" color="red"><em><strong>menu</strong></em></font>，更改代码如下：</li></ul> <figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-params">menu:</span><br>  <span class="hljs-params">home:</span> <span class="hljs-symbol">/</span> <span class="hljs-operator">||</span> home<br>  <span class="hljs-params">archives:</span> <span class="hljs-operator">/</span>archives<span class="hljs-symbol">/</span> <span class="hljs-operator">||</span> history<br>  <span class="hljs-params">tags:</span> <span class="hljs-operator">/</span>tags<span class="hljs-symbol">/</span> <span class="hljs-operator">||</span> tags<br>  <span class="hljs-params">categories:</span> <span class="hljs-operator">/</span>categories<span class="hljs-symbol">/</span> <span class="hljs-operator">||</span> list<br>  <span class="hljs-params">movie:</span> <span class="hljs-operator">/</span>categories<span class="hljs-operator">/</span>影视说<span class="hljs-symbol">/</span> <span class="hljs-operator">||</span> film<br>  <span class="hljs-params">enjoy:</span> <span class="hljs-operator">/</span>categories<span class="hljs-operator">/</span>娱乐<span class="hljs-symbol">/</span> <span class="hljs-operator">||</span> battery-full<br>  <span class="hljs-params">messagepad:</span> <span class="hljs-operator">/</span>messagepad<span class="hljs-symbol">/</span> <span class="hljs-operator">||</span> sticky-note<br>  <span class="hljs-params">about:</span> <span class="hljs-operator">/</span>about<span class="hljs-symbol">/</span> <span class="hljs-operator">||</span> user<br>  <span class="hljs-comment"># schedule: /schedule/ || calendar</span><br>  <span class="hljs-comment"># sitemap: /sitemap.xml || sitemap</span><br>  <span class="hljs-comment"># commonweal: /404/ || heartbeat</span><br></code></pre></td></tr></table></figure><p> 设置的标准：<br> 第一列 &#x2F; themes&#x2F;next&#x2F;languages&#x2F;zh-Hans.yml 对应的关键字<br> 第二列 &#x2F; url 路径<br> 第三列 &#x2F; 图标 <a href="https://fontawesome.com/cheatsheet?from=io">https://fontawesome.com/cheatsheet?from=io</a></p><ul><li>添加关键字<br> 打开文件：blog&#x2F;themes&#x2F;next&#x2F;languages&#x2F;zh-Hans.yml，添加对应的mapping：</li></ul> <figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">menu:</span><br><span class="hljs-symbol">  home:</span> 首页<br><span class="hljs-symbol">  archives:</span> 时间轴<br><span class="hljs-symbol">  categories:</span> 分类<br><span class="hljs-symbol">  tags:</span> 标签<br><span class="hljs-symbol">  about:</span> 关于<br><span class="hljs-symbol">  search:</span> 搜索<br><span class="hljs-symbol">  schedule:</span> 日程表<br><span class="hljs-symbol">  sitemap:</span> 站点地图<br><span class="hljs-symbol">  commonweal:</span> 公益 <span class="hljs-number">404</span><br><span class="hljs-symbol">  movie:</span> 影视说<br><span class="hljs-symbol">  messagepad:</span> 留言板<br><span class="hljs-symbol">  enjoy:</span> 娱乐<br></code></pre></td></tr></table></figure><ul><li>重启server<br> 同样重启服务。</li></ul> <figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs 1c">hexo g <span class="hljs-meta">&amp;&amp; hexo s</span><br></code></pre></td></tr></table></figure></li><li><h4 id="about"><a href="#about" class="headerlink" title="about"></a>about</h4><p> about是sidebar自我介绍的一栏，很重要，但是生成的方式与tags、categories如出一辙。</p><ul><li>new page<br> 在blog根目录，执行下列命令：</li></ul> <figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs actionscript">hexo <span class="hljs-keyword">new</span> page about<br></code></pre></td></tr></table></figure><ul><li>配置<br> 打开blog&#x2F;source&#x2F;about&#x2F;index.md，默认是下列内容：</li></ul> <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-meta">---</span><br><span class="hljs-attr">title:</span> <span class="hljs-string">about</span><br><span class="hljs-attr">date:</span> <span class="hljs-number">2018-10-22 14:35:08</span><br><span class="hljs-meta">---</span><br></code></pre></td></tr></table></figure><p> 改成<br> <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-meta">---</span><br><span class="hljs-attr">layout:</span> <span class="hljs-string">about</span><br><span class="hljs-attr">title:</span> <span class="hljs-string">Hi</span><br><span class="hljs-attr">date:</span> <span class="hljs-number">2018-10-22</span><br><span class="hljs-attr">comments:</span> <span class="hljs-literal">false</span><br><span class="hljs-attr">type:</span> <span class="hljs-string">about</span><br><span class="hljs-meta">---</span><br></code></pre></td></tr></table></figure></p><ul><li><p>markdown语法写about页面<br> Hexo会把md文件自动生成html页面，用markdown语法去写md文件即可。</p></li><li><p>重启server<br> 同样重启服务。</p></li></ul> <figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs 1c">hexo g <span class="hljs-meta">&amp;&amp; hexo s</span><br></code></pre></td></tr></table></figure></li><li><h4 id="自定义页面"><a href="#自定义页面" class="headerlink" title="自定义页面"></a>自定义页面</h4><p> 在sidebar往往需要自定义一些自己需要的页面，这块我直接用我的留言板做例子。</p><ul><li>new page<br> 在blog根目录，执行下列命令：</li></ul> <figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs actionscript">hexo <span class="hljs-keyword">new</span> page messagepad<br></code></pre></td></tr></table></figure><ul><li>配置<br> 打开blog&#x2F;source&#x2F;messagepad&#x2F;index.md，更改内容如下：</li></ul> <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-meta">---</span><br><span class="hljs-attr">title:</span> <span class="hljs-string">欢迎大家留言</span><br><span class="hljs-meta">---</span><br><span class="hljs-string">&lt;img</span> <span class="hljs-string">src=&quot;messagepad.png&quot;</span> <span class="hljs-string">style=&quot;border:3px</span> <span class="hljs-string">solid</span> <span class="hljs-string">blue;width:100%&quot;/&gt;</span><br><br><span class="hljs-string">&lt;div</span> <span class="hljs-string">class=&quot;ds-recent-visitors&quot;</span> <span class="hljs-string">data-num-items=&quot;28&quot;</span> <span class="hljs-string">data-avatar-size=&quot;42&quot;</span> <span class="hljs-string">id=&quot;ds-recent-visitors&quot;&gt;&lt;/div&gt;</span><br></code></pre></td></tr></table></figure><p> 其实，在这个index.md文件中，就是用markdown语法去写html。</p><ul><li>配置 &amp;&amp; 添加关键字<br> 其实这2步跟第三部分的<strong>指定分类列表页</strong>所做的操作一致。<br> 打开Next主题配置文件：blog&#x2F;theme&#x2F;next&#x2F;_config.yml，搜索<font size="4" color="red"><em><strong>menu</strong></em></font>，新增对应的sidebar栏：</li></ul> <figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">menu:</span><br><span class="hljs-symbol">  messagepad:</span> <span class="hljs-keyword">/messagepad/</span> || sticky-note<br></code></pre></td></tr></table></figure><p> 打开文件：blog&#x2F;themes&#x2F;next&#x2F;languages&#x2F;zh-Hans.yml，添加对应的mapping：<br> <figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">menu:</span><br><span class="hljs-symbol">  messagepad:</span> 留言板<br></code></pre></td></tr></table></figure></p><ul><li>重启server<br> 同样重启服务。</li></ul> <figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs 1c">hexo g <span class="hljs-meta">&amp;&amp; hexo s</span><br></code></pre></td></tr></table></figure></li></ol><div class="note note-info">            <h3 id="技巧"><a href="#技巧" class="headerlink" title="技巧"></a>技巧</h3><p>打开blog&#x2F;scaffolds&#x2F;post.md文件，更改代码如下：</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-params">title:</span> Hexo新增tags、categories、自定义菜单栏页<br><span class="hljs-params">desc:</span><br><span class="hljs-params">date:</span> <span class="hljs-number">1540656979000</span><br><span class="hljs-params">updated:</span> <span class="hljs-number">1540656979000</span><br><span class="hljs-params">comments:</span> <span class="hljs-literal">false</span><br><span class="hljs-params">categories:</span><br>  <span class="hljs-operator">-</span> []<br><span class="hljs-params">tags:</span> []<br><span class="hljs-params">keywords:</span><br><span class="hljs-params">top:</span> <span class="hljs-literal">false</span><br></code></pre></td></tr></table></figure>这样，在以后hexo new新建博文，模板自动生成，只需要添加对应的tags、categories即可          </div>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo基础命令学习</title>
    <link href="/articles/39009/"/>
    <url>/articles/39009/</url>
    
    <content type="html"><![CDATA[<h3 id="1、简介"><a href="#1、简介" class="headerlink" title="1、简介"></a>1、简介</h3><div class="note note-success">            <p>昨天写了blog的初始化搭建(hexo + next)，乘胜追击，学习查看了一些hexo基础的命令，总结一下分享。</p>          </div><span id="more"></span><hr /><p>基于官方的手册，很基础，加了一些自己的见解。</p><p><img src="/articles/39009/hexo_help.png" alt="hexo_help"></p><h3 id="2、预览"><a href="#2、预览" class="headerlink" title="2、预览"></a>2、预览</h3><table><thead><tr><th align="center">id</th><th align="center">name</th><th align="center">brief</th><th align="center">frequency</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">init</td><td align="center">初始化</td><td align="center">🌟</td></tr><tr><td align="center">2</td><td align="center">new</td><td align="center">新建文章</td><td align="center">🌟🌟🌟</td></tr><tr><td align="center">3</td><td align="center">generate</td><td align="center">生产静态文件</td><td align="center">🌟🌟🌟</td></tr><tr><td align="center">4</td><td align="center">publish</td><td align="center">草稿发布</td><td align="center">🌟</td></tr><tr><td align="center">5</td><td align="center">server</td><td align="center">启动服务</td><td align="center">🌟🌟</td></tr><tr><td align="center">6</td><td align="center">deploy</td><td align="center">部署网站</td><td align="center">🌟🌟</td></tr><tr><td align="center">7</td><td align="center">rende</td><td align="center">渲染文件</td><td align="center">🌟</td></tr><tr><td align="center">8</td><td align="center">clean</td><td align="center">清除缓存</td><td align="center">🌟</td></tr><tr><td align="center">9</td><td align="center">list</td><td align="center">列出网站资料</td><td align="center">🌟</td></tr><tr><td align="center">10</td><td align="center">version</td><td align="center">显示 Hexo 版本</td><td align="center">🌟</td></tr><tr><td align="center">11</td><td align="center">–debug</td><td align="center">debug模式</td><td align="center">🌟🌟🌟</td></tr></tbody></table><h3 id="3、正文"><a href="#3、正文" class="headerlink" title="3、正文"></a>3、正文</h3><blockquote><h4 id="3-1、init"><a href="#3-1、init" class="headerlink" title="3.1、init"></a>3.1、init</h4></blockquote><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-variable">$ </span>hexo init [folder]<br></code></pre></td></tr></table></figure><p>新建一个网站。folder文件夹已存在，会重新建里一个新的blog，主要用户初始化。</p><blockquote><h4 id="3-2、new"><a href="#3-2、new" class="headerlink" title="3.2、new"></a>3.2、new</h4></blockquote><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gauss">$ hexo <span class="hljs-keyword">new</span> [layout] &lt;<span class="hljs-built_in">title</span>&gt;<br></code></pre></td></tr></table></figure><p>新建一篇文章。如果没有设置 layout 的话，默认使用 _config.yml 中的 default_layout 参数代替。<strong>如果标题包含空格的话，请使用引号括起来。</strong><br>一般情况有3种，page、post、draft</p><blockquote><h4 id="3-3、generate"><a href="#3-3、generate" class="headerlink" title="3.3、generate"></a>3.3、generate</h4></blockquote><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs verilog">$ hexo <span class="hljs-keyword">generate</span><br>$ hexo g<br></code></pre></td></tr></table></figure><p>生成静态文件，用于打包，第二行是简写。<br>选项描述<br>-d, –deploy文件生成后立即部署网站<br>-w, –watch监视文件变动</p><blockquote><h4 id="3-4、publish"><a href="#3-4、publish" class="headerlink" title="3.4、publish"></a>3.4、publish</h4></blockquote><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-variable">$ </span>hexo publish [layout] &lt;filename&gt;<br><span class="hljs-variable">$ </span>hexo publish draft 常用语<br></code></pre></td></tr></table></figure><p>发表草稿，就是通过hexo new draft建立的文章。</p><blockquote><h4 id="3-5、server"><a href="#3-5、server" class="headerlink" title="3.5、server"></a>3.5、server</h4></blockquote><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-variable">$ </span>hexo server<br><span class="hljs-variable">$ </span>hexo s<br></code></pre></td></tr></table></figure><p>启动服务器。默认情况下，访问网址为： <a href="http://127.0.0.1:4000/%E3%80%82">http://127.0.0.1:4000/。</a><br>选项描述<br>-p, –port重设端口<br>-s, –static只使用静态文件<br>-l, –log启动日记记录，使用覆盖记录格式</p><blockquote><h4 id="3-6、deploy"><a href="#3-6、deploy" class="headerlink" title="3.6、deploy"></a>3.6、deploy</h4></blockquote><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-variable">$ </span>hexo deploy<br><span class="hljs-variable">$ </span>hexo d<br></code></pre></td></tr></table></figure><p>部署网站，第二行简写。</p><p>参数描述<br>-g, –generate部署之前预先生成静态文件</p><blockquote><h4 id="3-7、render"><a href="#3-7、render" class="headerlink" title="3.7、render"></a>3.7、render</h4></blockquote><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs erlang"><span class="hljs-string">$ </span>hexo render &lt;file1&gt; [file2] ...<br></code></pre></td></tr></table></figure><p>渲染文件。</p><p>参数描述<br>-o, –output设置输出路径</p><blockquote><h4 id="3-8、migrate"><a href="#3-8、migrate" class="headerlink" title="3.8、migrate"></a>3.8、migrate</h4></blockquote><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-variable">$ </span>hexo migrate &lt;<span class="hljs-keyword">type</span>&gt;<br></code></pre></td></tr></table></figure><p>从其他博客系统 迁移内容，<em><strong>还没用过</strong></em>。</p><blockquote><h4 id="3-9、clean"><a href="#3-9、clean" class="headerlink" title="3.9、clean"></a>3.9、clean</h4></blockquote><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-variable">$ </span>hexo clean<br></code></pre></td></tr></table></figure><p>清除缓存文件 (db.json) 和已生成的静态文件 (public)。<br>在某些情况（尤其是更换主题后），如果发现您对站点的更改无论如何也不生效，您可能需要运行该命令。</p><blockquote><h4 id="3-10、list"><a href="#3-10、list" class="headerlink" title="3.10、list"></a>3.10、list</h4></blockquote><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-variable">$ </span>hexo list &lt;<span class="hljs-keyword">type</span>&gt;<br></code></pre></td></tr></table></figure><p>列出网站资料，types：page，post，route，tag，category。<br><img src="/articles/39009/hexo_list.png" alt="hexo_list"></p><blockquote><h4 id="3-11、version"><a href="#3-11、version" class="headerlink" title="3.11、version"></a>3.11、version</h4></blockquote><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs applescript">$ hexo <span class="hljs-built_in">version</span><br></code></pre></td></tr></table></figure><p>显示 Hexo 版本。<br><img src="/articles/39009/hexo_version.png" alt="hexo_version"></p><h3 id="4、选项"><a href="#4、选项" class="headerlink" title="4、选项"></a>4、选项</h3><h4 id="4-1、安全模式"><a href="#4-1、安全模式" class="headerlink" title="4.1、安全模式"></a>4.1、安全模式</h4><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">$ hexo <span class="hljs-comment">--safe</span><br></code></pre></td></tr></table></figure><p>在安全模式下，不会载入插件和脚本。当您在安装新插件遭遇问题时，可以尝试以安全模式重新执行。</p><h4 id="4-2、调试模式"><a href="#4-2、调试模式" class="headerlink" title="4.2、调试模式"></a>4.2、调试模式</h4><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">$ hexo <span class="hljs-comment">--debug</span><br></code></pre></td></tr></table></figure><p>在终端中显示调试信息并记录到 debug.log。当您碰到问题时，可以尝试用调试模式重新执行一次，并提交调试信息到 GitHub。</p><h4 id="4-3、简洁模式"><a href="#4-3、简洁模式" class="headerlink" title="4.3、简洁模式"></a>4.3、简洁模式</h4><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">$ hexo <span class="hljs-comment">--silent</span><br></code></pre></td></tr></table></figure><p>隐藏终端信息。</p><h4 id="4-4、自定义配置文件的路径"><a href="#4-4、自定义配置文件的路径" class="headerlink" title="4.4、自定义配置文件的路径"></a>4.4、自定义配置文件的路径</h4><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">$ hexo <span class="hljs-comment">--config custom.yml</span><br></code></pre></td></tr></table></figure><p>自定义配置文件的路径，执行后将不再使用 _config.yml。</p><h4 id="4-5、显示草稿"><a href="#4-5、显示草稿" class="headerlink" title="4.5、显示草稿"></a>4.5、显示草稿</h4><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">$ hexo <span class="hljs-comment">--draft</span><br></code></pre></td></tr></table></figure><p>显示 source&#x2F;_drafts 文件夹中的草稿文章。</p><h4 id="4-6、自定义-CWD"><a href="#4-6、自定义-CWD" class="headerlink" title="4.6、自定义 CWD"></a>4.6、自定义 CWD</h4><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli">$ hexo <span class="hljs-params">--cwd</span> <span class="hljs-string">/path/to/cwd</span><br></code></pre></td></tr></table></figure><p>自定义当前工作目录（Current working directory）的路径。</p><h3 id="5、个人建议"><a href="#5、个人建议" class="headerlink" title="5、个人建议"></a>5、个人建议</h3><h4 id="5-1、命令一"><a href="#5-1、命令一" class="headerlink" title="5.1、命令一"></a>5.1、命令一</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">hexo server -<span class="hljs-selector-tag">p</span> <span class="hljs-number">8888</span> <span class="hljs-attr">--debug</span> <span class="hljs-attr">--draft</span><br></code></pre></td></tr></table></figure><p>以-p参数指定服务的端口启动，加上–debug模式，便与调试<br>–draft 可以把草稿的文章也加载显示</p><h4 id="5-2、命令二"><a href="#5-2、命令二" class="headerlink" title="5.2、命令二"></a>5.2、命令二</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">hexo <span class="hljs-selector-tag">g</span> -d<br></code></pre></td></tr></table></figure><p>重新生产静态文件并上传github.io，刷新github的网站。</p><h3 id="6、参考"><a href="#6、参考" class="headerlink" title="6、参考"></a>6、参考</h3><p><a href="https://hexo.io/zh-cn/docs/commands.html">hexo官网</a></p>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>blog常用markdown语法模板记录</title>
    <link href="/articles/57737/"/>
    <url>/articles/57737/</url>
    
    <content type="html"><![CDATA[<p><font size=6.5 color='red'>主要用于记录我写博文常用的markdown语句，持续更新中。。。。。。</font></p><span id="more"></span><hr /><h3 id="特殊语"><a href="#特殊语" class="headerlink" title="特殊语"></a>特殊语</h3><div class="post_cus_note">========123木头人----------</div><blockquote><p>表格</p></blockquote><table><thead><tr><th align="center">id</th><th align="center">name</th><th align="center">Version</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">Os</td><td align="center">MacOS10.15.6</td></tr><tr><td align="center">2</td><td align="center">IDE</td><td align="center">PyCharm</td></tr></tbody></table><blockquote><p>效果</p></blockquote><p><font color="red" size="5"><em><strong>特殊语！！！</strong></em></font><br><font size="4" color="red"><em><strong>Schemes</strong></em></font></p><blockquote><p>代码</p></blockquote><figure class="highlight hsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs hsp">&lt;<span class="hljs-keyword">font</span> <span class="hljs-keyword">color</span>=<span class="hljs-string">&quot;red&quot;</span> size=<span class="hljs-string">&quot;5&quot;</span>&gt;***特殊语！！！***&lt;/<span class="hljs-keyword">font</span>&gt;<br></code></pre></td></tr></table></figure><!--more--><hr /><h3 id="超链接"><a href="#超链接" class="headerlink" title="超链接"></a>超链接</h3><p><a href="/articles/31494/" target="_blank" class="block_project_a">outage-常用复杂sql记录</a></p><h3 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h3><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-params">Hexo:</span> blog<span class="hljs-symbol">/_config.yml</span><br><span class="hljs-params">Next:</span> blog<span class="hljs-symbol">/theme/next/_config.yml</span><br>md <span class="hljs-params">template:</span> blog<span class="hljs-operator">/</span>scaffolds<span class="hljs-operator">/</span>post.md<br></code></pre></td></tr></table></figure><h3 id="图片："><a href="#图片：" class="headerlink" title="图片："></a>图片：</h3><blockquote><p>效果</p></blockquote><img src="article_hadoop.jpg" style="border:1.5px solid blue" width="750" alt="图片说明"/><blockquote><p>代码</p></blockquote><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">&lt;img <span class="hljs-attribute">src</span>=<span class="hljs-string">&quot;article_hadoop.jpg&quot;</span> <span class="hljs-attribute">style</span>=<span class="hljs-string">&quot;border:1.5px solid blue&quot;</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">&quot;750&quot;</span> <span class="hljs-attribute">alt</span>=<span class="hljs-string">&quot;图片说明&quot;</span>/&gt;<br></code></pre></td></tr></table></figure><h3 id="linux常用md结构"><a href="#linux常用md结构" class="headerlink" title="linux常用md结构"></a>linux常用md结构</h3><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs clean">![](/images/article_linux_cd.png)<br><br>&lt;div <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;note note-warning&quot;</span>&gt;<br>            &lt;h3 id=<span class="hljs-string">&quot;简介&quot;</span>&gt;&lt;a href=<span class="hljs-string">&quot;#简介&quot;</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;headerlink&quot;</span> title=<span class="hljs-string">&quot;简介&quot;</span>&gt;&lt;/a&gt;简介&lt;/h3&gt;&lt;p&gt;学习cd的用法【cd 目录】&lt;/p&gt;<br>          &lt;/div&gt;<br><br>### 介绍<br><br>### 正文<br><br>#### 格式<br><br>#### 参数说明<br><br>#### 常用命令<br><br>### 说明<br><br>### 补充<br><br>### 学习<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo+Next搭建属于自己的Blog</title>
    <link href="/articles/59864/"/>
    <url>/articles/59864/</url>
    
    <content type="html"><![CDATA[<h3 id="1、简介"><a href="#1、简介" class="headerlink" title="1、简介"></a>1、简介</h3><div class="note note-success">            <p>Hexo + Next + MarkDown 完美打造属于Blog，只属于你自己的哦！！！</p>          </div><p><em><strong><font color="#dd0000" size="5">FROM ZERO TO ALL</font></strong></em></p><h3 id="2、前言"><a href="#2、前言" class="headerlink" title="2、前言"></a>2、前言</h3><p>从GIS跳跃到Python开发之后，一直梦想着有自己的一个blog，前不久机缘巧合解决问题的时候，发现作者的blog网站正是我心中向往的那种样式。没错，就是Hexo + Next（footer有版权声明，易发现）。说搞就搞，折腾了好几天，终于实现了，虽然路程有点长，但是看着自己亲手搭建的blog，心中还是无比喜悦。既然有了属于自己的一片天地，那就将知识<em><strong>share</strong></em>出来。</p><span id="more"></span><hr /><h3 id="3、环境"><a href="#3、环境" class="headerlink" title="3、环境"></a>3、环境</h3><table><thead><tr><th align="center">id</th><th align="center">name</th><th align="center">version</th><th align="center">remark</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">system</td><td align="center">MacOs</td><td align="center">系统版本</td></tr></tbody></table><h3 id="4、正文"><a href="#4、正文" class="headerlink" title="4、正文"></a>4、正文</h3><pre><code class="hljs">三步走。</code></pre><h4 id="一步：hexo安装"><a href="#一步：hexo安装" class="headerlink" title="一步：hexo安装"></a>一步：hexo安装</h4><p>首先查看自己电脑是否安装nodejs、git，如果已经安装请忽略nodejs、git的安装步骤，查看方式（控制台）：</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs crmsh"><span class="hljs-keyword">node</span> <span class="hljs-title">-v</span>     查看nodejs版本<br>which git   查看环境变量是否有无git命令<br>which brew  查看机子是否含有brew命令<br></code></pre></td></tr></table></figure><blockquote><p>brew</p></blockquote><ul><li>简述：MacOs开发必备工具，类似于pip等。</li><li>功能：Mac软件管理工具。</li><li>安装：</li></ul><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/usr/</span>bin<span class="hljs-regexp">/ruby -e &quot;$(curl -fsSL https:/</span><span class="hljs-regexp">/raw.githubusercontent.com/</span>Homebrew<span class="hljs-regexp">/install/m</span>aster/install)<span class="hljs-string">&quot;</span><br></code></pre></td></tr></table></figure><blockquote><p>nodejs</p></blockquote><ul><li>简述：安装nodejs（nodejs不了解的可以去百度一下，哈哈），安装完nodejs，npm会随nodejs一起安装。</li><li>功能：npm包管理工具。</li><li>安装：</li></ul><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">brew install <span class="hljs-keyword">node</span><span class="hljs-title"></span><br></code></pre></td></tr></table></figure><blockquote><p>git</p></blockquote><ul><li>简述：安装git工具，主要用户项目的发布、管理等。</li><li>功能：项目管理工具。</li><li>安装</li></ul><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-keyword">brew </span><span class="hljs-keyword">install </span>git<br></code></pre></td></tr></table></figure><blockquote><p>hexo</p></blockquote><ul><li>简述：Hexo是一个快速、简洁且高效的博客框架，基于nodejs运行，利用Markdown解析文章。</li><li>功能：博客框架。</li><li>安装</li></ul><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs avrasm">npm install -g hexo-<span class="hljs-keyword">cli</span><br></code></pre></td></tr></table></figure><h4 id="二步：启动server"><a href="#二步：启动server" class="headerlink" title="二步：启动server"></a>二步：启动server</h4><blockquote><p>新建myblog文件夹</p></blockquote><p>在指定文件夹中执行初始化命令，命令会根据传的参数进行初始化工作。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> ~/github/myblog<br>hexo init PyGo<br></code></pre></td></tr></table></figure><p><img src="/articles/59864/hexo_next_init.png" alt="hexo_next_init"></p><blockquote><p>生产静态文件</p></blockquote><p>生产web网站的静态网页。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">hexo <span class="hljs-selector-tag">g</span><br></code></pre></td></tr></table></figure><blockquote><p>启动server服务</p></blockquote><p>启动server。</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">hexo s</span><br></code></pre></td></tr></table></figure><p><img src="/articles/59864/hexo_next_server.gif" alt="hexo_next_server"><br>浏览器中访问 <a href="http://localhost:4000/">http://localhost:4000/</a> ，就可以看到基于Hexo的默认主题的原型。<br><img src="/articles/59864/hexo_next_server.png" alt="hexo_next_server"></p><h4 id="三步：更换主题Next"><a href="#三步：更换主题Next" class="headerlink" title="三步：更换主题Next"></a>三步：更换主题Next</h4><blockquote><p>下载主题</p></blockquote><p>在blog目录，执行以下命令下载Next源文件。</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">git clone https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/iissnan/</span>hexo-theme-<span class="hljs-keyword">next</span> themes/<span class="hljs-keyword">next</span><br></code></pre></td></tr></table></figure><blockquote><p>更改配置</p></blockquote><p>下载完成后，打开blog目录下的_config.yml文件，搜索关键：<em><strong>theme</strong></em>，更改代码如下：</p><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vbnet"><span class="hljs-symbol">theme:</span> <span class="hljs-keyword">next</span><br></code></pre></td></tr></table></figure><blockquote><p>重启服务<br>停止服务（ctrl+c），重新开启服务，刷新页面。<br><img src="/articles/59864/hexo_next.png" alt="hexo_next"></p></blockquote><h3 id="5、链接"><a href="#5、链接" class="headerlink" title="5、链接"></a>5、链接</h3><ul><li>Hexo官网：<a href="https://hexo.io/zh-cn/docs/index.html">https://hexo.io/zh-cn/docs/index.html</a></li><li>主题地址：<a href="https://hexo.io/themes/">https://hexo.io/themes/</a></li><li>Next官方：<a href="https://theme-next.org/">https://theme-next.org/</a></li></ul><p>在hexo主题官方地址有很多theme，根据自己的喜欢选取，个人觉得<em><strong>Next</strong></em>主题比较整洁，黑白色style上比较简单。</p><h3 id="6、注意"><a href="#6、注意" class="headerlink" title="6、注意"></a>6、注意</h3><p>在*** Hexo &amp;&amp; Next <em><strong>的配置和设置文件中，一定要保留一个</strong></em>英文空格***，没留空格会导致出问题。</p><h3 id="7、感谢"><a href="#7、感谢" class="headerlink" title="7、感谢"></a>7、感谢</h3><pre><code class="hljs">感谢Hexo开发者，感谢Next主题开发者，让我拥有了自己第一个Blog。</code></pre><p>希望自己可以在技术上继续走下去，为自己打<em><strong>CALL</strong></em>，后续也会继续写出Hexo命令的使用教程以及Next优化，欢迎大家<em><strong>Share</strong></em>。</p>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python实现微信小机器人</title>
    <link href="/articles/12618/"/>
    <url>/articles/12618/</url>
    
    <content type="html"><![CDATA[<span class="label label-default">微信</span> <span class="label label-primary">Python实战</span> <span class="label label-success">图灵机器人</span> <span class="label label-info">自动化脚本</span><h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><div class="note note-primary">            <p>其实做这个微信小机器人的动机不纯，请勿见怪，也许我是一位假的程序猿😄。</p>          </div><blockquote><p>某天，我犯了我并不知道的错误，惹生气了女票，并且长达24h没有理我。我一看不行啊，总不能上班时间总一直抱着微信说话吧，而且最近微信小机器人貌似蛮火的，我也跟风，搞一搞。</p></blockquote><span id="more"></span><hr /><h3 id="技术架构"><a href="#技术架构" class="headerlink" title="技术架构"></a>技术架构</h3><pre><code class="hljs">python + itchat + 图灵机器人</code></pre><h3 id="准备材料"><a href="#准备材料" class="headerlink" title="准备材料"></a>准备材料</h3><table><thead><tr><th align="center">id</th><th align="center">name</th><th align="center">Function</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">Mac电脑</td><td align="center">开发</td></tr><tr><td align="center">2</td><td align="center">手机</td><td align="center"></td></tr><tr><td align="center">3</td><td align="center">微信号</td><td align="center">微信</td></tr><tr><td align="center">4</td><td align="center">网络</td><td align="center">电脑、手机使用</td></tr></tbody></table><h3 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h3><p>首先，先实现微信的登录、接受消息、发送消息等基本功能。只有先实现了最基础的发消息功能，才可以做出自动回复的小机器人，接下来一步步去实现。文章中主要用到了<a href="https://itchat.readthedocs.io/zh/latest/">itchat</a>这个包，官方有简单的case。</p><h4 id="登录"><a href="#登录" class="headerlink" title="登录"></a>登录</h4><p>我自己封装了一个运行的主方法，加了一些是否开启特殊人处理、bug日志处理的参数，enableCmdQR开启二维码登录。登录之后发现我的PC端微信被挤掉了。。。</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs routeros">def <span class="hljs-built_in">run</span>(<span class="hljs-attribute">is_unique</span>=<span class="hljs-literal">False</span>, <span class="hljs-attribute">is_debug</span>=<span class="hljs-literal">False</span>):<br>    <span class="hljs-string">&quot;&quot;</span><span class="hljs-string">&quot;</span><br><span class="hljs-string">    main method enter</span><br><span class="hljs-string">    :param is_unique: is or not unique</span><br><span class="hljs-string">    :param is_debug: is or not debug</span><br><span class="hljs-string">    :return: None</span><br><span class="hljs-string">    &quot;</span><span class="hljs-string">&quot;&quot;</span><br>    init_work()<br>    global IS_UNIQUE, IS_DEBUG<br>    IS_UNIQUE = is_unique<br>    IS_DEBUG = is_debug<br>    itchat.auto_login(<span class="hljs-attribute">hotReload</span>=<span class="hljs-literal">True</span>, <span class="hljs-attribute">enableCmdQR</span>=2)<br>    itchat.<span class="hljs-built_in">run</span>(<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><p>针对于***init_work()***这个方法，做了一个文件夹初始化的方法，用来记录日志、聊天信息。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_work</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    initialize the chat user time file</span><br><span class="hljs-string">    :return: None</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    user_file = get_default_refile()<br>    <span class="hljs-keyword">if</span> os.path.exists(user_file) <span class="hljs-keyword">and</span> os.path.isfile(user_file):<br>        <span class="hljs-keyword">return</span><br>    <span class="hljs-built_in">open</span>(user_file, <span class="hljs-string">&#x27;a&#x27;</span>).close()<br>    <span class="hljs-built_in">print</span> <span class="hljs-string">&#x27;init work of record user chat file is ok&#x27;</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_default_refile</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    default record file</span><br><span class="hljs-string">    :return: file</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    cur_path = os.path.abspath(os.path.dirname(os.path.abspath(__file__)))<br>    user_file = cur_path + <span class="hljs-string">&#x27;/record_user.log&#x27;</span><br>    <span class="hljs-keyword">return</span> user_file<br></code></pre></td></tr></table></figure><h4 id="个人消息"><a href="#个人消息" class="headerlink" title="个人消息"></a>个人消息</h4><p>注册各类型的消息，通过下列代码，微信可以接收、发送私聊的消息。itchat暂时支持接口TEXT, MAP, CARD, NOTE, SHARING, PICTURE这几种类型，因为用itacht是登录网页版微信进行操作，所以微信网页版支持这几种消息。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">@itchat.msg_register(<span class="hljs-params">[TEXT, MAP, CARD, NOTE, SHARING, PICTURE]</span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">handler_text_msg</span>(<span class="hljs-params">msg</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    auto reply messages [text, map, card, note, sharing] by friend or group</span><br><span class="hljs-string">    :param msg: wx message (dict)</span><br><span class="hljs-string">    :return: text message</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-built_in">print</span> msg.get(<span class="hljs-string">&#x27;Type&#x27;</span>)<br>    <span class="hljs-built_in">print</span> json.dumps(msg)<br></code></pre></td></tr></table></figure><p>参数msg是消息体，可以打印出来，是个标准的json，可以解析，举个最简单的例子，消息体自己慢慢看，我就说几种重要的。</p><p><img src="/articles/12618/itchat_msg.png" alt="itchat_msg"></p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs 1c"> <span class="hljs-string">&quot;ToUserName&quot;</span><span class="hljs-punctuation">:</span> 接受人微信ID<span class="hljs-punctuation">,</span><br> <span class="hljs-string">&quot;FromUserName&quot;</span><span class="hljs-punctuation">:</span> 发送人微信ID<span class="hljs-punctuation">,</span><br><span class="hljs-string">&quot;Content&quot;</span><span class="hljs-punctuation">:</span> 微信内容<br><span class="hljs-string">&quot;Type&quot;</span><span class="hljs-punctuation">:</span> 微信消息类型<br></code></pre></td></tr></table></figure><p>发送消息</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">itchat.send(rely_msg_text, <span class="hljs-attribute">toUserName</span>=form_user_name)<br></code></pre></td></tr></table></figure><p>rely_msg_text：消息内容<br>toUserName：接受人ID，就是上面消息题解析的</p><h4 id="群消息"><a href="#群消息" class="headerlink" title="群消息"></a>群消息</h4><p>群消息也是一样，通过注册进行获取，但是获取全部的群消息太多了，我只选取了几个群进行消息监听。群消息体json在这里不做展示，几乎与chat消息体内容差不多，代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">@itchat.msg_register(<span class="hljs-params">[TEXT, SHARING, SYSTEM], isGroupChat=<span class="hljs-literal">True</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">group_text_reply</span>(<span class="hljs-params">msg</span>):<br>    <span class="hljs-built_in">print</span> json.dumps(msg)<br>    <span class="hljs-built_in">print</span> <span class="hljs-string">&#x27;%s: %s&#x27;</span> % (msg.get(<span class="hljs-string">&#x27;ActualNickName&#x27;</span>), msg.get(<span class="hljs-string">&#x27;Text&#x27;</span>))<br><br>    monitor_chats = [<br>                     <span class="hljs-comment"># u&#x27;家族群&#x27;,</span><br>                     <span class="hljs-string">u&#x27;宝龙山&amp;amp;保康！.宝龙山&amp;amp;保康&#x27;</span>,<br>                     <span class="hljs-string">u&#x27;媳妇私房钱&#x27;</span><br>                    ]<br>    chat_id_list = <span class="hljs-built_in">list</span>()<br>    <span class="hljs-keyword">for</span> chat <span class="hljs-keyword">in</span> monitor_chats:<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> chat:<br>            <span class="hljs-keyword">continue</span><br></code></pre></td></tr></table></figure><p>群消息类型不像chat那样类型那么多，只有几种。</p><h4 id="注册图灵"><a href="#注册图灵" class="headerlink" title="注册图灵"></a>注册图灵</h4><ul><li>登录&amp;&amp;注册<br>官网：<a href="http://www.tuling123.com/member/robot/index.jhtml">http://www.tuling123.com/member/robot/index.jhtml</a><br><img src="/articles/12618/itchat_tuling_login.png" alt="itchat_tuling_login"></li><li>创建<br><img src="/articles/12618/itchat_tuling_create.png" alt="itchat_tuling_create"></li><li>设置<br><img src="/articles/12618/itchat_tuling_set.png" alt="itchat_tuling_set"></li><li>apikey<br><img src="/articles/12618/itchat_tuling_key.png" alt="itchat_tuling_key"></li></ul><h4 id="小机器人"><a href="#小机器人" class="headerlink" title="小机器人"></a>小机器人</h4><p>注册好小机器人之后，只需要查看<a href="https://www.kancloud.cn/turing/www-tuling123-com/718229">api教程</a>进行http请求即可，代码如下：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><br>def reply_by_ai(msg):<br>    <span class="hljs-string">&quot;&quot;</span><span class="hljs-string">&quot;</span><br><span class="hljs-string">    auto reply by ai robot</span><br><span class="hljs-string">    :param msg: message body by wx friend</span><br><span class="hljs-string">    :return: send message</span><br><span class="hljs-string">    &quot;</span><span class="hljs-string">&quot;&quot;</span><br>    user_name = msg.<span class="hljs-built_in">get</span>(<span class="hljs-string">&#x27;FromUserName&#x27;</span>)<br>    msg_type = msg.<span class="hljs-built_in">get</span>(<span class="hljs-string">&#x27;Type&#x27;</span>)<br>    msg_text = msg.<span class="hljs-built_in">get</span>(<span class="hljs-string">&#x27;Text&#x27;</span>)<br>    API_ROBOT_URL = <span class="hljs-string">&#x27;http://openapi.tuling123.com/openapi/api/v2&#x27;</span><br>    API_KEY = <span class="hljs-string">&#x27;65d96c7612e14a3ba8c6d43fa7a84111&#x27;</span><br>    USER_ID = <span class="hljs-string">&#x27;113972&#x27;</span><br><br>    payload = &#123;<br>        <span class="hljs-string">&quot;reqType&quot;</span>: 0,<br>        <span class="hljs-string">&quot;perception&quot;</span>: &#123;<br>            <span class="hljs-string">&quot;inputText&quot;</span>: &#123;<br>                <span class="hljs-string">&quot;text&quot;</span>: msg_text<br>            &#125;<br>        &#125;,<br>        <span class="hljs-string">&quot;userInfo&quot;</span>: &#123;<br>            <span class="hljs-string">&quot;apiKey&quot;</span>: API_KEY,<br>            <span class="hljs-string">&quot;userId&quot;</span>: USER_ID<br>        &#125;<br>    &#125;<br>    payload = json.dumps(payload)<br>    headers = &#123;<span class="hljs-string">&quot;Content-Type&quot;</span>: <span class="hljs-string">&quot;application/json&quot;</span>&#125;<br><br>    resp = requests.post(<span class="hljs-attribute">url</span>=API_ROBOT_URL,<br>                         <span class="hljs-attribute">headers</span>=headers,<br>                         <span class="hljs-attribute">data</span>=payload)<br>    try:<br>        resp_json = resp.json()<br>        code = resp_json.<span class="hljs-built_in">get</span>(<span class="hljs-string">&#x27;intent&#x27;</span>).<span class="hljs-built_in">get</span>(<span class="hljs-string">&#x27;code&#x27;</span>)<br>        <span class="hljs-keyword">if</span> resp.status_code == 200 <span class="hljs-keyword">and</span> code &gt;= 10000:<br>            result = resp_json.<span class="hljs-built_in">get</span>(<span class="hljs-string">&#x27;results&#x27;</span>)[0]<br>            rely_msg_text = result.<span class="hljs-built_in">get</span>(<span class="hljs-string">&#x27;values&#x27;</span>).<span class="hljs-built_in">get</span>(<span class="hljs-string">&#x27;text&#x27;</span>)<br>        <span class="hljs-keyword">else</span>:<br>            rely_msg_text = <span class="hljs-string">&quot;小6好像出问题了, 正在通知主人回来抢修&quot;</span><br>    except:<br>        rely_msg_text = <span class="hljs-string">&quot;小6没有找到答案😭😭😭, 尝试换个话题吧&quot;</span><br>    finally:<br>        return rely_msg_text<br></code></pre></td></tr></table></figure><h4 id="温馨提示"><a href="#温馨提示" class="headerlink" title="温馨提示"></a>温馨提示</h4><ul><li>微信消息不要连续发，会被腾讯禁止一段时间内不能发消息</li></ul><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>总的来说，实现起来并不难，喜欢记录的同学后续可以打算把消息存到自己的DB里去。没事就喜欢捣鼓捣鼓，只有真的去搞了，才能亲身体验其中的奥秘～代码带来的快乐。</p><h3 id="学习资料"><a href="#学习资料" class="headerlink" title="学习资料"></a>学习资料</h3><p>ITCHAT(py官方)：<a href="https://pypi.org/project/itchat/">https://pypi.org/project/itchat/</a><br>ITCHAT(中文)：<a href="https://itchat.readthedocs.io/zh/latest/">https://itchat.readthedocs.io/zh/latest/</a><br>图灵API：<a href="https://www.kancloud.cn/turing/www-tuling123-com/718229">https://www.kancloud.cn/turing/www-tuling123-com/718229</a></p><h3 id="github"><a href="#github" class="headerlink" title="github"></a>github</h3><p>我把项目上传到了github，有喜欢的同学下载看看，可直接运行。</p><pre><code class="hljs">微信小机器人：https://github.com/GIS90/itchatmy</code></pre>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Python程序篇</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>加班版耳机&lt;font color=&quot;blue&quot; size=&quot;15&quot;&gt;【图】&lt;/font&gt;</title>
    <link href="/articles/61884/"/>
    <url>/articles/61884/</url>
    
    <content type="html"><![CDATA[<p><font color="#dd0000" size="5">看图笑话</font></p><span id="more"></span><hr /><p><img src="/articles/61884/enjoy_jiaban.jpg"></p><br/><div class="note note-info">            <p>程序猿加班必备神器。</p>          </div>]]></content>
    
    
    <categories>
      
      <category>生活记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>看图笑话</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>席梦思&lt;font color=&quot;#dd0000&quot; size=&quot;15&quot;&gt;【文】&lt;/font&gt;</title>
    <link href="/articles/11263/"/>
    <url>/articles/11263/</url>
    
    <content type="html"><![CDATA[<p>突然想起了初中的一起糗事，说出来跟大家分享一下。记得还是语文课，我特困就趴在桌子上睡觉，当时桌子前面还有两摞厚厚的书挡着，可能是机智的老师发现了我在睡觉，突然叫我起来背课文，我被我同桌捅鼓起来，眼睛还是半睁状态，老师又说：要不我给你半个席梦思放在这，我逗比的回了一句：我又不洗头，给我那个干嘛，永远忘不了班级同学的笑声。。。😭😭😭</p><span id="more"></span>]]></content>
    
    
    <categories>
      
      <category>生活记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>纯文笑话</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python制作天气数据API</title>
    <link href="/articles/54607/"/>
    <url>/articles/54607/</url>
    
    <content type="html"><![CDATA[<h3 id="1、简介"><a href="#1、简介" class="headerlink" title="1、简介"></a>1、简介</h3><p>还再找免费的天气API接口吗，这里给你答案：</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vim">开发语言：<span class="hljs-keyword">python</span><br>技术方案：requests + sqlalchemy<br>感谢<span class="hljs-keyword">python</span>，（数据源：官方中国天气网http://www.weather.<span class="hljs-keyword">com</span>.<span class="hljs-keyword">cn</span>）<br></code></pre></td></tr></table></figure><span id="more"></span><hr /><h3 id="2、正文"><a href="#2、正文" class="headerlink" title="2、正文"></a>2、正文</h3><p>偶然工作中用到了天气状况数据，后来就不需要了，但还是想做一个天气的，因为想给自己的女票做个天气短信提醒。说搞就搞，第一想法就是apistore，上去了之后，好贵。。。。。。<!-- more -->百度一了一下，全都不好用，决定自己写一个，自己动手丰衣足食嘛。再百度天气，中国天气网是第一条，还是官方的，说明应该不错，点进去之后，看了数据，需求基本满足了，那么，走起。<br><img src="/articles/54607/baidu.jpg" alt="百度搜索引擎（本人声明，不是百度员工）"></p><h4 id="2-1、查询数据源"><a href="#2-1、查询数据源" class="headerlink" title="2.1、查询数据源"></a>2.1、查询数据源</h4><p>google打开天气网，搜了下北京天气，alt+cmd+i打开调试模式（mac快快捷键），network查看数据来源。经过分析，基本可以确定数据主要来源于2个接口：<a href="http://d1.weather.com.cn/dingzhi/101010100.html?_=1537709265753">http://d1.weather.com.cn/dingzhi/101010100.html?_=1537709265753</a> （地之一）和<a href="http://d1.weather.com.cn/sk_2d/101010100.html?_=1537709265752">http://d1.weather.com.cn/sk_2d/101010100.html?_=1537709265752</a> （地址二），多打开了几个别的城市进行查看，最后结论：101010100参数一城市的id值，1537709265753参数二时间戳（毫秒级）。<br><img src="/articles/54607/tiaoshi.jpg" alt="调试&amp;&amp;分析调试&amp;&amp;分析"></p><h4 id="2-2、获取城市id"><a href="#2-2、获取城市id" class="headerlink" title="2.2、获取城市id"></a>2.2、获取城市id</h4><pre><code class="hljs">在官网反反复复尝试获取城市的数据，发个城市id有几个规律：</code></pre><ul><li>城市id由9位数字组成(可能大家觉得感觉有点废话了，别急往后看)，例如：北京101010100。</li><li>城市id的第三位，第四位是表示省份（免费普及一下：中国34个省级行政区域，包括23个省，5个自治区，4个直辖市，2个特别行政区），01-北京，02-上海，03-天津，04-重庆。。。34-台湾。</li><li>后三位尾数，针对于直辖市，尾数从000开始计数，非直辖市尾数从001开始计数。</li><li>天气网数据细到乡镇，街道。乡镇的id：101080503(cityid) + xxx(数字，001开始)，12位组成；街道数据过于细致，没必要获取，而且本人能力有限，只初始化了到城市级别的的数据。</li><li>额外赠送：中国每个省份的城市最大值位21，代码中会用到。</li></ul><p>知道规律，也了解了request url，response，就可以搞定城市id的数据源了。解决方法如下：</p><ul><li>语言：python</li><li>思想：依据id的范围生成范围id，requests去get请求，获取结果</li><li>要点：省份的标志位01～04位直辖市，05～34非直辖市，城市的标志位01～23即可；header必须含有Referer值，应该用来做一个访问标识response返回值类型是string，但是weatherinfo的信息为json，需转化。不多说，直接上代码：<br><img src="/articles/54607/id.jpg" alt="城市id值生成城市id值生成"></li></ul><h4 id="2-3、数据入库"><a href="#2-3、数据入库" class="headerlink" title="2.3、数据入库"></a>2.3、数据入库</h4><p>数据库决定直接用sqlite，主要考虑到数据库的可移植性，git项目直接运行就可以，不用额外配置数据库，而且单张表，数据量不会很大，性能没有太高要求。python + requests + sqlalchemy + db，玩py的不知道sqlalchemy&amp;&amp;requests，自己赶快恶补一下吧。。。废话也不多说，git项目看db.py文件，创建表以及数据库见下图：<br><img src="/articles/54607/db.jpg" alt="数据库创建&amp;&amp;表查询数据库创建&amp;&amp;表查询"><br>城市id获取的整理流程设计ok，执行python citys.py就可以见证奇迹。不过，这个奇迹有点慢而已，我的本大概执行了30个小时左右，后来想的是python配合多进程（GIL机制，不要使用多线程）来提速，搞了个pool在那，不过我把多进程注释了，有兴趣的人可以去试下多进程。</p><h4 id="2-4、API接口服务"><a href="#2-4、API接口服务" class="headerlink" title="2.4、API接口服务"></a>2.4、API接口服务</h4><p>做web服务，flask是不错的选择，简单易用，性能也不差。用blueprint做了个weather的接口，但是信息由地址一与地址二组成，地址一主要用来获取最高&#x2F;最低温度，地址二获取实时的天气相关信息，请求的地址参数均由第三步回去的城市id以及时间戳。</p><p>requests基础：<a href="http://docs.python-requests.org/zh_CN/latest/user/quickstart.html">http://docs.python-requests.org/zh_CN/latest/user/quickstart.html</a></p><p>请求的时候，我把浏览器正常访问的header都记录，请求成功，把结果封装json返回。在controller那，我对请求方式，请求参数做了限制，加强接口的严谨性。详细自己看代码，post请求的参数那块，args，form，json，get_json分不清的，请自行百度，我做了个小技巧：<br><img src="/articles/54607/api.jpg" alt="获取post请求参数获取post请求参数"></p><h3 id="3、测试"><a href="#3、测试" class="headerlink" title="3、测试"></a>3、测试</h3><p>这里介绍2种测试方式，postman + curl。</p><p>curl：curl -X POST <a href="http://127.0.0.1:8888/weather/">http://127.0.0.1:8888/weather/</a> -H ‘Content-Type: application&#x2F;json’ -d ‘{“city”: “昌平”}’ | python -m json.tool</p><p>postman：图形化界面。。。自己点把</p><p>没有curl命令的，自己搞下，做开发的话，不知道curl，会很low的，看下结果，完美：<br><img src="/articles/54607/test.jpg" alt="成果"></p><h3 id="4、总结"><a href="#4、总结" class="headerlink" title="4、总结"></a>4、总结</h3><p>代码很简单，不过在获取数据源id上花费了一些时间，后来一想，城市id的表有个问题，表有：id，cityname，cityid 3个字段，没有记录省份，查询同名的城市可能会有问题，后续在改吧。。。就先到这里了，我是程序猿，python程序猿。</p><p>二期功能：定时任务 + 短信提醒 + 邮件报警</p><p>项目git地址：<a href="https://github.com/GIS90/weathers">https://github.com/GIS90/weathers</a></p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Python程序篇</tag>
      
      <tag>爬虫</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>加强版小黄车&lt;font color=&quot;blue&quot; size=&quot;15&quot;&gt;【图】&lt;/font&gt;</title>
    <link href="/articles/6383/"/>
    <url>/articles/6383/</url>
    
    <content type="html"><![CDATA[<p><font color="#dd0000" size="5">看图笑话</font></p><span id="more"></span><hr /><div class="note note-info">            <p>想必是个技术不错的手艺人。</p>          </div><p><img src="/articles/6383/enjoy_xiaohuangche.jpg"></p>]]></content>
    
    
    <categories>
      
      <category>生活记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>看图笑话</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Postgresql的导表</title>
    <link href="/articles/57733/"/>
    <url>/articles/57733/</url>
    
    <content type="html"><![CDATA[<h4 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h4><div class="note note-primary">            <p>前面已经介绍了常用的备份与恢复了，接下来介绍一下<font color='red' size=4.5>导表</font>。</p>          </div><span id="more"></span><hr /><span class="label label-info">Postgresql</span> <span class="label label-warning">psql</span> <span class="label label-danger">导表</span><h4 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h4><p>很多情况，会有把数据导出的需求，轻重缓急总会有特别紧急的情况，但是又不是专业干db的人，还是记录下来，以防不时之需。</p><p>针对于导表，个人总结了主要有2种方案，方案主要针对于服务器使用，具体能用Navicat等客户端能直连数据库的用户不用看了。</p><blockquote><p>客户端</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs #SQL">psql --dbname=my_db_name --host=db_host_ip --username=my_username -c &quot;COPY (select id as COL_ID, name as COL_NAME from my_tab order by id) TO PATH with csv header&quot;<br></code></pre></td></tr></table></figure><blockquote><p>服务器</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs #SQL">COPY (select id as ID, description as TNAME from my_table order by id) to ‘path’ with csv header;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>数据库</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Postgresql</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Postgresql的备份与恢复</title>
    <link href="/articles/17366/"/>
    <url>/articles/17366/</url>
    
    <content type="html"><![CDATA[<h3 id="1、背景"><a href="#1、背景" class="headerlink" title="1、背景"></a>1、背景</h3><div class="note note-primary">            <p>身为一枚主要做后端的程序员，跟数据库打交道是必不可少的，虽然数据库由专门的dba进行负责，<code>&lt;font color=&#39;red&#39; size=4.5&gt;</code>技多不压身<code>&lt;/font&gt;</code>。于是，把日常对postgresql数据库的日常操作比较频繁的进行记录下来，一是自己找的时候方便，另外也与大家做个分享交流。</p>          </div><span class="label label-default">Postgresql</span> <span class="label label-primary">pg_dump</span> <span class="label label-success">备份</span> <span class="label label-info">恢复</span> <span class="label label-danger">迁移</span><span id="more"></span><hr /><h3 id="2、命令介绍"><a href="#2、命令介绍" class="headerlink" title="2、命令介绍"></a>2、命令介绍</h3><p>除去写相关的sql工作，工作上用到比较多的就是数据库的备份与恢复、导表，今天先介绍一下数据库的<code>&lt;font color=&#39;blue&#39; size=4.2&gt;</code>备份与恢复<code>&lt;/font&gt;</code>。<br>pg_dump是一个用于备份的命令工具，即使当前数据库正在使用，也能够生成一致性的备份文件，生成sql文件或其他格式文件，且不会阻塞其他用户访问数据库(包括读、写)，下面就详细介绍一下pg_dump。</p><h4 id="2-1、-pg-dump详解"><a href="#2-1、-pg-dump详解" class="headerlink" title="2.1、 pg_dump详解"></a>2.1、 pg_dump详解</h4><p>执行pg_dump –help，英文内容如下：</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">$ pg_dump <span class="hljs-comment">--help</span><br><br>pg_dump dumps <span class="hljs-keyword">a</span> database <span class="hljs-keyword">as</span> <span class="hljs-keyword">a</span> <span class="hljs-keyword">text</span> <span class="hljs-built_in">file</span> <span class="hljs-keyword">or</span> <span class="hljs-built_in">to</span> other formats.<br><br>Usage:<br>  pg_dump [OPTION]... [DBNAME]<br><br>General options:<br>  -f, <span class="hljs-comment">--file=FILENAME          output file or directory name</span><br>  -F, <span class="hljs-comment">--format=c|d|t|p         output file format (custom, directory, tar,</span><br>                               plain <span class="hljs-keyword">text</span> (default))<br>  -j, <span class="hljs-comment">--jobs=NUM               use this many parallel jobs to dump</span><br>  -v, <span class="hljs-comment">--verbose                verbose mode</span><br>  -V, <span class="hljs-comment">--version                output version information, then exit</span><br>  -Z, <span class="hljs-comment">--compress=0-9           compression level for compressed formats</span><br>  <span class="hljs-comment">--lock-wait-timeout=TIMEOUT  fail after waiting TIMEOUT for a table lock</span><br>  <span class="hljs-comment">--no-sync                    do not wait for changes to be written safely to disk</span><br>  -?, <span class="hljs-comment">--help                   show this help, then exit</span><br><br>Options controlling <span class="hljs-keyword">the</span> output content:<br>  -<span class="hljs-keyword">a</span>, <span class="hljs-comment">--data-only              dump only the data, not the schema</span><br>  -b, <span class="hljs-comment">--blobs                  include large objects in dump</span><br>  -B, <span class="hljs-comment">--no-blobs               exclude large objects in dump</span><br>  -c, <span class="hljs-comment">--clean                  clean (drop) database objects before recreating</span><br>  -C, <span class="hljs-comment">--create                 include commands to create database in dump</span><br>  -E, <span class="hljs-comment">--encoding=ENCODING      dump the data in encoding ENCODING</span><br>  -n, <span class="hljs-comment">--schema=SCHEMA          dump the named schema(s) only</span><br>  -N, <span class="hljs-comment">--exclude-schema=SCHEMA  do NOT dump the named schema(s)</span><br>  -o, <span class="hljs-comment">--oids                   include OIDs in dump</span><br>  -O, <span class="hljs-comment">--no-owner               skip restoration of object ownership in</span><br>                               plain-<span class="hljs-keyword">text</span> <span class="hljs-built_in">format</span><br>  -s, <span class="hljs-comment">--schema-only            dump only the schema, no data</span><br>  -S, <span class="hljs-comment">--superuser=NAME         superuser user name to use in plain-text format</span><br>  -t, <span class="hljs-comment">--table=TABLE            dump the named table(s) only</span><br>  -T, <span class="hljs-comment">--exclude-table=TABLE    do NOT dump the named table(s)</span><br>  -x, <span class="hljs-comment">--no-privileges          do not dump privileges (grant/revoke)</span><br>  <span class="hljs-comment">--binary-upgrade             for use by upgrade utilities only</span><br>  <span class="hljs-comment">--column-inserts             dump data as INSERT commands with column names</span><br>  <span class="hljs-comment">--disable-dollar-quoting     disable dollar quoting, use SQL standard quoting</span><br>  <span class="hljs-comment">--disable-triggers           disable triggers during data-only restore</span><br>  <span class="hljs-comment">--enable-row-security        enable row security (dump only content user has</span><br>                               access <span class="hljs-built_in">to</span>)<br>  <span class="hljs-comment">--exclude-table-data=TABLE   do NOT dump data for the named table(s)</span><br>  <span class="hljs-comment">--if-exists                  use IF EXISTS when dropping objects</span><br>  <span class="hljs-comment">--inserts                    dump data as INSERT commands, rather than COPY</span><br>  <span class="hljs-comment">--load-via-partition-root    load partitions via the root table</span><br>  <span class="hljs-comment">--no-comments                do not dump comments</span><br>  <span class="hljs-comment">--no-publications            do not dump publications</span><br>  <span class="hljs-comment">--no-security-labels         do not dump security label assignments</span><br>  <span class="hljs-comment">--no-subscriptions           do not dump subscriptions</span><br>  <span class="hljs-comment">--no-synchronized-snapshots  do not use synchronized snapshots in parallel jobs</span><br>  <span class="hljs-comment">--no-tablespaces             do not dump tablespace assignments</span><br>  <span class="hljs-comment">--no-unlogged-table-data     do not dump unlogged table data</span><br>  <span class="hljs-comment">--quote-all-identifiers      quote all identifiers, even if not key words</span><br>  <span class="hljs-comment">--section=SECTION            dump named section (pre-data, data, or post-data)</span><br>  <span class="hljs-comment">--serializable-deferrable    wait until the dump can run without anomalies</span><br>  <span class="hljs-comment">--snapshot=SNAPSHOT          use given snapshot for the dump</span><br>  <span class="hljs-comment">--strict-names               require table and/or schema include patterns to</span><br>                               match <span class="hljs-keyword">at</span> least <span class="hljs-literal">one</span> entity <span class="hljs-keyword">each</span><br>  <span class="hljs-comment">--use-set-session-authorization</span><br>                               use SET SESSION AUTHORIZATION commands instead <span class="hljs-keyword">of</span><br>                               ALTER OWNER commands <span class="hljs-built_in">to</span> <span class="hljs-built_in">set</span> ownership<br><br>Connection options:<br>  -d, <span class="hljs-comment">--dbname=DBNAME      database to dump</span><br>  -h, <span class="hljs-comment">--host=HOSTNAME      database server host or socket directory</span><br>  -p, <span class="hljs-comment">--port=PORT          database server port number</span><br>  -U, <span class="hljs-comment">--username=NAME      connect as specified database user</span><br>  -w, <span class="hljs-comment">--no-password        never prompt for password</span><br>  -W, <span class="hljs-comment">--password           force password prompt (should happen automatically)</span><br>  <span class="hljs-comment">--role=ROLENAME          do SET ROLE before dump</span><br><br>If no database name is supplied, <span class="hljs-keyword">then</span> <span class="hljs-keyword">the</span> PGDATABASE environment<br><span class="hljs-built_in">variable</span> <span class="hljs-built_in">value</span> is used.<br><br>Report bugs <span class="hljs-built_in">to</span> &lt;pgsql-bugs@postgresql.org&gt;.<br></code></pre></td></tr></table></figure><h4 id="2-2、参数解析"><a href="#2-2、参数解析" class="headerlink" title="2.2、参数解析"></a>2.2、参数解析</h4><pre><code class="hljs">这里介绍一下高频&amp;&amp;常用的参数说明，如果想深挖，建议查看官网进行查看，文章最后会给出官网链接。&gt; -f输出文件或目录名&gt; -F &amp;&amp; --format=c|d|t|p输出文件格式 (定制、目录、tar)、明文 (默认值))&gt; -j, --jobs=NUM多任务并行&gt; -Z, --compress=0-9被压缩格式的压缩级别&gt; -a, --data-only只转储数据,不包括模式&gt; -c, --clean在重新创建之前，先删除数据库对象，默认这个参数是False，如果不进行删除，可以使用drop进行手动删除已存在的数据库&gt; -C, --create备份文件中有create database数据库的sql语句，默认是进行create&gt; -E, --encoding=ENCODING转储以ENCODING形式编码的数据，默认是数据库编码，不常用&gt; -s, --schema-only只备份数据库策略, 不包括数据&gt; -t, --table=TABLE只备份指定数据库指定名称的表&gt; --inserts以inserts命令，而不是copy命令的形式转储数据，pg_dump默认是copy模式&gt; --column-inserts以带有列名的INSERT命令形式转储数据&gt; -T, --exclude-table=TABLE备份的数据中将排除指定名称的表&gt; --exclude-table-data=TABLE不转储指定名称的表中的数据&gt; --if-exists当删除对象时使用IF EXISTS，这个会安全一点，但是时间会延长，不建议使用</code></pre><h4 id="2-3、联接选项"><a href="#2-3、联接选项" class="headerlink" title="2.3、联接选项"></a>2.3、联接选项</h4><pre><code class="hljs">数据库连接参数是必填参数，参数与psql一致。&gt; -d, --dbname=DBNAME数据库&gt; -h, --host=主机名数据库服务器的主机名或IP&gt; -p, --port=端口号数据库的端口号，默认5432&gt; -U, --username=名字用户名&gt; -w, --no-password永远不提示输入口令&gt; -W, --password强制口令提示 (自动)</code></pre><h3 id="3、备份"><a href="#3、备份" class="headerlink" title="3、备份"></a>3、备份</h3><p>登陆数据库服务器／远程连接的服务器，使用命令pg_dump，具体参数请查看上面相关详细介绍，下面列出几种常见的情景：</p><blockquote><p>data + schema</p></blockquote><p>导出整个指定的数据库。</p><p>pg_dump -h XXXX -p XXXX -U XXXX 数据库名称 &gt; ~&#x2F;数据库.sql</p><p>pg_dump -h XXXX -p XXXX -U XXXX -d XXXX -F t &gt; &#x2F;home&#x2F;q&#x2F;XXXX.tar</p><blockquote><p>schema</p></blockquote><p>导出整个指定数据库的策略。</p><p>pg_dump -h XXXX -p XXXX -U XXXX -s 数据库名称 &gt; ~&#x2F;数据库.sql</p><blockquote><p>data</p></blockquote><p>导出整个指定数据库的表数据。</p><p>pg_dump -h XXXX -p XXXX -U XXXX -a 数据库名称 &gt; ~&#x2F;数据库.sql</p><blockquote><p>table</p></blockquote><p>导出整个指定数据库的指定表。</p><p>pg_dump -h XXXX -p XXXX -U XXXX -t 表名 数据库名称 &gt; ~&#x2F;表.sql</p><blockquote><p>exclude table</p></blockquote><p>导出整个指定数据库的指定表，并排除掉指定的表。</p><p>pg_dump -h XXXX -p XXXX -U XXXX -T 数据库名称 &gt; ~&#x2F;数据库.sql</p><p>pg_dump -h XXXX -p XXXX -U XXXX –exclude-table-data 表名 数据库名称 &gt; ~&#x2F;数据库.sql</p><h3 id="4、迁移数据"><a href="#4、迁移数据" class="headerlink" title="4、迁移数据"></a>4、迁移数据</h3><p>在这里介绍3种传输方式：</p><ul><li>python -m SimpleHTTPServer 8888</li><li>scp</li><li>nc</li></ul><p>命令的具体不做详细介绍。</p><h3 id="5、恢复"><a href="#5、恢复" class="headerlink" title="5、恢复"></a>5、恢复</h3><h4 id="5-1、-切换用户"><a href="#5-1、-切换用户" class="headerlink" title="5.1、 切换用户"></a>5.1、 切换用户</h4><p>登陆到需要进行恢复的数据库服务器，切换postgres用户：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> -i<br>su postgres<br></code></pre></td></tr></table></figure><h4 id="5-2、psql"><a href="#5-2、psql" class="headerlink" title="5.2、psql"></a>5.2、psql</h4><p>执行psql，进行客户端。<br>新建数据库专属用户<br>create user 用户名 with password ‘密码’;<br>新建数据库<br>create database 数据库名 owner 用户名;<br>分配权限<br>grant all privileges on database 数据库 to 用户;<br>退出psql，执行：psql 数据库名 &lt;数据库.sql<br>加访问权限，执行vim pg_hba.conf 加入：host    数据库           用户           all                     md5</p><h4 id="5-3、恢复"><a href="#5-3、恢复" class="headerlink" title="5.3、恢复"></a>5.3、恢复</h4><p>psql -U XXXX -d XXXX -f XXXX.sql</p><h3 id="6、问题集"><a href="#6、问题集" class="headerlink" title="6、问题集"></a>6、问题集</h3><div class="note note-danger">            <p>1 数据库无hstore数据类型<br>解决：<br>create extension hstore;<br>Select pg_terminate_backend(pid) from pg_stat_activity where datname &#x3D; ‘数据库名称’</p><p>2 aborting because of server version mismatch</p><p>服务端 &amp; 客户端 版本不一致导致。<br>解决：</p><blockquote><p>方案一</p></blockquote><p>降级服务端pg版本 &lt;&#x3D; 客户端<br>卸载old版本，更新新版本 &gt;&#x3D; 服务端版本</p><blockquote><p>方案二</p></blockquote><p>版本共存<br>1.sudo yumdownloader postgresql<br>2.yum install perl-ExtUtils-Embed<br>3.sudo yum install uuid<br>4.sudo yum install libxslt<br>5.rpm -ivh postgresql rpm包<br>6.在 &#x2F;export 软连接&#x2F;home&#x2F;q&#x2F;export下建一个目录 pg100_data ，用户和组都给 postgres<br>7.&#x2F;opt&#x2F;pg10&#x2F;bin&#x2F;pg_ctl -D &#x2F;export&#x2F;pg100_data initdb<br>8.postgresql.conf 复制到 &#x2F;export&#x2F;pg100_data 目录中<br>9.&#x2F;opt&#x2F;pg10&#x2F;bin&#x2F;pg_ctl -D &#x2F;export&#x2F;pg100_data start</p>          </div><h3 id="7、学习参考"><a href="#7、学习参考" class="headerlink" title="7、学习参考"></a>7、学习参考</h3><p>pg_dump官网：<a href="https://www.postgresql.org/docs/9.2/app-pgdump.html">https://www.postgresql.org/docs/9.2/app-pgdump.html</a></p>]]></content>
    
    
    <categories>
      
      <category>数据库</category>
      
    </categories>
    
    
    <tags>
      
      <tag>命令工具</tag>
      
      <tag>Postgresql</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>程序猿七夕-心心相印</title>
    <link href="/articles/38642/"/>
    <url>/articles/38642/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p>python带你过七夕，让程序猿的七夕不再无趣^_^。</p>          </div><span id="more"></span><hr /><span class="label label-default">Python</span> <span class="label label-primary">实例</span> <span class="label label-success">七夕程序</span> <span class="label label-danger">turtle</span><h3 id="程序员"><a href="#程序员" class="headerlink" title="程序员"></a>程序员</h3><p>一提到程序猿，大家的映象是<em><strong>这样</strong></em></p><p><img src="/articles/38642/chengxuyuan2.jpg"></p><p><em><strong>这样</strong></em></p><p><img src="/articles/38642/chengxuyuan3.gif"></p><p><em><strong>或者这样</strong></em></p><p><img src="/articles/38642/chengxuyuan4.jpg"></p><p><em><strong>其实，标配是这样</strong></em></p><p><img src="/articles/38642/chengxuyuan1.png"></p><p>哈哈，很搞笑是不，我们是程序猿，时代电子技术的领导者，怎么可能那么low呢。言归正传，程序猿也是懂浪漫的，马上七夕了，用一副漫画***<font color="#dd0000" size="5">心心相印</font>***程序猿专有方式来陪你们过七夕，拿走不谢。</p><h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><blockquote><p>代码如下：</p></blockquote><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><br><span class="hljs-string">&quot;&quot;</span><span class="hljs-string">&quot;</span><br><span class="hljs-string">------------------------------------------------</span><br><span class="hljs-string">describe:</span><br><span class="hljs-string"></span><br><span class="hljs-string">usage:</span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string">base_info:</span><br><span class="hljs-string">    __version__ = &quot;</span>v.10<span class="hljs-string">&quot;</span><br><span class="hljs-string">    __author__ = &quot;</span>mingliang.gao<span class="hljs-string">&quot;</span><br><span class="hljs-string">    __time__ = &quot;</span>2018/8/13<span class="hljs-string">&quot;</span><br><span class="hljs-string">    __mail__ = &quot;</span>mingliang.gao@qunar.com<span class="hljs-string">&quot;</span><br><span class="hljs-string">------------------------------------------------</span><br><span class="hljs-string">&quot;</span><span class="hljs-string">&quot;&quot;</span><br><br>import time<br>import turtle<br><span class="hljs-keyword">from</span> turtle import *<br><br><br>def write_zi(x, y, content, <span class="hljs-attribute">font_type</span>=<span class="hljs-string">&#x27;Comic Sans MS&#x27;</span>, <span class="hljs-attribute">font_size</span>=30, <span class="hljs-attribute">font_normal</span>=<span class="hljs-string">&#x27;normal&#x27;</span>):<br>    penup()<br>    goto(x, y)<br>    pendown()<br>    write(content, <span class="hljs-attribute">align</span>=<span class="hljs-string">&quot;left&quot;</span>, font=(font_type, font_size, font_normal))<br><br><br>def pen_config(<span class="hljs-attribute">size</span>=2, <span class="hljs-attribute">color</span>=<span class="hljs-string">&#x27;black&#x27;</span>, <span class="hljs-attribute">speed</span>=<span class="hljs-string">&#x27;slow&#x27;</span>):<br>    # 画笔宽度<br>    turtle.pensize(size)<br>    # 画笔颜色<br>    turtle.pencolor(color)<br>    # 画笔速度 0-10<br>    turtle.speed(speed)<br><br><br>def locinit_config():<br>    # 设置框位置<br>    turtle.setup(<span class="hljs-attribute">width</span>=1400, <span class="hljs-attribute">height</span>=900, <span class="hljs-attribute">startx</span>=0, <span class="hljs-attribute">starty</span>=200)<br>    # turtle.screensize(<span class="hljs-attribute">bg</span>=<span class="hljs-string">&#x27;navajowhite&#x27;</span>)<br>    turtle.screensize(<span class="hljs-attribute">bg</span>=<span class="hljs-string">&#x27;papayawhip&#x27;</span>)<br><br><br><span class="hljs-comment"># 第一个心</span><br>def one_heart():<br>    color(<span class="hljs-string">&#x27;deeppink&#x27;</span>, <span class="hljs-string">&#x27;red&#x27;</span>)<br>    penup()<br>    goto(120, -20)<br>    begin_fill()<br>    pendown()<br>    left(45)<br>    fd(240)<br>    circle(100, 225)<br>    seth(90)<br>    circle(100, 225)<br>    fd(240)<br>    end_fill()<br><br><br><span class="hljs-comment"># 第二个心</span><br>def two_heart():<br>    color(<span class="hljs-string">&#x27;orange&#x27;</span>, <span class="hljs-string">&#x27;yellow&#x27;</span>)<br>    penup()<br>    goto(-40, -80)<br>    pendown()<br>    begin_fill()<br>    left(90)<br>    fd(240)<br>    circle(100, 225)<br>    seth(90)<br>    circle(100, 225)<br>    fd(240)<br>    end_fill()<br><br><br><span class="hljs-comment"># 箭</span><br>def arrow():<br>    # bing<br>    penup()<br>    goto(-410, 0)<br>    pendown()<br>    goto(-100, 60)<br>    penup()<br>    goto(255, 110)<br>    pendown()<br>    goto(540, 160)<br>    # tou<br>    penup()<br>    goto(440, 190)<br>    pendown()<br>    goto(540, 160)<br>    penup()<br>    goto(430, 100)<br>    pendown()<br>    goto(540, 160)<br><br><br><span class="hljs-comment"># 诗题</span><br>def shi_title():<br>    write_zi(200, -100, <span class="hljs-string">&quot;爱&quot;</span>, <span class="hljs-attribute">font_size</span>=42)<br>    write_zi(260, -100, <span class="hljs-string">&quot;你&quot;</span>, <span class="hljs-attribute">font_size</span>=42)<br>    write_zi(320, -100, <span class="hljs-string">&quot;一&quot;</span>, <span class="hljs-attribute">font_size</span>=42)<br>    write_zi(380, -100, <span class="hljs-string">&quot;生&quot;</span>, <span class="hljs-attribute">font_size</span>=42)<br>    write_zi(440, -100, <span class="hljs-string">&quot;十&quot;</span>, <span class="hljs-attribute">font_size</span>=42)<br>    write_zi(500, -100, <span class="hljs-string">&quot;世&quot;</span>, <span class="hljs-attribute">font_size</span>=42)<br><br><br><span class="hljs-comment"># 诗</span><br>def shi():<br>    <span class="hljs-string">&quot;&quot;</span><span class="hljs-string">&quot;</span><br><span class="hljs-string">    一半飘零一半安，</span><br><span class="hljs-string">    生逢盛世缘相遇，</span><br><span class="hljs-string">    十年修得同船渡，</span><br><span class="hljs-string">    世世生生武雅楠</span><br><span class="hljs-string">    &quot;</span><span class="hljs-string">&quot;&quot;</span><br>    # 1<br>    write_zi(260, -160, <span class="hljs-string">&quot;一&quot;</span>)<br>    write_zi(260, -200, <span class="hljs-string">&quot;半&quot;</span>)<br>    write_zi(260, -240, <span class="hljs-string">&quot;飘&quot;</span>)<br>    write_zi(260, -280, <span class="hljs-string">&quot;零&quot;</span>)<br>    write_zi(260, -320, <span class="hljs-string">&quot;一&quot;</span>)<br>    write_zi(260, -360, <span class="hljs-string">&quot;半&quot;</span>)<br>    write_zi(260, -400, <span class="hljs-string">&quot;安&quot;</span>)<br>    # 2<br>    write_zi(330, -160, <span class="hljs-string">&quot;生&quot;</span>)<br>    write_zi(330, -200, <span class="hljs-string">&quot;逢&quot;</span>)<br>    write_zi(330, -240, <span class="hljs-string">&quot;盛&quot;</span>)<br>    write_zi(330, -280, <span class="hljs-string">&quot;世&quot;</span>)<br>    write_zi(330, -320, <span class="hljs-string">&quot;缘&quot;</span>)<br>    write_zi(330, -360, <span class="hljs-string">&quot;相&quot;</span>)<br>    write_zi(330, -400, <span class="hljs-string">&quot;遇&quot;</span>)<br>    # 3470<br>    write_zi(400, -160, <span class="hljs-string">&quot;十&quot;</span>)<br>    write_zi(400, -200, <span class="hljs-string">&quot;年&quot;</span>)<br>    write_zi(400, -240, <span class="hljs-string">&quot;修&quot;</span>)<br>    write_zi(400, -280, <span class="hljs-string">&quot;得&quot;</span>)<br>    write_zi(400, -320, <span class="hljs-string">&quot;同&quot;</span>)<br>    write_zi(400, -360, <span class="hljs-string">&quot;船&quot;</span>)<br>    write_zi(400, -400, <span class="hljs-string">&quot;渡&quot;</span>)<br>    # 4<br>    write_zi(470, -160, <span class="hljs-string">&quot;世&quot;</span>)<br>    write_zi(470, -200, <span class="hljs-string">&quot;世&quot;</span>)<br>    write_zi(470, -240, <span class="hljs-string">&quot;生&quot;</span>)<br>    write_zi(470, -280, <span class="hljs-string">&quot;生&quot;</span>)<br>    write_zi(470, -320, <span class="hljs-string">&quot;武&quot;</span>)<br>    write_zi(470, -360, <span class="hljs-string">&quot;雅&quot;</span>)<br>    write_zi(470, -400, <span class="hljs-string">&quot;楠&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    time.sleep(2)<br>    locinit_config()<br>    pen_config(<span class="hljs-attribute">size</span>=8, <span class="hljs-attribute">speed</span>=<span class="hljs-string">&#x27;fast&#x27;</span>)<br>    one_heart()<br>    pen_config(<span class="hljs-attribute">size</span>=8, <span class="hljs-attribute">speed</span>=<span class="hljs-string">&#x27;fast&#x27;</span>)<br>    two_heart()<br>    pen_config(<span class="hljs-attribute">size</span>=12, <span class="hljs-attribute">color</span>=<span class="hljs-string">&#x27;black&#x27;</span>, <span class="hljs-attribute">speed</span>=<span class="hljs-string">&#x27;normal&#x27;</span>)<br>    arrow()<br>    pen_config(<span class="hljs-attribute">size</span>=3, <span class="hljs-attribute">color</span>=<span class="hljs-string">&#x27;red&#x27;</span>, <span class="hljs-attribute">speed</span>=<span class="hljs-string">&#x27;normal&#x27;</span>)<br>    shi_title()<br>    pen_config(<span class="hljs-attribute">size</span>=3, <span class="hljs-attribute">color</span>=<span class="hljs-string">&#x27;dodgerblue&#x27;</span>, <span class="hljs-attribute">speed</span>=<span class="hljs-string">&#x27;fast&#x27;</span>)<br>    shi()<br>    time.sleep(5)<br></code></pre></td></tr></table></figure><blockquote><p><em><strong>备注</strong></em></p></blockquote><ul><li>绘画顺序：心-&gt;心-&gt;箭-&gt;诗</li><li>pen_config 画笔设置，在这个方法可以切换绘画过程中的画笔颜色以及绘画的速度</li><li>shi 为七言绝句，如果想改其他，记得调整位置</li></ul><h3 id="实现效果"><a href="#实现效果" class="headerlink" title="实现效果"></a>实现效果</h3><p><img src="/img_index/index/20180813-001.gif"></p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Python程序篇</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LDAP-ERROR:DSID-03150F01</title>
    <link href="/articles/13042/"/>
    <url>/articles/13042/</url>
    
    <content type="html"><![CDATA[<h4 id="1、问题描述："><a href="#1、问题描述：" class="headerlink" title="1、问题描述："></a>1、问题描述：</h4><p>在负责的项目中，有个跟LDAP打交道的，其中有个任务就是把人添加到指定的CN下。某天hr来找，说群发的邮件部分人没有收到。于是找到这个任务脚本，打开查看日志，居然报下面的错误。</p><span id="more"></span><hr /><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs maxima">&#123;<br>    &#x27;info&#x27;: &#x27;<span class="hljs-number">000021B1</span>:<br>    SvcErr: DSID-<span class="hljs-number">03150F01</span>,<br>    problem <span class="hljs-number">5005</span> (UNABLE_TO_PROCEED),<br>    data <span class="hljs-number">0</span>\n&#x27;,<br>    &#x27;desc&#x27;: &#x27;Operations <span class="hljs-built_in">error</span>&#x27;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="2、解决方案"><a href="#2、解决方案" class="headerlink" title="2、解决方案"></a>2、解决方案</h4><p>第一思维先google了一下，发现这个错误的少之又少，并且查看后没有解决方案。后来通过查看日志，发现这个错误有一个月之前就有了。但是这个任务在beta环境还是正常执行的，于是比对线上与beta环境的不同之处，任务代码一模一样，LDAP环境也保持一致。执行的发现把员工加到执行CN下的员工数不一样。于是把线上获取的数据量改小了一些，正常了。那么问题就定位到数据大小的问题决定着错误，说明错误指向了LDAP服务器，但是线上与beta的DLAP环境，配置是一样的啊。<br>把线上的数据源数据同步到beta环境，执行beta环境的任务脚本，一样的错误。。。一样，哈哈那就确定了，是LDAP上的问题，去官方查询相关的信息。果然有一些配置有决定性的作用，打开注册表编辑器，创建以下路径键值&amp;数值：</p><pre><code class="hljs">[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\NTDS\Parameters]&quot;Maximum Audit Queue Size&quot;=dword:000088b8</code></pre><p><img src="/articles/13042/mountain.png" alt="mountain"></p><h4 id="3、建议"><a href="#3、建议" class="headerlink" title="3、建议"></a>3、建议</h4><p><em><strong><font color="#dd0000" size="5">遇到问题莫慌，最重要的是找到问题根源，只要找到问题的根源，才是解决问题的王道！！！</font></strong></em></p>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ERROR集</tag>
      
      <tag>LDAP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>初学Atom</title>
    <link href="/articles/26903/"/>
    <url>/articles/26903/</url>
    
    <content type="html"><![CDATA[<p>日常开发中习惯了Pycharm，但是平常记录点什么东西，最好要有一个自己的文本编译器，比如：sublime、vscode、notepad等等。</p><span id="more"></span><hr /><h3 id="1、介绍"><a href="#1、介绍" class="headerlink" title="1、介绍"></a>1、介绍</h3><p>下面介绍一下我用的atom，安装以及其他的设置我不做介绍了，网上教程一大推，主要介绍一下我用的几个插件：<br>查看安装的包【<strong>apm list</strong>】<br> <img src="/articles/26903/chuxueatom_list.jpg" alt="apm list"></p><h3 id="2、常用快捷键"><a href="#2、常用快捷键" class="headerlink" title="2、常用快捷键"></a>2、常用快捷键</h3><table><thead><tr><th>快捷键</th><th>功能</th><th>级别</th></tr></thead><tbody><tr><td>shift+command+p</td><td>功能查找命令行</td><td>🌟🌟🌟</td></tr><tr><td>shift+command+o</td><td>打开目录</td><td>🌟🌟🌟</td></tr><tr><td>command+,</td><td>配置</td><td>🌟🌟🌟</td></tr><tr><td>shift+commadn+d</td><td>复制当前行到下一行</td><td>🌟🌟🌟</td></tr><tr><td>shift+control+k</td><td>删除光标所在当前行</td><td>🌟🌟🌟</td></tr><tr><td>command+\</td><td>显示或隐藏目录树</td><td>🌟🌟</td></tr><tr><td>ctrl-0</td><td>目录树与文本编辑区切换（切换到目录树：a新增【add】m修改【modify】delete删除）</td><td>🌟🌟🌟</td></tr><tr><td>alt+left</td><td>单词开始</td><td>🌟🌟</td></tr><tr><td>alt+right</td><td>单词结束</td><td>🌟🌟</td></tr><tr><td>command+left</td><td>行开始</td><td>🌟🌟🌟</td></tr><tr><td>command+right</td><td>行结束</td><td>🌟🌟🌟</td></tr><tr><td>command+up</td><td>文件开始</td><td>🌟🌟</td></tr><tr><td>command+down</td><td>文件结束</td><td>🌟🌟</td></tr><tr><td>command-b</td><td>打开文件之间的切换</td><td>🌟🌟</td></tr><tr><td>command-t</td><td>目录文件之间的切换</td><td>🌟🌟</td></tr><tr><td>command-r</td><td>查找与替换</td><td>🌟🌟🌟</td></tr><tr><td>shift+command+r</td><td>项目查找与替换</td><td>🌟🌟🌟</td></tr><tr><td>command+&#x2F;</td><td>注释</td><td>🌟🌟🌟</td></tr></tbody></table><h3 id="3、基础插件"><a href="#3、基础插件" class="headerlink" title="3、基础插件"></a>3、基础插件</h3><ul><li><h4 id="3-1、activate-power-mode"><a href="#3-1、activate-power-mode" class="headerlink" title="3.1、activate-power-mode"></a>3.1、activate-power-mode</h4></li></ul><p>【功能】: 敲代码炫酷效果<br>【快捷键】: 无<br>【简述】: 怎么说呢，这个插件对于实际开发没有卵用，but可以装B，足以。<br><img src="/articles/26903/chuxueatom_power.jpg" alt="activate-power-mode"></p><ul><li><h4 id="3-2、atom-beautify"><a href="#3-2、atom-beautify" class="headerlink" title="3.2、atom-beautify"></a>3.2、atom-beautify</h4></li></ul><p>【功能】: 格式化当前文件<br>【快捷键】: control + option + b<br>【简述】: 可以格式化当前文件，前提是这个文件可以被识别，如果你的文件不带后缀直接去格式化，会warning，建议保存完文件在进行格式化。直接快捷键control + option + b格式化，插件会自动识别，记不得快捷键格式化可以先shift + command + p调出命令行查找，在入beautify editor，也可以直接输入beautify + 计算机语言【例如：python】，确认既可以。</p><ul><li><h4 id="3-3、autocomplete-paths"><a href="#3-3、autocomplete-paths" class="headerlink" title="3.3、autocomplete-paths"></a>3.3、autocomplete-paths</h4></li></ul><p>【功能】: 补全路径<br>【快捷键】: 无<br>【简述】: 在写代码时候，有时需要写文件路径，装上此插件，会自动完善文件路径，不过相信没有几个真正上线的project会写死文件路径吧。</p><ul><li><h4 id="3-4、autocomplete-python"><a href="#3-4、autocomplete-python" class="headerlink" title="3.4、autocomplete-python"></a>3.4、autocomplete-python</h4></li></ul><p>【功能】: python补全<br>【快捷键】: 无<br>【简述】: 不多说，python开发者必备，前提是你在.py文件中进行。</p><ul><li><h4 id="3-5、autosave"><a href="#3-5、autosave" class="headerlink" title="3.5、autosave"></a>3.5、autosave</h4></li></ul><p>【功能】: 自动保存<br>【快捷键】: 无<br>【简介】: 如果你是个懒人，跟我一样，最好安装这个插件。</p><ul><li><h4 id="3-6、file-icons"><a href="#3-6、file-icons" class="headerlink" title="3.6、file-icons"></a>3.6、file-icons</h4></li></ul><p>【功能】: 文件类型icon<br>【快捷键】: 无<br>【简介】: 左侧目录文件类型icon显示。</p><ul><li><h4 id="3-7、highlight-selected"><a href="#3-7、highlight-selected" class="headerlink" title="3.7、highlight-selected"></a>3.7、highlight-selected</h4></li></ul><p>【功能】: 高亮选中<br>【快捷键】: 无<br>【简介】: 高亮选中字符，同时所有相同字符高亮。</p><ul><li><h4 id="3-8、hyperclick"><a href="#3-8、hyperclick" class="headerlink" title="3.8、hyperclick"></a>3.8、hyperclick</h4></li></ul><p>【功能】: 方法跳转<br>【快捷键】: command + click左键<br>【简介】: 用于方法跳转，用完之后，暂时我不知道怎么跳转回去，有知道的可以留言进行交流。</p><ul><li><h4 id="3-9、minimap-minimap-highlight-selected"><a href="#3-9、minimap-minimap-highlight-selected" class="headerlink" title="3.9、minimap &amp;&amp; minimap-highlight-selected"></a>3.9、minimap &amp;&amp; minimap-highlight-selected</h4></li></ul><p>【功能】: minimap显示<br>【快捷键】: 无<br>【简介】: 以一个minimap进行显示当前的文件内容，方便进行拖拽，加minimap-highlight-selected插件，方便你在选中一个之后在minimap中进行查看，位置可以配置。</p><ul><li><h4 id="3-10、platformio-ide-terminal"><a href="#3-10、platformio-ide-terminal" class="headerlink" title="3.10、platformio-ide-terminal"></a>3.10、platformio-ide-terminal</h4></li></ul><p>【功能】: terminal工具<br>【快捷键】: 新建：shift + command + T; 关闭：shift + command + X; 前一个：shift + command + J; 后一个：shift + command + K<br>【简介】: 方便控制台直接在atom中使用，省去切换。如果忘记快捷键，还是建议shift + command + p进行关键字terminal搜索，一目了然。</p><ul><li><h4 id="3-11、project-manager"><a href="#3-11、project-manager" class="headerlink" title="3.11、project-manager"></a>3.11、project-manager</h4></li></ul><p>【功能】: project存储<br>【快捷键】: add: shift + command + O;list：control + command + p<br>【简介】: 新open一个atom是不记录上次的文件的，引用插件可以把project进行存储，每次方便进行打开。还是那句话，如果忘记快捷键，还是议shift + command + p进行关键字project搜索，一目了然。</p><ul><li><h4 id="3-12、script"><a href="#3-12、script" class="headerlink" title="3.12、script"></a>3.12、script</h4></li></ul><p>【功能】: 脚本执行<br>【快捷键】: 执行：command + i; 关闭问题view：control + w; 选中执行: shift command + i<br>【简介】: 如果因为atom不能直接执行你写的脚本发愁，那么这个插件就完美的解决你的问题。当然还有一个其他的解决办法就是shift + command + t调用terminal去执行。显示还是command + i方便，哈哈。</p><ul><li><h4 id="3-13、markdown"><a href="#3-13、markdown" class="headerlink" title="3.13、markdown"></a>3.13、markdown</h4></li></ul><p>【功能】: markdown编辑<br>【快捷键】: shift + control + m 显示md效果<br>【简介】:<br>markdown-image-paste 图片处理<br>markdown-preview-plus 预览效果<br>markdown-scroll-sync 同步滚动<br>markdown-table-editor 表格处理</p><h3 id="4、学习"><a href="#4、学习" class="headerlink" title="4、学习"></a>4、学习</h3><p>快捷键大全：<a href="https://www.jianshu.com/p/e33f864981bb">https://www.jianshu.com/p/e33f864981bb</a></p><h3 id="5、建议"><a href="#5、建议" class="headerlink" title="5、建议"></a>5、建议</h3><p>Atom可以集成git插件，以及flake8，但是我觉得还是这2个命令还是在item2上去敲，这2个命令必须得日常所用，敲得多熟悉的也就越深，玩python的人，当然是linux的基础命令都得熟悉。</p>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Atom</tag>
      
      <tag>IDE</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python之pip包管理</title>
    <link href="/articles/54341/"/>
    <url>/articles/54341/</url>
    
    <content type="html"><![CDATA[<h3 id="1、简介"><a href="#1、简介" class="headerlink" title="1、简介"></a>1、简介</h3><div class="note note-primary">            <figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ada">pip <span class="hljs-keyword">is</span> the <span class="hljs-keyword">package</span> <span class="hljs-title">installer for Python.</span><br>You can <span class="hljs-keyword">use</span> pip to install packages from the Python <span class="hljs-keyword">Package</span> <span class="hljs-title">Index and other indexes.</span><br></code></pre></td></tr></table></figure>官网说明：pip是Python包管理工具，主要用于包的查找、下载、安装、卸载的功能。当前版本：<font size=6.5 color='red'>V19.3.1</font>          </div><span id="more"></span><h3 id="2、安装"><a href="#2、安装" class="headerlink" title="2、安装"></a>2、安装</h3><p>本人主要使用MacOX、Centos7系统，关于安装，这里介绍2种方式。</p><blockquote><p>curl</p></blockquote><figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs dsconfig"><span class="hljs-comment"># 下载安装脚本</span><br><span class="hljs-string">curl</span> <span class="hljs-string">https</span>://<span class="hljs-string">bootstrap</span>.<span class="hljs-string">pypa</span>.<span class="hljs-string">io</span>/<span class="hljs-built_in">get-pip.py</span> -<span class="hljs-string">o</span> <span class="hljs-built_in">get-pip.py</span><br><br><span class="hljs-comment"># 运行安装脚本</span><br><span class="hljs-string">sudo</span> <span class="hljs-string">python</span> <span class="hljs-built_in">get-pip.py</span><br></code></pre></td></tr></table></figure><blockquote><p>easy_install</p></blockquote><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">easy_install pip</span><br></code></pre></td></tr></table></figure><h3 id="3、参数说明"><a href="#3、参数说明" class="headerlink" title="3、参数说明"></a>3、参数说明</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs sql">[root<span class="hljs-variable">@bash</span> <span class="hljs-operator">~</span>]# pip <span class="hljs-comment">--help</span><br><br>Usage:<br>  pip <span class="hljs-operator">&lt;</span>command<span class="hljs-operator">&gt;</span> [options]<br><br>Commands:<br>  install                     Install packages.<br>  download                    Download packages.<br>  uninstall                   Uninstall packages.<br>  freeze                      Output installed packages <span class="hljs-keyword">in</span> requirements format.<br>  list                        List installed packages.<br>  <span class="hljs-keyword">show</span>                        <span class="hljs-keyword">Show</span> information about installed packages.<br>  <span class="hljs-keyword">check</span>                       Verify installed packages have compatible dependencies.<br>  config                      Manage <span class="hljs-keyword">local</span> <span class="hljs-keyword">and</span> <span class="hljs-keyword">global</span> configuration.<br>  <span class="hljs-keyword">search</span>                      <span class="hljs-keyword">Search</span> PyPI <span class="hljs-keyword">for</span> packages.<br>  wheel                       Build wheels <span class="hljs-keyword">from</span> your requirements.<br>  hash                        Compute hashes <span class="hljs-keyword">of</span> package archives.<br>  completion                  A helper command used <span class="hljs-keyword">for</span> command completion.<br>  debug                       <span class="hljs-keyword">Show</span> information useful <span class="hljs-keyword">for</span> debugging.<br>  help                        <span class="hljs-keyword">Show</span> help <span class="hljs-keyword">for</span> commands.<br><br>General Options:<br>  <span class="hljs-operator">-</span>h, <span class="hljs-comment">--help                  Show help.</span><br>  <span class="hljs-comment">--isolated                  Run pip in an isolated mode, ignoring environment variables and user configuration.</span><br>  <span class="hljs-operator">-</span>v, <span class="hljs-comment">--verbose               Give more output. Option is additive, and can be used up to 3 times.</span><br>  <span class="hljs-operator">-</span>V, <span class="hljs-comment">--version               Show version and exit.</span><br>  <span class="hljs-operator">-</span>q, <span class="hljs-comment">--quiet                 Give less output. Option is additive, and can be used up to 3 times (corresponding to WARNING, ERROR, and CRITICAL logging levels).</span><br>  <span class="hljs-comment">--log &lt;path&gt;                Path to a verbose appending log.</span><br>  <span class="hljs-comment">--proxy &lt;proxy&gt;             Specify a proxy in the form [user:passwd@]proxy.server:port.</span><br>  <span class="hljs-comment">--retries &lt;retries&gt;         Maximum number of retries each connection should attempt (default 3 times).</span><br>  <span class="hljs-comment">--timeout &lt;sec&gt;             Set the socket timeout (default 90.0 seconds).</span><br>  <span class="hljs-comment">--exists-action &lt;action&gt;    Default action when a path already exists: (s)witch, (i)gnore, (w)ipe, (b)ackup, (a)bort.</span><br>  <span class="hljs-comment">--trusted-host &lt;hostname&gt;   Mark this host as trusted, even though it does not have valid or any HTTPS.</span><br>  <span class="hljs-comment">--cert &lt;path&gt;               Path to alternate CA bundle.</span><br>  <span class="hljs-comment">--client-cert &lt;path&gt;        Path to SSL client certificate, a single file containing the private key and the certificate in PEM format.</span><br>  <span class="hljs-comment">--cache-dir &lt;dir&gt;           Store the cache data in &lt;dir&gt;.</span><br>  <span class="hljs-comment">--no-cache-dir              Disable the cache.</span><br>  <span class="hljs-comment">--disable-pip-version-check</span><br>                              Don<span class="hljs-string">&#x27;t periodically check PyPI to determine whether a new version of pip is available for download. Implied with --no-index.</span><br><span class="hljs-string">  --no-color                  Suppress colored output</span><br></code></pre></td></tr></table></figure><p>参数说明略，在下面有具体使用。</p><h3 id="4、基础使用"><a href="#4、基础使用" class="headerlink" title="4、基础使用"></a>4、基础使用</h3><p>基于上面的详细参数，列举一下常用的命令。</p><h4 id="4-1、安装包"><a href="#4-1、安装包" class="headerlink" title="4.1、安装包"></a>4.1、安装包</h4><blockquote><p>基础安装</p></blockquote><p>使用此命令，默认安装源的最新版本。</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">pip <span class="hljs-keyword">install</span> numpy<br></code></pre></td></tr></table></figure><blockquote><p>安装指定版本</p></blockquote><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">pip</span> install numpy==<span class="hljs-number">1</span>.<span class="hljs-number">14</span>.<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><blockquote><p>大于指定版本</p></blockquote><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">pip</span> install numpy&gt;=<span class="hljs-number">1</span>.<span class="hljs-number">14</span>.<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><blockquote><p>requirements文件安装</p></blockquote><p>requirements.txt为指定的路径文件。</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">pip <span class="hljs-keyword">install</span> -r requirements.txt<br></code></pre></td></tr></table></figure><h4 id="4-2、卸载"><a href="#4-2、卸载" class="headerlink" title="4.2、卸载"></a>4.2、卸载</h4><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">pip uninstall numpy</span><br></code></pre></td></tr></table></figure><h4 id="4-3、升级包"><a href="#4-3、升级包" class="headerlink" title="4.3、升级包"></a>4.3、升级包</h4><p>直接升级指定的包。</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cmake">pip <span class="hljs-keyword">install</span> -U numpy<br><br>pip <span class="hljs-keyword">install</span> --upgrade numpy<br></code></pre></td></tr></table></figure><h4 id="4-4、查看已安装的包"><a href="#4-4、查看已安装的包" class="headerlink" title="4.4、查看已安装的包"></a>4.4、查看已安装的包</h4><blockquote><p>包&#x3D;&#x3D;版本</p></blockquote><p>执行这个命令，可以获取项目能run的包相关信息，把这些信息直接写到<em><strong>requirements.txt</strong></em>文件，方便项目迁移以及在其他环境运行。</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-section">[root@bash ~]</span><span class="hljs-comment"># pip freeze</span><br><br><span class="hljs-attr">alembic</span>==<span class="hljs-number">0.9</span>.<span class="hljs-number">9</span><br><span class="hljs-attr">altgraph</span>==<span class="hljs-number">0.10</span>.<span class="hljs-number">2</span><br><span class="hljs-attr">amqp</span>==<span class="hljs-number">2.2</span>.<span class="hljs-number">2</span><br><span class="hljs-attr">aniso8601</span>==<span class="hljs-number">1.2</span>.<span class="hljs-number">1</span><br><span class="hljs-attr">anyjson</span>==<span class="hljs-number">0.3</span>.<span class="hljs-number">3</span><br><span class="hljs-attr">appnope</span>==<span class="hljs-number">0.1</span>.<span class="hljs-number">0</span><br><span class="hljs-attr">asn1crypto</span>==<span class="hljs-number">0.24</span>.<span class="hljs-number">0</span><br><span class="hljs-attr">aspy.yaml</span>==<span class="hljs-number">1.1</span>.<span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><blockquote><p>包以及版本</p></blockquote><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs ada">[root@bash ~]# pip list<br><br><span class="hljs-keyword">Package</span>                                <span class="hljs-title">Version</span><br><span class="hljs-comment">-------------------------------------- -------------</span><br>alembic                                <span class="hljs-number">0.9</span>.<span class="hljs-number">9</span><br>altgraph                               <span class="hljs-number">0.10</span>.<span class="hljs-number">2</span><br>amqp                                   <span class="hljs-number">2.2</span>.<span class="hljs-number">2</span><br>aniso8601                              <span class="hljs-number">1.2</span>.<span class="hljs-number">1</span><br>anyjson                                <span class="hljs-number">0.3</span>.<span class="hljs-number">3</span><br>appnope                                <span class="hljs-number">0.1</span>.<span class="hljs-number">0</span><br>asn1crypto                             <span class="hljs-number">0.24</span>.<span class="hljs-number">0</span><br>aspy.yaml                              <span class="hljs-number">1.1</span>.<span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><blockquote><p>查看指定包信息</p></blockquote><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs nix">[root@bash ~]<span class="hljs-comment"># pip show numpy</span><br><br><span class="hljs-params">Name:</span> numpy<br><span class="hljs-params">Version:</span> <span class="hljs-number">1.8</span>.<span class="hljs-number">0</span>rc1<br><span class="hljs-params">Summary:</span> <span class="hljs-params">NumPy:</span> array processing for numbers, strings, records, and objects.<br><span class="hljs-params">Home-page:</span> http:<span class="hljs-symbol">//www.numpy.org</span><br><span class="hljs-params">Author:</span> NumPy Developers<br><span class="hljs-params">Author-email:</span> numpy-discussion@scipy.org<br><span class="hljs-params">License:</span> BSD<br><span class="hljs-params">Location:</span> <span class="hljs-symbol">/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python</span><br><span class="hljs-params">Requires:</span><br><span class="hljs-params">Required-by:</span> wordcloud, matplotlib<br></code></pre></td></tr></table></figure><h4 id="4-5、搜索"><a href="#4-5、搜索" class="headerlink" title="4.5、搜索"></a>4.5、搜索</h4><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">pip search numpy</span><br></code></pre></td></tr></table></figure><h4 id="4-6、查看版本"><a href="#4-6、查看版本" class="headerlink" title="4.6、查看版本"></a>4.6、查看版本</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs awk">[root@bash ~]<span class="hljs-comment"># pip --version</span><br><br>pip <span class="hljs-number">19.2</span>.<span class="hljs-number">3</span> from <span class="hljs-regexp">/Library/</span>Python<span class="hljs-regexp">/2.7/</span>site-packages/pip (python <span class="hljs-number">2.7</span>)<br></code></pre></td></tr></table></figure><h3 id="5、配置"><a href="#5、配置" class="headerlink" title="5、配置"></a>5、配置</h3><blockquote><p>建立pip配置文件</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> ~/.pip<br><span class="hljs-built_in">cd</span> ~/.pip<br><span class="hljs-built_in">touch</span> pip.conf<br></code></pre></td></tr></table></figure><blockquote><p>编辑pip配置文件</p></blockquote><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">vim</span> ~/.pip/pip.<span class="hljs-keyword">conf</span><br></code></pre></td></tr></table></figure><p>本人配置文件：</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-section">[global]</span><br><span class="hljs-attr">index-url</span>=http://pypi.douban.com/simple<br><span class="hljs-attr">timeout</span>=<span class="hljs-number">90</span><br><span class="hljs-attr">disable-pip-version-check</span>=<span class="hljs-literal">true</span><br><span class="hljs-attr">retries</span>=<span class="hljs-number">3</span><br><span class="hljs-attr">cache-dir</span>=~/.pip/cache/<br><span class="hljs-attr">download-cache</span>=~/.pip/cache<br><span class="hljs-attr">ignore-installed</span>=<span class="hljs-literal">true</span><br><span class="hljs-attr">no-dependencies</span>=<span class="hljs-literal">yes</span><br><br><span class="hljs-section">[install]</span><br><span class="hljs-attr">trusted-host</span> = pypi.douban.com<br><br><span class="hljs-section">[list]</span><br><span class="hljs-attr">format</span>=columns<br></code></pre></td></tr></table></figure><h3 id="6、常用命令"><a href="#6、常用命令" class="headerlink" title="6、常用命令"></a>6、常用命令</h3><blockquote><p>安装指定源指定包</p></blockquote><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs avrasm">pip install dateutil -i http://pypi.python<span class="hljs-meta">.org</span>/simple --trusted-host pypi.python<span class="hljs-meta">.org</span><br></code></pre></td></tr></table></figure><blockquote><p>安装下载wheel包</p></blockquote><p>whl包文件下载地址：<a href="https://www.lfd.uci.edu/~gohlke/pythonlibs/">https://www.lfd.uci.edu/~gohlke/pythonlibs/</a></p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">python</span> -m pip install Pillow-<span class="hljs-number">4</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>-cp27-cp27m-win_amd64.whl<br></code></pre></td></tr></table></figure><h3 id="7、学习参考"><a href="#7、学习参考" class="headerlink" title="7、学习参考"></a>7、学习参考</h3><p>官网：</p><ul><li>pip官网：<a href="https://pypi.org/project/pip/">https://pypi.org/project/pip/</a></li><li>whl包下载地址：<a href="https://www.lfd.uci.edu/~gohlke/pythonlibs/">https://www.lfd.uci.edu/~gohlke/pythonlibs/</a></li></ul><p>pip源：</p><ul><li>清华大学：<a href="https://pypi.tuna.tsinghua.edu.cn/simple">https://pypi.tuna.tsinghua.edu.cn/simple</a></li><li>阿里云：<a href="http://mirrors.aliyun.com/pypi/simple/">http://mirrors.aliyun.com/pypi/simple/</a></li><li>豆瓣：<a href="http://pypi.douban.com/simple/">http://pypi.douban.com/simple/</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>PIP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux学习之增强篇-awk</title>
    <link href="/articles/38673/"/>
    <url>/articles/38673/</url>
    
    <content type="html"><![CDATA[<h3 id="1、简介"><a href="#1、简介" class="headerlink" title="1、简介"></a>1、简介</h3><div class="note note-danger">            <p>awk不止是一个命令，其实更像是一个工具。</p>          </div><span class="label label-default">Linux</span> <span class="label label-primary">AWK</span> <span class="label label-success">高级教程系列</span> <span class="label label-info">查看日志</span><span id="more"></span><hr /><p>如果你是做后端、运维，想必听说过awk，grep，sed等日志分析命令，今天给大家带来awk的详细用法。简单说一下原理，执行【awk + 文件】会把文件内容按行进行读取，行内容以指定的分隔符进行切割（默认是空格），切开的部分再进行各种分析处理。工作上我主要用来做nginx的access-log日志的分析，非常好用，熟练使用之后，在解析日志、文本方面你就会如鱼得水。</p><h3 id="2、推荐指数"><a href="#2、推荐指数" class="headerlink" title="2、推荐指数"></a>2、推荐指数</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">🌟🌟🌟🌟🌟<br></code></pre></td></tr></table></figure><h3 id="3、使用方法"><a href="#3、使用方法" class="headerlink" title="3、使用方法"></a>3、使用方法</h3><ul><li><em><strong>awk -F ‘分隔符’ ‘相关命令’ 文件1,文件2,…</strong></em></li><li><em><strong>cat 文件 | awk -F ‘分隔符’ ‘相关命令’</strong></em></li></ul><blockquote><p>分隔符</p></blockquote><p>awk会依据-F后的参数‘’对数据进行切割，常见的分隔符<em><strong>空格(‘ ’)</strong></em>、<em><strong>冒号(‘:’)</strong></em>、<em><strong>关键字</strong></em>，都为英文字符。</p><blockquote><p>内置变量</p></blockquote><table><thead><tr><th align="center">变量</th><th align="left">说明</th><th align="center">指数</th></tr></thead><tbody><tr><td align="center">$0</td><td align="left">当前记录内容（作为单个变量）</td><td align="center">🌟</td></tr><tr><td align="center">$1~$n</td><td align="left">当前记录的第n个字段，字段间由-F参数分隔</td><td align="center">🌟🌟🌟</td></tr><tr><td align="center">NF</td><td align="left">当前记录中的字段个数，就是有多少列</td><td align="center">🌟</td></tr><tr><td align="center">NR</td><td align="left">已经读出的记录数，就是行号，从1开始</td><td align="center">🌟🌟</td></tr><tr><td align="center">FNR</td><td align="left">当前总记录数</td><td align="center">🌟</td></tr><tr><td align="center">FS</td><td align="left">输入字段分隔符 默认是空格</td><td align="center">🌟</td></tr><tr><td align="center">OFS</td><td align="left">输出字段分隔符 默认也是空格</td><td align="center"></td></tr><tr><td align="center">RS</td><td align="left">输入的记录他隔符默 认为换行符</td><td align="center"></td></tr><tr><td align="center">ORS</td><td align="left">输出的记录分隔符，默认为换行符</td><td align="center"></td></tr><tr><td align="center">FILENAME</td><td align="left">当前输入文件的名字</td><td align="center">🌟</td></tr></tbody></table><blockquote><p>相关命令</p></blockquote><p>通用方式：<em><strong>‘BEGIN {print “name, count”}  {print $1”,”$7;print $0;} END {print “end——“}’</strong></em></p><ul><li>print：打印输出</li><li>printf：格式化打印输出(print format)</li><li>begin：第一行，主要用来打印头部</li><li>end：末尾一行，主要用来打印结束标识</li><li>中间部分：可执行多行语句，每个语句以；结束<br><em><strong>命令需要在单引号‘’内，有begin、end、中间3部门，begin &amp;&amp; end可省略</strong></em></li></ul><h3 id="4、基础使用"><a href="#4、基础使用" class="headerlink" title="4、基础使用"></a>4、基础使用</h3><pre><code class="hljs">环境：MacOs文件：/etc/passwd</code></pre><blockquote><p>显示所有用户名</p></blockquote><p>命令：<em><strong>cat &#x2F;etc&#x2F;passwd |awk  -F ‘:’  ‘{print $1}’</strong></em><br>小解：</p><ul><li>$1：分割的后的第1个变量<br><img src="/articles/38673/etc_1.png" alt="etc_1"></li></ul><blockquote><p>用户与对应的shell</p></blockquote><p>命令：<em><strong>cat &#x2F;etc&#x2F;passwd |awk  -F ‘:’  ‘BEGIN {print “start&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;”}  {print $1”,”$7} END {print “end——“}’</strong></em><br>小解：</p><ul><li>$7：分割的后的第7个变量</li><li>begin：输出的第一行标识</li><li>end：输出的结束标识(图片未显示完全)<br><img src="/articles/38673/etc_2.png" alt="etc_2"></li></ul><blockquote><p>统计&#x2F;etc&#x2F;passwd:文件名，行号，列数</p></blockquote><p>命令：<em><strong>cat &#x2F;etc&#x2F;passwd |awk  -F ‘:’  ‘BEGIN {print “start&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;”} {print “filename:” FILENAME “,linenumber:” NR “,columns:” NF “,linecontent:”$0}’</strong></em><br>小解：</p><ul><li>$0：当前行的记录</li><li>FILENAME：文件名称</li><li>NR：当前记录的行数</li><li>NF：当前记录中的字段个数<br><img src="/articles/38673/etc_3.png" alt="etc_3"></li></ul><blockquote><p>统计用户数量</p></blockquote><p>命令：<em><strong>cat &#x2F;etc&#x2F;passwd |awk  -F ‘:’  ‘BEGIN {print “start&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;”} {print “filename:” FILENAME “,linenumber:” NR “,columns:” NF “,linecontent:”$0}’</strong></em><br>小解：</p><ul><li>$0：当前行的记录</li><li>FILENAME：文件名称</li><li>NR：当前记录的行数</li><li>NF：当前记录中的字段个数<br><img src="/articles/38673/etc_3.png" alt="etc_3"></li></ul><p>命令：<em><strong>cat &#x2F;etc&#x2F;passwd | awk ‘{count++;} END{print “user count is “, count}’</strong></em><br><img src="/articles/38673/etc_4.png" alt="etc_4"></p><h3 id="5、实战解析nginx的access-log"><a href="#5、实战解析nginx的access-log" class="headerlink" title="5、实战解析nginx的access.log"></a>5、实战解析nginx的access.log</h3><p>直接引用本人现在负责的项目日志进行分析，<em><strong>reality &amp;&amp; reliable ！！！</strong></em></p><blockquote><p>demo1</p></blockquote><p><img src="/articles/38673/isapi_dmeo.png" alt="isapi_dmeo"></p><p>统计不同类型require请求的次数：<br>cat isapi-access.log | awk -F “require&#x3D;|&amp;” ‘{c[$2]+&#x3D;1;} END{for (i in c) printf”%d\t%s\n”,c[i], i;}’ | sort -nr | head -n 20<br>统计ip的请求次数：<br>cat isapi-access.log | awk -F “ “ ‘{c[$1]+&#x3D;1;} END{for (i in c) printf”%d\t%s\n”,c[i], i;}’ | sort -nr | head -n 20</p><blockquote><p>demo2</p></blockquote><p><img src="/articles/38673/papproval_dmeo.png" alt="papproval_dmeo"></p><p>统计不同类型请求次数<br>awk ‘{c[$7]+&#x3D;1;} END{for (i in c) printf”%d\t%s\n”,c[i], i;}’ psapproval-access.log | sort -nr<br>统计ip的请求次数：<br>awk ‘{ips[$1]+&#x3D;1;} END{for (ip in ips) printf(“%d\t%s\n”,ips[ip], ip);}’ &#x2F;home&#x2F;q&#x2F;var&#x2F;log&#x2F;psapproval-access.log | sort -nr</p><blockquote><p>命令小解</p></blockquote><pre><code class="hljs">cat：查看文件awk：分析命令sort：排序head：查看文件，但是打开的是文件的前XX行</code></pre><h3 id="6、相关连接"><a href="#6、相关连接" class="headerlink" title="6、相关连接"></a>6、相关连接</h3><ul><li><p><em><strong>isapi_access.log</strong></em>：<br><a href="https://github.com/GIS90/project_data_ref/blob/master/isapi_access.log">https://github.com/GIS90/project_data_ref/blob/master/isapi_access.log</a></p></li><li><p><em><strong>psapproval_access.log</strong></em>：<br><a href="https://github.com/GIS90/project_data_ref/blob/master/psapproval_access.log">https://github.com/GIS90/project_data_ref/blob/master/psapproval_access.log</a></p></li></ul><h3 id="7、追加说明"><a href="#7、追加说明" class="headerlink" title="7、追加说明"></a>7、追加说明</h3><p>本人对awk也是初步了解，如果有不对的地方，欢迎大家留言，一起share。。。。。。待续</p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Linux增强篇</tag>
      
      <tag>Nginx</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>正常点6、7下班&lt;font color=&quot;#dd0000&quot; size=&quot;15&quot;&gt;【文】&lt;/font&gt;</title>
    <link href="/articles/63117/"/>
    <url>/articles/63117/</url>
    
    <content type="html"><![CDATA[<p>面试去哪儿网offer拿到手之后，就问hr，咱们这边一般几点下班，hr说一般6、7点，也可以吃个饭回来打个卡再走。md入职后10天了，lz才发现原来hr说的是自己😄😄😄。</p><span id="more"></span><p><em><strong><font color="blue" size="6">不要走得太快，错过沿路的风景，适当娱乐，继续奔波未来的路程！！！</font></strong></em></p>]]></content>
    
    
    <categories>
      
      <category>生活记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>纯文笑话</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python的列表推导式</title>
    <link href="/articles/30413/"/>
    <url>/articles/30413/</url>
    
    <content type="html"><![CDATA[<p>列表推导式，是Python的一种独有特性之一，可以从一个列表（python数据结，熟称数组：[1, 2]）构构建出一个新的列表结果，构架过程中可以经过简单的数据处理。在2与3版本都支持。</p><span id="more"></span><hr /><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs Python">alist = <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>)<br>odd = [i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> alist <span class="hljs-keyword">if</span> i % <span class="hljs-number">2</span> == <span class="hljs-number">1</span>]<br><span class="hljs-built_in">print</span> odd<br><br>[<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>]<br></code></pre></td></tr></table></figure><h3 id="1、格式"><a href="#1、格式" class="headerlink" title="1、格式"></a>1、格式</h3><blockquote><p>格式一</p></blockquote><p>[表达式 for 变量 in 列表 if 条件]</p><ul><li>if 用于数据过滤</li><li>表达式 用于数据处理</li></ul><blockquote><p>格式二</p></blockquote><p>[表达式if if 条件 else 表达式else for 变量 in 列表]</p><h3 id="2、示例"><a href="#2、示例" class="headerlink" title="2、示例"></a>2、示例</h3><p>示例列表：alist &#x3D; [‘abcd’, ‘bcd’, ‘cd’, ‘d’]</p><blockquote><p>列表所有元素转大写</p></blockquote><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs scheme">[<span class="hljs-name">x.upper</span>() for x in alist]<br><br>[<span class="hljs-symbol">&#x27;ABCD</span>&#x27;, <span class="hljs-symbol">&#x27;BCD</span>&#x27;, <span class="hljs-symbol">&#x27;CD</span>&#x27;, <span class="hljs-symbol">&#x27;D</span>&#x27;]<br></code></pre></td></tr></table></figure><blockquote><p>列表元素长度大于3的转大写</p></blockquote><figure class="highlight gml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs gml">new_big_al = [<span class="hljs-variable language_">x</span>.upper() <span class="hljs-keyword">for</span> <span class="hljs-variable language_">x</span> in alist <span class="hljs-keyword">if</span> len(<span class="hljs-variable language_">x</span>) &gt; <span class="hljs-number">3</span>]<br><br>[<span class="hljs-string">&#x27;ABCD&#x27;</span>]<br></code></pre></td></tr></table></figure><blockquote><p>for嵌套</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-attr">[x + y for x in [1, 2]</span> for <span class="hljs-attribute">y</span> in <span class="hljs-selector-attr">[1, 2, 3]</span>]<br><br><span class="hljs-selector-attr">[2, 3, 4, 3, 4, 5]</span><br></code></pre></td></tr></table></figure><blockquote><p>for嵌套 + if</p></blockquote><figure class="highlight gml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs gml">[<span class="hljs-variable language_">x</span> + <span class="hljs-variable language_">y</span> <span class="hljs-keyword">for</span> <span class="hljs-variable language_">x</span> in [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>] <span class="hljs-keyword">if</span> <span class="hljs-variable language_">x</span> % <span class="hljs-number">2</span> == <span class="hljs-number">0</span> <span class="hljs-keyword">for</span> <span class="hljs-variable language_">y</span> in [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>] <span class="hljs-keyword">if</span> <span class="hljs-variable language_">y</span> % <span class="hljs-number">2</span> == <span class="hljs-number">1</span>]<br><br>[<span class="hljs-number">3</span>, <span class="hljs-number">5</span>]<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Python基础篇</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux学习之基础篇-tar</title>
    <link href="/articles/27499/"/>
    <url>/articles/27499/</url>
    
    <content type="html"><![CDATA[<p>cd命令，文件&#x2F;目录打包、解压缩命令利器，全名：<font size=6.5 color='red'>tape archive</font>。</p><span id="more"></span><hr /><h3 id="1、简介"><a href="#1、简介" class="headerlink" title="1、简介"></a>1、简介</h3><div class="note note-warning">            <p>学习tar的用法【tar 参数 文件名 文件目录】</p>          </div><h3 id="2、介绍"><a href="#2、介绍" class="headerlink" title="2、介绍"></a>2、介绍</h3><p>今天学习的命令跟文件打包、压缩、解压相关，而且特别提醒一下打包与解压缩不是一码事。打个比方，打包就把一堆文件、文件夹等放在一块；压缩就是把文件进行换种格式进行存储，目的是为了减小size。<br>在linux系统下，常用的一个命令<em><strong>tar</strong></em>，包含了以上的所有功能，在日常维护中非常常用，功能十分强大。当然，你也可以使用gzip、bzip等解压缩命令，但是一个<em><strong>tar</strong></em>就可以搞定所有事，何乐而不为。<br>tar打包后的文件通常以**.tar<strong>进行结尾，压缩而是相对于文件格式而定，通常有</strong>.bz、.gz、.Z**等等。</p><h3 id="3、推荐指数"><a href="#3、推荐指数" class="headerlink" title="3、推荐指数"></a>3、推荐指数</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">🌟🌟🌟🌟🌟<br></code></pre></td></tr></table></figure><h3 id="4、正文"><a href="#4、正文" class="headerlink" title="4、正文"></a>4、正文</h3><p>这个命令用的频率很大，可以打包、压缩单文件、多个文件、多目录、文件+目录，建议记住常用参数，如果记不住，那么就多敲命令，熟能生巧。</p><h4 id="4-1、格式"><a href="#4-1、格式" class="headerlink" title="4.1、格式"></a>4.1、格式</h4><p>【tar 参数 文件名 文件目录】</p><h4 id="4-2、参数说明"><a href="#4-2、参数说明" class="headerlink" title="4.2、参数说明"></a>4.2、参数说明</h4><p>这个命令的参数相对来说还是比较多的，我这里列举了常用的参数，如果有兴趣查看全部参数的同学请<strong>man tar</strong>或者自行百度。</p><blockquote><p>-c</p></blockquote><p>创建一个新的压缩文件。</p><blockquote><p>-x</p></blockquote><p>解压文件，文件是压缩格式，与**-c**相反。</p><blockquote><p>-t</p></blockquote><p>显示压缩文件的内容，对于只想查看却不想解压使用这个即可，常用。</p><blockquote><p>-z</p></blockquote><p>解压<strong>gzip</strong>格式的文件。</p><blockquote><p>-j</p></blockquote><p>解压<strong>bzip2</strong>格式的文件。</p><blockquote><p>-Z</p></blockquote><p>解压**.Z**格式的文件。</p><blockquote><p>-p</p></blockquote><p>保持原文件的原来属性（属性不会依据使用者而变）</p><blockquote><p>-v</p></blockquote><p>显示打包、压缩、解压文件的详细过程。</p><blockquote><p>-f</p></blockquote><p>指定压缩文件，通常会写上文件名，<strong>-f</strong>可省略。</p><blockquote><p>–exclude FILE</p></blockquote><p>在压缩的过程中，排除指定的文件不进行打包、压缩</p><h4 id="4-3、常用命令"><a href="#4-3、常用命令" class="headerlink" title="4.3、常用命令"></a>4.3、常用命令</h4><blockquote><p>解包 &amp;&amp; 打包</p></blockquote><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs maxima">tar xvf <span class="hljs-built_in">file_name</span>.tar<br>tar cvf <span class="hljs-built_in">file_name</span>.tar file1 file2 dir1 dir2 ...<br></code></pre></td></tr></table></figure><blockquote><p>.tar.gz格式</p></blockquote><p>解压：</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs maxima">tar zxvf <span class="hljs-built_in">file_name</span>.tar.gz<br></code></pre></td></tr></table></figure><p>压缩：</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">tar zcvf file_name.tar.gz file1 file2 <span class="hljs-keyword">dir1 </span><span class="hljs-keyword">dir2 </span>...<br></code></pre></td></tr></table></figure><blockquote><p>.tar.bz格式</p></blockquote><p>解压：</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs maxima">tar jxvf <span class="hljs-built_in">file_name</span>.tar.bz<br></code></pre></td></tr></table></figure><p>压缩：</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">tar <span class="hljs-keyword">jcvf </span>file_name.tar.<span class="hljs-keyword">bz </span>file1 file2 <span class="hljs-keyword">dir1 </span><span class="hljs-keyword">dir2 </span>...<br></code></pre></td></tr></table></figure><blockquote><p>.tar.Z格式</p></blockquote><p>解压：</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs maxima">tar Zxvf <span class="hljs-built_in">file_name</span>.tar.Z<br></code></pre></td></tr></table></figure><p>压缩：</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">tar Zcvf file_name.tar.Z file1 file2 <span class="hljs-keyword">dir1 </span><span class="hljs-keyword">dir2 </span>...<br></code></pre></td></tr></table></figure><blockquote><p>查看打包、压缩文件</p></blockquote><p>主要用了**-t**参数，面对不同的压缩文件，更改对应参数：</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs applescript">tar -ztvf <span class="hljs-built_in">file</span>.tar.gz<br></code></pre></td></tr></table></figure><blockquote><p>排除部分文件</p></blockquote><p>压缩指定文件夹file下的文件，但是排除file目录的子文件sub_file。</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs applescript">tar -zcvf <span class="hljs-built_in">file</span>.tar.gz <span class="hljs-built_in">file</span>/* <span class="hljs-comment">--exclude file/sub_file</span><br></code></pre></td></tr></table></figure><h3 id="5、说明"><a href="#5、说明" class="headerlink" title="5、说明"></a>5、说明</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs stylus">tar -cvf file<span class="hljs-selector-class">.tar</span> file1 file2 ...<br>tar -zcvf file<span class="hljs-selector-class">.tar</span><span class="hljs-selector-class">.gz</span> file1 file2 ...<br>tar -zxvf file<span class="hljs-selector-class">.tar</span>.gz<br></code></pre></td></tr></table></figure><p>第一条：打包文件 &amp;&amp; 不压缩<br>第二条：打包 &amp;&amp; gzip格式压缩<br>第三条：gzip格式解压</p><div class="note note-info">            <ul><li>压缩-c（compress）</li><li>解压-x</li><li>查看-t</li><li>压缩&#x2F;解压格式：z-zip（常用）、j-bz、.Z-.Z</li></ul>          </div><h3 id="6、补充"><a href="#6、补充" class="headerlink" title="6、补充"></a>6、补充</h3><p><strong>.rar、.zip</strong>格式的日常经常遇到，这里简单说明一下怎么处理</p><blockquote><p>.zip</p></blockquote><p>主要用<strong>zip &amp;&amp; unzip</strong>命令。<br>解压：</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs maxima">unzip <span class="hljs-built_in">file_name</span>.zip<br></code></pre></td></tr></table></figure><p>压缩：</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">zip file_name.zip file1 file2 <span class="hljs-keyword">dir1 </span><span class="hljs-keyword">dir2 </span>...<br></code></pre></td></tr></table></figure><blockquote><p>.rar</p></blockquote><p>主要用<strong>rar</strong>命令。<br>解压：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">rar <span class="hljs-attribute">x</span> file_name<span class="hljs-selector-class">.rar</span><br></code></pre></td></tr></table></figure><p>压缩：</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">rar a file_name.rar file1 file2 <span class="hljs-keyword">dir1 </span><span class="hljs-keyword">dir2 </span>...<br></code></pre></td></tr></table></figure><h3 id="7、多说一句"><a href="#7、多说一句" class="headerlink" title="7、多说一句"></a>7、多说一句</h3><p>涉及到文件权限等文件，记得一定要加**-p**参数，tar打包、压缩文件进行传输，不会影响文件的用户、用户组、权限等信息，之前直接传输文件，导致用户、权限都发生改变了，趟过坑，不了解的同学注意一下。</p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Linux基础篇</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux学习之基础篇-cd</title>
    <link href="/articles/6183/"/>
    <url>/articles/6183/</url>
    
    <content type="html"><![CDATA[<p>cd命令，用于目录跳转，常用基础的命令之一，全名：<font size=6.5 color='red'>change dir<code>&lt;/font&gt;</code>。</p><span id="more"></span><hr /><h3 id="1、简介"><a href="#1、简介" class="headerlink" title="1、简介"></a>1、简介</h3><div class="note note-warning">            <p>学习cd的用法【cd 目录】</p>          </div><h3 id="2、介绍"><a href="#2、介绍" class="headerlink" title="2、介绍"></a>2、介绍</h3><p>前篇关于linxu的文章，介绍linux最常用的命令之一的<strong>ls</strong>，本篇介绍一下它的兄弟<strong>cd</strong>。这个命令用的太多了，我推测的全拼应该是<strong>change dir</strong>，没有查资料，如果错了，欢迎留言。</p><h3 id="3、正文"><a href="#3、正文" class="headerlink" title="3、正文"></a>3、正文</h3><h4 id="3-1、格式"><a href="#3-1、格式" class="headerlink" title="3.1、格式"></a>3.1、格式</h4><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">cd</span><span class="hljs-meta"> [目录名]</span><br></code></pre></td></tr></table></figure><h4 id="3-2、参数说明"><a href="#3-2、参数说明" class="headerlink" title="3.2、参数说明"></a>3.2、参数说明</h4><p>没用过参数，下面学习中有个cd用法的介绍，有兴趣的可以看看。</p><h4 id="3-3、常用命令"><a href="#3-3、常用命令" class="headerlink" title="3.3、常用命令"></a>3.3、常用命令</h4><blockquote><p>基本</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> 目录<br></code></pre></td></tr></table></figure><p>可以是相对路径，也可以是绝对路径</p><blockquote><p>根目录</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> /<br></code></pre></td></tr></table></figure><blockquote><p>用户home目录</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span><br><span class="hljs-built_in">cd</span> ~<br></code></pre></td></tr></table></figure><blockquote><p>返回上级</p></blockquote><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gams"><span class="hljs-function"><span class="hljs-title">cd</span></span> ..<br></code></pre></td></tr></table></figure><blockquote><p>多个上级</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> ../../..<br></code></pre></td></tr></table></figure><blockquote><p>返回切换的上一个目录</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> -<br></code></pre></td></tr></table></figure><p>这个命令平时用的相对较多。</p><h3 id="4、补充"><a href="#4、补充" class="headerlink" title="4、补充"></a>4、补充</h3><ul><li>“~”表示为用户home目录</li><li>“.”表示当前所在的目录</li><li>“..”表示当前目录的上一层目录</li></ul><h3 id="5、学习"><a href="#5、学习" class="headerlink" title="5、学习"></a>5、学习</h3><p>参数：<a href="https://www.computerhope.com/unix/ucd.htm">https://www.computerhope.com/unix/ucd.htm</a></p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Linux基础篇</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux学习之基础篇-ls</title>
    <link href="/articles/58978/"/>
    <url>/articles/58978/</url>
    
    <content type="html"><![CDATA[<p>最近看了“每日一命令”博客，也学习了一些Linux命令基础，结合自己的实践总结一下，加深学习，记录一下ls命令，用于列表文件，全名：<font size=6.5 color='red'>list file</font>。</p><span id="more"></span><hr /><h3 id="1、简介"><a href="#1、简介" class="headerlink" title="1、简介"></a>1、简介</h3><div class="note note-warning">            <p>学习ls的用法【ls - list directory contents】</p>          </div><h3 id="2、介绍"><a href="#2、介绍" class="headerlink" title="2、介绍"></a>2、介绍</h3><p>linux最常用的2个命令：<em><strong>ls &amp;&amp; cd</strong></em>。<br>ls是打印当前目录&#x2F;指定目录文件list的命令，全拼list。为何是文件呢，正所谓在***<font color="#dd0000" size="4">linux中一切皆文件</font>***。 ls命令不仅可以查看linux文件的类型、大小、权限等各种信息，而且最主要的是日常使用频率最高的命令之一。</p><h3 id="3、正文"><a href="#3、正文" class="headerlink" title="3、正文"></a>3、正文</h3><h4 id="3-1、格式"><a href="#3-1、格式" class="headerlink" title="3.1、格式"></a>3.1、格式</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">ls <span class="hljs-selector-attr">[参数]</span><span class="hljs-selector-attr">[目录]</span><br></code></pre></td></tr></table></figure><h4 id="3-2、参数说明"><a href="#3-2、参数说明" class="headerlink" title="3.2、参数说明"></a>3.2、参数说明</h4><p>选用了一些自认为常用的参数进行说明，详细的请自行<em><strong>man ls</strong></em>进行查看。翻译过程中，使用了<a href="https://fanyi.baidu.com/">fanyi.baidu.com</a>，如果不对，请见谅！</p><blockquote><p>-a, –all</p></blockquote><p>Eng：do not ignore entries starting with。<br>Chi：列出目录下的所有文件，包括隐含文件（.开头）。</p><blockquote><p>-d, –directory</p></blockquote><p>Eng：list directories themselves, not their contents。<br>Chi：列出目录本身，对于列出目录包含的哪有目录很有用，后面常用命令会讲到。</p><blockquote><p>-F, –classify<br>-p, –indicator-style&#x3D;slash</p></blockquote><p>Eng：append &#x2F; indicator to directories。<br>Chi：2个参数是一样的效果，放到一起说了，都是在目录后面加个“&#x2F;”作为结束标识。</p><blockquote><p>-h, –human-readable</p></blockquote><p>Eng：with -l, print sizes in human readable format (e.g., 1K 234M 2G)。<br>Chi：与l参数一起使用，就是文件大小变得可读性更高。</p><blockquote><p> -i, –inode</p></blockquote><p>Eng：print the index number of each file。<br>Chi：经常与l参数使用，列出文件的存储节点id，一般情况用不上，但是有必要知晓一下。</p><blockquote><p>-l<br>-o</p></blockquote><p>Eng：use a long listing format。<br>Chi：常用的参数没有之一，经常与h一起使用，列举文件的类型、大小、权限等各种信息。</p><blockquote><p>-L</p></blockquote><p>Eng： when showing file information for a symbolic link, show information for the file the link references rather than for the link itself。<br>Chi：显示链接文件直接引用文件的相关信息。</p><blockquote><p>-m</p></blockquote><p>Eng：fill width with a comma separated list of entries。<br>Chi：用逗号分隔的列表</p><blockquote><p>-n, –numeric-uid-gid</p></blockquote><p>Eng：like -l, but list numeric user and group IDs。<br>Chi：与l参数显示的内容一致，但是用户、组用相应的id代替。</p><blockquote><p>-r, –reverse</p></blockquote><p>Eng：reverse order while sorting。<br>Chi：反序。</p><blockquote><p>-R, –recursive</p></blockquote><p>Eng：list subdirectories recursively。<br>Chi：是否进行递归。</p><blockquote><p> -S</p></blockquote><p>Eng：sort by file size。<br>Chi：按文件大小进行排序。</p><blockquote><p>-t<br>-c</p></blockquote><p>Eng：sort by modification time, newest first<br>Chi：按文件的修改时间进行排序（最新优先排在前面）。</p><h4 id="3-3、常用命令"><a href="#3-3、常用命令" class="headerlink" title="3.3、常用命令"></a>3.3、常用命令</h4><ol><li>列举文件详情，-i参数加不加都行</li></ol><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">ll</span> -<span class="hljs-keyword">hi</span><br></code></pre></td></tr></table></figure><p><img src="/articles/58978/article_linux_ls_ll.png"><br>total 48：所列出内容的磁盘占用空间总和值，单位为kb。<br>第一列：drwxr-xr-x，一共10个字符，分别解释一下。第一位用来代表文件的类型：“d”代表目录，“-”代表普通文件，2-4位rwx代表该文件的属主的权限，5-7位r-x代表文件用户主所在用户组的其他用户的权限，8-10位r-x代表其他用户的权限。其中r-读、w-写、x-执行。<br>第二列：未知（网上查资料说如果是文件就是1，如果是目录就是目录下的文件，试验过不准确）。<br>第三列：文件所属的用户。<br>第四列：文件所属的用户组。<br>第五列：文件的大小，如果文件是目录则代表该目录的大小（不包括目录下的子目录和文件的大小）。<br>第六列：该文件最近修改或者查看的时间。<br>第七列：文件名称。</p><ol start="2"><li>列举文件中包含的目录&#x2F;文件<ul><li>列举当前文件目录包含文件目录，这个命令有个弊端，就是只能列举当前文件目录下【本人暂时还不能切换目录列举，知道的同学可以留言给我】</li></ul> <figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">ll</span> -d */<br></code></pre></td></tr></table></figure><ul><li>获取指定目录下的目录，可递归，把“^d”换成“^-”就可以获取对应的文件，-R代表是否启用递归操作。</li></ul> <figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gradle">ll <span class="hljs-regexp">/home/</span>q/psapproval -R | <span class="hljs-keyword">grep</span> <span class="hljs-string">&quot;^d&quot;</span><br></code></pre></td></tr></table></figure><ul><li>计算当前目录下的文件数和目录数，基于上面的命令加了<em><strong>wc -l</strong></em>，想要把子目录也计算进行，加上-R参数</li></ul> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">ls</span> -l * |grep <span class="hljs-string">&quot;^d&quot;</span>|<span class="hljs-built_in">wc</span> -l<br></code></pre></td></tr></table></figure><ul><li>列举文件以及目录，用“&#x2F;”区别</li></ul> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css">ll /home/<span class="hljs-selector-tag">q</span>/psapproval -F<br>ll /home/<span class="hljs-selector-tag">q</span>/psapproval -<span class="hljs-selector-tag">p</span><br></code></pre></td></tr></table></figure></li><li>按时间进行排序，最新的文件在最下面</li></ol><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">ll -rth</span><br></code></pre></td></tr></table></figure><ol start="4"><li>文件按从小到大进行排序，最大的在下面，想要生序去掉-r参数即可。</li></ol><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs delphi">ll -<span class="hljs-keyword">Shr</span><br></code></pre></td></tr></table></figure><ol start="5"><li>help</li></ol><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stata"><span class="hljs-keyword">man</span> <span class="hljs-keyword">ls</span><br><span class="hljs-keyword">ls</span> --<span class="hljs-keyword">help</span><br></code></pre></td></tr></table></figure><h3 id="4、说明"><a href="#4、说明" class="headerlink" title="4、说明"></a>4、说明</h3><div class="note note-primary">            <ol><li>示例中的命令我都加了指定的目录，如果是当前目录，省略即可。</li><li>本文只讲解了ls常用的参数，了解更多请<em><strong>man ls</strong></em>查看。</li></ol>          </div><h3 id="5、补充"><a href="#5、补充" class="headerlink" title="5、补充"></a>5、补充</h3><div class="note note-info">            <p>文件类型</p>          </div><ul><li>“-”普通文件</li><li>“d”目录</li><li>“l”链接文件</li><li>“b”块设备文件</li><li>“c”字符设备文件</li><li>“s”套接字文件，主要用于sock通信用的文件</li></ul><div class="note note-info">            <p>文件权限</p>          </div><ul><li>r：读取的权限等于4，用r表示</li><li>w：写入的权限等于2，用w表示</li><li>x：执行的权限等于1，用x表示</li></ul><div class="note note-info">            <p>ll命令</p>          </div><p>控制台直接执行：<em><strong>alias ll&#x3D;’ls -l –color&#x3D;auto’</strong></em></p><h3 id="6、学习"><a href="#6、学习" class="headerlink" title="6、学习"></a>6、学习</h3><p>ls常用命令:&#x2F;&#x2F;<a href="http://www.tecmint.com/15-basic-ls-command-examples-in-linux/">www.tecmint.com/15-basic-ls-command-examples-in-linux/</a><br>ll详解：<a href="https://blog.csdn.net/LEON1741/article/details/82386520">https://blog.csdn.net/LEON1741/article/details/82386520</a></p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Linux基础篇</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python内置函数:any与all</title>
    <link href="/articles/59977/"/>
    <url>/articles/59977/</url>
    
    <content type="html"><![CDATA[<h3 id="1、总结"><a href="#1、总结" class="headerlink" title="1、总结"></a>1、总结</h3><div class="note note-warning">            <p>any()：有‘真’为True，全‘假’为False，iterable为空是False<br>all()：有‘假’为False，全‘真’为True，iterable为空是True</p>          </div><span id="more"></span><hr /><h3 id="2、正文"><a href="#2、正文" class="headerlink" title="2、正文"></a>2、正文</h3><p>这两个函数的参数都是iterable，也就是list或者tuple，接下来分别详细介绍一下。</p><h4 id="2-1、any"><a href="#2-1、any" class="headerlink" title="2.1、any"></a>2.1、any</h4><p><img src="/articles/59977/any.png" alt="any"></p><ul><li>iterable的任何元素只要有一个不为False、0、’’，返回True；否则元素都为False、0、’’或全为空，则any(iterable)为False。也就是说只有所有的iterable都为’假’，则any(iterable)为False。</li><li>当iterable为空的时候，函数返回值为False</li><li>代码<br><img src="/articles/59977/any_demo.png" alt="any_demo"></li></ul><h4 id="2-2、all"><a href="#2-2、all" class="headerlink" title="2.2、all"></a>2.2、all</h4><p><img src="/articles/59977/all.png" alt="all"></p><ul><li>iterable的所有元素都不为False、’’、0或者iterable为空，则all(iterable)为True，也就是说只要iterable元素有一个为”假”，则为False。</li><li>当iterable为空的时候，函数返回值为True</li><li>代码<br><img src="/articles/59977/all_demo.png" alt="all_demo"></li></ul><h3 id="3、学习"><a href="#3、学习" class="headerlink" title="3、学习"></a>3、学习</h3><ul><li>any：<a href="https://www.programiz.com/python-programming/methods/built-in/any">https://www.programiz.com/python-programming/methods/built-in/any</a></li><li>all：<a href="https://www.programiz.com/python-programming/methods/built-in/all">https://www.programiz.com/python-programming/methods/built-in/all</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Python基础篇</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Ubuntu15.10系统安装Hadoop1.2.1集群</title>
    <link href="/articles/32416/"/>
    <url>/articles/32416/</url>
    
    <content type="html"><![CDATA[<p>最近BigData貌似很火，本人也跟着一起凑凑热闹，尝试了本机部署Hadoop1.2.1版本，基于Hadoop1.2.1 + Python2.7 + Ubuntu15.10技术栈，讲述Hadoop集群的安装过程，有什么不准确之处可以留言，一起交流<em><strong>share</strong></em>。</p><span id="more"></span><hr /><h2 id="1、摘要"><a href="#1、摘要" class="headerlink" title="1、摘要"></a>1、摘要</h2><p>由于Ubuntu对于Python的支持很好，个人也觉得Ubuntu确实不错，所以使用的是Ubuntu15.10系统，处理大数据采用Python + Hadoop的方式进行处理。</p><h2 id="2、版本信息"><a href="#2、版本信息" class="headerlink" title="2、版本信息"></a>2、版本信息</h2><table><thead><tr><th align="center">name</th><th align="center">vsersion</th><th align="center">remark</th></tr></thead><tbody><tr><td align="center">Ubuntu</td><td align="center">15.10</td><td align="center">系统的版本</td></tr><tr><td align="center">Python</td><td align="center">2.7</td><td align="center">开发语言</td></tr><tr><td align="center">JDK</td><td align="center">1.7</td><td align="center">Hadoop运行的基础环境</td></tr><tr><td align="center">Hadoop</td><td align="center">1.2.1</td><td align="center">大数据处理工具</td></tr><tr><td align="center">VMware</td><td align="center">6.0</td><td align="center">虚拟机</td></tr></tbody></table><h2 id="3、正文"><a href="#3、正文" class="headerlink" title="3、正文"></a>3、正文</h2><p>本文主要讲述hadoop集群的安装过程，尽量依次按步骤执行。</p><h3 id="3-1、虚拟机安装"><a href="#3-1、虚拟机安装" class="headerlink" title="3.1、虚拟机安装"></a>3.1、虚拟机安装</h3><p>首先VMware上安装4台虚拟机，分别是Ubuntu15.10系统，具体安装百度即可so easy。安装时候对电脑的机器名直接命名为master，node01，node02，node03（1个主节点，3个子节点），接下来2-7的操作是针对于这4台虚拟机分别进行同样的操作。</p><h3 id="3-2、创建hadoop用户组"><a href="#3-2、创建hadoop用户组" class="headerlink" title="3.2、创建hadoop用户组"></a>3.2、创建hadoop用户组</h3><p>命令：<em><strong>sudo addgroup hadoop</strong></em><br><img src="/articles/32416/addgroup.jpg" alt="addgroup"></p><h3 id="3-3、创建hadoop用户"><a href="#3-3、创建hadoop用户" class="headerlink" title="3.3、创建hadoop用户"></a>3.3、创建hadoop用户</h3><p>命令：<em><strong>sudo adduser -ingroup hadoop</strong></em><br><img src="/articles/32416/adduser.jpg" alt="adduser"><br>回车后会提示输入新的UNIX密码，这是新建用户hadoop的密码，输入回车即可。如果不输入密码，回车后会重新提示输入密码，即密码不能为空。最后确认信息是否正确，如果没问题，输入 Y，回车即可。</p><h3 id="3-4、添加hadoop-root权限"><a href="#3-4、添加hadoop-root权限" class="headerlink" title="3.4、添加hadoop root权限"></a>3.4、添加hadoop root权限</h3><p>命令：<em><strong>sudo gedit &#x2F;etc&#x2F;sudoers</strong></em><br><img src="/articles/32416/gedit.jpg" alt="gedit"><br>打开sudoers 文件，在rootALL&#x3D;(ALL:ALL) ALL这行下面添加：<br>hadoopALL&#x3D;(ALL:ALL) ALL<br>修改完保存关闭即可。<br>** 注：如果系统的gedit用不了，自行上网解决，这里给出的方案是用vi或vim。**</p><h3 id="3-5、切换到hadoop用户"><a href="#3-5、切换到hadoop用户" class="headerlink" title="3.5、切换到hadoop用户"></a>3.5、切换到hadoop用户</h3><p>命令：<em><strong>su hadoop</strong></em>，输入密码即可登录hadoop用户。<br><img src="/articles/32416/su_hadoop.jpg" alt="su_hadoop"></p><h3 id="3-6、安装ssh"><a href="#3-6、安装ssh" class="headerlink" title="3.6、安装ssh"></a>3.6、安装ssh</h3><p>命令：<em><strong>sudo apt-get install openssh-server</strong></em><br><img src="/articles/32416/openssh.jpg" alt="openssh"><br>安装完成后启动ssh服务，命令：<em><strong>sudo &#x2F;etc&#x2F;init.d&#x2F;ssh start</strong></em><br>查看ssh服务是否启动，命令：<em><strong>ps -ef | grep ssh</strong></em><br><img src="/articles/32416/grep.jpg" alt="grep"><br>服务存在之后，设置实现ssh免密码登录，命令：<em><strong>ssh-keygen -t rsa -P “”</strong></em><br><img src="/articles/32416/ssh.jpg" alt="ssh"><br>下面我们将公钥追加到authorized_keys中，它用户保存所有允许以当前用户身份登录到ssh客户端用户的公钥内容，命令：<br><em><strong>cat ~&#x2F;.ssh&#x2F;id_rsa.pub &gt;&gt; ~&#x2F;.ssh&#x2F;authorized_keys</strong></em><br><img src="/articles/32416/cat.jpg" alt="cat"></p><h3 id="3-7、登录ssh"><a href="#3-7、登录ssh" class="headerlink" title="3.7、登录ssh"></a>3.7、登录ssh</h3><p>命令：<em><strong>ssh localhost</strong></em>，退出，命令：<em><strong>exit</strong></em><br><img src="/articles/32416/ssh_localhost.jpg" alt="ssh_localhost"></p><h3 id="3-8、安装Java环境"><a href="#3-8、安装Java环境" class="headerlink" title="3.8、安装Java环境"></a>3.8、安装Java环境</h3><p>命令：<em><strong>sudo apt-get install openjdk-7-jdk</strong></em><br><img src="/articles/32416/install_java.jpg" alt="install_java"><br>查看安装结果，输入命令：<em><strong>java -version</strong></em>，结果如下表示安装成功。<br><img src="/articles/32416/java_version.jpg" alt="java_version"><br>注：java安装默认路径：&#x2F;usr&#x2F;lib&#x2F;jvm&#x2F;java-7-openjdk-amd64<br>以上操作基于hadoop用户，并且每个电脑配置一致</p><h3 id="3-9、hadoop配置"><a href="#3-9、hadoop配置" class="headerlink" title="3.9、hadoop配置"></a>3.9、hadoop配置</h3><pre><code class="hljs">正餐开始了，仔细看！！！</code></pre><ul><li><h4 id="3-9-1、hadoop-env配置："><a href="#3-9-1、hadoop-env配置：" class="headerlink" title="3.9.1、hadoop-env配置："></a>3.9.1、hadoop-env配置：</h4>进入到hadoop文件的conf文件夹，使用命令：<em><strong>sudo gedit hadoop-env.sh</strong></em><br><img src="/articles/32416/gedit_hadoop_env.jpg" alt="gedit_hadoop_env"><br>添加以下信息到文件中，保存即可。<br>解释下内容：JAVA_HOME是java的安装路径，HADOOP_INSTALL是hadoop的安装路径，PATH是系统文件路径:</li></ul><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-built_in">export</span> <span class="hljs-attribute">JAVA_HOME</span>=/usr/lib/jvm/java-7-openjdk-amd64<br><span class="hljs-built_in">export</span> <span class="hljs-attribute">HADOOP_INSTALL</span>=/usr/local/hadoop<br><span class="hljs-built_in">export</span> <span class="hljs-attribute">PATH</span>=<span class="hljs-variable">$PATH</span>:/usr/local/hadoop/bin<br></code></pre></td></tr></table></figure><p><img src="/articles/32416/hadoop_path.jpg" alt="hadoop_path"></p><ul><li><h4 id="3-9-2、core-site-xml配置"><a href="#3-9-2、core-site-xml配置" class="headerlink" title="3.9.2、core-site.xml配置"></a>3.9.2、core-site.xml配置</h4>hadoop文件的conf文件夹，使用命令：<em><strong>sudo gedit core-site.xml</strong></em><br><img src="/articles/32416/gedit_core_site.jpg" alt="gedit_core_site"><br>添加以下信息到文件中，保存即可。</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>fs.default.name<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>hdfs:192.168.2.139:9000<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">final</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">final</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>hadoop.tmp.dir<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>/home/hadoop/hadoop/tmp<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">description</span>&gt;</span>A base for other temporary directory<span class="hljs-tag">&lt;/<span class="hljs-name">description</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li><h4 id="3-9-3、hdfs-site-xml配置"><a href="#3-9-3、hdfs-site-xml配置" class="headerlink" title="3.9.3、hdfs-site.xml配置"></a>3.9.3、hdfs-site.xml配置</h4>hadoop文件的conf文件夹，使用命令：<em><strong>sudo gedit hdfs-site.xml</strong></em><br><img src="/articles/32416/gedit_hdfs_site.jpg" alt="gedit_hdfs_site"><br>添加以下信息到文件中，保存即可。</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>dfs.name.dir<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>/home/hadoop/hadoop/name<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">final</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">final</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>dfs.data.dir<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>/home/hadoop/hadoop/data<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">final</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">final</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>dfs.replication<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">final</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">final</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li><h4 id="3-9-4、mapred-site-xml配置"><a href="#3-9-4、mapred-site-xml配置" class="headerlink" title="3.9.4、mapred-site.xml配置"></a>3.9.4、mapred-site.xml配置</h4>hadoop文件的conf文件夹，使用命令：<em><strong>sudo gedit mapred-site.xml</strong></em><br><img src="/articles/32416/gedit_mapred_site.jpg" alt="gedit_mapred_site"><br>添加以下信息到文件中，保存即可。</li></ul><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-section">&lt;configuration&gt;</span><br>  <span class="hljs-section">&lt;property&gt;</span><br>    <span class="hljs-section">&lt;name&gt;</span><span class="hljs-attribute">mapred</span>.job.tracker&lt;/name&gt;<br>    <span class="hljs-section">&lt;value&gt;</span><span class="hljs-attribute">192</span>.<span class="hljs-number">168</span>.<span class="hljs-number">2</span>.<span class="hljs-number">139</span>:<span class="hljs-number">9001</span>&lt;/value&gt;<br>  <span class="hljs-section">&lt;/property&gt;</span><br><span class="hljs-section">&lt;/configuration&gt;</span><br></code></pre></td></tr></table></figure><ul><li><h4 id="3-9-5、master和slaves配置"><a href="#3-9-5、master和slaves配置" class="headerlink" title="3.9.5、master和slaves配置"></a>3.9.5、master和slaves配置</h4>hadoop文件的conf文件夹，使用命令：<em><strong>sudo gedit master</strong></em>，<em><strong>sudo gedit slaves</strong></em><br><img src="/articles/32416/gedit_master_slaves.jpg" alt="gedit_master_slaves"><br>在master文件中添加主节点计算机名称&#x2F;IP即可。<br>在slaves文件中添加子节点计算机名称&#x2F;IP即可。</li></ul><h3 id="3-10、复制hadoop"><a href="#3-10、复制hadoop" class="headerlink" title="3.10、复制hadoop"></a>3.10、复制hadoop</h3><p>把hadoop分别向其他机器上复制一份，放到相同目录。<br>命令：scp（自行百度用法，这里不做详述）</p><h3 id="3-11、建立hadoop所需文件夹"><a href="#3-11、建立hadoop所需文件夹" class="headerlink" title="3.11、建立hadoop所需文件夹"></a>3.11、建立hadoop所需文件夹</h3><p>在每个机器上建立所需要的文件夹，在步骤8中有core中配置的hadoop.tmp.dir文件夹，hdfs中配置的dfs.data.dir文件夹，需要进行建立以及是hadoop用户，读写权限。<br>执行命令：<em><strong>sudo mkdir</strong></em></p><h3 id="3-12、格式化namenode"><a href="#3-12、格式化namenode" class="headerlink" title="3.12、格式化namenode"></a>3.12、格式化namenode</h3><p>进入到hadoop&#x2F;bin目录，在主节点机器上执行命令：<em><strong>hadooop namenode -fomat</strong></em>，出现successfully字样成功，不成功大部分都是配置文件的问题。</p><h3 id="3-13、启动hadoop"><a href="#3-13、启动hadoop" class="headerlink" title="3.13、启动hadoop"></a>3.13、启动hadoop</h3><p>在主节点机器上进入hadoop&#x2F;bin目录下，执行命令:<em><strong>hadoop-start.sh</strong></em>，分别会启动NameNode,Jobtracker,SecondaryNameNode,DataNodeTaskTracker</p><h3 id="3-14、查看hadoop"><a href="#3-14、查看hadoop" class="headerlink" title="3.14、查看hadoop"></a>3.14、查看hadoop</h3><p>在主节点机器上执行命令：<em><strong>jps</strong></em>，在主节点机器上会出现以下进程<br><img src="/articles/32416/master_jps.jpg" alt="master_jps"><br>在子节点机器上执行命令：<em><strong>jps</strong></em>，在子节点机器上会出现以下进程<br><img src="/articles/32416/slaves_jps.jpg" alt="slaves_jps"></p><h3 id="3-15、查看运行状态"><a href="#3-15、查看运行状态" class="headerlink" title="3.15、查看运行状态"></a>3.15、查看运行状态</h3><p>在浏览器中输入主机IP:50030，会出现hadoop运行状态。<br><img src="/articles/32416/hadoop.jpg" alt="hadoop"></p><h3 id="3-16、停止hadoop"><a href="#3-16、停止hadoop" class="headerlink" title="3.16、停止hadoop"></a>3.16、停止hadoop</h3><p>在主节点机器上进入到hadoop&#x2F;bin目录下，执行命令：<em><strong>stop-all.sh</strong></em>，这样hadoop停止运行。</p><h2 id="4、建议"><a href="#4、建议" class="headerlink" title="4、建议"></a>4、建议</h2><p>程序这个东西就得多实践，不去写、不去运营，永远不知道会发生什么bug，本人也初学，有不对的希望大家谅解。</p>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Python程序篇</tag>
      
      <tag>Ubuntu</tag>
      
      <tag>Hadoop</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python处理ArcGIS多图层矢量裁剪</title>
    <link href="/articles/9995/"/>
    <url>/articles/9995/</url>
    
    <content type="html"><![CDATA[<p>基于<em><strong>Hexo</strong></em>命令自建博客的开篇文章，写一篇关于第一份工作的专业内容，结合Python自动处理矢量数据，大大的提升工作效率。</p><span id="more"></span><hr /><h3 id="1、序言"><a href="#1、序言" class="headerlink" title="1、序言"></a>1、序言</h3><div class="note note-primary">            <p>分享一下利用python调用ArcGIS函数实现矢量多图层裁剪，出现问题请发邮箱留言，帮你解决，不过我都调试好了，问题不大。python的使用暂时先不做分享了(主要我也在自学阶段)，代码很少但是很实用，所以把自己的东西跟大家<em><strong>share</strong></em>一下，以后会陆续跟大家一起分享交流，希望对大家有帮助。</p>          </div><h3 id="2、环境相关"><a href="#2、环境相关" class="headerlink" title="2、环境相关"></a>2、环境相关</h3><p>开发语言：python2<br>系统：win7</p><h3 id="3、相关代码"><a href="#3、相关代码" class="headerlink" title="3、相关代码"></a>3、相关代码</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><br><span class="hljs-comment"># 导入包</span><br><span class="hljs-keyword">import</span> arcpy<br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> datetime<br><br><br>startTime=datetime.datetime.now()<br><span class="hljs-built_in">print</span> <span class="hljs-string">&quot;python tool start--------^_^---------&quot;</span><br><br><span class="hljs-comment"># 裁剪文件的工作空间</span><br>InputSpace=<span class="hljs-string">r&quot;F:\data\fuzhou_data&quot;</span><br><span class="hljs-comment"># 结果文件的存放目录</span><br>OutputSpace=<span class="hljs-string">r&quot;F:\data\fuzhou_map_Demo&quot;</span><br><span class="hljs-comment"># 被裁剪文件路径+名称</span><br>clip_features=<span class="hljs-string">r&quot;F:\data\clip\clip.shp&quot;</span><br><br><span class="hljs-comment"># 实现的主体，添加个变量用于处理次数</span><br>num=<span class="hljs-number">1</span><br><span class="hljs-comment"># 设置工作空间</span><br>arcpy.env.workspace=InputSpace<br><span class="hljs-keyword">for</span> in_features <span class="hljs-keyword">in</span> arcpy.ListFiles(<span class="hljs-string">&quot;*.shp&quot;</span>):<br>    clipName=os.path.splitext(in_features)[<span class="hljs-number">0</span>]<br>    out_features=os.path.join(OutputSpace,clipName)<br>    cluster_tolerance=<span class="hljs-string">&quot;0.0000001 DecimalDegrees&quot;</span><br>    <span class="hljs-built_in">print</span> <span class="hljs-string">&quot;Execute num=&quot;</span>, num, <span class="hljs-string">&quot;Chip feature is:&quot;</span>, clipName<br><br>    <span class="hljs-keyword">try</span>:<br>        arcpy.Clip_analysis(in_features, clip_features,<br>        out_features, cluster_tolerance)<br>        <span class="hljs-built_in">print</span> <span class="hljs-string">&quot;Finish&quot;</span><br>        num=num+<span class="hljs-number">1</span><br>    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>        <span class="hljs-built_in">print</span> e.message<br><br>endTime=datetime.datetime.now()<br>exeTime=(endTime-startTime).seconds<br><span class="hljs-built_in">print</span> <span class="hljs-string">&quot;sum=&quot;</span>, num, <span class="hljs-string">&quot;All finish, cost time is :&quot;</span>, exeTime,<span class="hljs-string">&quot;s&quot;</span><br></code></pre></td></tr></table></figure><h3 id="4、结束语"><a href="#4、结束语" class="headerlink" title="4、结束语"></a>4、结束语</h3><p><span style="font-size: 25px;color: red;"><em><strong>坚持学习，希望可以在喜欢的道路上越走越远~~~</strong></em></span></p>]]></content>
    
    
    <categories>
      
      <category>工具集</category>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Python程序篇</tag>
      
      <tag>ArcGIS</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
